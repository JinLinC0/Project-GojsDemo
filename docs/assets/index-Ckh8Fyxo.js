var KM=Object.defineProperty;var HM=(i,o,l)=>o in i?KM(i,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[o]=l;var jM=(i,o)=>()=>(o||i((o={exports:{}}).exports,o),o.exports);var k=(i,o,l)=>HM(i,typeof o!="symbol"?o+"":o,l);var Mte=jM((Qs,eo)=>{(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function l(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(d){if(d.ep)return;d.ep=!0;const p=l(d);fetch(d.href,p)}})();/**
* @vue/shared v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function am(i,o){const l=new Set(i.split(","));return c=>l.has(c)}const Ti={},$l=[],jn=()=>{},qM=()=>!1,Bd=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),lm=i=>i.startsWith("onUpdate:"),_i=Object.assign,um=(i,o)=>{const l=i.indexOf(o);l>-1&&i.splice(l,1)},GM=Object.prototype.hasOwnProperty,Fn=(i,o)=>GM.call(i,o),St=Array.isArray,Vl=i=>Oc(i)==="[object Map]",$d=i=>Oc(i)==="[object Set]",tl=i=>Oc(i)==="[object Date]",Xt=i=>typeof i=="function",tn=i=>typeof i=="string",ir=i=>typeof i=="symbol",yn=i=>i!==null&&typeof i=="object",rc=i=>(yn(i)||Xt(i))&&Xt(i.then)&&Xt(i.catch),hw=Object.prototype.toString,Oc=i=>hw.call(i),Eh=i=>Oc(i).slice(8,-1),rd=i=>Oc(i)==="[object Object]",cm=i=>tn(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Hu=am(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vd=i=>{const o=Object.create(null);return l=>o[l]||(o[l]=i(l))},WM=/-(\w)/g,xo=Vd(i=>i.replace(WM,(o,l)=>l?l.toUpperCase():"")),UM=/\B([A-Z])/g,ka=Vd(i=>i.replace(UM,"-$1").toLowerCase()),Rc=Vd(i=>i.charAt(0).toUpperCase()+i.slice(1)),ju=Vd(i=>i?`on${Rc(i)}`:""),pa=(i,o)=>!Object.is(i,o),Dh=(i,...o)=>{for(let l=0;l<i.length;l++)i[l](...o)},dw=(i,o,l,c=!1)=>{Object.defineProperty(i,o,{configurable:!0,enumerable:!1,writable:c,value:l})},$p=i=>{const o=parseFloat(i);return isNaN(o)?i:o},YM=i=>{const o=tn(i)?Number(i):NaN;return isNaN(o)?i:o};let Ov;const fw=()=>Ov||(Ov=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ft(i){if(St(i)){const o={};for(let l=0;l<i.length;l++){const c=i[l],d=tn(c)?QM(c):Ft(c);if(d)for(const p in d)o[p]=d[p]}return o}else if(tn(i)||yn(i))return i}const XM=/;(?![^(]*\))/g,ZM=/:([^]+)/,JM=/\/\*[^]*?\*\//g;function QM(i){const o={};return i.replace(JM,"").split(XM).forEach(l=>{if(l){const c=l.split(ZM);c.length>1&&(o[c[0].trim()]=c[1].trim())}}),o}function Z(i){let o="";if(tn(i))o=i;else if(St(i))for(let l=0;l<i.length;l++){const c=Z(i[l]);c&&(o+=c+" ")}else if(yn(i))for(const l in i)i[l]&&(o+=l+" ");return o.trim()}function Cr(i){if(!i)return null;let{class:o,style:l}=i;return o&&!tn(o)&&(i.class=Z(o)),l&&(i.style=Ft(l)),i}const eP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tP=am(eP);function pw(i){return!!i||i===""}function nP(i,o){if(i.length!==o.length)return!1;let l=!0;for(let c=0;l&&c<i.length;c++)l=Ul(i[c],o[c]);return l}function Ul(i,o){if(i===o)return!0;let l=tl(i),c=tl(o);if(l||c)return l&&c?i.getTime()===o.getTime():!1;if(l=ir(i),c=ir(o),l||c)return i===o;if(l=St(i),c=St(o),l||c)return l&&c?nP(i,o):!1;if(l=yn(i),c=yn(o),l||c){if(!l||!c)return!1;const d=Object.keys(i).length,p=Object.keys(o).length;if(d!==p)return!1;for(const g in i){const b=i.hasOwnProperty(g),w=o.hasOwnProperty(g);if(b&&!w||!b&&w||!Ul(i[g],o[g]))return!1}}return String(i)===String(o)}function gw(i,o){return i.findIndex(l=>Ul(l,o))}const dt=i=>tn(i)?i:i==null?"":St(i)||yn(i)&&(i.toString===hw||!Xt(i.toString))?JSON.stringify(i,mw,2):String(i),mw=(i,o)=>o&&o.__v_isRef?mw(i,o.value):Vl(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((l,[c,d],p)=>(l[Qf(c,p)+" =>"]=d,l),{})}:$d(o)?{[`Set(${o.size})`]:[...o.values()].map(l=>Qf(l))}:ir(o)?Qf(o):yn(o)&&!St(o)&&!rd(o)?String(o):o,Qf=(i,o="")=>{var l;return ir(i)?`Symbol(${(l=i.description)!=null?l:o})`:i};/**
* @vue/reactivity v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xs;class vw{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xs,!o&&Xs&&(this.index=(Xs.scopes||(Xs.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const l=Xs;try{return Xs=this,o()}finally{Xs=l}}}on(){Xs=this}off(){Xs=this.parent}stop(o){if(this._active){let l,c;for(l=0,c=this.effects.length;l<c;l++)this.effects[l].stop();for(l=0,c=this.cleanups.length;l<c;l++)this.cleanups[l]();if(this.scopes)for(l=0,c=this.scopes.length;l<c;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!o){const d=this.parent.scopes.pop();d&&d!==this&&(this.parent.scopes[this.index]=d,d.index=this.index)}this.parent=void 0,this._active=!1}}}function iP(i){return new vw(i)}function sP(i,o=Xs){o&&o.active&&o.effects.push(i)}function yw(){return Xs}function bw(i){Xs&&Xs.cleanups.push(i)}let Ya;class hm{constructor(o,l,c,d){this.fn=o,this.trigger=l,this.scheduler=c,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,sP(this,d)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,Ca();for(let o=0;o<this._depsLength;o++){const l=this.deps[o];if(l.computed){if(l.computed.effect._dirtyLevel===2)return Tr(),!0;if(oP(l.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),Tr()}return this._dirtyLevel>=5}set dirty(o){this._dirtyLevel=o?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let o=ca,l=Ya;try{return ca=!0,Ya=this,this._runnings++,Rv(this),this.fn()}finally{Iv(this),this._runnings--,Ya=l,ca=o}}stop(){this.active&&(Rv(this),Iv(this),this.onStop&&this.onStop(),this.active=!1)}}function oP(i){return i.value}function Rv(i){i._trackId++,i._depsLength=0}function Iv(i){if(i.deps.length>i._depsLength){for(let o=i._depsLength;o<i.deps.length;o++)ww(i.deps[o],i);i.deps.length=i._depsLength}}function ww(i,o){const l=i.get(o);l!==void 0&&o._trackId!==l&&(i.delete(o),i.size===0&&i.cleanup())}let ca=!0,Vp=0;const xw=[];function Ca(){xw.push(ca),ca=!1}function Tr(){const i=xw.pop();ca=i===void 0?!0:i}function dm(){Vp++}function fm(){for(Vp--;!Vp&&zp.length;)zp.shift()()}function Sw(i,o,l){if(o.get(i)!==i._trackId){o.set(i,i._trackId);const c=i.deps[i._depsLength];c!==o?(c&&ww(c,i),i.deps[i._depsLength++]=o):i._depsLength++}}const zp=[];function kw(i,o,l){dm();for(const c of i.keys()){let d;if(!i.computed&&c.computed&&c._runnings>0&&(d??(d=i.get(c)===c._trackId))){c._dirtyLevel=2;continue}c._dirtyLevel<o&&(d??(d=i.get(c)===c._trackId))&&(c._shouldSchedule||(c._shouldSchedule=c._dirtyLevel===0),c.computed&&c._dirtyLevel===2&&(c._shouldSchedule=!0),c._dirtyLevel=o),c._shouldSchedule&&(d??(d=i.get(c)===c._trackId))&&(c.trigger(),(!c._runnings||c.allowRecurse)&&c._dirtyLevel!==3&&(c._shouldSchedule=!1,c.scheduler&&zp.push(c.scheduler)))}fm()}const Cw=(i,o)=>{const l=new Map;return l.cleanup=i,l.computed=o,l},ad=new WeakMap,Xa=Symbol(""),_p=Symbol("");function _s(i,o,l){if(ca&&Ya){let c=ad.get(i);c||ad.set(i,c=new Map);let d=c.get(l);d||c.set(l,d=Cw(()=>c.delete(l))),Sw(Ya,d)}}function Mr(i,o,l,c,d,p){const g=ad.get(i);if(!g)return;let b=[];if(o==="clear")b=[...g.values()];else if(l==="length"&&St(i)){const w=Number(c);g.forEach((M,C)=>{(C==="length"||!ir(C)&&C>=w)&&b.push(M)})}else switch(l!==void 0&&b.push(g.get(l)),o){case"add":St(i)?cm(l)&&b.push(g.get("length")):(b.push(g.get(Xa)),Vl(i)&&b.push(g.get(_p)));break;case"delete":St(i)||(b.push(g.get(Xa)),Vl(i)&&b.push(g.get(_p)));break;case"set":Vl(i)&&b.push(g.get(Xa));break}dm();for(const w of b)w&&kw(w,5);fm()}function rP(i,o){const l=ad.get(i);return l&&l.get(o)}const aP=am("__proto__,__v_isRef,__isVue"),Mw=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(ir)),Fv=lP();function lP(){const i={};return["includes","indexOf","lastIndexOf"].forEach(o=>{i[o]=function(...l){const c=Wn(this);for(let p=0,g=this.length;p<g;p++)_s(c,"get",p+"");const d=c[o](...l);return d===-1||d===!1?c[o](...l.map(Wn)):d}}),["push","pop","shift","unshift","splice"].forEach(o=>{i[o]=function(...l){Ca(),dm();const c=Wn(this)[o].apply(this,l);return fm(),Tr(),c}}),i}function uP(i){ir(i)||(i=String(i));const o=Wn(this);return _s(o,"has",i),o.hasOwnProperty(i)}class Pw{constructor(o=!1,l=!1){this._isReadonly=o,this._isShallow=l}get(o,l,c){const d=this._isReadonly,p=this._isShallow;if(l==="__v_isReactive")return!d;if(l==="__v_isReadonly")return d;if(l==="__v_isShallow")return p;if(l==="__v_raw")return c===(d?p?SP:Lw:p?Aw:Nw).get(o)||Object.getPrototypeOf(o)===Object.getPrototypeOf(c)?o:void 0;const g=St(o);if(!d){if(g&&Fn(Fv,l))return Reflect.get(Fv,l,c);if(l==="hasOwnProperty")return uP}const b=Reflect.get(o,l,c);return(ir(l)?Mw.has(l):aP(l))||(d||_s(o,"get",l),p)?b:ri(b)?g&&cm(l)?b:b.value:yn(b)?d?gu(b):Hn(b):b}}class Tw extends Pw{constructor(o=!1){super(!1,o)}set(o,l,c,d){let p=o[l];if(!this._isShallow){const w=ac(p);if(!ld(c)&&!ac(c)&&(p=Wn(p),c=Wn(c)),!St(o)&&ri(p)&&!ri(c))return w?!1:(p.value=c,!0)}const g=St(o)&&cm(l)?Number(l)<o.length:Fn(o,l),b=Reflect.set(o,l,c,d);return o===Wn(d)&&(g?pa(c,p)&&Mr(o,"set",l,c):Mr(o,"add",l,c)),b}deleteProperty(o,l){const c=Fn(o,l);o[l];const d=Reflect.deleteProperty(o,l);return d&&c&&Mr(o,"delete",l,void 0),d}has(o,l){const c=Reflect.has(o,l);return(!ir(l)||!Mw.has(l))&&_s(o,"has",l),c}ownKeys(o){return _s(o,"iterate",St(o)?"length":Xa),Reflect.ownKeys(o)}}class cP extends Pw{constructor(o=!1){super(!0,o)}set(o,l){return!0}deleteProperty(o,l){return!0}}const hP=new Tw,dP=new cP,fP=new Tw(!0),pm=i=>i,zd=i=>Reflect.getPrototypeOf(i);function oh(i,o,l=!1,c=!1){i=i.__v_raw;const d=Wn(i),p=Wn(o);l||(pa(o,p)&&_s(d,"get",o),_s(d,"get",p));const{has:g}=zd(d),b=c?pm:l?vm:lc;if(g.call(d,o))return b(i.get(o));if(g.call(d,p))return b(i.get(p));i!==d&&i.get(o)}function rh(i,o=!1){const l=this.__v_raw,c=Wn(l),d=Wn(i);return o||(pa(i,d)&&_s(c,"has",i),_s(c,"has",d)),i===d?l.has(i):l.has(i)||l.has(d)}function ah(i,o=!1){return i=i.__v_raw,!o&&_s(Wn(i),"iterate",Xa),Reflect.get(i,"size",i)}function Bv(i){i=Wn(i);const o=Wn(this);return zd(o).has.call(o,i)||(o.add(i),Mr(o,"add",i,i)),this}function $v(i,o){o=Wn(o);const l=Wn(this),{has:c,get:d}=zd(l);let p=c.call(l,i);p||(i=Wn(i),p=c.call(l,i));const g=d.call(l,i);return l.set(i,o),p?pa(o,g)&&Mr(l,"set",i,o):Mr(l,"add",i,o),this}function Vv(i){const o=Wn(this),{has:l,get:c}=zd(o);let d=l.call(o,i);d||(i=Wn(i),d=l.call(o,i)),c&&c.call(o,i);const p=o.delete(i);return d&&Mr(o,"delete",i,void 0),p}function zv(){const i=Wn(this),o=i.size!==0,l=i.clear();return o&&Mr(i,"clear",void 0,void 0),l}function lh(i,o){return function(c,d){const p=this,g=p.__v_raw,b=Wn(g),w=o?pm:i?vm:lc;return!i&&_s(b,"iterate",Xa),g.forEach((M,C)=>c.call(d,w(M),w(C),p))}}function uh(i,o,l){return function(...c){const d=this.__v_raw,p=Wn(d),g=Vl(p),b=i==="entries"||i===Symbol.iterator&&g,w=i==="keys"&&g,M=d[i](...c),C=l?pm:o?vm:lc;return!o&&_s(p,"iterate",w?_p:Xa),{next(){const{value:P,done:A}=M.next();return A?{value:P,done:A}:{value:b?[C(P[0]),C(P[1])]:C(P),done:A}},[Symbol.iterator](){return this}}}}function Ur(i){return function(...o){return i==="delete"?!1:i==="clear"?void 0:this}}function pP(){const i={get(p){return oh(this,p)},get size(){return ah(this)},has:rh,add:Bv,set:$v,delete:Vv,clear:zv,forEach:lh(!1,!1)},o={get(p){return oh(this,p,!1,!0)},get size(){return ah(this)},has:rh,add:Bv,set:$v,delete:Vv,clear:zv,forEach:lh(!1,!0)},l={get(p){return oh(this,p,!0)},get size(){return ah(this,!0)},has(p){return rh.call(this,p,!0)},add:Ur("add"),set:Ur("set"),delete:Ur("delete"),clear:Ur("clear"),forEach:lh(!0,!1)},c={get(p){return oh(this,p,!0,!0)},get size(){return ah(this,!0)},has(p){return rh.call(this,p,!0)},add:Ur("add"),set:Ur("set"),delete:Ur("delete"),clear:Ur("clear"),forEach:lh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{i[p]=uh(p,!1,!1),l[p]=uh(p,!0,!1),o[p]=uh(p,!1,!0),c[p]=uh(p,!0,!0)}),[i,l,o,c]}const[gP,mP,vP,yP]=pP();function gm(i,o){const l=o?i?yP:vP:i?mP:gP;return(c,d,p)=>d==="__v_isReactive"?!i:d==="__v_isReadonly"?i:d==="__v_raw"?c:Reflect.get(Fn(l,d)&&d in c?l:c,d,p)}const bP={get:gm(!1,!1)},wP={get:gm(!1,!0)},xP={get:gm(!0,!1)},Nw=new WeakMap,Aw=new WeakMap,Lw=new WeakMap,SP=new WeakMap;function kP(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function CP(i){return i.__v_skip||!Object.isExtensible(i)?0:kP(Eh(i))}function Hn(i){return ac(i)?i:mm(i,!1,hP,bP,Nw)}function Ew(i){return mm(i,!1,fP,wP,Aw)}function gu(i){return mm(i,!0,dP,xP,Lw)}function mm(i,o,l,c,d){if(!yn(i)||i.__v_raw&&!(o&&i.__v_isReactive))return i;const p=d.get(i);if(p)return p;const g=CP(i);if(g===0)return i;const b=new Proxy(i,g===2?c:l);return d.set(i,b),b}function qu(i){return ac(i)?qu(i.__v_raw):!!(i&&i.__v_isReactive)}function ac(i){return!!(i&&i.__v_isReadonly)}function ld(i){return!!(i&&i.__v_isShallow)}function Dw(i){return i?!!i.__v_raw:!1}function Wn(i){const o=i&&i.__v_raw;return o?Wn(o):i}function zl(i){return Object.isExtensible(i)&&dw(i,"__v_skip",!0),i}const lc=i=>yn(i)?Hn(i):i,vm=i=>yn(i)?gu(i):i;class Ow{constructor(o,l,c,d){this.getter=o,this._setter=l,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new hm(()=>o(this._value),()=>Gu(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!d,this.__v_isReadonly=c}get value(){const o=Wn(this),l=o.effect._dirtyLevel;return(!o._cacheable||o.effect.dirty)&&pa(o._value,o._value=o.effect.run())&&l!==3&&Gu(o,5),ym(o),o.effect._dirtyLevel>=2&&Gu(o,3),o._value}set value(o){this._setter(o)}get _dirty(){return this.effect.dirty}set _dirty(o){this.effect.dirty=o}}function MP(i,o,l=!1){let c,d;const p=Xt(i);return p?(c=i,d=jn):(c=i.get,d=i.set),new Ow(c,d,p||!d,l)}function ym(i){var o;ca&&Ya&&(i=Wn(i),Sw(Ya,(o=i.dep)!=null?o:i.dep=Cw(()=>i.dep=void 0,i instanceof Ow?i:void 0)))}function Gu(i,o=5,l,c){i=Wn(i);const d=i.dep;d&&kw(d,o)}function ri(i){return!!(i&&i.__v_isRef===!0)}function ne(i){return Rw(i,!1)}function oi(i){return Rw(i,!0)}function Rw(i,o){return ri(i)?i:new PP(i,o)}class PP{constructor(o,l){this.__v_isShallow=l,this.dep=void 0,this.__v_isRef=!0,this._rawValue=l?o:Wn(o),this._value=l?o:lc(o)}get value(){return ym(this),this._value}set value(o){const l=this.__v_isShallow||ld(o)||ac(o);o=l?o:Wn(o),pa(o,this._rawValue)&&(this._rawValue,this._rawValue=o,this._value=l?o:lc(o),Gu(this,5))}}function v(i){return ri(i)?i.value:i}const TP={get:(i,o,l)=>v(Reflect.get(i,o,l)),set:(i,o,l,c)=>{const d=i[o];return ri(d)&&!ri(l)?(d.value=l,!0):Reflect.set(i,o,l,c)}};function Iw(i){return qu(i)?i:new Proxy(i,TP)}class NP{constructor(o){this.dep=void 0,this.__v_isRef=!0;const{get:l,set:c}=o(()=>ym(this),()=>Gu(this));this._get=l,this._set=c}get value(){return this._get()}set value(o){this._set(o)}}function AP(i){return new NP(i)}function ss(i){const o=St(i)?new Array(i.length):{};for(const l in i)o[l]=Fw(i,l);return o}class LP{constructor(o,l,c){this._object=o,this._key=l,this._defaultValue=c,this.__v_isRef=!0}get value(){const o=this._object[this._key];return o===void 0?this._defaultValue:o}set value(o){this._object[this._key]=o}get dep(){return rP(Wn(this._object),this._key)}}class EP{constructor(o){this._getter=o,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Gn(i,o,l){return ri(i)?i:Xt(i)?new EP(i):yn(i)&&arguments.length>1?Fw(i,o,l):ne(i)}function Fw(i,o,l){const c=i[o];return ri(c)?c:new LP(i,o,l)}/**
* @vue/runtime-core v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ha(i,o,l,c){try{return c?i(...c):i()}catch(d){_d(d,o,l)}}function yo(i,o,l,c){if(Xt(i)){const d=ha(i,o,l,c);return d&&rc(d)&&d.catch(p=>{_d(p,o,l)}),d}if(St(i)){const d=[];for(let p=0;p<i.length;p++)d.push(yo(i[p],o,l,c));return d}}function _d(i,o,l,c=!0){const d=o?o.vnode:null;if(o){let p=o.parent;const g=o.proxy,b=`https://vuejs.org/error-reference/#runtime-${l}`;for(;p;){const M=p.ec;if(M){for(let C=0;C<M.length;C++)if(M[C](i,g,b)===!1)return}p=p.parent}const w=o.appContext.config.errorHandler;if(w){Ca(),ha(w,null,10,[i,g,b]),Tr();return}}DP(i,l,d,c)}function DP(i,o,l,c=!0){console.error(i)}let uc=!1,Kp=!1;const ys=[];let Jo=0;const _l=[];let na=null,Va=0;const Bw=Promise.resolve();let bm=null;function Kt(i){const o=bm||Bw;return i?o.then(this?i.bind(this):i):o}function OP(i){let o=Jo+1,l=ys.length;for(;o<l;){const c=o+l>>>1,d=ys[c],p=cc(d);p<i||p===i&&d.pre?o=c+1:l=c}return o}function wm(i){(!ys.length||!ys.includes(i,uc&&i.allowRecurse?Jo+1:Jo))&&(i.id==null?ys.push(i):ys.splice(OP(i.id),0,i),$w())}function $w(){!uc&&!Kp&&(Kp=!0,bm=Bw.then(zw))}function RP(i){const o=ys.indexOf(i);o>Jo&&ys.splice(o,1)}function IP(i){St(i)?_l.push(...i):(!na||!na.includes(i,i.allowRecurse?Va+1:Va))&&_l.push(i),$w()}function _v(i,o,l=uc?Jo+1:0){for(;l<ys.length;l++){const c=ys[l];if(c&&c.pre){if(i&&c.id!==i.uid)continue;ys.splice(l,1),l--,c()}}}function Vw(i){if(_l.length){const o=[...new Set(_l)].sort((l,c)=>cc(l)-cc(c));if(_l.length=0,na){na.push(...o);return}for(na=o,Va=0;Va<na.length;Va++){const l=na[Va];l.active!==!1&&l()}na=null,Va=0}}const cc=i=>i.id==null?1/0:i.id,FP=(i,o)=>{const l=cc(i)-cc(o);if(l===0){if(i.pre&&!o.pre)return-1;if(o.pre&&!i.pre)return 1}return l};function zw(i){Kp=!1,uc=!0,ys.sort(FP);try{for(Jo=0;Jo<ys.length;Jo++){const o=ys[Jo];o&&o.active!==!1&&ha(o,null,14)}}finally{Jo=0,ys.length=0,Vw(),uc=!1,bm=null,(ys.length||_l.length)&&zw()}}function BP(i,o,...l){if(i.isUnmounted)return;const c=i.vnode.props||Ti;let d=l;const p=o.startsWith("update:"),g=p&&o.slice(7);if(g&&g in c){const C=`${g==="modelValue"?"model":g}Modifiers`,{number:P,trim:A}=c[C]||Ti;A&&(d=l.map(O=>tn(O)?O.trim():O)),P&&(d=l.map($p))}let b,w=c[b=ju(o)]||c[b=ju(xo(o))];!w&&p&&(w=c[b=ju(ka(o))]),w&&yo(w,i,6,d);const M=c[b+"Once"];if(M){if(!i.emitted)i.emitted={};else if(i.emitted[b])return;i.emitted[b]=!0,yo(M,i,6,d)}}function _w(i,o,l=!1){const c=o.emitsCache,d=c.get(i);if(d!==void 0)return d;const p=i.emits;let g={},b=!1;if(!Xt(i)){const w=M=>{const C=_w(M,o,!0);C&&(b=!0,_i(g,C))};!l&&o.mixins.length&&o.mixins.forEach(w),i.extends&&w(i.extends),i.mixins&&i.mixins.forEach(w)}return!p&&!b?(yn(i)&&c.set(i,null),null):(St(p)?p.forEach(w=>g[w]=null):_i(g,p),yn(i)&&c.set(i,g),g)}function Kd(i,o){return!i||!Bd(o)?!1:(o=o.slice(2).replace(/Once$/,""),Fn(i,o[0].toLowerCase()+o.slice(1))||Fn(i,ka(o))||Fn(i,o))}let is=null,Hd=null;function ud(i){const o=is;return is=i,Hd=i&&i.type.__scopeId||null,o}function $P(i){Hd=i}function VP(){Hd=null}function Te(i,o=is,l){if(!o||i._n)return i;const c=(...d)=>{c._d&&ny(-1);const p=ud(o);let g;try{g=i(...d)}finally{ud(p),c._d&&ny(1)}return g};return c._n=!0,c._c=!0,c._d=!0,c}function ep(i){const{type:o,vnode:l,proxy:c,withProxy:d,propsOptions:[p],slots:g,attrs:b,emit:w,render:M,renderCache:C,props:P,data:A,setupState:O,ctx:R,inheritAttrs:N}=i,z=ud(i);let T,_;try{if(l.shapeFlag&4){const K=d||c,B=K;T=Zo(M.call(B,K,C,P,O,A,R)),_=b}else{const K=o;T=Zo(K.length>1?K(P,{attrs:b,slots:g,emit:w}):K(P,null)),_=o.props?b:zP(b)}}catch(K){Zu.length=0,_d(K,i,1),T=ye(rs)}let I=T;if(_&&N!==!1){const K=Object.keys(_),{shapeFlag:B}=I;K.length&&B&7&&(p&&K.some(lm)&&(_=_P(_,p)),I=Ar(I,_,!1,!0))}return l.dirs&&(I=Ar(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(l.dirs):l.dirs),l.transition&&(I.transition=l.transition),T=I,ud(z),T}const zP=i=>{let o;for(const l in i)(l==="class"||l==="style"||Bd(l))&&((o||(o={}))[l]=i[l]);return o},_P=(i,o)=>{const l={};for(const c in i)(!lm(c)||!(c.slice(9)in o))&&(l[c]=i[c]);return l};function KP(i,o,l){const{props:c,children:d,component:p}=i,{props:g,children:b,patchFlag:w}=o,M=p.emitsOptions;if(o.dirs||o.transition)return!0;if(l&&w>=0){if(w&1024)return!0;if(w&16)return c?Kv(c,g,M):!!g;if(w&8){const C=o.dynamicProps;for(let P=0;P<C.length;P++){const A=C[P];if(g[A]!==c[A]&&!Kd(M,A))return!0}}}else return(d||b)&&(!b||!b.$stable)?!0:c===g?!1:c?g?Kv(c,g,M):!0:!!g;return!1}function Kv(i,o,l){const c=Object.keys(o);if(c.length!==Object.keys(i).length)return!0;for(let d=0;d<c.length;d++){const p=c[d];if(o[p]!==i[p]&&!Kd(l,p))return!0}return!1}function HP({vnode:i,parent:o},l){for(;o;){const c=o.subTree;if(c.suspense&&c.suspense.activeBranch===i&&(c.el=i.el),c===i)(i=o.vnode).el=l,o=o.parent;else break}}const xm="components",jP="directives";function fn(i,o){return Sm(xm,i,!0,o)||i}const Kw=Symbol.for("v-ndc");function kn(i){return tn(i)?Sm(xm,i,!1)||i:i||Kw}function jd(i){return Sm(jP,i)}function Sm(i,o,l=!0,c=!1){const d=is||as;if(d){const p=d.type;if(i===xm){const b=OT(p,!1);if(b&&(b===o||b===xo(o)||b===Rc(xo(o))))return p}const g=Hv(d[i]||p[i],o)||Hv(d.appContext[i],o);return!g&&c?p:g}}function Hv(i,o){return i&&(i[o]||i[xo(o)]||i[Rc(xo(o))])}const qP=i=>i.__isSuspense;function GP(i,o){o&&o.pendingBranch?St(i)?o.effects.push(...i):o.effects.push(i):IP(i)}function qd(i,o,l=as,c=!1){if(l){const d=l[i]||(l[i]=[]),p=o.__weh||(o.__weh=(...g)=>{Ca();const b=Ic(l),w=yo(o,l,i,g);return b(),Tr(),w});return c?d.unshift(p):d.push(p),p}}const Dr=i=>(o,l=as)=>{(!Ud||i==="sp")&&qd(i,(...c)=>o(...c),l)},Gd=Dr("bm"),un=Dr("m"),Hw=Dr("bu"),Or=Dr("u"),ei=Dr("bum"),Ma=Dr("um"),WP=Dr("sp"),UP=Dr("rtg"),YP=Dr("rtc");function XP(i,o=as){qd("ec",i,o)}function ln(i,o){if(is===null)return i;const l=Yd(is),c=i.dirs||(i.dirs=[]);for(let d=0;d<o.length;d++){let[p,g,b,w=Ti]=o[d];p&&(Xt(p)&&(p={mounted:p,updated:p}),p.deep&&oa(g),c.push({dir:p,instance:l,value:g,oldValue:void 0,arg:b,modifiers:w}))}return i}function Ra(i,o,l,c){const d=i.dirs,p=o&&o.dirs;for(let g=0;g<d.length;g++){const b=d[g];p&&(b.oldValue=p[g].value);let w=b.dir[c];w&&(Ca(),yo(w,l,8,[i.el,b,i,o]),Tr())}}function Rn(i,o,l,c){let d;const p=l;if(St(i)||tn(i)){d=new Array(i.length);for(let g=0,b=i.length;g<b;g++)d[g]=o(i[g],g,void 0,p)}else if(typeof i=="number"){d=new Array(i);for(let g=0;g<i;g++)d[g]=o(g+1,g,void 0,p)}else if(yn(i))if(i[Symbol.iterator])d=Array.from(i,(g,b)=>o(g,b,void 0,p));else{const g=Object.keys(i);d=new Array(g.length);for(let b=0,w=g.length;b<w;b++){const M=g[b];d[b]=o(i[M],M,b,p)}}else d=[];return d}function Nr(i,o){for(let l=0;l<o.length;l++){const c=o[l];if(St(c))for(let d=0;d<c.length;d++)i[c[d].name]=c[d].fn;else c&&(i[c.name]=c.key?(...d)=>{const p=c.fn(...d);return p&&(p.key=c.key),p}:c.fn)}return i}/*! #__NO_SIDE_EFFECTS__ */function xe(i,o){return Xt(i)?_i({name:i.name},o,{setup:i}):i}const Wu=i=>!!i.type.__asyncLoader;function ze(i,o,l={},c,d){if(is.isCE||is.parent&&Wu(is.parent)&&is.parent.isCE)return o!=="default"&&(l.name=o),ye("slot",l,c&&c());let p=i[o];p&&p._c&&(p._d=!1),Y();const g=p&&jw(p(l)),b=Ie($t,{key:l.key||g&&g.key||`_${o}`},g||(c?c():[]),g&&i._===1?64:-2);return b.scopeId&&(b.slotScopeIds=[b.scopeId+"-s"]),p&&p._c&&(p._d=!0),b}function jw(i){return i.some(o=>li(o)?!(o.type===rs||o.type===$t&&!jw(o.children)):!0)?i:null}function ZP(i,o){const l={};for(const c in i)l[ju(c)]=i[c];return l}const Hp=i=>i?f2(i)?Yd(i):Hp(i.parent):null,Uu=_i(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Hp(i.parent),$root:i=>Hp(i.root),$emit:i=>i.emit,$options:i=>km(i),$forceUpdate:i=>i.f||(i.f=()=>{i.effect.dirty=!0,wm(i.update)}),$nextTick:i=>i.n||(i.n=Kt.bind(i.proxy)),$watch:i=>vT.bind(i)}),tp=(i,o)=>i!==Ti&&!i.__isScriptSetup&&Fn(i,o),JP={get({_:i},o){if(o==="__v_skip")return!0;const{ctx:l,setupState:c,data:d,props:p,accessCache:g,type:b,appContext:w}=i;let M;if(o[0]!=="$"){const O=g[o];if(O!==void 0)switch(O){case 1:return c[o];case 2:return d[o];case 4:return l[o];case 3:return p[o]}else{if(tp(c,o))return g[o]=1,c[o];if(d!==Ti&&Fn(d,o))return g[o]=2,d[o];if((M=i.propsOptions[0])&&Fn(M,o))return g[o]=3,p[o];if(l!==Ti&&Fn(l,o))return g[o]=4,l[o];jp&&(g[o]=0)}}const C=Uu[o];let P,A;if(C)return o==="$attrs"&&_s(i.attrs,"get",""),C(i);if((P=b.__cssModules)&&(P=P[o]))return P;if(l!==Ti&&Fn(l,o))return g[o]=4,l[o];if(A=w.config.globalProperties,Fn(A,o))return A[o]},set({_:i},o,l){const{data:c,setupState:d,ctx:p}=i;return tp(d,o)?(d[o]=l,!0):c!==Ti&&Fn(c,o)?(c[o]=l,!0):Fn(i.props,o)||o[0]==="$"&&o.slice(1)in i?!1:(p[o]=l,!0)},has({_:{data:i,setupState:o,accessCache:l,ctx:c,appContext:d,propsOptions:p}},g){let b;return!!l[g]||i!==Ti&&Fn(i,g)||tp(o,g)||(b=p[0])&&Fn(b,g)||Fn(c,g)||Fn(Uu,g)||Fn(d.config.globalProperties,g)},defineProperty(i,o,l){return l.get!=null?i._.accessCache[o]=0:Fn(l,"value")&&this.set(i,o,l.value,null),Reflect.defineProperty(i,o,l)}};function Qi(){return qw().slots}function cl(){return qw().attrs}function qw(){const i=pn();return i.setupContext||(i.setupContext=g2(i))}function jv(i){return St(i)?i.reduce((o,l)=>(o[l]=null,o),{}):i}let jp=!0;function QP(i){const o=km(i),l=i.proxy,c=i.ctx;jp=!1,o.beforeCreate&&qv(o.beforeCreate,i,"bc");const{data:d,computed:p,methods:g,watch:b,provide:w,inject:M,created:C,beforeMount:P,mounted:A,beforeUpdate:O,updated:R,activated:N,deactivated:z,beforeDestroy:T,beforeUnmount:_,destroyed:I,unmounted:K,render:B,renderTracked:G,renderTriggered:$,errorCaptured:J,serverPrefetch:ee,expose:Q,inheritAttrs:X,components:se,directives:de,filters:ve}=o;if(M&&eT(M,c,null),g)for(const ie in g){const re=g[ie];Xt(re)&&(c[ie]=re.bind(l))}if(d){const ie=d.call(l,l);yn(ie)&&(i.data=Hn(ie))}if(jp=!0,p)for(const ie in p){const re=p[ie],te=Xt(re)?re.bind(l,l):Xt(re.get)?re.get.bind(l,l):jn,ue=!Xt(re)&&Xt(re.set)?re.set.bind(l):jn,be=j({get:te,set:ue});Object.defineProperty(c,ie,{enumerable:!0,configurable:!0,get:()=>be.value,set:Ce=>be.value=Ce})}if(b)for(const ie in b)Gw(b[ie],c,l,ie);if(w){const ie=Xt(w)?w.call(l):w;Reflect.ownKeys(ie).forEach(re=>{En(re,ie[re])})}C&&qv(C,i,"c");function ae(ie,re){St(re)?re.forEach(te=>ie(te.bind(l))):re&&ie(re.bind(l))}if(ae(Gd,P),ae(un,A),ae(Hw,O),ae(Or,R),ae(yT,N),ae(s2,z),ae(XP,J),ae(YP,G),ae(UP,$),ae(ei,_),ae(Ma,K),ae(WP,ee),St(Q))if(Q.length){const ie=i.exposed||(i.exposed={});Q.forEach(re=>{Object.defineProperty(ie,re,{get:()=>l[re],set:te=>l[re]=te})})}else i.exposed||(i.exposed={});B&&i.render===jn&&(i.render=B),X!=null&&(i.inheritAttrs=X),se&&(i.components=se),de&&(i.directives=de)}function eT(i,o,l=jn){St(i)&&(i=qp(i));for(const c in i){const d=i[c];let p;yn(d)?"default"in d?p=Tt(d.from||c,d.default,!0):p=Tt(d.from||c):p=Tt(d),ri(p)?Object.defineProperty(o,c,{enumerable:!0,configurable:!0,get:()=>p.value,set:g=>p.value=g}):o[c]=p}}function qv(i,o,l){yo(St(i)?i.map(c=>c.bind(o.proxy)):i.bind(o.proxy),o,l)}function Gw(i,o,l,c){const d=c.includes(".")?i2(l,c):()=>l[c];if(tn(i)){const p=o[i];Xt(p)&&Ue(d,p)}else if(Xt(i))Ue(d,i.bind(l));else if(yn(i))if(St(i))i.forEach(p=>Gw(p,o,l,c));else{const p=Xt(i.handler)?i.handler.bind(l):o[i.handler];Xt(p)&&Ue(d,p,i)}}function km(i){const o=i.type,{mixins:l,extends:c}=o,{mixins:d,optionsCache:p,config:{optionMergeStrategies:g}}=i.appContext,b=p.get(o);let w;return b?w=b:!d.length&&!l&&!c?w=o:(w={},d.length&&d.forEach(M=>cd(w,M,g,!0)),cd(w,o,g)),yn(o)&&p.set(o,w),w}function cd(i,o,l,c=!1){const{mixins:d,extends:p}=o;p&&cd(i,p,l,!0),d&&d.forEach(g=>cd(i,g,l,!0));for(const g in o)if(!(c&&g==="expose")){const b=tT[g]||l&&l[g];i[g]=b?b(i[g],o[g]):o[g]}return i}const tT={data:Gv,props:Wv,emits:Wv,methods:Vu,computed:Vu,beforeCreate:Ps,created:Ps,beforeMount:Ps,mounted:Ps,beforeUpdate:Ps,updated:Ps,beforeDestroy:Ps,beforeUnmount:Ps,destroyed:Ps,unmounted:Ps,activated:Ps,deactivated:Ps,errorCaptured:Ps,serverPrefetch:Ps,components:Vu,directives:Vu,watch:iT,provide:Gv,inject:nT};function Gv(i,o){return o?i?function(){return _i(Xt(i)?i.call(this,this):i,Xt(o)?o.call(this,this):o)}:o:i}function nT(i,o){return Vu(qp(i),qp(o))}function qp(i){if(St(i)){const o={};for(let l=0;l<i.length;l++)o[i[l]]=i[l];return o}return i}function Ps(i,o){return i?[...new Set([].concat(i,o))]:o}function Vu(i,o){return i?_i(Object.create(null),i,o):o}function Wv(i,o){return i?St(i)&&St(o)?[...new Set([...i,...o])]:_i(Object.create(null),jv(i),jv(o??{})):o}function iT(i,o){if(!i)return o;if(!o)return i;const l=_i(Object.create(null),i);for(const c in o)l[c]=Ps(i[c],o[c]);return l}function Ww(){return{app:null,config:{isNativeTag:qM,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sT=0;function oT(i,o){return function(c,d=null){Xt(c)||(c=_i({},c)),d!=null&&!yn(d)&&(d=null);const p=Ww(),g=new WeakSet;let b=!1;const w=p.app={_uid:sT++,_component:c,_props:d,_container:null,_context:p,_instance:null,version:IT,get config(){return p.config},set config(M){},use(M,...C){return g.has(M)||(M&&Xt(M.install)?(g.add(M),M.install(w,...C)):Xt(M)&&(g.add(M),M(w,...C))),w},mixin(M){return p.mixins.includes(M)||p.mixins.push(M),w},component(M,C){return C?(p.components[M]=C,w):p.components[M]},directive(M,C){return C?(p.directives[M]=C,w):p.directives[M]},mount(M,C,P){if(!b){const A=ye(c,d);return A.appContext=p,P===!0?P="svg":P===!1&&(P=void 0),C&&o?o(A,M):i(A,M,P),b=!0,w._container=M,M.__vue_app__=w,Yd(A.component)}},unmount(){b&&(i(null,w._container),delete w._container.__vue_app__)},provide(M,C){return p.provides[M]=C,w},runWithContext(M){const C=Yu;Yu=w;try{return M()}finally{Yu=C}}};return w}}let Yu=null;function En(i,o){if(as){let l=as.provides;const c=as.parent&&as.parent.provides;c===l&&(l=as.provides=Object.create(c)),l[i]=o}}function Tt(i,o,l=!1){const c=as||is;if(c||Yu){const d=c?c.parent==null?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides:Yu._context.provides;if(d&&i in d)return d[i];if(arguments.length>1)return l&&Xt(o)?o.call(c&&c.proxy):o}}const Uw={},Yw=()=>Object.create(Uw),Xw=i=>Object.getPrototypeOf(i)===Uw;function rT(i,o,l,c=!1){const d={},p=Yw();i.propsDefaults=Object.create(null),Zw(i,o,d,p);for(const g in i.propsOptions[0])g in d||(d[g]=void 0);l?i.props=c?d:Ew(d):i.type.props?i.props=d:i.props=p,i.attrs=p}function aT(i,o,l,c){const{props:d,attrs:p,vnode:{patchFlag:g}}=i,b=Wn(d),[w]=i.propsOptions;let M=!1;if((c||g>0)&&!(g&16)){if(g&8){const C=i.vnode.dynamicProps;for(let P=0;P<C.length;P++){let A=C[P];if(Kd(i.emitsOptions,A))continue;const O=o[A];if(w)if(Fn(p,A))O!==p[A]&&(p[A]=O,M=!0);else{const R=xo(A);d[R]=Gp(w,b,R,O,i,!1)}else O!==p[A]&&(p[A]=O,M=!0)}}}else{Zw(i,o,d,p)&&(M=!0);let C;for(const P in b)(!o||!Fn(o,P)&&((C=ka(P))===P||!Fn(o,C)))&&(w?l&&(l[P]!==void 0||l[C]!==void 0)&&(d[P]=Gp(w,b,P,void 0,i,!0)):delete d[P]);if(p!==b)for(const P in p)(!o||!Fn(o,P))&&(delete p[P],M=!0)}M&&Mr(i.attrs,"set","")}function Zw(i,o,l,c){const[d,p]=i.propsOptions;let g=!1,b;if(o)for(let w in o){if(Hu(w))continue;const M=o[w];let C;d&&Fn(d,C=xo(w))?!p||!p.includes(C)?l[C]=M:(b||(b={}))[C]=M:Kd(i.emitsOptions,w)||(!(w in c)||M!==c[w])&&(c[w]=M,g=!0)}if(p){const w=Wn(l),M=b||Ti;for(let C=0;C<p.length;C++){const P=p[C];l[P]=Gp(d,w,P,M[P],i,!Fn(M,P))}}return g}function Gp(i,o,l,c,d,p){const g=i[l];if(g!=null){const b=Fn(g,"default");if(b&&c===void 0){const w=g.default;if(g.type!==Function&&!g.skipFactory&&Xt(w)){const{propsDefaults:M}=d;if(l in M)c=M[l];else{const C=Ic(d);c=M[l]=w.call(null,o),C()}}else c=w}g[0]&&(p&&!b?c=!1:g[1]&&(c===""||c===ka(l))&&(c=!0))}return c}function Jw(i,o,l=!1){const c=o.propsCache,d=c.get(i);if(d)return d;const p=i.props,g={},b=[];let w=!1;if(!Xt(i)){const C=P=>{w=!0;const[A,O]=Jw(P,o,!0);_i(g,A),O&&b.push(...O)};!l&&o.mixins.length&&o.mixins.forEach(C),i.extends&&C(i.extends),i.mixins&&i.mixins.forEach(C)}if(!p&&!w)return yn(i)&&c.set(i,$l),$l;if(St(p))for(let C=0;C<p.length;C++){const P=xo(p[C]);Uv(P)&&(g[P]=Ti)}else if(p)for(const C in p){const P=xo(C);if(Uv(P)){const A=p[C],O=g[P]=St(A)||Xt(A)?{type:A}:_i({},A);if(O){const R=Zv(Boolean,O.type),N=Zv(String,O.type);O[0]=R>-1,O[1]=N<0||R<N,(R>-1||Fn(O,"default"))&&b.push(P)}}}const M=[g,b];return yn(i)&&c.set(i,M),M}function Uv(i){return i[0]!=="$"&&!Hu(i)}function Yv(i){return i===null?"null":typeof i=="function"?i.name||"":typeof i=="object"&&i.constructor&&i.constructor.name||""}function Xv(i,o){return Yv(i)===Yv(o)}function Zv(i,o){return St(o)?o.findIndex(l=>Xv(l,i)):Xt(o)&&Xv(o,i)?0:-1}const Qw=i=>i[0]==="_"||i==="$stable",Cm=i=>St(i)?i.map(Zo):[Zo(i)],lT=(i,o,l)=>{if(o._n)return o;const c=Te((...d)=>Cm(o(...d)),l);return c._c=!1,c},e2=(i,o,l)=>{const c=i._ctx;for(const d in i){if(Qw(d))continue;const p=i[d];if(Xt(p))o[d]=lT(d,p,c);else if(p!=null){const g=Cm(p);o[d]=()=>g}}},t2=(i,o)=>{const l=Cm(o);i.slots.default=()=>l},uT=(i,o)=>{const l=i.slots=Yw();if(i.vnode.shapeFlag&32){const c=o._;c?(_i(l,o),dw(l,"_",c,!0)):e2(o,l)}else o&&t2(i,o)},cT=(i,o,l)=>{const{vnode:c,slots:d}=i;let p=!0,g=Ti;if(c.shapeFlag&32){const b=o._;b?l&&b===1?p=!1:(_i(d,o),!l&&b===1&&delete d._):(p=!o.$stable,e2(o,d)),g=o}else o&&(t2(i,o),g={default:1});if(p)for(const b in d)!Qw(b)&&g[b]==null&&delete d[b]};function Wp(i,o,l,c,d=!1){if(St(i)){i.forEach((A,O)=>Wp(A,o&&(St(o)?o[O]:o),l,c,d));return}if(Wu(c)&&!d)return;const p=c.shapeFlag&4?Yd(c.component):c.el,g=d?null:p,{i:b,r:w}=i,M=o&&o.r,C=b.refs===Ti?b.refs={}:b.refs,P=b.setupState;if(M!=null&&M!==w&&(tn(M)?(C[M]=null,Fn(P,M)&&(P[M]=null)):ri(M)&&(M.value=null)),Xt(w))ha(w,b,12,[g,C]);else{const A=tn(w),O=ri(w);if(A||O){const R=()=>{if(i.f){const N=A?Fn(P,w)?P[w]:C[w]:w.value;d?St(N)&&um(N,p):St(N)?N.includes(p)||N.push(p):A?(C[w]=[p],Fn(P,w)&&(P[w]=C[w])):(w.value=[p],i.k&&(C[i.k]=w.value))}else A?(C[w]=g,Fn(P,w)&&(P[w]=g)):O&&(w.value=g,i.k&&(C[i.k]=g))};g?(R.id=-1,Bs(R,l)):R()}}}const Bs=GP;function hT(i){return dT(i)}function dT(i,o){const l=fw();l.__VUE__=!0;const{insert:c,remove:d,patchProp:p,createElement:g,createText:b,createComment:w,setText:M,setElementText:C,parentNode:P,nextSibling:A,setScopeId:O=jn,insertStaticContent:R}=i,N=(Me,Ee,We,ot=null,He=null,Je=null,nt=void 0,rt=null,ht=!!Ee.dynamicChildren)=>{if(Me===Ee)return;Me&&!za(Me,Ee)&&(ot=_e(Me),Ce(Me,He,Je,!0),Me=null),Ee.patchFlag===-2&&(ht=!1,Ee.dynamicChildren=null);const{type:qe,ref:Mt,shapeFlag:Nt}=Ee;switch(qe){case vu:z(Me,Ee,We,ot);break;case rs:T(Me,Ee,We,ot);break;case sp:Me==null&&_(Ee,We,ot,nt);break;case $t:se(Me,Ee,We,ot,He,Je,nt,rt,ht);break;default:Nt&1?B(Me,Ee,We,ot,He,Je,nt,rt,ht):Nt&6?de(Me,Ee,We,ot,He,Je,nt,rt,ht):(Nt&64||Nt&128)&&qe.process(Me,Ee,We,ot,He,Je,nt,rt,ht,Ye)}Mt!=null&&He&&Wp(Mt,Me&&Me.ref,Je,Ee||Me,!Ee)},z=(Me,Ee,We,ot)=>{if(Me==null)c(Ee.el=b(Ee.children),We,ot);else{const He=Ee.el=Me.el;Ee.children!==Me.children&&M(He,Ee.children)}},T=(Me,Ee,We,ot)=>{Me==null?c(Ee.el=w(Ee.children||""),We,ot):Ee.el=Me.el},_=(Me,Ee,We,ot)=>{[Me.el,Me.anchor]=R(Me.children,Ee,We,ot,Me.el,Me.anchor)},I=({el:Me,anchor:Ee},We,ot)=>{let He;for(;Me&&Me!==Ee;)He=A(Me),c(Me,We,ot),Me=He;c(Ee,We,ot)},K=({el:Me,anchor:Ee})=>{let We;for(;Me&&Me!==Ee;)We=A(Me),d(Me),Me=We;d(Ee)},B=(Me,Ee,We,ot,He,Je,nt,rt,ht)=>{Ee.type==="svg"?nt="svg":Ee.type==="math"&&(nt="mathml"),Me==null?G(Ee,We,ot,He,Je,nt,rt,ht):ee(Me,Ee,He,Je,nt,rt,ht)},G=(Me,Ee,We,ot,He,Je,nt,rt)=>{let ht,qe;const{props:Mt,shapeFlag:Nt,transition:Ge,dirs:kt}=Me;if(ht=Me.el=g(Me.type,Je,Mt&&Mt.is,Mt),Nt&8?C(ht,Me.children):Nt&16&&J(Me.children,ht,null,ot,He,np(Me,Je),nt,rt),kt&&Ra(Me,null,ot,"created"),$(ht,Me,Me.scopeId,nt,ot),Mt){for(const bn in Mt)bn!=="value"&&!Hu(bn)&&p(ht,bn,null,Mt[bn],Je,Me.children,ot,He,Le);"value"in Mt&&p(ht,"value",null,Mt.value,Je),(qe=Mt.onVnodeBeforeMount)&&Xo(qe,ot,Me)}kt&&Ra(Me,null,ot,"beforeMount");const Ht=fT(He,Ge);Ht&&Ge.beforeEnter(ht),c(ht,Ee,We),((qe=Mt&&Mt.onVnodeMounted)||Ht||kt)&&Bs(()=>{qe&&Xo(qe,ot,Me),Ht&&Ge.enter(ht),kt&&Ra(Me,null,ot,"mounted")},He)},$=(Me,Ee,We,ot,He)=>{if(We&&O(Me,We),ot)for(let Je=0;Je<ot.length;Je++)O(Me,ot[Je]);if(He){let Je=He.subTree;if(Ee===Je){const nt=He.vnode;$(Me,nt,nt.scopeId,nt.slotScopeIds,He.parent)}}},J=(Me,Ee,We,ot,He,Je,nt,rt,ht=0)=>{for(let qe=ht;qe<Me.length;qe++){const Mt=Me[qe]=rt?sa(Me[qe]):Zo(Me[qe]);N(null,Mt,Ee,We,ot,He,Je,nt,rt)}},ee=(Me,Ee,We,ot,He,Je,nt)=>{const rt=Ee.el=Me.el;let{patchFlag:ht,dynamicChildren:qe,dirs:Mt}=Ee;ht|=Me.patchFlag&16;const Nt=Me.props||Ti,Ge=Ee.props||Ti;let kt;if(We&&Ia(We,!1),(kt=Ge.onVnodeBeforeUpdate)&&Xo(kt,We,Ee,Me),Mt&&Ra(Ee,Me,We,"beforeUpdate"),We&&Ia(We,!0),qe?Q(Me.dynamicChildren,qe,rt,We,ot,np(Ee,He),Je):nt||re(Me,Ee,rt,null,We,ot,np(Ee,He),Je,!1),ht>0){if(ht&16)X(rt,Ee,Nt,Ge,We,ot,He);else if(ht&2&&Nt.class!==Ge.class&&p(rt,"class",null,Ge.class,He),ht&4&&p(rt,"style",Nt.style,Ge.style,He),ht&8){const Ht=Ee.dynamicProps;for(let bn=0;bn<Ht.length;bn++){const hn=Ht[bn],Vt=Nt[hn],Ke=Ge[hn];(Ke!==Vt||hn==="value")&&p(rt,hn,Vt,Ke,He,Me.children,We,ot,Le)}}ht&1&&Me.children!==Ee.children&&C(rt,Ee.children)}else!nt&&qe==null&&X(rt,Ee,Nt,Ge,We,ot,He);((kt=Ge.onVnodeUpdated)||Mt)&&Bs(()=>{kt&&Xo(kt,We,Ee,Me),Mt&&Ra(Ee,Me,We,"updated")},ot)},Q=(Me,Ee,We,ot,He,Je,nt)=>{for(let rt=0;rt<Ee.length;rt++){const ht=Me[rt],qe=Ee[rt],Mt=ht.el&&(ht.type===$t||!za(ht,qe)||ht.shapeFlag&70)?P(ht.el):We;N(ht,qe,Mt,null,ot,He,Je,nt,!0)}},X=(Me,Ee,We,ot,He,Je,nt)=>{if(We!==ot){if(We!==Ti)for(const rt in We)!Hu(rt)&&!(rt in ot)&&p(Me,rt,We[rt],null,nt,Ee.children,He,Je,Le);for(const rt in ot){if(Hu(rt))continue;const ht=ot[rt],qe=We[rt];ht!==qe&&rt!=="value"&&p(Me,rt,qe,ht,nt,Ee.children,He,Je,Le)}"value"in ot&&p(Me,"value",We.value,ot.value,nt)}},se=(Me,Ee,We,ot,He,Je,nt,rt,ht)=>{const qe=Ee.el=Me?Me.el:b(""),Mt=Ee.anchor=Me?Me.anchor:b("");let{patchFlag:Nt,dynamicChildren:Ge,slotScopeIds:kt}=Ee;kt&&(rt=rt?rt.concat(kt):kt),Me==null?(c(qe,We,ot),c(Mt,We,ot),J(Ee.children||[],We,Mt,He,Je,nt,rt,ht)):Nt>0&&Nt&64&&Ge&&Me.dynamicChildren?(Q(Me.dynamicChildren,Ge,We,He,Je,nt,rt),(Ee.key!=null||He&&Ee===He.subTree)&&Mm(Me,Ee,!0)):re(Me,Ee,We,Mt,He,Je,nt,rt,ht)},de=(Me,Ee,We,ot,He,Je,nt,rt,ht)=>{Ee.slotScopeIds=rt,Me==null?Ee.shapeFlag&512?He.ctx.activate(Ee,We,ot,nt,ht):ve(Ee,We,ot,He,Je,nt,ht):me(Me,Ee,ht)},ve=(Me,Ee,We,ot,He,Je,nt)=>{const rt=Me.component=AT(Me,ot,He);if(Wd(Me)&&(rt.ctx.renderer=Ye),LT(rt),rt.asyncDep){if(He&&He.registerDep(rt,ae,nt),!Me.el){const ht=rt.subTree=ye(rs);T(null,ht,Ee,We)}}else ae(rt,Me,Ee,We,He,Je,nt)},me=(Me,Ee,We)=>{const ot=Ee.component=Me.component;if(KP(Me,Ee,We))if(ot.asyncDep&&!ot.asyncResolved){ie(ot,Ee,We);return}else ot.next=Ee,RP(ot.update),ot.effect.dirty=!0,ot.update();else Ee.el=Me.el,ot.vnode=Ee},ae=(Me,Ee,We,ot,He,Je,nt)=>{const rt=()=>{if(Me.isMounted){let{next:Mt,bu:Nt,u:Ge,parent:kt,vnode:Ht}=Me;{const wt=n2(Me);if(wt){Mt&&(Mt.el=Ht.el,ie(Me,Mt,nt)),wt.asyncDep.then(()=>{Me.isUnmounted||rt()});return}}let bn=Mt,hn;Ia(Me,!1),Mt?(Mt.el=Ht.el,ie(Me,Mt,nt)):Mt=Ht,Nt&&Dh(Nt),(hn=Mt.props&&Mt.props.onVnodeBeforeUpdate)&&Xo(hn,kt,Mt,Ht),Ia(Me,!0);const Vt=ep(Me),Ke=Me.subTree;Me.subTree=Vt,N(Ke,Vt,P(Ke.el),_e(Ke),Me,He,Je),Mt.el=Vt.el,bn===null&&HP(Me,Vt.el),Ge&&Bs(Ge,He),(hn=Mt.props&&Mt.props.onVnodeUpdated)&&Bs(()=>Xo(hn,kt,Mt,Ht),He)}else{let Mt;const{el:Nt,props:Ge}=Ee,{bm:kt,m:Ht,parent:bn}=Me,hn=Wu(Ee);if(Ia(Me,!1),kt&&Dh(kt),!hn&&(Mt=Ge&&Ge.onVnodeBeforeMount)&&Xo(Mt,bn,Ee),Ia(Me,!0),Nt&&mt){const Vt=()=>{Me.subTree=ep(Me),mt(Nt,Me.subTree,Me,He,null)};hn?Ee.type.__asyncLoader().then(()=>!Me.isUnmounted&&Vt()):Vt()}else{const Vt=Me.subTree=ep(Me);N(null,Vt,We,ot,Me,He,Je),Ee.el=Vt.el}if(Ht&&Bs(Ht,He),!hn&&(Mt=Ge&&Ge.onVnodeMounted)){const Vt=Ee;Bs(()=>Xo(Mt,bn,Vt),He)}(Ee.shapeFlag&256||bn&&Wu(bn.vnode)&&bn.vnode.shapeFlag&256)&&Me.a&&Bs(Me.a,He),Me.isMounted=!0,Ee=We=ot=null}},ht=Me.effect=new hm(rt,jn,()=>wm(qe),Me.scope),qe=Me.update=()=>{ht.dirty&&ht.run()};qe.id=Me.uid,Ia(Me,!0),qe()},ie=(Me,Ee,We)=>{Ee.component=Me;const ot=Me.vnode.props;Me.vnode=Ee,Me.next=null,aT(Me,Ee.props,ot,We),cT(Me,Ee.children,We),Ca(),_v(Me),Tr()},re=(Me,Ee,We,ot,He,Je,nt,rt,ht=!1)=>{const qe=Me&&Me.children,Mt=Me?Me.shapeFlag:0,Nt=Ee.children,{patchFlag:Ge,shapeFlag:kt}=Ee;if(Ge>0){if(Ge&128){ue(qe,Nt,We,ot,He,Je,nt,rt,ht);return}else if(Ge&256){te(qe,Nt,We,ot,He,Je,nt,rt,ht);return}}kt&8?(Mt&16&&Le(qe,He,Je),Nt!==qe&&C(We,Nt)):Mt&16?kt&16?ue(qe,Nt,We,ot,He,Je,nt,rt,ht):Le(qe,He,Je,!0):(Mt&8&&C(We,""),kt&16&&J(Nt,We,ot,He,Je,nt,rt,ht))},te=(Me,Ee,We,ot,He,Je,nt,rt,ht)=>{Me=Me||$l,Ee=Ee||$l;const qe=Me.length,Mt=Ee.length,Nt=Math.min(qe,Mt);let Ge;for(Ge=0;Ge<Nt;Ge++){const kt=Ee[Ge]=ht?sa(Ee[Ge]):Zo(Ee[Ge]);N(Me[Ge],kt,We,null,He,Je,nt,rt,ht)}qe>Mt?Le(Me,He,Je,!0,!1,Nt):J(Ee,We,ot,He,Je,nt,rt,ht,Nt)},ue=(Me,Ee,We,ot,He,Je,nt,rt,ht)=>{let qe=0;const Mt=Ee.length;let Nt=Me.length-1,Ge=Mt-1;for(;qe<=Nt&&qe<=Ge;){const kt=Me[qe],Ht=Ee[qe]=ht?sa(Ee[qe]):Zo(Ee[qe]);if(za(kt,Ht))N(kt,Ht,We,null,He,Je,nt,rt,ht);else break;qe++}for(;qe<=Nt&&qe<=Ge;){const kt=Me[Nt],Ht=Ee[Ge]=ht?sa(Ee[Ge]):Zo(Ee[Ge]);if(za(kt,Ht))N(kt,Ht,We,null,He,Je,nt,rt,ht);else break;Nt--,Ge--}if(qe>Nt){if(qe<=Ge){const kt=Ge+1,Ht=kt<Mt?Ee[kt].el:ot;for(;qe<=Ge;)N(null,Ee[qe]=ht?sa(Ee[qe]):Zo(Ee[qe]),We,Ht,He,Je,nt,rt,ht),qe++}}else if(qe>Ge)for(;qe<=Nt;)Ce(Me[qe],He,Je,!0),qe++;else{const kt=qe,Ht=qe,bn=new Map;for(qe=Ht;qe<=Ge;qe++){const st=Ee[qe]=ht?sa(Ee[qe]):Zo(Ee[qe]);st.key!=null&&bn.set(st.key,qe)}let hn,Vt=0;const Ke=Ge-Ht+1;let wt=!1,it=0;const $e=new Array(Ke);for(qe=0;qe<Ke;qe++)$e[qe]=0;for(qe=kt;qe<=Nt;qe++){const st=Me[qe];if(Vt>=Ke){Ce(st,He,Je,!0);continue}let Ve;if(st.key!=null)Ve=bn.get(st.key);else for(hn=Ht;hn<=Ge;hn++)if($e[hn-Ht]===0&&za(st,Ee[hn])){Ve=hn;break}Ve===void 0?Ce(st,He,Je,!0):($e[Ve-Ht]=qe+1,Ve>=it?it=Ve:wt=!0,N(st,Ee[Ve],We,null,He,Je,nt,rt,ht),Vt++)}const et=wt?pT($e):$l;for(hn=et.length-1,qe=Ke-1;qe>=0;qe--){const st=Ht+qe,Ve=Ee[st],Lt=st+1<Mt?Ee[st+1].el:ot;$e[qe]===0?N(null,Ve,We,Lt,He,Je,nt,rt,ht):wt&&(hn<0||qe!==et[hn]?be(Ve,We,Lt,2):hn--)}}},be=(Me,Ee,We,ot,He=null)=>{const{el:Je,type:nt,transition:rt,children:ht,shapeFlag:qe}=Me;if(qe&6){be(Me.component.subTree,Ee,We,ot);return}if(qe&128){Me.suspense.move(Ee,We,ot);return}if(qe&64){nt.move(Me,Ee,We,Ye);return}if(nt===$t){c(Je,Ee,We);for(let Nt=0;Nt<ht.length;Nt++)be(ht[Nt],Ee,We,ot);c(Me.anchor,Ee,We);return}if(nt===sp){I(Me,Ee,We);return}if(ot!==2&&qe&1&&rt)if(ot===0)rt.beforeEnter(Je),c(Je,Ee,We),Bs(()=>rt.enter(Je),He);else{const{leave:Nt,delayLeave:Ge,afterLeave:kt}=rt,Ht=()=>c(Je,Ee,We),bn=()=>{Nt(Je,()=>{Ht(),kt&&kt()})};Ge?Ge(Je,Ht,bn):bn()}else c(Je,Ee,We)},Ce=(Me,Ee,We,ot=!1,He=!1)=>{const{type:Je,props:nt,ref:rt,children:ht,dynamicChildren:qe,shapeFlag:Mt,patchFlag:Nt,dirs:Ge,memoIndex:kt}=Me;if(Nt===-2&&(He=!1),rt!=null&&Wp(rt,null,We,Me,!0),kt!=null&&(Ee.renderCache[kt]=void 0),Mt&256){Ee.ctx.deactivate(Me);return}const Ht=Mt&1&&Ge,bn=!Wu(Me);let hn;if(bn&&(hn=nt&&nt.onVnodeBeforeUnmount)&&Xo(hn,Ee,Me),Mt&6)tt(Me.component,We,ot);else{if(Mt&128){Me.suspense.unmount(We,ot);return}Ht&&Ra(Me,null,Ee,"beforeUnmount"),Mt&64?Me.type.remove(Me,Ee,We,Ye,ot):qe&&(Je!==$t||Nt>0&&Nt&64)?Le(qe,Ee,We,!1,!0):(Je===$t&&Nt&384||!He&&Mt&16)&&Le(ht,Ee,We),ot&&Ne(Me)}(bn&&(hn=nt&&nt.onVnodeUnmounted)||Ht)&&Bs(()=>{hn&&Xo(hn,Ee,Me),Ht&&Ra(Me,null,Ee,"unmounted")},We)},Ne=Me=>{const{type:Ee,el:We,anchor:ot,transition:He}=Me;if(Ee===$t){Be(We,ot);return}if(Ee===sp){K(Me);return}const Je=()=>{d(We),He&&!He.persisted&&He.afterLeave&&He.afterLeave()};if(Me.shapeFlag&1&&He&&!He.persisted){const{leave:nt,delayLeave:rt}=He,ht=()=>nt(We,Je);rt?rt(Me.el,Je,ht):ht()}else Je()},Be=(Me,Ee)=>{let We;for(;Me!==Ee;)We=A(Me),d(Me),Me=We;d(Ee)},tt=(Me,Ee,We)=>{const{bum:ot,scope:He,update:Je,subTree:nt,um:rt,m:ht,a:qe}=Me;Jv(ht),Jv(qe),ot&&Dh(ot),He.stop(),Je&&(Je.active=!1,Ce(nt,Me,Ee,We)),rt&&Bs(rt,Ee),Bs(()=>{Me.isUnmounted=!0},Ee),Ee&&Ee.pendingBranch&&!Ee.isUnmounted&&Me.asyncDep&&!Me.asyncResolved&&Me.suspenseId===Ee.pendingId&&(Ee.deps--,Ee.deps===0&&Ee.resolve())},Le=(Me,Ee,We,ot=!1,He=!1,Je=0)=>{for(let nt=Je;nt<Me.length;nt++)Ce(Me[nt],Ee,We,ot,He)},_e=Me=>Me.shapeFlag&6?_e(Me.component.subTree):Me.shapeFlag&128?Me.suspense.next():A(Me.anchor||Me.el);let Fe=!1;const gt=(Me,Ee,We)=>{Me==null?Ee._vnode&&Ce(Ee._vnode,null,null,!0):N(Ee._vnode||null,Me,Ee,null,null,null,We),Fe||(Fe=!0,_v(),Vw(),Fe=!1),Ee._vnode=Me},Ye={p:N,um:Ce,m:be,r:Ne,mt:ve,mc:J,pc:re,pbc:Q,n:_e,o:i};let Ze,mt;return{render:gt,hydrate:Ze,createApp:oT(gt,Ze)}}function np({type:i,props:o},l){return l==="svg"&&i==="foreignObject"||l==="mathml"&&i==="annotation-xml"&&o&&o.encoding&&o.encoding.includes("html")?void 0:l}function Ia({effect:i,update:o},l){i.allowRecurse=o.allowRecurse=l}function fT(i,o){return(!i||i&&!i.pendingBranch)&&o&&!o.persisted}function Mm(i,o,l=!1){const c=i.children,d=o.children;if(St(c)&&St(d))for(let p=0;p<c.length;p++){const g=c[p];let b=d[p];b.shapeFlag&1&&!b.dynamicChildren&&((b.patchFlag<=0||b.patchFlag===32)&&(b=d[p]=sa(d[p]),b.el=g.el),!l&&b.patchFlag!==-2&&Mm(g,b)),b.type===vu&&(b.el=g.el)}}function pT(i){const o=i.slice(),l=[0];let c,d,p,g,b;const w=i.length;for(c=0;c<w;c++){const M=i[c];if(M!==0){if(d=l[l.length-1],i[d]<M){o[c]=d,l.push(c);continue}for(p=0,g=l.length-1;p<g;)b=p+g>>1,i[l[b]]<M?p=b+1:g=b;M<i[l[p]]&&(p>0&&(o[c]=l[p-1]),l[p]=c)}}for(p=l.length,g=l[p-1];p-- >0;)l[p]=g,g=o[g];return l}function n2(i){const o=i.subTree.component;if(o)return o.asyncDep&&!o.asyncResolved?o:n2(o)}function Jv(i){if(i)for(let o=0;o<i.length;o++)i[o].active=!1}const gT=Symbol.for("v-scx"),mT=()=>Tt(gT);function us(i,o){return Pm(i,null,o)}const ch={};function Ue(i,o,l){return Pm(i,o,l)}function Pm(i,o,{immediate:l,deep:c,flush:d,once:p,onTrack:g,onTrigger:b}=Ti){if(o&&p){const G=o;o=(...$)=>{G(...$),B()}}const w=as,M=G=>c===!0?G:oa(G,c===!1?1:void 0);let C,P=!1,A=!1;if(ri(i)?(C=()=>i.value,P=ld(i)):qu(i)?(C=()=>M(i),P=!0):St(i)?(A=!0,P=i.some(G=>qu(G)||ld(G)),C=()=>i.map(G=>{if(ri(G))return G.value;if(qu(G))return M(G);if(Xt(G))return ha(G,w,2)})):Xt(i)?o?C=()=>ha(i,w,2):C=()=>(O&&O(),yo(i,w,3,[R])):C=jn,o&&c){const G=C;C=()=>oa(G())}let O,R=G=>{O=I.onStop=()=>{ha(G,w,4),O=I.onStop=void 0}},N;if(Ud)if(R=jn,o?l&&yo(o,w,3,[C(),A?[]:void 0,R]):C(),d==="sync"){const G=mT();N=G.__watcherHandles||(G.__watcherHandles=[])}else return jn;let z=A?new Array(i.length).fill(ch):ch;const T=()=>{if(!(!I.active||!I.dirty))if(o){const G=I.run();(c||P||(A?G.some(($,J)=>pa($,z[J])):pa(G,z)))&&(O&&O(),yo(o,w,3,[G,z===ch?void 0:A&&z[0]===ch?[]:z,R]),z=G)}else I.run()};T.allowRecurse=!!o;let _;d==="sync"?_=T:d==="post"?_=()=>Bs(T,w&&w.suspense):(T.pre=!0,w&&(T.id=w.uid),_=()=>wm(T));const I=new hm(C,jn,_),K=yw(),B=()=>{I.stop(),K&&um(K.effects,I)};return o?l?T():z=I.run():d==="post"?Bs(I.run.bind(I),w&&w.suspense):I.run(),N&&N.push(B),B}function vT(i,o,l){const c=this.proxy,d=tn(i)?i.includes(".")?i2(c,i):()=>c[i]:i.bind(c,c);let p;Xt(o)?p=o:(p=o.handler,l=o);const g=Ic(this),b=Pm(d,p.bind(c),l);return g(),b}function i2(i,o){const l=o.split(".");return()=>{let c=i;for(let d=0;d<l.length&&c;d++)c=c[l[d]];return c}}function oa(i,o=1/0,l){if(o<=0||!yn(i)||i.__v_skip||(l=l||new Set,l.has(i)))return i;if(l.add(i),o--,ri(i))oa(i.value,o,l);else if(St(i))for(let c=0;c<i.length;c++)oa(i[c],o,l);else if($d(i)||Vl(i))i.forEach(c=>{oa(c,o,l)});else if(rd(i)){for(const c in i)oa(i[c],o,l);for(const c of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,c)&&oa(i[c],o,l)}return i}const Wd=i=>i.type.__isKeepAlive;function yT(i,o){o2(i,"a",o)}function s2(i,o){o2(i,"da",o)}function o2(i,o,l=as){const c=i.__wdc||(i.__wdc=()=>{let d=l;for(;d;){if(d.isDeactivated)return;d=d.parent}return i()});if(qd(o,c,l),l){let d=l.parent;for(;d&&d.parent;)Wd(d.parent.vnode)&&bT(c,o,l,d),d=d.parent}}function bT(i,o,l,c){const d=qd(o,i,c,!0);Ma(()=>{um(c[o],d)},l)}const ia=Symbol("_leaveCb"),hh=Symbol("_enterCb");function r2(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return un(()=>{i.isMounted=!0}),ei(()=>{i.isUnmounting=!0}),i}const co=[Function,Array],a2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:co,onEnter:co,onAfterEnter:co,onEnterCancelled:co,onBeforeLeave:co,onLeave:co,onAfterLeave:co,onLeaveCancelled:co,onBeforeAppear:co,onAppear:co,onAfterAppear:co,onAppearCancelled:co},l2=i=>{const o=i.subTree;return o.component?l2(o.component):o},wT={name:"BaseTransition",props:a2,setup(i,{slots:o}){const l=pn(),c=r2();return()=>{const d=o.default&&Tm(o.default(),!0);if(!d||!d.length)return;let p=d[0];if(d.length>1){for(const A of d)if(A.type!==rs){p=A;break}}const g=Wn(i),{mode:b}=g;if(c.isLeaving)return ip(p);const w=Qv(p);if(!w)return ip(p);let M=hc(w,g,c,l,A=>M=A);Yl(w,M);const C=l.subTree,P=C&&Qv(C);if(P&&P.type!==rs&&!za(w,P)&&l2(l).type!==rs){const A=hc(P,g,c,l);if(Yl(P,A),b==="out-in"&&w.type!==rs)return c.isLeaving=!0,A.afterLeave=()=>{c.isLeaving=!1,l.update.active!==!1&&(l.effect.dirty=!0,l.update())},ip(p);b==="in-out"&&w.type!==rs&&(A.delayLeave=(O,R,N)=>{const z=u2(c,P);z[String(P.key)]=P,O[ia]=()=>{R(),O[ia]=void 0,delete M.delayedLeave},M.delayedLeave=N})}return p}}},xT=wT;function u2(i,o){const{leavingVNodes:l}=i;let c=l.get(o.type);return c||(c=Object.create(null),l.set(o.type,c)),c}function hc(i,o,l,c,d){const{appear:p,mode:g,persisted:b=!1,onBeforeEnter:w,onEnter:M,onAfterEnter:C,onEnterCancelled:P,onBeforeLeave:A,onLeave:O,onAfterLeave:R,onLeaveCancelled:N,onBeforeAppear:z,onAppear:T,onAfterAppear:_,onAppearCancelled:I}=o,K=String(i.key),B=u2(l,i),G=(ee,Q)=>{ee&&yo(ee,c,9,Q)},$=(ee,Q)=>{const X=Q[1];G(ee,Q),St(ee)?ee.every(se=>se.length<=1)&&X():ee.length<=1&&X()},J={mode:g,persisted:b,beforeEnter(ee){let Q=w;if(!l.isMounted)if(p)Q=z||w;else return;ee[ia]&&ee[ia](!0);const X=B[K];X&&za(i,X)&&X.el[ia]&&X.el[ia](),G(Q,[ee])},enter(ee){let Q=M,X=C,se=P;if(!l.isMounted)if(p)Q=T||M,X=_||C,se=I||P;else return;let de=!1;const ve=ee[hh]=me=>{de||(de=!0,me?G(se,[ee]):G(X,[ee]),J.delayedLeave&&J.delayedLeave(),ee[hh]=void 0)};Q?$(Q,[ee,ve]):ve()},leave(ee,Q){const X=String(i.key);if(ee[hh]&&ee[hh](!0),l.isUnmounting)return Q();G(A,[ee]);let se=!1;const de=ee[ia]=ve=>{se||(se=!0,Q(),ve?G(N,[ee]):G(R,[ee]),ee[ia]=void 0,B[X]===i&&delete B[X])};B[X]=i,O?$(O,[ee,de]):de()},clone(ee){const Q=hc(ee,o,l,c,d);return d&&d(Q),Q}};return J}function ip(i){if(Wd(i))return i=Ar(i),i.children=null,i}function Qv(i){if(!Wd(i))return i;const{shapeFlag:o,children:l}=i;if(l){if(o&16)return l[0];if(o&32&&Xt(l.default))return l.default()}}function Yl(i,o){i.shapeFlag&6&&i.component?Yl(i.component.subTree,o):i.shapeFlag&128?(i.ssContent.transition=o.clone(i.ssContent),i.ssFallback.transition=o.clone(i.ssFallback)):i.transition=o}function Tm(i,o=!1,l){let c=[],d=0;for(let p=0;p<i.length;p++){let g=i[p];const b=l==null?g.key:String(l)+String(g.key!=null?g.key:p);g.type===$t?(g.patchFlag&128&&d++,c=c.concat(Tm(g.children,o,b))):(o||g.type!==rs)&&c.push(b!=null?Ar(g,{key:b}):g)}if(d>1)for(let p=0;p<c.length;p++)c[p].patchFlag=-2;return c}const ST=i=>i.__isTeleport,Xu=i=>i&&(i.disabled||i.disabled===""),ey=i=>typeof SVGElement<"u"&&i instanceof SVGElement,ty=i=>typeof MathMLElement=="function"&&i instanceof MathMLElement,Up=(i,o)=>{const l=i&&i.to;return tn(l)?o?o(l):null:l},kT={name:"Teleport",__isTeleport:!0,process(i,o,l,c,d,p,g,b,w,M){const{mc:C,pc:P,pbc:A,o:{insert:O,querySelector:R,createText:N,createComment:z}}=M,T=Xu(o.props);let{shapeFlag:_,children:I,dynamicChildren:K}=o;if(i==null){const B=o.el=N(""),G=o.anchor=N("");O(B,l,c),O(G,l,c);const $=o.target=Up(o.props,R),J=o.targetAnchor=N("");$&&(O(J,$),g==="svg"||ey($)?g="svg":(g==="mathml"||ty($))&&(g="mathml"));const ee=(Q,X)=>{_&16&&C(I,Q,X,d,p,g,b,w)};T?ee(l,G):$&&ee($,J)}else{o.el=i.el;const B=o.anchor=i.anchor,G=o.target=i.target,$=o.targetAnchor=i.targetAnchor,J=Xu(i.props),ee=J?l:G,Q=J?B:$;if(g==="svg"||ey(G)?g="svg":(g==="mathml"||ty(G))&&(g="mathml"),K?(A(i.dynamicChildren,K,ee,d,p,g,b),Mm(i,o,!0)):w||P(i,o,ee,Q,d,p,g,b,!1),T)J?o.props&&i.props&&o.props.to!==i.props.to&&(o.props.to=i.props.to):dh(o,l,B,M,1);else if((o.props&&o.props.to)!==(i.props&&i.props.to)){const X=o.target=Up(o.props,R);X&&dh(o,X,null,M,0)}else J&&dh(o,G,$,M,1)}c2(o)},remove(i,o,l,{um:c,o:{remove:d}},p){const{shapeFlag:g,children:b,anchor:w,targetAnchor:M,target:C,props:P}=i;if(C&&d(M),p&&d(w),g&16){const A=p||!Xu(P);for(let O=0;O<b.length;O++){const R=b[O];c(R,o,l,A,!!R.dynamicChildren)}}},move:dh,hydrate:CT};function dh(i,o,l,{o:{insert:c},m:d},p=2){p===0&&c(i.targetAnchor,o,l);const{el:g,anchor:b,shapeFlag:w,children:M,props:C}=i,P=p===2;if(P&&c(g,o,l),(!P||Xu(C))&&w&16)for(let A=0;A<M.length;A++)d(M[A],o,l,2);P&&c(b,o,l)}function CT(i,o,l,c,d,p,{o:{nextSibling:g,parentNode:b,querySelector:w}},M){const C=o.target=Up(o.props,w);if(C){const P=C._lpa||C.firstChild;if(o.shapeFlag&16)if(Xu(o.props))o.anchor=M(g(i),o,b(i),l,c,d,p),o.targetAnchor=P;else{o.anchor=g(i);let A=P;for(;A;)if(A=g(A),A&&A.nodeType===8&&A.data==="teleport anchor"){o.targetAnchor=A,C._lpa=o.targetAnchor&&g(o.targetAnchor);break}M(P,o,C,l,c,d,p)}c2(o)}return o.anchor&&g(o.anchor)}const mu=kT;function c2(i){const o=i.ctx;if(o&&o.ut){let l=i.children[0].el;for(;l&&l!==i.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",o.uid),l=l.nextSibling;o.ut()}}const $t=Symbol.for("v-fgt"),vu=Symbol.for("v-txt"),rs=Symbol.for("v-cmt"),sp=Symbol.for("v-stc"),Zu=[];let $o=null;function Y(i=!1){Zu.push($o=i?null:[])}function MT(){Zu.pop(),$o=Zu[Zu.length-1]||null}let dc=1;function ny(i){dc+=i}function h2(i){return i.dynamicChildren=dc>0?$o||$l:null,MT(),dc>0&&$o&&$o.push(i),i}function fe(i,o,l,c,d,p){return h2(pe(i,o,l,c,d,p,!0))}function Ie(i,o,l,c,d){return h2(ye(i,o,l,c,d,!0))}function li(i){return i?i.__v_isVNode===!0:!1}function za(i,o){return i.type===o.type&&i.key===o.key}const d2=({key:i})=>i??null,Oh=({ref:i,ref_key:o,ref_for:l})=>(typeof i=="number"&&(i=""+i),i!=null?tn(i)||ri(i)||Xt(i)?{i:is,r:i,k:o,f:!!l}:i:null);function pe(i,o=null,l=null,c=0,d=null,p=i===$t?0:1,g=!1,b=!1){const w={__v_isVNode:!0,__v_skip:!0,type:i,props:o,key:o&&d2(o),ref:o&&Oh(o),scopeId:Hd,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:c,dynamicProps:d,dynamicChildren:null,appContext:null,ctx:is};return b?(Nm(w,l),p&128&&i.normalize(w)):l&&(w.shapeFlag|=tn(l)?8:16),dc>0&&!g&&$o&&(w.patchFlag>0||p&6)&&w.patchFlag!==32&&$o.push(w),w}const ye=PT;function PT(i,o=null,l=null,c=0,d=null,p=!1){if((!i||i===Kw)&&(i=rs),li(i)){const b=Ar(i,o,!0);return l&&Nm(b,l),dc>0&&!p&&$o&&(b.shapeFlag&6?$o[$o.indexOf(i)]=b:$o.push(b)),b.patchFlag=-2,b}if(RT(i)&&(i=i.__vccOpts),o){o=Xl(o);let{class:b,style:w}=o;b&&!tn(b)&&(o.class=Z(b)),yn(w)&&(Dw(w)&&!St(w)&&(w=_i({},w)),o.style=Ft(w))}const g=tn(i)?1:qP(i)?128:ST(i)?64:yn(i)?4:Xt(i)?2:0;return pe(i,o,l,c,d,g,p,!0)}function Xl(i){return i?Dw(i)||Xw(i)?_i({},i):i:null}function Ar(i,o,l=!1,c=!1){const{props:d,ref:p,patchFlag:g,children:b,transition:w}=i,M=o?An(d||{},o):d,C={__v_isVNode:!0,__v_skip:!0,type:i.type,props:M,key:M&&d2(M),ref:o&&o.ref?l&&p?St(p)?p.concat(Oh(o)):[p,Oh(o)]:Oh(o):p,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:b,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:o&&i.type!==$t?g===-1?16:g|16:g,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:w,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Ar(i.ssContent),ssFallback:i.ssFallback&&Ar(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return w&&c&&Yl(C,w.clone(C)),C}function Tn(i=" ",o=0){return ye(vu,null,i,o)}function De(i="",o=!1){return o?(Y(),Ie(rs,null,i)):ye(rs,null,i)}function Zo(i){return i==null||typeof i=="boolean"?ye(rs):St(i)?ye($t,null,i.slice()):typeof i=="object"?sa(i):ye(vu,null,String(i))}function sa(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Ar(i)}function Nm(i,o){let l=0;const{shapeFlag:c}=i;if(o==null)o=null;else if(St(o))l=16;else if(typeof o=="object")if(c&65){const d=o.default;d&&(d._c&&(d._d=!1),Nm(i,d()),d._c&&(d._d=!0));return}else{l=32;const d=o._;!d&&!Xw(o)?o._ctx=is:d===3&&is&&(is.slots._===1?o._=1:(o._=2,i.patchFlag|=1024))}else Xt(o)?(o={default:o,_ctx:is},l=32):(o=String(o),c&64?(l=16,o=[Tn(o)]):l=8);i.children=o,i.shapeFlag|=l}function An(...i){const o={};for(let l=0;l<i.length;l++){const c=i[l];for(const d in c)if(d==="class")o.class!==c.class&&(o.class=Z([o.class,c.class]));else if(d==="style")o.style=Ft([o.style,c.style]);else if(Bd(d)){const p=o[d],g=c[d];g&&p!==g&&!(St(p)&&p.includes(g))&&(o[d]=p?[].concat(p,g):g)}else d!==""&&(o[d]=c[d])}return o}function Xo(i,o,l,c=null){yo(i,o,7,[l,c])}const TT=Ww();let NT=0;function AT(i,o,l){const c=i.type,d=(o?o.appContext:i.appContext)||TT,p={uid:NT++,vnode:i,type:c,parent:o,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,scope:new vw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(d.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jw(c,d),emitsOptions:_w(c,d),emit:null,emitted:null,propsDefaults:Ti,inheritAttrs:c.inheritAttrs,ctx:Ti,data:Ti,props:Ti,attrs:Ti,slots:Ti,refs:Ti,setupState:Ti,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=o?o.root:p,p.emit=BP.bind(null,p),i.ce&&i.ce(p),p}let as=null;const pn=()=>as||is;let hd,Yp;{const i=fw(),o=(l,c)=>{let d;return(d=i[l])||(d=i[l]=[]),d.push(c),p=>{d.length>1?d.forEach(g=>g(p)):d[0](p)}};hd=o("__VUE_INSTANCE_SETTERS__",l=>as=l),Yp=o("__VUE_SSR_SETTERS__",l=>Ud=l)}const Ic=i=>{const o=as;return hd(i),i.scope.on(),()=>{i.scope.off(),hd(o)}},iy=()=>{as&&as.scope.off(),hd(null)};function f2(i){return i.vnode.shapeFlag&4}let Ud=!1;function LT(i,o=!1){o&&Yp(o);const{props:l,children:c}=i.vnode,d=f2(i);rT(i,l,d,o),uT(i,c);const p=d?ET(i,o):void 0;return o&&Yp(!1),p}function ET(i,o){const l=i.type;i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,JP);const{setup:c}=l;if(c){const d=i.setupContext=c.length>1?g2(i):null,p=Ic(i);Ca();const g=ha(c,i,0,[i.props,d]);if(Tr(),p(),rc(g)){if(g.then(iy,iy),o)return g.then(b=>{sy(i,b,o)}).catch(b=>{_d(b,i,0)});i.asyncDep=g}else sy(i,g,o)}else p2(i,o)}function sy(i,o,l){Xt(o)?i.type.__ssrInlineRender?i.ssrRender=o:i.render=o:yn(o)&&(i.setupState=Iw(o)),p2(i,l)}let oy;function p2(i,o,l){const c=i.type;if(!i.render){if(!o&&oy&&!c.render){const d=c.template||km(i).template;if(d){const{isCustomElement:p,compilerOptions:g}=i.appContext.config,{delimiters:b,compilerOptions:w}=c,M=_i(_i({isCustomElement:p,delimiters:b},g),w);c.render=oy(d,M)}}i.render=c.render||jn}{const d=Ic(i);Ca();try{QP(i)}finally{Tr(),d()}}}const DT={get(i,o){return _s(i,"get",""),i[o]}};function g2(i){const o=l=>{i.exposed=l||{}};return{attrs:new Proxy(i.attrs,DT),slots:i.slots,emit:i.emit,expose:o}}function Yd(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(Iw(zl(i.exposed)),{get(o,l){if(l in o)return o[l];if(l in Uu)return Uu[l](i)},has(o,l){return l in o||l in Uu}})):i.proxy}function OT(i,o=!0){return Xt(i)?i.displayName||i.name:i.name||o&&i.__name}function RT(i){return Xt(i)&&"__vccOpts"in i}const j=(i,o)=>MP(i,o,Ud);function jt(i,o,l){const c=arguments.length;return c===2?yn(o)&&!St(o)?li(o)?ye(i,null,[o]):ye(i,o):ye(i,null,o):(c>3?l=Array.prototype.slice.call(arguments,2):c===3&&li(l)&&(l=[l]),ye(i,o,l))}const IT="3.4.30",FT=jn;/**
* @vue/runtime-dom v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const BT="http://www.w3.org/2000/svg",$T="http://www.w3.org/1998/Math/MathML",xr=typeof document<"u"?document:null,ry=xr&&xr.createElement("template"),VT={insert:(i,o,l)=>{o.insertBefore(i,l||null)},remove:i=>{const o=i.parentNode;o&&o.removeChild(i)},createElement:(i,o,l,c)=>{const d=o==="svg"?xr.createElementNS(BT,i):o==="mathml"?xr.createElementNS($T,i):l?xr.createElement(i,{is:l}):xr.createElement(i);return i==="select"&&c&&c.multiple!=null&&d.setAttribute("multiple",c.multiple),d},createText:i=>xr.createTextNode(i),createComment:i=>xr.createComment(i),setText:(i,o)=>{i.nodeValue=o},setElementText:(i,o)=>{i.textContent=o},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>xr.querySelector(i),setScopeId(i,o){i.setAttribute(o,"")},insertStaticContent(i,o,l,c,d,p){const g=l?l.previousSibling:o.lastChild;if(d&&(d===p||d.nextSibling))for(;o.insertBefore(d.cloneNode(!0),l),!(d===p||!(d=d.nextSibling)););else{ry.innerHTML=c==="svg"?`<svg>${i}</svg>`:c==="mathml"?`<math>${i}</math>`:i;const b=ry.content;if(c==="svg"||c==="mathml"){const w=b.firstChild;for(;w.firstChild;)b.appendChild(w.firstChild);b.removeChild(w)}o.insertBefore(b,l)}return[g?g.nextSibling:o.firstChild,l?l.previousSibling:o.lastChild]}},Yr="transition",Eu="animation",Zl=Symbol("_vtc"),Ki=(i,{slots:o})=>jt(xT,v2(i),o);Ki.displayName="Transition";const m2={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zT=Ki.props=_i({},a2,m2),Fa=(i,o=[])=>{St(i)?i.forEach(l=>l(...o)):i&&i(...o)},ay=i=>i?St(i)?i.some(o=>o.length>1):i.length>1:!1;function v2(i){const o={};for(const se in i)se in m2||(o[se]=i[se]);if(i.css===!1)return o;const{name:l="v",type:c,duration:d,enterFromClass:p=`${l}-enter-from`,enterActiveClass:g=`${l}-enter-active`,enterToClass:b=`${l}-enter-to`,appearFromClass:w=p,appearActiveClass:M=g,appearToClass:C=b,leaveFromClass:P=`${l}-leave-from`,leaveActiveClass:A=`${l}-leave-active`,leaveToClass:O=`${l}-leave-to`}=i,R=_T(d),N=R&&R[0],z=R&&R[1],{onBeforeEnter:T,onEnter:_,onEnterCancelled:I,onLeave:K,onLeaveCancelled:B,onBeforeAppear:G=T,onAppear:$=_,onAppearCancelled:J=I}=o,ee=(se,de,ve)=>{Jr(se,de?C:b),Jr(se,de?M:g),ve&&ve()},Q=(se,de)=>{se._isLeaving=!1,Jr(se,P),Jr(se,O),Jr(se,A),de&&de()},X=se=>(de,ve)=>{const me=se?$:_,ae=()=>ee(de,se,ve);Fa(me,[de,ae]),ly(()=>{Jr(de,se?w:p),wr(de,se?C:b),ay(me)||uy(de,c,N,ae)})};return _i(o,{onBeforeEnter(se){Fa(T,[se]),wr(se,p),wr(se,g)},onBeforeAppear(se){Fa(G,[se]),wr(se,w),wr(se,M)},onEnter:X(!1),onAppear:X(!0),onLeave(se,de){se._isLeaving=!0;const ve=()=>Q(se,de);wr(se,P),wr(se,A),b2(),ly(()=>{se._isLeaving&&(Jr(se,P),wr(se,O),ay(K)||uy(se,c,z,ve))}),Fa(K,[se,ve])},onEnterCancelled(se){ee(se,!1),Fa(I,[se])},onAppearCancelled(se){ee(se,!0),Fa(J,[se])},onLeaveCancelled(se){Q(se),Fa(B,[se])}})}function _T(i){if(i==null)return null;if(yn(i))return[op(i.enter),op(i.leave)];{const o=op(i);return[o,o]}}function op(i){return YM(i)}function wr(i,o){o.split(/\s+/).forEach(l=>l&&i.classList.add(l)),(i[Zl]||(i[Zl]=new Set)).add(o)}function Jr(i,o){o.split(/\s+/).forEach(c=>c&&i.classList.remove(c));const l=i[Zl];l&&(l.delete(o),l.size||(i[Zl]=void 0))}function ly(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let KT=0;function uy(i,o,l,c){const d=i._endId=++KT,p=()=>{d===i._endId&&c()};if(l)return setTimeout(p,l);const{type:g,timeout:b,propCount:w}=y2(i,o);if(!g)return c();const M=g+"end";let C=0;const P=()=>{i.removeEventListener(M,A),p()},A=O=>{O.target===i&&++C>=w&&P()};setTimeout(()=>{C<w&&P()},b+1),i.addEventListener(M,A)}function y2(i,o){const l=window.getComputedStyle(i),c=R=>(l[R]||"").split(", "),d=c(`${Yr}Delay`),p=c(`${Yr}Duration`),g=cy(d,p),b=c(`${Eu}Delay`),w=c(`${Eu}Duration`),M=cy(b,w);let C=null,P=0,A=0;o===Yr?g>0&&(C=Yr,P=g,A=p.length):o===Eu?M>0&&(C=Eu,P=M,A=w.length):(P=Math.max(g,M),C=P>0?g>M?Yr:Eu:null,A=C?C===Yr?p.length:w.length:0);const O=C===Yr&&/\b(transform|all)(,|$)/.test(c(`${Yr}Property`).toString());return{type:C,timeout:P,propCount:A,hasTransform:O}}function cy(i,o){for(;i.length<o.length;)i=i.concat(i);return Math.max(...o.map((l,c)=>hy(l)+hy(i[c])))}function hy(i){return i==="auto"?0:Number(i.slice(0,-1).replace(",","."))*1e3}function b2(){return document.body.offsetHeight}function HT(i,o,l){const c=i[Zl];c&&(o=(o?[o,...c]:[...c]).join(" ")),o==null?i.removeAttribute("class"):l?i.setAttribute("class",o):i.className=o}const dd=Symbol("_vod"),w2=Symbol("_vsh"),$n={beforeMount(i,{value:o},{transition:l}){i[dd]=i.style.display==="none"?"":i.style.display,l&&o?l.beforeEnter(i):Du(i,o)},mounted(i,{value:o},{transition:l}){l&&o&&l.enter(i)},updated(i,{value:o,oldValue:l},{transition:c}){!o!=!l&&(c?o?(c.beforeEnter(i),Du(i,!0),c.enter(i)):c.leave(i,()=>{Du(i,!1)}):Du(i,o))},beforeUnmount(i,{value:o}){Du(i,o)}};function Du(i,o){i.style.display=o?i[dd]:"none",i[w2]=!o}const jT=Symbol(""),qT=/(^|;)\s*display\s*:/;function GT(i,o,l){const c=i.style,d=tn(l);let p=!1;if(l&&!d){if(o)if(tn(o))for(const g of o.split(";")){const b=g.slice(0,g.indexOf(":")).trim();l[b]==null&&Rh(c,b,"")}else for(const g in o)l[g]==null&&Rh(c,g,"");for(const g in l)g==="display"&&(p=!0),Rh(c,g,l[g])}else if(d){if(o!==l){const g=c[jT];g&&(l+=";"+g),c.cssText=l,p=qT.test(l)}}else o&&i.removeAttribute("style");dd in i&&(i[dd]=p?c.display:"",i[w2]&&(c.display="none"))}const dy=/\s*!important$/;function Rh(i,o,l){if(St(l))l.forEach(c=>Rh(i,o,c));else if(l==null&&(l=""),o.startsWith("--"))i.setProperty(o,l);else{const c=WT(i,o);dy.test(l)?i.setProperty(ka(c),l.replace(dy,""),"important"):i[c]=l}}const fy=["Webkit","Moz","ms"],rp={};function WT(i,o){const l=rp[o];if(l)return l;let c=xo(o);if(c!=="filter"&&c in i)return rp[o]=c;c=Rc(c);for(let d=0;d<fy.length;d++){const p=fy[d]+c;if(p in i)return rp[o]=p}return o}const py="http://www.w3.org/1999/xlink";function gy(i,o,l,c,d,p=tP(o)){c&&o.startsWith("xlink:")?l==null?i.removeAttributeNS(py,o.slice(6,o.length)):i.setAttributeNS(py,o,l):l==null||p&&!pw(l)?i.removeAttribute(o):i.setAttribute(o,p?"":ir(l)?String(l):l)}function UT(i,o,l,c,d,p,g){if(o==="innerHTML"||o==="textContent"){c&&g(c,d,p),i[o]=l??"";return}const b=i.tagName;if(o==="value"&&b!=="PROGRESS"&&!b.includes("-")){const M=b==="OPTION"?i.getAttribute("value")||"":i.value,C=l==null?"":String(l);(M!==C||!("_value"in i))&&(i.value=C),l==null&&i.removeAttribute(o),i._value=l;return}let w=!1;if(l===""||l==null){const M=typeof i[o];M==="boolean"?l=pw(l):l==null&&M==="string"?(l="",w=!0):M==="number"&&(l=0,w=!0)}try{i[o]=l}catch{}w&&i.removeAttribute(o)}function ra(i,o,l,c){i.addEventListener(o,l,c)}function YT(i,o,l,c){i.removeEventListener(o,l,c)}const my=Symbol("_vei");function XT(i,o,l,c,d=null){const p=i[my]||(i[my]={}),g=p[o];if(c&&g)g.value=c;else{const[b,w]=ZT(o);if(c){const M=p[o]=eN(c,d);ra(i,b,M,w)}else g&&(YT(i,b,g,w),p[o]=void 0)}}const vy=/(?:Once|Passive|Capture)$/;function ZT(i){let o;if(vy.test(i)){o={};let c;for(;c=i.match(vy);)i=i.slice(0,i.length-c[0].length),o[c[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):ka(i.slice(2)),o]}let ap=0;const JT=Promise.resolve(),QT=()=>ap||(JT.then(()=>ap=0),ap=Date.now());function eN(i,o){const l=c=>{if(!c._vts)c._vts=Date.now();else if(c._vts<=l.attached)return;yo(tN(c,l.value),o,5,[c])};return l.value=i,l.attached=QT(),l}function tN(i,o){if(St(o)){const l=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{l.call(i),i._stopped=!0},o.map(c=>d=>!d._stopped&&c&&c(d))}else return o}const yy=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,nN=(i,o,l,c,d,p,g,b,w)=>{const M=d==="svg";o==="class"?HT(i,c,M):o==="style"?GT(i,l,c):Bd(o)?lm(o)||XT(i,o,l,c,g):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):iN(i,o,c,M))?(UT(i,o,c,p,g,b,w),!i.tagName.includes("-")&&(o==="value"||o==="checked"||o==="selected")&&gy(i,o,c,M,g,o!=="value")):(o==="true-value"?i._trueValue=c:o==="false-value"&&(i._falseValue=c),gy(i,o,c,M))};function iN(i,o,l,c){if(c)return!!(o==="innerHTML"||o==="textContent"||o in i&&yy(o)&&Xt(l));if(o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&i.tagName==="INPUT"||o==="type"&&i.tagName==="TEXTAREA")return!1;if(o==="width"||o==="height"){const d=i.tagName;if(d==="IMG"||d==="VIDEO"||d==="CANVAS"||d==="SOURCE")return!1}return yy(o)&&tn(l)?!1:o in i}const x2=new WeakMap,S2=new WeakMap,fd=Symbol("_moveCb"),by=Symbol("_enterCb"),k2={name:"TransitionGroup",props:_i({},zT,{tag:String,moveClass:String}),setup(i,{slots:o}){const l=pn(),c=r2();let d,p;return Or(()=>{if(!d.length)return;const g=i.moveClass||`${i.name||"v"}-move`;if(!lN(d[0].el,l.vnode.el,g))return;d.forEach(oN),d.forEach(rN);const b=d.filter(aN);b2(),b.forEach(w=>{const M=w.el,C=M.style;wr(M,g),C.transform=C.webkitTransform=C.transitionDuration="";const P=M[fd]=A=>{A&&A.target!==M||(!A||/transform$/.test(A.propertyName))&&(M.removeEventListener("transitionend",P),M[fd]=null,Jr(M,g))};M.addEventListener("transitionend",P)})}),()=>{const g=Wn(i),b=v2(g);let w=g.tag||$t;if(d=[],p)for(let M=0;M<p.length;M++){const C=p[M];C.el&&C.el instanceof Element&&(d.push(C),Yl(C,hc(C,b,c,l)),x2.set(C,C.el.getBoundingClientRect()))}p=o.default?Tm(o.default()):[];for(let M=0;M<p.length;M++){const C=p[M];C.key!=null&&Yl(C,hc(C,b,c,l))}return ye(w,null,p)}}},sN=i=>delete i.mode;k2.props;const C2=k2;function oN(i){const o=i.el;o[fd]&&o[fd](),o[by]&&o[by]()}function rN(i){S2.set(i,i.el.getBoundingClientRect())}function aN(i){const o=x2.get(i),l=S2.get(i),c=o.left-l.left,d=o.top-l.top;if(c||d){const p=i.el.style;return p.transform=p.webkitTransform=`translate(${c}px,${d}px)`,p.transitionDuration="0s",i}}function lN(i,o,l){const c=i.cloneNode(),d=i[Zl];d&&d.forEach(b=>{b.split(/\s+/).forEach(w=>w&&c.classList.remove(w))}),l.split(/\s+/).forEach(b=>b&&c.classList.add(b)),c.style.display="none";const p=o.nodeType===1?o:o.parentNode;p.appendChild(c);const{hasTransform:g}=y2(c);return p.removeChild(c),g}const Jl=i=>{const o=i.props["onUpdate:modelValue"]||!1;return St(o)?l=>Dh(o,l):o};function uN(i){i.target.composing=!0}function wy(i){const o=i.target;o.composing&&(o.composing=!1,o.dispatchEvent(new Event("input")))}const Pr=Symbol("_assign"),Am={created(i,{modifiers:{lazy:o,trim:l,number:c}},d){i[Pr]=Jl(d);const p=c||d.props&&d.props.type==="number";ra(i,o?"change":"input",g=>{if(g.target.composing)return;let b=i.value;l&&(b=b.trim()),p&&(b=$p(b)),i[Pr](b)}),l&&ra(i,"change",()=>{i.value=i.value.trim()}),o||(ra(i,"compositionstart",uN),ra(i,"compositionend",wy),ra(i,"change",wy))},mounted(i,{value:o}){i.value=o??""},beforeUpdate(i,{value:o,oldValue:l,modifiers:{lazy:c,trim:d,number:p}},g){if(i[Pr]=Jl(g),i.composing)return;const b=(p||i.type==="number")&&!/^0\d/.test(i.value)?$p(i.value):i.value,w=o??"";b!==w&&(document.activeElement===i&&i.type!=="range"&&(c&&o===l||d&&i.value.trim()===w)||(i.value=w))}},pd={deep:!0,created(i,o,l){i[Pr]=Jl(l),ra(i,"change",()=>{const c=i._modelValue,d=P2(i),p=i.checked,g=i[Pr];if(St(c)){const b=gw(c,d),w=b!==-1;if(p&&!w)g(c.concat(d));else if(!p&&w){const M=[...c];M.splice(b,1),g(M)}}else if($d(c)){const b=new Set(c);p?b.add(d):b.delete(d),g(b)}else g(T2(i,p))})},mounted:xy,beforeUpdate(i,o,l){i[Pr]=Jl(l),xy(i,o,l)}};function xy(i,{value:o,oldValue:l},c){i._modelValue=o,St(o)?i.checked=gw(o,c.props.value)>-1:$d(o)?i.checked=o.has(c.props.value):o!==l&&(i.checked=Ul(o,T2(i,!0)))}const M2={created(i,{value:o},l){i.checked=Ul(o,l.props.value),i[Pr]=Jl(l),ra(i,"change",()=>{i[Pr](P2(i))})},beforeUpdate(i,{value:o,oldValue:l},c){i[Pr]=Jl(c),o!==l&&(i.checked=Ul(o,c.props.value))}};function P2(i){return"_value"in i?i._value:i.value}function T2(i,o){const l=o?"_trueValue":"_falseValue";return l in i?i[l]:o}const cN=["ctrl","shift","alt","meta"],hN={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,o)=>cN.some(l=>i[`${l}Key`]&&!o.includes(l))},en=(i,o)=>{const l=i._withMods||(i._withMods={}),c=o.join(".");return l[c]||(l[c]=(d,...p)=>{for(let g=0;g<o.length;g++){const b=hN[o[g]];if(b&&b(d,o))return}return i(d,...p)})},dN={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Yn=(i,o)=>{const l=i._withKeys||(i._withKeys={}),c=o.join(".");return l[c]||(l[c]=d=>{if(!("key"in d))return;const p=ka(d.key);if(o.some(g=>g===p||dN[g]===p))return i(d)})},fN=_i({patchProp:nN},VT);let Sy;function N2(){return Sy||(Sy=hT(fN))}const ga=(...i)=>{N2().render(...i)},A2=(...i)=>{const o=N2().createApp(...i),{mount:l}=o;return o.mount=c=>{const d=gN(c);if(!d)return;const p=o._component;!Xt(p)&&!p.render&&!p.template&&(p.template=d.innerHTML),d.innerHTML="";const g=l(d,!1,pN(d));return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),g},o};function pN(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function gN(i){return tn(i)?document.querySelector(i):i}const mN='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',vN=i=>getComputedStyle(i).position==="fixed"?!1:i.offsetParent!==null,ky=i=>Array.from(i.querySelectorAll(mN)).filter(o=>yN(o)&&vN(o)),yN=i=>{if(i.tabIndex>0||i.tabIndex===0&&i.getAttribute("tabIndex")!==null)return!0;if(i.disabled)return!1;switch(i.nodeName){case"A":return!!i.href&&i.rel!=="ignore";case"INPUT":return!(i.type==="hidden"||i.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Ih=function(i,o,...l){let c;o.includes("mouse")||o.includes("click")?c="MouseEvents":o.includes("key")?c="KeyboardEvent":c="HTMLEvents";const d=document.createEvent(c);return d.initEvent(o,...l),i.dispatchEvent(d),i},L2=i=>!i.getAttribute("aria-owns"),E2=(i,o,l)=>{const{parentNode:c}=i;if(!c)return null;const d=c.querySelectorAll(l),p=Array.prototype.indexOf.call(d,i);return d[p+o]||null},Fh=i=>{i&&(i.focus(),!L2(i)&&i.click())},xi=(i,o,{checkForDefaultPrevented:l=!0}={})=>d=>{const p=i==null?void 0:i(d);if(l===!1||!p)return o==null?void 0:o(d)},Cy=i=>o=>o.pointerType==="mouse"?i(o):void 0;var bN=Object.defineProperty,wN=Object.defineProperties,xN=Object.getOwnPropertyDescriptors,My=Object.getOwnPropertySymbols,SN=Object.prototype.hasOwnProperty,kN=Object.prototype.propertyIsEnumerable,Py=(i,o,l)=>o in i?bN(i,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[o]=l,CN=(i,o)=>{for(var l in o||(o={}))SN.call(o,l)&&Py(i,l,o[l]);if(My)for(var l of My(o))kN.call(o,l)&&Py(i,l,o[l]);return i},MN=(i,o)=>wN(i,xN(o));function Ty(i,o){var l;const c=oi();return us(()=>{c.value=i()},MN(CN({},o),{flush:(l=void 0)!=null?l:"sync"})),gu(c)}var Ny;const In=typeof window<"u",PN=i=>typeof i<"u",Xp=i=>typeof i=="function",TN=i=>typeof i=="string",Ql=()=>{},Zp=In&&((Ny=window==null?void 0:window.navigator)==null?void 0:Ny.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ma(i){return typeof i=="function"?i():v(i)}function D2(i,o){function l(...c){return new Promise((d,p)=>{Promise.resolve(i(()=>o.apply(this,c),{fn:o,thisArg:this,args:c})).then(d).catch(p)})}return l}function NN(i,o={}){let l,c,d=Ql;const p=b=>{clearTimeout(b),d(),d=Ql};return b=>{const w=ma(i),M=ma(o.maxWait);return l&&p(l),w<=0||M!==void 0&&M<=0?(c&&(p(c),c=null),Promise.resolve(b())):new Promise((C,P)=>{d=o.rejectOnCancel?P:C,M&&!c&&(c=setTimeout(()=>{l&&p(l),c=null,C(b())},M)),l=setTimeout(()=>{c&&p(c),c=null,C(b())},w)})}}function AN(i,o=!0,l=!0,c=!1){let d=0,p,g=!0,b=Ql,w;const M=()=>{p&&(clearTimeout(p),p=void 0,b(),b=Ql)};return P=>{const A=ma(i),O=Date.now()-d,R=()=>w=P();return M(),A<=0?(d=Date.now(),R()):(O>A&&(l||!g)?(d=Date.now(),R()):o&&(w=new Promise((N,z)=>{b=c?z:N,p=setTimeout(()=>{d=Date.now(),g=!0,N(R()),M()},Math.max(0,A-O))})),!l&&!p&&(p=setTimeout(()=>g=!0,A)),g=!1,w)}}function LN(i){return i}function EN(i,o){let l,c,d;const p=ne(!0),g=()=>{p.value=!0,d()};Ue(i,g,{flush:"sync"});const b=Xp(o)?o:o.get,w=Xp(o)?void 0:o.set,M=AP((C,P)=>(c=C,d=P,{get(){return p.value&&(l=b(),p.value=!1),c(),l},set(A){w==null||w(A)}}));return Object.isExtensible(M)&&(M.trigger=g),M}function Fc(i){return yw()?(bw(i),!0):!1}function DN(i,o=200,l={}){return D2(NN(o,l),i)}function ON(i,o=200,l={}){const c=ne(i.value),d=DN(()=>{c.value=i.value},o,l);return Ue(i,()=>d()),c}function O2(i,o=200,l=!1,c=!0,d=!1){return D2(AN(o,l,c,d),i)}function Lm(i,o=!0){pn()?un(i):o?i():Kt(i)}function nl(i,o,l={}){const{immediate:c=!0}=l,d=ne(!1);let p=null;function g(){p&&(clearTimeout(p),p=null)}function b(){d.value=!1,g()}function w(...M){g(),d.value=!0,p=setTimeout(()=>{d.value=!1,p=null,i(...M)},ma(o))}return c&&(d.value=!0,In&&w()),Fc(b),{isPending:gu(d),start:w,stop:b}}function $s(i){var o;const l=ma(i);return(o=l==null?void 0:l.$el)!=null?o:l}const Pa=In?window:void 0,RN=In?window.document:void 0;function ii(...i){let o,l,c,d;if(TN(i[0])||Array.isArray(i[0])?([l,c,d]=i,o=Pa):[o,l,c,d]=i,!o)return Ql;Array.isArray(l)||(l=[l]),Array.isArray(c)||(c=[c]);const p=[],g=()=>{p.forEach(C=>C()),p.length=0},b=(C,P,A,O)=>(C.addEventListener(P,A,O),()=>C.removeEventListener(P,A,O)),w=Ue(()=>[$s(o),ma(d)],([C,P])=>{g(),C&&p.push(...l.flatMap(A=>c.map(O=>b(C,A,O,P))))},{immediate:!0,flush:"post"}),M=()=>{w(),g()};return Fc(M),M}let Ay=!1;function Em(i,o,l={}){const{window:c=Pa,ignore:d=[],capture:p=!0,detectIframe:g=!1}=l;if(!c)return;Zp&&!Ay&&(Ay=!0,Array.from(c.document.body.children).forEach(A=>A.addEventListener("click",Ql)));let b=!0;const w=A=>d.some(O=>{if(typeof O=="string")return Array.from(c.document.querySelectorAll(O)).some(R=>R===A.target||A.composedPath().includes(R));{const R=$s(O);return R&&(A.target===R||A.composedPath().includes(R))}}),C=[ii(c,"click",A=>{const O=$s(i);if(!(!O||O===A.target||A.composedPath().includes(O))){if(A.detail===0&&(b=!w(A)),!b){b=!0;return}o(A)}},{passive:!0,capture:p}),ii(c,"pointerdown",A=>{const O=$s(i);O&&(b=!A.composedPath().includes(O)&&!w(A))},{passive:!0}),g&&ii(c,"blur",A=>{var O;const R=$s(i);((O=c.document.activeElement)==null?void 0:O.tagName)==="IFRAME"&&!(R!=null&&R.contains(c.document.activeElement))&&o(A)})].filter(Boolean);return()=>C.forEach(A=>A())}function IN(i={}){var o;const{window:l=Pa}=i,c=(o=i.document)!=null?o:l==null?void 0:l.document,d=EN(()=>null,()=>c==null?void 0:c.activeElement);return l&&(ii(l,"blur",p=>{p.relatedTarget===null&&d.trigger()},!0),ii(l,"focus",d.trigger,!0)),d}function R2(i,o=!1){const l=ne(),c=()=>l.value=!!i();return c(),Lm(c,o),l}function FN(i){return JSON.parse(JSON.stringify(i))}const Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ey="__vueuse_ssr_handlers__";Ly[Ey]=Ly[Ey]||{};function BN(i,o,{window:l=Pa,initialValue:c=""}={}){const d=ne(c),p=j(()=>{var g;return $s(o)||((g=l==null?void 0:l.document)==null?void 0:g.documentElement)});return Ue([p,()=>ma(i)],([g,b])=>{var w;if(g&&l){const M=(w=l.getComputedStyle(g).getPropertyValue(b))==null?void 0:w.trim();d.value=M||c}},{immediate:!0}),Ue(d,g=>{var b;(b=p.value)!=null&&b.style&&p.value.style.setProperty(ma(i),g)}),d}function $N({document:i=RN}={}){if(!i)return ne("visible");const o=ne(i.visibilityState);return ii(i,"visibilitychange",()=>{o.value=i.visibilityState}),o}var Dy=Object.getOwnPropertySymbols,VN=Object.prototype.hasOwnProperty,zN=Object.prototype.propertyIsEnumerable,_N=(i,o)=>{var l={};for(var c in i)VN.call(i,c)&&o.indexOf(c)<0&&(l[c]=i[c]);if(i!=null&&Dy)for(var c of Dy(i))o.indexOf(c)<0&&zN.call(i,c)&&(l[c]=i[c]);return l};function fi(i,o,l={}){const c=l,{window:d=Pa}=c,p=_N(c,["window"]);let g;const b=R2(()=>d&&"ResizeObserver"in d),w=()=>{g&&(g.disconnect(),g=void 0)},M=Ue(()=>$s(i),P=>{w(),b.value&&d&&P&&(g=new ResizeObserver(o),g.observe(P,p))},{immediate:!0,flush:"post"}),C=()=>{w(),M()};return Fc(C),{isSupported:b,stop:C}}function Oy(i,o={}){const{reset:l=!0,windowResize:c=!0,windowScroll:d=!0,immediate:p=!0}=o,g=ne(0),b=ne(0),w=ne(0),M=ne(0),C=ne(0),P=ne(0),A=ne(0),O=ne(0);function R(){const N=$s(i);if(!N){l&&(g.value=0,b.value=0,w.value=0,M.value=0,C.value=0,P.value=0,A.value=0,O.value=0);return}const z=N.getBoundingClientRect();g.value=z.height,b.value=z.bottom,w.value=z.left,M.value=z.right,C.value=z.top,P.value=z.width,A.value=z.x,O.value=z.y}return fi(i,R),Ue(()=>$s(i),N=>!N&&R()),d&&ii("scroll",R,{capture:!0,passive:!0}),c&&ii("resize",R,{passive:!0}),Lm(()=>{p&&R()}),{height:g,bottom:b,left:w,right:M,top:C,width:P,x:A,y:O,update:R}}var Ry=Object.getOwnPropertySymbols,KN=Object.prototype.hasOwnProperty,HN=Object.prototype.propertyIsEnumerable,jN=(i,o)=>{var l={};for(var c in i)KN.call(i,c)&&o.indexOf(c)<0&&(l[c]=i[c]);if(i!=null&&Ry)for(var c of Ry(i))o.indexOf(c)<0&&HN.call(i,c)&&(l[c]=i[c]);return l};function I2(i,o,l={}){const c=l,{window:d=Pa}=c,p=jN(c,["window"]);let g;const b=R2(()=>d&&"MutationObserver"in d),w=()=>{g&&(g.disconnect(),g=void 0)},M=Ue(()=>$s(i),P=>{w(),b.value&&d&&P&&(g=new MutationObserver(o),g.observe(P,p))},{immediate:!0}),C=()=>{w(),M()};return Fc(C),{isSupported:b,stop:C}}var Iy;(function(i){i.UP="UP",i.RIGHT="RIGHT",i.DOWN="DOWN",i.LEFT="LEFT",i.NONE="NONE"})(Iy||(Iy={}));var qN=Object.defineProperty,Fy=Object.getOwnPropertySymbols,GN=Object.prototype.hasOwnProperty,WN=Object.prototype.propertyIsEnumerable,By=(i,o,l)=>o in i?qN(i,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[o]=l,UN=(i,o)=>{for(var l in o||(o={}))GN.call(o,l)&&By(i,l,o[l]);if(Fy)for(var l of Fy(o))WN.call(o,l)&&By(i,l,o[l]);return i};const YN={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};UN({linear:LN},YN);function F2(i,o,l,c={}){var d,p,g;const{clone:b=!1,passive:w=!1,eventName:M,deep:C=!1,defaultValue:P}=c,A=pn(),O=l||(A==null?void 0:A.emit)||((d=A==null?void 0:A.$emit)==null?void 0:d.bind(A))||((g=(p=A==null?void 0:A.proxy)==null?void 0:p.$emit)==null?void 0:g.bind(A==null?void 0:A.proxy));let R=M;o||(o="modelValue"),R=M||R||`update:${o.toString()}`;const N=T=>b?Xp(b)?b(T):FN(T):T,z=()=>PN(i[o])?N(i[o]):P;if(w){const T=z(),_=ne(T);return Ue(()=>i[o],I=>_.value=N(I)),Ue(_,I=>{(I!==i[o]||C)&&O(R,I)},{deep:C}),_}else return j({get(){return z()},set(T){O(R,T)}})}function XN({window:i=Pa}={}){if(!i)return ne(!1);const o=ne(i.document.hasFocus());return ii(i,"blur",()=>{o.value=!1}),ii(i,"focus",()=>{o.value=!0}),o}function ZN(i={}){const{window:o=Pa,initialWidth:l=1/0,initialHeight:c=1/0,listenOrientation:d=!0,includeScrollbar:p=!0}=i,g=ne(l),b=ne(c),w=()=>{o&&(p?(g.value=o.innerWidth,b.value=o.innerHeight):(g.value=o.document.documentElement.clientWidth,b.value=o.document.documentElement.clientHeight))};return w(),Lm(w),ii("resize",w,{passive:!0}),d&&ii("orientationchange",w,{passive:!0}),{width:g,height:b}}const B2=()=>In&&/firefox/i.test(window.navigator.userAgent),JN=(i,o)=>{if(!In||!i||!o)return!1;const l=i.getBoundingClientRect();let c;return o instanceof Element?c=o.getBoundingClientRect():c={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},l.top<c.bottom&&l.bottom>c.top&&l.right>c.left&&l.left<c.right},$y=i=>{let o=0,l=i;for(;l;)o+=l.offsetTop,l=l.offsetParent;return o},Jp=(i,o)=>Math.abs($y(i)-$y(o)),Dm=i=>{let o,l;return i.type==="touchend"?(l=i.changedTouches[0].clientY,o=i.changedTouches[0].clientX):i.type.startsWith("touch")?(l=i.touches[0].clientY,o=i.touches[0].clientX):(l=i.clientY,o=i.clientX),{clientX:o,clientY:l}};function QN(i,o,l,c){const d=l-o;return i/=c/2,i<1?d/2*i*i*i+o:d/2*((i-=2)*i*i+2)+o}var $2=typeof global=="object"&&global&&global.Object===Object&&global,eA=typeof self=="object"&&self&&self.Object===Object&&self,Ho=$2||eA||Function("return this")(),So=Ho.Symbol,V2=Object.prototype,tA=V2.hasOwnProperty,nA=V2.toString,Ou=So?So.toStringTag:void 0;function iA(i){var o=tA.call(i,Ou),l=i[Ou];try{i[Ou]=void 0;var c=!0}catch{}var d=nA.call(i);return c&&(o?i[Ou]=l:delete i[Ou]),d}var sA=Object.prototype,oA=sA.toString;function rA(i){return oA.call(i)}var aA="[object Null]",lA="[object Undefined]",Vy=So?So.toStringTag:void 0;function hl(i){return i==null?i===void 0?lA:aA:Vy&&Vy in Object(i)?iA(i):rA(i)}function sr(i){return i!=null&&typeof i=="object"}var uA="[object Symbol]";function Xd(i){return typeof i=="symbol"||sr(i)&&hl(i)==uA}function Om(i,o){for(var l=-1,c=i==null?0:i.length,d=Array(c);++l<c;)d[l]=o(i[l],l,i);return d}var As=Array.isArray,cA=1/0,zy=So?So.prototype:void 0,_y=zy?zy.toString:void 0;function z2(i){if(typeof i=="string")return i;if(As(i))return Om(i,z2)+"";if(Xd(i))return _y?_y.call(i):"";var o=i+"";return o=="0"&&1/i==-cA?"-0":o}var hA=/\s/;function dA(i){for(var o=i.length;o--&&hA.test(i.charAt(o)););return o}var fA=/^\s+/;function pA(i){return i&&i.slice(0,dA(i)+1).replace(fA,"")}function Ls(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}var Ky=NaN,gA=/^[-+]0x[0-9a-f]+$/i,mA=/^0b[01]+$/i,vA=/^0o[0-7]+$/i,yA=parseInt;function Hy(i){if(typeof i=="number")return i;if(Xd(i))return Ky;if(Ls(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=Ls(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=pA(i);var l=mA.test(i);return l||vA.test(i)?yA(i.slice(2),l?2:8):gA.test(i)?Ky:+i}function Rm(i){return i}var bA="[object AsyncFunction]",wA="[object Function]",xA="[object GeneratorFunction]",SA="[object Proxy]";function Im(i){if(!Ls(i))return!1;var o=hl(i);return o==wA||o==xA||o==bA||o==SA}var lp=Ho["__core-js_shared__"],jy=function(){var i=/[^.]+$/.exec(lp&&lp.keys&&lp.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function kA(i){return!!jy&&jy in i}var CA=Function.prototype,MA=CA.toString;function dl(i){if(i!=null){try{return MA.call(i)}catch{}try{return i+""}catch{}}return""}var PA=/[\\^$.*+?()[\]{}|]/g,TA=/^\[object .+?Constructor\]$/,NA=Function.prototype,AA=Object.prototype,LA=NA.toString,EA=AA.hasOwnProperty,DA=RegExp("^"+LA.call(EA).replace(PA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OA(i){if(!Ls(i)||kA(i))return!1;var o=Im(i)?DA:TA;return o.test(dl(i))}function RA(i,o){return i==null?void 0:i[o]}function fl(i,o){var l=RA(i,o);return OA(l)?l:void 0}var Qp=fl(Ho,"WeakMap"),qy=Object.create,IA=function(){function i(){}return function(o){if(!Ls(o))return{};if(qy)return qy(o);i.prototype=o;var l=new i;return i.prototype=void 0,l}}();function FA(i,o,l){switch(l.length){case 0:return i.call(o);case 1:return i.call(o,l[0]);case 2:return i.call(o,l[0],l[1]);case 3:return i.call(o,l[0],l[1],l[2])}return i.apply(o,l)}function BA(){}function _2(i,o){var l=-1,c=i.length;for(o||(o=Array(c));++l<c;)o[l]=i[l];return o}var $A=800,VA=16,zA=Date.now;function _A(i){var o=0,l=0;return function(){var c=zA(),d=VA-(c-l);if(l=c,d>0){if(++o>=$A)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}function KA(i){return function(){return i}}var gd=function(){try{var i=fl(Object,"defineProperty");return i({},"",{}),i}catch{}}(),HA=gd?function(i,o){return gd(i,"toString",{configurable:!0,enumerable:!1,value:KA(o),writable:!0})}:Rm,K2=_A(HA);function jA(i,o){for(var l=-1,c=i==null?0:i.length;++l<c&&o(i[l],l,i)!==!1;);return i}function H2(i,o,l,c){for(var d=i.length,p=l+(c?1:-1);c?p--:++p<d;)if(o(i[p],p,i))return p;return-1}function qA(i){return i!==i}function GA(i,o,l){for(var c=l-1,d=i.length;++c<d;)if(i[c]===o)return c;return-1}function WA(i,o,l){return o===o?GA(i,o,l):H2(i,qA,l)}function UA(i,o){var l=i==null?0:i.length;return!!l&&WA(i,o,0)>-1}var YA=9007199254740991,XA=/^(?:0|[1-9]\d*)$/;function Zd(i,o){var l=typeof i;return o=o??YA,!!o&&(l=="number"||l!="symbol"&&XA.test(i))&&i>-1&&i%1==0&&i<o}function Fm(i,o,l){o=="__proto__"&&gd?gd(i,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):i[o]=l}function Bc(i,o){return i===o||i!==i&&o!==o}var ZA=Object.prototype,JA=ZA.hasOwnProperty;function Bm(i,o,l){var c=i[o];(!(JA.call(i,o)&&Bc(c,l))||l===void 0&&!(o in i))&&Fm(i,o,l)}function yu(i,o,l,c){var d=!l;l||(l={});for(var p=-1,g=o.length;++p<g;){var b=o[p],w=void 0;w===void 0&&(w=i[b]),d?Fm(l,b,w):Bm(l,b,w)}return l}var Gy=Math.max;function j2(i,o,l){return o=Gy(o===void 0?i.length-1:o,0),function(){for(var c=arguments,d=-1,p=Gy(c.length-o,0),g=Array(p);++d<p;)g[d]=c[o+d];d=-1;for(var b=Array(o+1);++d<o;)b[d]=c[d];return b[o]=l(g),FA(i,this,b)}}function q2(i,o){return K2(j2(i,o,Rm),i+"")}var QA=9007199254740991;function $m(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=QA}function bu(i){return i!=null&&$m(i.length)&&!Im(i)}function eL(i,o,l){if(!Ls(l))return!1;var c=typeof o;return(c=="number"?bu(l)&&Zd(o,l.length):c=="string"&&o in l)?Bc(l[o],i):!1}function tL(i){return q2(function(o,l){var c=-1,d=l.length,p=d>1?l[d-1]:void 0,g=d>2?l[2]:void 0;for(p=i.length>3&&typeof p=="function"?(d--,p):void 0,g&&eL(l[0],l[1],g)&&(p=d<3?void 0:p,d=1),o=Object(o);++c<d;){var b=l[c];b&&i(o,b,c,p)}return o})}var nL=Object.prototype;function Vm(i){var o=i&&i.constructor,l=typeof o=="function"&&o.prototype||nL;return i===l}function iL(i,o){for(var l=-1,c=Array(i);++l<i;)c[l]=o(l);return c}var sL="[object Arguments]";function Wy(i){return sr(i)&&hl(i)==sL}var G2=Object.prototype,oL=G2.hasOwnProperty,rL=G2.propertyIsEnumerable,fc=Wy(function(){return arguments}())?Wy:function(i){return sr(i)&&oL.call(i,"callee")&&!rL.call(i,"callee")};function aL(){return!1}var W2=typeof Qs=="object"&&Qs&&!Qs.nodeType&&Qs,Uy=W2&&typeof eo=="object"&&eo&&!eo.nodeType&&eo,lL=Uy&&Uy.exports===W2,Yy=lL?Ho.Buffer:void 0,uL=Yy?Yy.isBuffer:void 0,pc=uL||aL,cL="[object Arguments]",hL="[object Array]",dL="[object Boolean]",fL="[object Date]",pL="[object Error]",gL="[object Function]",mL="[object Map]",vL="[object Number]",yL="[object Object]",bL="[object RegExp]",wL="[object Set]",xL="[object String]",SL="[object WeakMap]",kL="[object ArrayBuffer]",CL="[object DataView]",ML="[object Float32Array]",PL="[object Float64Array]",TL="[object Int8Array]",NL="[object Int16Array]",AL="[object Int32Array]",LL="[object Uint8Array]",EL="[object Uint8ClampedArray]",DL="[object Uint16Array]",OL="[object Uint32Array]",Pi={};Pi[ML]=Pi[PL]=Pi[TL]=Pi[NL]=Pi[AL]=Pi[LL]=Pi[EL]=Pi[DL]=Pi[OL]=!0;Pi[cL]=Pi[hL]=Pi[kL]=Pi[dL]=Pi[CL]=Pi[fL]=Pi[pL]=Pi[gL]=Pi[mL]=Pi[vL]=Pi[yL]=Pi[bL]=Pi[wL]=Pi[xL]=Pi[SL]=!1;function RL(i){return sr(i)&&$m(i.length)&&!!Pi[hl(i)]}function zm(i){return function(o){return i(o)}}var U2=typeof Qs=="object"&&Qs&&!Qs.nodeType&&Qs,Ju=U2&&typeof eo=="object"&&eo&&!eo.nodeType&&eo,IL=Ju&&Ju.exports===U2,up=IL&&$2.process,eu=function(){try{var i=Ju&&Ju.require&&Ju.require("util").types;return i||up&&up.binding&&up.binding("util")}catch{}}(),Xy=eu&&eu.isTypedArray,_m=Xy?zm(Xy):RL,FL=Object.prototype,BL=FL.hasOwnProperty;function Y2(i,o){var l=As(i),c=!l&&fc(i),d=!l&&!c&&pc(i),p=!l&&!c&&!d&&_m(i),g=l||c||d||p,b=g?iL(i.length,String):[],w=b.length;for(var M in i)(o||BL.call(i,M))&&!(g&&(M=="length"||d&&(M=="offset"||M=="parent")||p&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||Zd(M,w)))&&b.push(M);return b}function X2(i,o){return function(l){return i(o(l))}}var $L=X2(Object.keys,Object),VL=Object.prototype,zL=VL.hasOwnProperty;function _L(i){if(!Vm(i))return $L(i);var o=[];for(var l in Object(i))zL.call(i,l)&&l!="constructor"&&o.push(l);return o}function $c(i){return bu(i)?Y2(i):_L(i)}function KL(i){var o=[];if(i!=null)for(var l in Object(i))o.push(l);return o}var HL=Object.prototype,jL=HL.hasOwnProperty;function qL(i){if(!Ls(i))return KL(i);var o=Vm(i),l=[];for(var c in i)c=="constructor"&&(o||!jL.call(i,c))||l.push(c);return l}function Vc(i){return bu(i)?Y2(i,!0):qL(i)}var GL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WL=/^\w*$/;function Km(i,o){if(As(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||Xd(i)?!0:WL.test(i)||!GL.test(i)||o!=null&&i in Object(o)}var gc=fl(Object,"create");function UL(){this.__data__=gc?gc(null):{},this.size=0}function YL(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}var XL="__lodash_hash_undefined__",ZL=Object.prototype,JL=ZL.hasOwnProperty;function QL(i){var o=this.__data__;if(gc){var l=o[i];return l===XL?void 0:l}return JL.call(o,i)?o[i]:void 0}var eE=Object.prototype,tE=eE.hasOwnProperty;function nE(i){var o=this.__data__;return gc?o[i]!==void 0:tE.call(o,i)}var iE="__lodash_hash_undefined__";function sE(i,o){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=gc&&o===void 0?iE:o,this}function il(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var c=i[o];this.set(c[0],c[1])}}il.prototype.clear=UL;il.prototype.delete=YL;il.prototype.get=QL;il.prototype.has=nE;il.prototype.set=sE;function oE(){this.__data__=[],this.size=0}function Jd(i,o){for(var l=i.length;l--;)if(Bc(i[l][0],o))return l;return-1}var rE=Array.prototype,aE=rE.splice;function lE(i){var o=this.__data__,l=Jd(o,i);if(l<0)return!1;var c=o.length-1;return l==c?o.pop():aE.call(o,l,1),--this.size,!0}function uE(i){var o=this.__data__,l=Jd(o,i);return l<0?void 0:o[l][1]}function cE(i){return Jd(this.__data__,i)>-1}function hE(i,o){var l=this.__data__,c=Jd(l,i);return c<0?(++this.size,l.push([i,o])):l[c][1]=o,this}function Rr(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var c=i[o];this.set(c[0],c[1])}}Rr.prototype.clear=oE;Rr.prototype.delete=lE;Rr.prototype.get=uE;Rr.prototype.has=cE;Rr.prototype.set=hE;var mc=fl(Ho,"Map");function dE(){this.size=0,this.__data__={hash:new il,map:new(mc||Rr),string:new il}}function fE(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Qd(i,o){var l=i.__data__;return fE(o)?l[typeof o=="string"?"string":"hash"]:l.map}function pE(i){var o=Qd(this,i).delete(i);return this.size-=o?1:0,o}function gE(i){return Qd(this,i).get(i)}function mE(i){return Qd(this,i).has(i)}function vE(i,o){var l=Qd(this,i),c=l.size;return l.set(i,o),this.size+=l.size==c?0:1,this}function Ir(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var c=i[o];this.set(c[0],c[1])}}Ir.prototype.clear=dE;Ir.prototype.delete=pE;Ir.prototype.get=gE;Ir.prototype.has=mE;Ir.prototype.set=vE;var yE="Expected a function";function ef(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new TypeError(yE);var l=function(){var c=arguments,d=o?o.apply(this,c):c[0],p=l.cache;if(p.has(d))return p.get(d);var g=i.apply(this,c);return l.cache=p.set(d,g)||p,g};return l.cache=new(ef.Cache||Ir),l}ef.Cache=Ir;var bE=500;function wE(i){var o=ef(i,function(c){return l.size===bE&&l.clear(),c}),l=o.cache;return o}var xE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,SE=/\\(\\)?/g,kE=wE(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(xE,function(l,c,d,p){o.push(d?p.replace(SE,"$1"):c||l)}),o});function CE(i){return i==null?"":z2(i)}function wu(i,o){return As(i)?i:Km(i,o)?[i]:kE(CE(i))}var ME=1/0;function xu(i){if(typeof i=="string"||Xd(i))return i;var o=i+"";return o=="0"&&1/i==-ME?"-0":o}function tf(i,o){o=wu(o,i);for(var l=0,c=o.length;i!=null&&l<c;)i=i[xu(o[l++])];return l&&l==c?i:void 0}function Ni(i,o,l){var c=i==null?void 0:tf(i,o);return c===void 0?l:c}function Hm(i,o){for(var l=-1,c=o.length,d=i.length;++l<c;)i[d+l]=o[l];return i}var Zy=So?So.isConcatSpreadable:void 0;function PE(i){return As(i)||fc(i)||!!(Zy&&i&&i[Zy])}function zc(i,o,l,c,d){var p=-1,g=i.length;for(l||(l=PE),d||(d=[]);++p<g;){var b=i[p];o>0&&l(b)?o>1?zc(b,o-1,l,c,d):Hm(d,b):c||(d[d.length]=b)}return d}function Z2(i){var o=i==null?0:i.length;return o?zc(i,1):[]}function J2(i){return K2(j2(i,void 0,Z2),i+"")}var jm=X2(Object.getPrototypeOf,Object),TE="[object Object]",NE=Function.prototype,AE=Object.prototype,Q2=NE.toString,LE=AE.hasOwnProperty,EE=Q2.call(Object);function ex(i){if(!sr(i)||hl(i)!=TE)return!1;var o=jm(i);if(o===null)return!0;var l=LE.call(o,"constructor")&&o.constructor;return typeof l=="function"&&l instanceof l&&Q2.call(l)==EE}function DE(i,o,l){var c=-1,d=i.length;o<0&&(o=-o>d?0:d+o),l=l>d?d:l,l<0&&(l+=d),d=o>l?0:l-o>>>0,o>>>=0;for(var p=Array(d);++c<d;)p[c]=i[c+o];return p}function va(){if(!arguments.length)return[];var i=arguments[0];return As(i)?i:[i]}function OE(){this.__data__=new Rr,this.size=0}function RE(i){var o=this.__data__,l=o.delete(i);return this.size=o.size,l}function IE(i){return this.__data__.get(i)}function FE(i){return this.__data__.has(i)}var BE=200;function $E(i,o){var l=this.__data__;if(l instanceof Rr){var c=l.__data__;if(!mc||c.length<BE-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new Ir(c)}return l.set(i,o),this.size=l.size,this}function zo(i){var o=this.__data__=new Rr(i);this.size=o.size}zo.prototype.clear=OE;zo.prototype.delete=RE;zo.prototype.get=IE;zo.prototype.has=FE;zo.prototype.set=$E;function VE(i,o){return i&&yu(o,$c(o),i)}function zE(i,o){return i&&yu(o,Vc(o),i)}var tx=typeof Qs=="object"&&Qs&&!Qs.nodeType&&Qs,Jy=tx&&typeof eo=="object"&&eo&&!eo.nodeType&&eo,_E=Jy&&Jy.exports===tx,Qy=_E?Ho.Buffer:void 0,eb=Qy?Qy.allocUnsafe:void 0;function nx(i,o){if(o)return i.slice();var l=i.length,c=eb?eb(l):new i.constructor(l);return i.copy(c),c}function KE(i,o){for(var l=-1,c=i==null?0:i.length,d=0,p=[];++l<c;){var g=i[l];o(g,l,i)&&(p[d++]=g)}return p}function ix(){return[]}var HE=Object.prototype,jE=HE.propertyIsEnumerable,tb=Object.getOwnPropertySymbols,qm=tb?function(i){return i==null?[]:(i=Object(i),KE(tb(i),function(o){return jE.call(i,o)}))}:ix;function qE(i,o){return yu(i,qm(i),o)}var GE=Object.getOwnPropertySymbols,sx=GE?function(i){for(var o=[];i;)Hm(o,qm(i)),i=jm(i);return o}:ix;function WE(i,o){return yu(i,sx(i),o)}function ox(i,o,l){var c=o(i);return As(i)?c:Hm(c,l(i))}function eg(i){return ox(i,$c,qm)}function rx(i){return ox(i,Vc,sx)}var tg=fl(Ho,"DataView"),ng=fl(Ho,"Promise"),Kl=fl(Ho,"Set"),nb="[object Map]",UE="[object Object]",ib="[object Promise]",sb="[object Set]",ob="[object WeakMap]",rb="[object DataView]",YE=dl(tg),XE=dl(mc),ZE=dl(ng),JE=dl(Kl),QE=dl(Qp),Bo=hl;(tg&&Bo(new tg(new ArrayBuffer(1)))!=rb||mc&&Bo(new mc)!=nb||ng&&Bo(ng.resolve())!=ib||Kl&&Bo(new Kl)!=sb||Qp&&Bo(new Qp)!=ob)&&(Bo=function(i){var o=hl(i),l=o==UE?i.constructor:void 0,c=l?dl(l):"";if(c)switch(c){case YE:return rb;case XE:return nb;case ZE:return ib;case JE:return sb;case QE:return ob}return o});var eD=Object.prototype,tD=eD.hasOwnProperty;function nD(i){var o=i.length,l=new i.constructor(o);return o&&typeof i[0]=="string"&&tD.call(i,"index")&&(l.index=i.index,l.input=i.input),l}var md=Ho.Uint8Array;function Gm(i){var o=new i.constructor(i.byteLength);return new md(o).set(new md(i)),o}function iD(i,o){var l=o?Gm(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.byteLength)}var sD=/\w*$/;function oD(i){var o=new i.constructor(i.source,sD.exec(i));return o.lastIndex=i.lastIndex,o}var ab=So?So.prototype:void 0,lb=ab?ab.valueOf:void 0;function rD(i){return lb?Object(lb.call(i)):{}}function ax(i,o){var l=o?Gm(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.length)}var aD="[object Boolean]",lD="[object Date]",uD="[object Map]",cD="[object Number]",hD="[object RegExp]",dD="[object Set]",fD="[object String]",pD="[object Symbol]",gD="[object ArrayBuffer]",mD="[object DataView]",vD="[object Float32Array]",yD="[object Float64Array]",bD="[object Int8Array]",wD="[object Int16Array]",xD="[object Int32Array]",SD="[object Uint8Array]",kD="[object Uint8ClampedArray]",CD="[object Uint16Array]",MD="[object Uint32Array]";function PD(i,o,l){var c=i.constructor;switch(o){case gD:return Gm(i);case aD:case lD:return new c(+i);case mD:return iD(i,l);case vD:case yD:case bD:case wD:case xD:case SD:case kD:case CD:case MD:return ax(i,l);case uD:return new c;case cD:case fD:return new c(i);case hD:return oD(i);case dD:return new c;case pD:return rD(i)}}function lx(i){return typeof i.constructor=="function"&&!Vm(i)?IA(jm(i)):{}}var TD="[object Map]";function ND(i){return sr(i)&&Bo(i)==TD}var ub=eu&&eu.isMap,AD=ub?zm(ub):ND,LD="[object Set]";function ED(i){return sr(i)&&Bo(i)==LD}var cb=eu&&eu.isSet,DD=cb?zm(cb):ED,OD=1,RD=2,ID=4,ux="[object Arguments]",FD="[object Array]",BD="[object Boolean]",$D="[object Date]",VD="[object Error]",cx="[object Function]",zD="[object GeneratorFunction]",_D="[object Map]",KD="[object Number]",hx="[object Object]",HD="[object RegExp]",jD="[object Set]",qD="[object String]",GD="[object Symbol]",WD="[object WeakMap]",UD="[object ArrayBuffer]",YD="[object DataView]",XD="[object Float32Array]",ZD="[object Float64Array]",JD="[object Int8Array]",QD="[object Int16Array]",eO="[object Int32Array]",tO="[object Uint8Array]",nO="[object Uint8ClampedArray]",iO="[object Uint16Array]",sO="[object Uint32Array]",wi={};wi[ux]=wi[FD]=wi[UD]=wi[YD]=wi[BD]=wi[$D]=wi[XD]=wi[ZD]=wi[JD]=wi[QD]=wi[eO]=wi[_D]=wi[KD]=wi[hx]=wi[HD]=wi[jD]=wi[qD]=wi[GD]=wi[tO]=wi[nO]=wi[iO]=wi[sO]=!0;wi[VD]=wi[cx]=wi[WD]=!1;function Hl(i,o,l,c,d,p){var g,b=o&OD,w=o&RD,M=o&ID;if(l&&(g=d?l(i,c,d,p):l(i)),g!==void 0)return g;if(!Ls(i))return i;var C=As(i);if(C){if(g=nD(i),!b)return _2(i,g)}else{var P=Bo(i),A=P==cx||P==zD;if(pc(i))return nx(i,b);if(P==hx||P==ux||A&&!d){if(g=w||A?{}:lx(i),!b)return w?WE(i,zE(g,i)):qE(i,VE(g,i))}else{if(!wi[P])return d?i:{};g=PD(i,P,b)}}p||(p=new zo);var O=p.get(i);if(O)return O;p.set(i,g),DD(i)?i.forEach(function(z){g.add(Hl(z,o,l,z,i,p))}):AD(i)&&i.forEach(function(z,T){g.set(T,Hl(z,o,l,T,i,p))});var R=M?w?rx:eg:w?Vc:$c,N=C?void 0:R(i);return jA(N||i,function(z,T){N&&(T=z,z=i[T]),Bm(g,T,Hl(z,o,l,T,i,p))}),g}var oO=4;function hb(i){return Hl(i,oO)}var rO=1,aO=4;function vd(i){return Hl(i,rO|aO)}var lO="__lodash_hash_undefined__";function uO(i){return this.__data__.set(i,lO),this}function cO(i){return this.__data__.has(i)}function vc(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new Ir;++o<l;)this.add(i[o])}vc.prototype.add=vc.prototype.push=uO;vc.prototype.has=cO;function hO(i,o){for(var l=-1,c=i==null?0:i.length;++l<c;)if(o(i[l],l,i))return!0;return!1}function dx(i,o){return i.has(o)}var dO=1,fO=2;function fx(i,o,l,c,d,p){var g=l&dO,b=i.length,w=o.length;if(b!=w&&!(g&&w>b))return!1;var M=p.get(i),C=p.get(o);if(M&&C)return M==o&&C==i;var P=-1,A=!0,O=l&fO?new vc:void 0;for(p.set(i,o),p.set(o,i);++P<b;){var R=i[P],N=o[P];if(c)var z=g?c(N,R,P,o,i,p):c(R,N,P,i,o,p);if(z!==void 0){if(z)continue;A=!1;break}if(O){if(!hO(o,function(T,_){if(!dx(O,_)&&(R===T||d(R,T,l,c,p)))return O.push(_)})){A=!1;break}}else if(!(R===N||d(R,N,l,c,p))){A=!1;break}}return p.delete(i),p.delete(o),A}function pO(i){var o=-1,l=Array(i.size);return i.forEach(function(c,d){l[++o]=[d,c]}),l}function Wm(i){var o=-1,l=Array(i.size);return i.forEach(function(c){l[++o]=c}),l}var gO=1,mO=2,vO="[object Boolean]",yO="[object Date]",bO="[object Error]",wO="[object Map]",xO="[object Number]",SO="[object RegExp]",kO="[object Set]",CO="[object String]",MO="[object Symbol]",PO="[object ArrayBuffer]",TO="[object DataView]",db=So?So.prototype:void 0,cp=db?db.valueOf:void 0;function NO(i,o,l,c,d,p,g){switch(l){case TO:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case PO:return!(i.byteLength!=o.byteLength||!p(new md(i),new md(o)));case vO:case yO:case xO:return Bc(+i,+o);case bO:return i.name==o.name&&i.message==o.message;case SO:case CO:return i==o+"";case wO:var b=pO;case kO:var w=c&gO;if(b||(b=Wm),i.size!=o.size&&!w)return!1;var M=g.get(i);if(M)return M==o;c|=mO,g.set(i,o);var C=fx(b(i),b(o),c,d,p,g);return g.delete(i),C;case MO:if(cp)return cp.call(i)==cp.call(o)}return!1}var AO=1,LO=Object.prototype,EO=LO.hasOwnProperty;function DO(i,o,l,c,d,p){var g=l&AO,b=eg(i),w=b.length,M=eg(o),C=M.length;if(w!=C&&!g)return!1;for(var P=w;P--;){var A=b[P];if(!(g?A in o:EO.call(o,A)))return!1}var O=p.get(i),R=p.get(o);if(O&&R)return O==o&&R==i;var N=!0;p.set(i,o),p.set(o,i);for(var z=g;++P<w;){A=b[P];var T=i[A],_=o[A];if(c)var I=g?c(_,T,A,o,i,p):c(T,_,A,i,o,p);if(!(I===void 0?T===_||d(T,_,l,c,p):I)){N=!1;break}z||(z=A=="constructor")}if(N&&!z){var K=i.constructor,B=o.constructor;K!=B&&"constructor"in i&&"constructor"in o&&!(typeof K=="function"&&K instanceof K&&typeof B=="function"&&B instanceof B)&&(N=!1)}return p.delete(i),p.delete(o),N}var OO=1,fb="[object Arguments]",pb="[object Array]",fh="[object Object]",RO=Object.prototype,gb=RO.hasOwnProperty;function IO(i,o,l,c,d,p){var g=As(i),b=As(o),w=g?pb:Bo(i),M=b?pb:Bo(o);w=w==fb?fh:w,M=M==fb?fh:M;var C=w==fh,P=M==fh,A=w==M;if(A&&pc(i)){if(!pc(o))return!1;g=!0,C=!1}if(A&&!C)return p||(p=new zo),g||_m(i)?fx(i,o,l,c,d,p):NO(i,o,w,l,c,d,p);if(!(l&OO)){var O=C&&gb.call(i,"__wrapped__"),R=P&&gb.call(o,"__wrapped__");if(O||R){var N=O?i.value():i,z=R?o.value():o;return p||(p=new zo),d(N,z,l,c,p)}}return A?(p||(p=new zo),DO(i,o,l,c,d,p)):!1}function nf(i,o,l,c,d){return i===o?!0:i==null||o==null||!sr(i)&&!sr(o)?i!==i&&o!==o:IO(i,o,l,c,nf,d)}var FO=1,BO=2;function $O(i,o,l,c){var d=l.length,p=d;if(i==null)return!p;for(i=Object(i);d--;){var g=l[d];if(g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++d<p;){g=l[d];var b=g[0],w=i[b],M=g[1];if(g[2]){if(w===void 0&&!(b in i))return!1}else{var C=new zo,P;if(!(P===void 0?nf(M,w,FO|BO,c,C):P))return!1}}return!0}function px(i){return i===i&&!Ls(i)}function VO(i){for(var o=$c(i),l=o.length;l--;){var c=o[l],d=i[c];o[l]=[c,d,px(d)]}return o}function gx(i,o){return function(l){return l==null?!1:l[i]===o&&(o!==void 0||i in Object(l))}}function zO(i){var o=VO(i);return o.length==1&&o[0][2]?gx(o[0][0],o[0][1]):function(l){return l===i||$O(l,i,o)}}function _O(i,o){return i!=null&&o in Object(i)}function KO(i,o,l){o=wu(o,i);for(var c=-1,d=o.length,p=!1;++c<d;){var g=xu(o[c]);if(!(p=i!=null&&l(i,g)))break;i=i[g]}return p||++c!=d?p:(d=i==null?0:i.length,!!d&&$m(d)&&Zd(g,d)&&(As(i)||fc(i)))}function mx(i,o){return i!=null&&KO(i,o,_O)}var HO=1,jO=2;function qO(i,o){return Km(i)&&px(o)?gx(xu(i),o):function(l){var c=Ni(l,i);return c===void 0&&c===o?mx(l,i):nf(o,c,HO|jO)}}function GO(i){return function(o){return o==null?void 0:o[i]}}function WO(i){return function(o){return tf(o,i)}}function UO(i){return Km(i)?GO(xu(i)):WO(i)}function vx(i){return typeof i=="function"?i:i==null?Rm:typeof i=="object"?As(i)?qO(i[0],i[1]):zO(i):UO(i)}function YO(i){return function(o,l,c){for(var d=-1,p=Object(o),g=c(o),b=g.length;b--;){var w=g[++d];if(l(p[w],w,p)===!1)break}return o}}var yx=YO();function XO(i,o){return i&&yx(i,o,$c)}function ZO(i,o){return function(l,c){if(l==null)return l;if(!bu(l))return i(l,c);for(var d=l.length,p=-1,g=Object(l);++p<d&&c(g[p],p,g)!==!1;);return l}}var JO=ZO(XO),hp=function(){return Ho.Date.now()},QO="Expected a function",e3=Math.max,t3=Math.min;function Ks(i,o,l){var c,d,p,g,b,w,M=0,C=!1,P=!1,A=!0;if(typeof i!="function")throw new TypeError(QO);o=Hy(o)||0,Ls(l)&&(C=!!l.leading,P="maxWait"in l,p=P?e3(Hy(l.maxWait)||0,o):p,A="trailing"in l?!!l.trailing:A);function O(G){var $=c,J=d;return c=d=void 0,M=G,g=i.apply(J,$),g}function R(G){return M=G,b=setTimeout(T,o),C?O(G):g}function N(G){var $=G-w,J=G-M,ee=o-$;return P?t3(ee,p-J):ee}function z(G){var $=G-w,J=G-M;return w===void 0||$>=o||$<0||P&&J>=p}function T(){var G=hp();if(z(G))return _(G);b=setTimeout(T,N(G))}function _(G){return b=void 0,A&&c?O(G):(c=d=void 0,g)}function I(){b!==void 0&&clearTimeout(b),M=0,c=w=d=b=void 0}function K(){return b===void 0?g:_(hp())}function B(){var G=hp(),$=z(G);if(c=arguments,d=this,w=G,$){if(b===void 0)return R(w);if(P)return clearTimeout(b),b=setTimeout(T,o),O(w)}return b===void 0&&(b=setTimeout(T,o)),g}return B.cancel=I,B.flush=K,B}function ig(i,o,l){(l!==void 0&&!Bc(i[o],l)||l===void 0&&!(o in i))&&Fm(i,o,l)}function bx(i){return sr(i)&&bu(i)}function sg(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}function n3(i){return yu(i,Vc(i))}function i3(i,o,l,c,d,p,g){var b=sg(i,l),w=sg(o,l),M=g.get(w);if(M){ig(i,l,M);return}var C=p?p(b,w,l+"",i,o,g):void 0,P=C===void 0;if(P){var A=As(w),O=!A&&pc(w),R=!A&&!O&&_m(w);C=w,A||O||R?As(b)?C=b:bx(b)?C=_2(b):O?(P=!1,C=nx(w,!0)):R?(P=!1,C=ax(w,!0)):C=[]:ex(w)||fc(w)?(C=b,fc(b)?C=n3(b):(!Ls(b)||Im(b))&&(C=lx(w))):P=!1}P&&(g.set(w,C),d(C,w,c,p,g),g.delete(w)),ig(i,l,C)}function wx(i,o,l,c,d){i!==o&&yx(o,function(p,g){if(d||(d=new zo),Ls(p))i3(i,o,g,l,wx,c,d);else{var b=c?c(sg(i,g),p,g+"",i,o,d):void 0;b===void 0&&(b=p),ig(i,g,b)}},Vc)}function s3(i){var o=i==null?0:i.length;return o?i[o-1]:void 0}function xx(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=c-1;return H2(i,vx(o),d,!0)}function o3(i,o){var l=-1,c=bu(i)?Array(i.length):[];return JO(i,function(d,p,g){c[++l]=o(d,p,g)}),c}function r3(i,o){var l=As(i)?Om:o3;return l(i,vx(o))}function a3(i,o){return zc(r3(i,o),1)}var l3=1/0;function u3(i){var o=i==null?0:i.length;return o?zc(i,l3):[]}function yd(i){for(var o=-1,l=i==null?0:i.length,c={};++o<l;){var d=i[o];c[d[0]]=d[1]}return c}function c3(i,o){return o.length<2?i:tf(i,DE(o,0,-1))}function ws(i,o){return nf(i,o)}function Xi(i){return i==null}function Sx(i){return i===void 0}var h3=tL(function(i,o,l){wx(i,o,l)});function d3(i,o){return o=wu(o,i),i=c3(i,o),i==null||delete i[xu(s3(o))]}function f3(i){return ex(i)?void 0:i}var p3=1,g3=2,m3=4,v3=J2(function(i,o){var l={};if(i==null)return l;var c=!1;o=Om(o,function(p){return p=wu(p,i),c||(c=p.length>1),p}),yu(i,rx(i),l),c&&(l=Hl(l,p3|g3|m3,f3));for(var d=o.length;d--;)d3(l,o[d]);return l});function kx(i,o,l,c){if(!Ls(i))return i;o=wu(o,i);for(var d=-1,p=o.length,g=p-1,b=i;b!=null&&++d<p;){var w=xu(o[d]),M=l;if(w==="__proto__"||w==="constructor"||w==="prototype")return i;if(d!=g){var C=b[w];M=void 0,M===void 0&&(M=Ls(C)?C:Zd(o[d+1])?[]:{})}Bm(b,w,M),b=b[w]}return i}function y3(i,o,l){for(var c=-1,d=o.length,p={};++c<d;){var g=o[c],b=tf(i,g);l(b,g)&&kx(p,wu(g,i),b)}return p}function b3(i,o){return y3(i,o,function(l,c){return mx(i,c)})}var er=J2(function(i,o){return i==null?{}:b3(i,o)});function w3(i,o,l){return i==null?i:kx(i,o,l)}var x3="Expected a function";function Za(i,o,l){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(x3);return Ls(l)&&(c="leading"in l?!!l.leading:c,d="trailing"in l?!!l.trailing:d),Ks(i,o,{leading:c,maxWait:o,trailing:d})}var S3=1/0,k3=Kl&&1/Wm(new Kl([,-0]))[1]==S3?function(i){return new Kl(i)}:BA,C3=200;function M3(i,o,l){var c=-1,d=UA,p=i.length,g=!0,b=[],w=b;if(p>=C3){var M=k3(i);if(M)return Wm(M);g=!1,d=dx,w=new vc}else w=b;e:for(;++c<p;){var C=i[c],P=C;if(C=C!==0?C:0,g&&P===P){for(var A=w.length;A--;)if(w[A]===P)continue e;b.push(C)}else d(w,P,l)||(w!==b&&w.push(P),b.push(C))}return b}var dp=q2(function(i){return M3(zc(i,1,bx,!0))});const Ri=i=>i===void 0,Ii=i=>typeof i=="boolean",Yt=i=>typeof i=="number",go=i=>!i&&i!==0||St(i)&&i.length===0||yn(i)&&!Object.keys(i).length,ko=i=>typeof Element>"u"?!1:i instanceof Element,sl=i=>Xi(i),P3=i=>tn(i)?!Number.isNaN(Number(i)):!1,sf=i=>i===window,ya=i=>In?window.requestAnimationFrame(i):setTimeout(i,16),ol=i=>In?window.cancelAnimationFrame(i):clearTimeout(i),Um=(i="")=>i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Qo=i=>Rc(i),tu=i=>Object.keys(i),T3=i=>Object.entries(i),Bh=(i,o,l)=>({get value(){return Ni(i,o,l)},set value(c){w3(i,o,c)}});class N3 extends Error{constructor(o){super(o),this.name="ElementPlusError"}}function Hi(i,o){throw new N3(`[${i}] ${o}`)}const Cx=(i="")=>i.split(" ").filter(o=>!!o.trim()),bo=(i,o)=>{if(!i||!o)return!1;if(o.includes(" "))throw new Error("className should not contain space.");return i.classList.contains(o)},mo=(i,o)=>{!i||!o.trim()||i.classList.add(...Cx(o))},xs=(i,o)=>{!i||!o.trim()||i.classList.remove(...Cx(o))},aa=(i,o)=>{var l;if(!In||!i||!o)return"";let c=xo(o);c==="float"&&(c="cssFloat");try{const d=i.style[c];if(d)return d;const p=(l=document.defaultView)==null?void 0:l.getComputedStyle(i,"");return p?p[c]:""}catch{return i.style[c]}};function Si(i,o="px"){if(!i)return"";if(Yt(i)||P3(i))return`${i}${o}`;if(tn(i))return i}const A3=(i,o)=>{if(!In)return!1;const l={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(o)],c=aa(i,l);return["scroll","auto","overlay"].some(d=>c.includes(d))},Ym=(i,o)=>{if(!In)return;let l=i;for(;l;){if([window,document,document.documentElement].includes(l))return window;if(A3(l,o))return l;l=l.parentNode}return l};let ph;const Mx=i=>{var o;if(!In)return 0;if(ph!==void 0)return ph;const l=document.createElement("div");l.className=`${i}-scrollbar__wrap`,l.style.visibility="hidden",l.style.width="100px",l.style.position="absolute",l.style.top="-9999px",document.body.appendChild(l);const c=l.offsetWidth;l.style.overflow="scroll";const d=document.createElement("div");d.style.width="100%",l.appendChild(d);const p=d.offsetWidth;return(o=l.parentNode)==null||o.removeChild(l),ph=c-p,ph};function Px(i,o){if(!In)return;if(!o){i.scrollTop=0;return}const l=[];let c=o.offsetParent;for(;c!==null&&i!==c&&i.contains(c);)l.push(c),c=c.offsetParent;const d=o.offsetTop+l.reduce((w,M)=>w+M.offsetTop,0),p=d+o.offsetHeight,g=i.scrollTop,b=g+i.clientHeight;d<g?i.scrollTop=d:p>b&&(i.scrollTop=p-i.clientHeight)}function L3(i,o,l,c,d){const p=Date.now();let g;const b=()=>{const M=Date.now()-p,C=QN(M>c?c:M,o,l,c);sf(i)?i.scrollTo(window.pageXOffset,C):i.scrollTop=C,M<c?g=ya(b):typeof d=="function"&&d()};return b(),()=>{g&&ol(g)}}const mb=(i,o)=>sf(o)?i.ownerDocument.documentElement:o,vb=i=>sf(i)?window.scrollY:i.scrollTop,gh=i=>{if(!In||i==="")return null;if(tn(i))try{return document.querySelector(i)}catch{return null}return i};/*! Element Plus Icons Vue v2.3.1 */var E3=xe({name:"ArrowDown",__name:"arrow-down",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Fr=E3,D3=xe({name:"ArrowLeft",__name:"arrow-left",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),ba=D3,O3=xe({name:"ArrowRight",__name:"arrow-right",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Ts=O3,R3=xe({name:"ArrowUp",__name:"arrow-up",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Xm=R3,I3=xe({name:"Back",__name:"back",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),pe("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),F3=I3,B3=xe({name:"Calendar",__name:"calendar",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),$3=B3,V3=xe({name:"CaretRight",__name:"caret-right",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),Tx=V3,z3=xe({name:"CaretTop",__name:"caret-top",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),_3=z3,K3=xe({name:"Check",__name:"check",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),_c=K3,H3=xe({name:"CircleCheckFilled",__name:"circle-check-filled",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),j3=H3,q3=xe({name:"CircleCheck",__name:"circle-check",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Zm=q3,G3=xe({name:"CircleCloseFilled",__name:"circle-close-filled",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Jm=G3,W3=xe({name:"CircleClose",__name:"circle-close",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Ta=W3,U3=xe({name:"Clock",__name:"clock",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),Nx=U3,Y3=xe({name:"Close",__name:"close",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),_o=Y3,X3=xe({name:"DArrowLeft",__name:"d-arrow-left",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),nu=X3,Z3=xe({name:"DArrowRight",__name:"d-arrow-right",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),iu=Z3,J3=xe({name:"Delete",__name:"delete",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),Q3=J3,eR=xe({name:"Document",__name:"document",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),tR=eR,nR=xe({name:"FullScreen",__name:"full-screen",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),iR=nR,sR=xe({name:"Hide",__name:"hide",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),pe("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),oR=sR,rR=xe({name:"InfoFilled",__name:"info-filled",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),Qm=rR,aR=xe({name:"Loading",__name:"loading",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Na=aR,lR=xe({name:"Minus",__name:"minus",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),uR=lR,cR=xe({name:"MoreFilled",__name:"more-filled",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),yb=cR,hR=xe({name:"More",__name:"more",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),dR=hR,fR=xe({name:"PictureFilled",__name:"picture-filled",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),pR=fR,gR=xe({name:"Plus",__name:"plus",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),Ax=gR,mR=xe({name:"QuestionFilled",__name:"question-filled",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),vR=mR,yR=xe({name:"RefreshLeft",__name:"refresh-left",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),bR=yR,wR=xe({name:"RefreshRight",__name:"refresh-right",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),xR=wR,SR=xe({name:"ScaleToOriginal",__name:"scale-to-original",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),kR=SR,CR=xe({name:"Search",__name:"search",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),MR=CR,PR=xe({name:"SortDown",__name:"sort-down",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),TR=PR,NR=xe({name:"SortUp",__name:"sort-up",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),AR=NR,LR=xe({name:"StarFilled",__name:"star-filled",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),mh=LR,ER=xe({name:"Star",__name:"star",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),DR=ER,OR=xe({name:"SuccessFilled",__name:"success-filled",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Lx=OR,RR=xe({name:"View",__name:"view",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),IR=RR,FR=xe({name:"WarningFilled",__name:"warning-filled",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),of=FR,BR=xe({name:"ZoomIn",__name:"zoom-in",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),Ex=BR,$R=xe({name:"ZoomOut",__name:"zoom-out",setup(i){return(o,l)=>(Y(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),VR=$R;const Dx="__epPropKey",Ae=i=>i,zR=i=>yn(i)&&!!i[Dx],jo=(i,o)=>{if(!yn(i)||zR(i))return i;const{values:l,required:c,default:d,type:p,validator:g}=i,w={type:p,required:!!c,validator:l||g?M=>{let C=!1,P=[];if(l&&(P=Array.from(l),Fn(i,"default")&&P.push(d),C||(C=P.includes(M))),g&&(C||(C=g(M))),!C&&P.length>0){const A=[...new Set(P)].map(O=>JSON.stringify(O)).join(", ");FT(`Invalid prop: validation failed${o?` for prop "${o}"`:""}. Expected one of [${A}], got value ${JSON.stringify(M)}.`)}return C}:void 0,[Dx]:!0};return Fn(i,"default")&&(w.default=d),w},lt=i=>yd(Object.entries(i).map(([o,l])=>[o,jo(l,o)])),Xn=Ae([String,Object,Function]),e0={Close:_o},t0={Close:_o,SuccessFilled:Lx,InfoFilled:Qm,WarningFilled:of,CircleCloseFilled:Jm},wa={success:Lx,warning:of,error:Jm,info:Qm},n0={validating:Na,success:Zm,error:Ta},gn=(i,o)=>{if(i.install=l=>{for(const c of[i,...Object.values(o??{})])l.component(c.name,c)},o)for(const[l,c]of Object.entries(o))i[l]=c;return i},Ox=(i,o)=>(i.install=l=>{i._context=l._context,l.config.globalProperties[o]=i},i),_R=(i,o)=>(i.install=l=>{l.directive(o,i)},i),gi=i=>(i.install=jn,i),rf=(...i)=>o=>{i.forEach(l=>{Xt(l)?l(o):l.value=o})},Gt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},KR=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],fp=["sun","mon","tue","wed","thu","fri","sat"],wn="update:modelValue",si="change",Ns="input",bb=Symbol("INSTALLED_KEY"),ur=["","default","small","large"],Rx=i=>["",...ur].includes(i);var fo=(i=>(i[i.TEXT=1]="TEXT",i[i.CLASS=2]="CLASS",i[i.STYLE=4]="STYLE",i[i.PROPS=8]="PROPS",i[i.FULL_PROPS=16]="FULL_PROPS",i[i.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",i[i.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",i[i.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",i[i.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",i[i.NEED_PATCH=512]="NEED_PATCH",i[i.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",i[i.HOISTED=-1]="HOISTED",i[i.BAIL=-2]="BAIL",i))(fo||{});function og(i){return li(i)&&i.type===$t}function HR(i){return li(i)&&i.type===rs}function jR(i){return li(i)&&!og(i)&&!HR(i)}const qR=i=>{if(!li(i))return{};const o=i.props||{},l=(li(i.type)?i.type.props:void 0)||{},c={};return Object.keys(l).forEach(d=>{Fn(l[d],"default")&&(c[d]=l[d].default)}),Object.keys(o).forEach(d=>{c[xo(d)]=o[d]}),c},GR=i=>{if(!St(i)||i.length>1)throw new Error("expect to receive a single Vue element child");return i[0]},da=i=>{const o=St(i)?i:[i],l=[];return o.forEach(c=>{var d;St(c)?l.push(...da(c)):li(c)&&St(c.children)?l.push(...da(c.children)):(l.push(c),li(c)&&((d=c.component)!=null&&d.subTree)&&l.push(...da(c.component.subTree)))}),l},wb=i=>[...new Set(i)],Zs=i=>!i&&i!==0?[]:Array.isArray(i)?i:[i],i0=i=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(i),pi=i=>i;function WR(i){let o=0;const l=(...c)=>{o&&ol(o),o=ya(()=>{i(...c),o=0})};return l.cancel=()=>{ol(o),o=0},l}const UR=["class","style"],YR=/^on[A-Z]/,s0=(i={})=>{const{excludeListeners:o=!1,excludeKeys:l}=i,c=j(()=>((l==null?void 0:l.value)||[]).concat(UR)),d=pn();return j(d?()=>{var p;return yd(Object.entries((p=d.proxy)==null?void 0:p.$attrs).filter(([g])=>!c.value.includes(g)&&!(o&&YR.test(g))))}:()=>({}))},qi=({from:i,replacement:o,scope:l,version:c,ref:d,type:p="API"},g)=>{Ue(()=>v(g),b=>{},{immediate:!0})},Ix=(i,o,l,c)=>{let d={offsetX:0,offsetY:0};const p=w=>{const M=w.clientX,C=w.clientY,{offsetX:P,offsetY:A}=d,O=i.value.getBoundingClientRect(),R=O.left,N=O.top,z=O.width,T=O.height,_=document.documentElement.clientWidth,I=document.documentElement.clientHeight,K=-R+P,B=-N+A,G=_-R-z+P,$=I-N-T+A,J=Q=>{let X=P+Q.clientX-M,se=A+Q.clientY-C;c!=null&&c.value||(X=Math.min(Math.max(X,K),G),se=Math.min(Math.max(se,B),$)),d={offsetX:X,offsetY:se},i.value&&(i.value.style.transform=`translate(${Si(X)}, ${Si(se)})`)},ee=()=>{document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",ee)};document.addEventListener("mousemove",J),document.addEventListener("mouseup",ee)},g=()=>{o.value&&i.value&&o.value.addEventListener("mousedown",p)},b=()=>{o.value&&i.value&&o.value.removeEventListener("mousedown",p)};un(()=>{us(()=>{l.value?g():b()})}),ei(()=>{b()})};var XR={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const ZR=i=>(o,l)=>JR(o,l,v(i)),JR=(i,o,l)=>Ni(l,i,i).replace(/\{(\w+)\}/g,(c,d)=>{var p;return`${(p=o==null?void 0:o[d])!=null?p:`{${d}}`}`}),QR=i=>{const o=j(()=>v(i).name),l=ri(i)?i:ne(i);return{lang:o,locale:l,t:ZR(i)}},Fx=Symbol("localeContextKey"),Bn=i=>{const o=i||Tt(Fx,ne());return QR(j(()=>o.value||XR))},Qu="el",eI="is-",Ba=(i,o,l,c,d)=>{let p=`${i}-${o}`;return l&&(p+=`-${l}`),c&&(p+=`__${c}`),d&&(p+=`--${d}`),p},Bx=Symbol("namespaceContextKey"),o0=i=>{const o=i||(pn()?Tt(Bx,ne(Qu)):ne(Qu));return j(()=>v(o)||Qu)},Qe=(i,o)=>{const l=o0(o);return{namespace:l,b:(N="")=>Ba(l.value,i,N,"",""),e:N=>N?Ba(l.value,i,"",N,""):"",m:N=>N?Ba(l.value,i,"","",N):"",be:(N,z)=>N&&z?Ba(l.value,i,N,z,""):"",em:(N,z)=>N&&z?Ba(l.value,i,"",N,z):"",bm:(N,z)=>N&&z?Ba(l.value,i,N,"",z):"",bem:(N,z,T)=>N&&z&&T?Ba(l.value,i,N,z,T):"",is:(N,...z)=>{const T=z.length>=1?z[0]:!0;return N&&T?`${eI}${N}`:""},cssVar:N=>{const z={};for(const T in N)N[T]&&(z[`--${l.value}-${T}`]=N[T]);return z},cssVarName:N=>`--${l.value}-${N}`,cssVarBlock:N=>{const z={};for(const T in N)N[T]&&(z[`--${l.value}-${i}-${T}`]=N[T]);return z},cssVarBlockName:N=>`--${l.value}-${i}-${N}`}},r0=(i,o={})=>{ri(i)||Hi("[useLockscreen]","You need to pass a ref param to this function");const l=o.ns||Qe("popup"),c=j(()=>l.bm("parent","hidden"));if(!In||bo(document.body,c.value))return;let d=0,p=!1,g="0";const b=()=>{setTimeout(()=>{xs(document==null?void 0:document.body,c.value),p&&document&&(document.body.style.width=g)},200)};Ue(i,w=>{if(!w){b();return}p=!bo(document.body,c.value),p&&(g=document.body.style.width),d=Mx(l.namespace.value);const M=document.documentElement.clientHeight<document.body.scrollHeight,C=aa(document.body,"overflowY");d>0&&(M||C==="scroll")&&p&&(document.body.style.width=`calc(100% - ${d}px)`),mo(document.body,c.value)}),bw(()=>b())},tI=jo({type:Ae(Boolean),default:null}),nI=jo({type:Ae(Function)}),$x=i=>{const o=`update:${i}`,l=`onUpdate:${i}`,c=[o],d={[i]:tI,[l]:nI};return{useModelToggle:({indicator:g,toggleReason:b,shouldHideWhenRouteChanges:w,shouldProceed:M,onShow:C,onHide:P})=>{const A=pn(),{emit:O}=A,R=A.props,N=j(()=>Xt(R[l])),z=j(()=>R[i]===null),T=$=>{g.value!==!0&&(g.value=!0,b&&(b.value=$),Xt(C)&&C($))},_=$=>{g.value!==!1&&(g.value=!1,b&&(b.value=$),Xt(P)&&P($))},I=$=>{if(R.disabled===!0||Xt(M)&&!M())return;const J=N.value&&In;J&&O(o,!0),(z.value||!J)&&T($)},K=$=>{if(R.disabled===!0||!In)return;const J=N.value&&In;J&&O(o,!1),(z.value||!J)&&_($)},B=$=>{Ii($)&&(R.disabled&&$?N.value&&O(o,!1):g.value!==$&&($?T():_()))},G=()=>{g.value?K():I()};return Ue(()=>R[i],B),w&&A.appContext.config.globalProperties.$route!==void 0&&Ue(()=>({...A.proxy.$route}),()=>{w.value&&g.value&&K()}),un(()=>{B(R[i])}),{hide:K,show:I,toggle:G,hasUpdateHandler:N}},useModelToggleProps:d,useModelToggleEmits:c}};$x("modelValue");const Vx=i=>{const o=pn();return j(()=>{var l,c;return(c=(l=o==null?void 0:o.proxy)==null?void 0:l.$props)==null?void 0:c[i]})};var Vs="top",Co="bottom",Mo="right",zs="left",a0="auto",Kc=[Vs,Co,Mo,zs],su="start",yc="end",iI="clippingParents",zx="viewport",Ru="popper",sI="reference",xb=Kc.reduce(function(i,o){return i.concat([o+"-"+su,o+"-"+yc])},[]),pl=[].concat(Kc,[a0]).reduce(function(i,o){return i.concat([o,o+"-"+su,o+"-"+yc])},[]),oI="beforeRead",rI="read",aI="afterRead",lI="beforeMain",uI="main",cI="afterMain",hI="beforeWrite",dI="write",fI="afterWrite",pI=[oI,rI,aI,lI,uI,cI,hI,dI,fI];function or(i){return i?(i.nodeName||"").toLowerCase():null}function qo(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var o=i.ownerDocument;return o&&o.defaultView||window}return i}function ou(i){var o=qo(i).Element;return i instanceof o||i instanceof Element}function wo(i){var o=qo(i).HTMLElement;return i instanceof o||i instanceof HTMLElement}function l0(i){if(typeof ShadowRoot>"u")return!1;var o=qo(i).ShadowRoot;return i instanceof o||i instanceof ShadowRoot}function gI(i){var o=i.state;Object.keys(o.elements).forEach(function(l){var c=o.styles[l]||{},d=o.attributes[l]||{},p=o.elements[l];!wo(p)||!or(p)||(Object.assign(p.style,c),Object.keys(d).forEach(function(g){var b=d[g];b===!1?p.removeAttribute(g):p.setAttribute(g,b===!0?"":b)}))})}function mI(i){var o=i.state,l={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,l.popper),o.styles=l,o.elements.arrow&&Object.assign(o.elements.arrow.style,l.arrow),function(){Object.keys(o.elements).forEach(function(c){var d=o.elements[c],p=o.attributes[c]||{},g=Object.keys(o.styles.hasOwnProperty(c)?o.styles[c]:l[c]),b=g.reduce(function(w,M){return w[M]="",w},{});!wo(d)||!or(d)||(Object.assign(d.style,b),Object.keys(p).forEach(function(w){d.removeAttribute(w)}))})}}var _x={name:"applyStyles",enabled:!0,phase:"write",fn:gI,effect:mI,requires:["computeStyles"]};function nr(i){return i.split("-")[0]}var Ja=Math.max,bd=Math.min,ru=Math.round;function au(i,o){o===void 0&&(o=!1);var l=i.getBoundingClientRect(),c=1,d=1;if(wo(i)&&o){var p=i.offsetHeight,g=i.offsetWidth;g>0&&(c=ru(l.width)/g||1),p>0&&(d=ru(l.height)/p||1)}return{width:l.width/c,height:l.height/d,top:l.top/d,right:l.right/c,bottom:l.bottom/d,left:l.left/c,x:l.left/c,y:l.top/d}}function u0(i){var o=au(i),l=i.offsetWidth,c=i.offsetHeight;return Math.abs(o.width-l)<=1&&(l=o.width),Math.abs(o.height-c)<=1&&(c=o.height),{x:i.offsetLeft,y:i.offsetTop,width:l,height:c}}function Kx(i,o){var l=o.getRootNode&&o.getRootNode();if(i.contains(o))return!0;if(l&&l0(l)){var c=o;do{if(c&&i.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function Lr(i){return qo(i).getComputedStyle(i)}function vI(i){return["table","td","th"].indexOf(or(i))>=0}function Aa(i){return((ou(i)?i.ownerDocument:i.document)||window.document).documentElement}function af(i){return or(i)==="html"?i:i.assignedSlot||i.parentNode||(l0(i)?i.host:null)||Aa(i)}function Sb(i){return!wo(i)||Lr(i).position==="fixed"?null:i.offsetParent}function yI(i){var o=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,l=navigator.userAgent.indexOf("Trident")!==-1;if(l&&wo(i)){var c=Lr(i);if(c.position==="fixed")return null}var d=af(i);for(l0(d)&&(d=d.host);wo(d)&&["html","body"].indexOf(or(d))<0;){var p=Lr(d);if(p.transform!=="none"||p.perspective!=="none"||p.contain==="paint"||["transform","perspective"].indexOf(p.willChange)!==-1||o&&p.willChange==="filter"||o&&p.filter&&p.filter!=="none")return d;d=d.parentNode}return null}function Hc(i){for(var o=qo(i),l=Sb(i);l&&vI(l)&&Lr(l).position==="static";)l=Sb(l);return l&&(or(l)==="html"||or(l)==="body"&&Lr(l).position==="static")?o:l||yI(i)||o}function c0(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function ec(i,o,l){return Ja(i,bd(o,l))}function bI(i,o,l){var c=ec(i,o,l);return c>l?l:c}function Hx(){return{top:0,right:0,bottom:0,left:0}}function jx(i){return Object.assign({},Hx(),i)}function qx(i,o){return o.reduce(function(l,c){return l[c]=i,l},{})}var wI=function(i,o){return i=typeof i=="function"?i(Object.assign({},o.rects,{placement:o.placement})):i,jx(typeof i!="number"?i:qx(i,Kc))};function xI(i){var o,l=i.state,c=i.name,d=i.options,p=l.elements.arrow,g=l.modifiersData.popperOffsets,b=nr(l.placement),w=c0(b),M=[zs,Mo].indexOf(b)>=0,C=M?"height":"width";if(!(!p||!g)){var P=wI(d.padding,l),A=u0(p),O=w==="y"?Vs:zs,R=w==="y"?Co:Mo,N=l.rects.reference[C]+l.rects.reference[w]-g[w]-l.rects.popper[C],z=g[w]-l.rects.reference[w],T=Hc(p),_=T?w==="y"?T.clientHeight||0:T.clientWidth||0:0,I=N/2-z/2,K=P[O],B=_-A[C]-P[R],G=_/2-A[C]/2+I,$=ec(K,G,B),J=w;l.modifiersData[c]=(o={},o[J]=$,o.centerOffset=$-G,o)}}function SI(i){var o=i.state,l=i.options,c=l.element,d=c===void 0?"[data-popper-arrow]":c;d!=null&&(typeof d=="string"&&(d=o.elements.popper.querySelector(d),!d)||!Kx(o.elements.popper,d)||(o.elements.arrow=d))}var kI={name:"arrow",enabled:!0,phase:"main",fn:xI,effect:SI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lu(i){return i.split("-")[1]}var CI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function MI(i){var o=i.x,l=i.y,c=window,d=c.devicePixelRatio||1;return{x:ru(o*d)/d||0,y:ru(l*d)/d||0}}function kb(i){var o,l=i.popper,c=i.popperRect,d=i.placement,p=i.variation,g=i.offsets,b=i.position,w=i.gpuAcceleration,M=i.adaptive,C=i.roundOffsets,P=i.isFixed,A=g.x,O=A===void 0?0:A,R=g.y,N=R===void 0?0:R,z=typeof C=="function"?C({x:O,y:N}):{x:O,y:N};O=z.x,N=z.y;var T=g.hasOwnProperty("x"),_=g.hasOwnProperty("y"),I=zs,K=Vs,B=window;if(M){var G=Hc(l),$="clientHeight",J="clientWidth";if(G===qo(l)&&(G=Aa(l),Lr(G).position!=="static"&&b==="absolute"&&($="scrollHeight",J="scrollWidth")),G=G,d===Vs||(d===zs||d===Mo)&&p===yc){K=Co;var ee=P&&G===B&&B.visualViewport?B.visualViewport.height:G[$];N-=ee-c.height,N*=w?1:-1}if(d===zs||(d===Vs||d===Co)&&p===yc){I=Mo;var Q=P&&G===B&&B.visualViewport?B.visualViewport.width:G[J];O-=Q-c.width,O*=w?1:-1}}var X=Object.assign({position:b},M&&CI),se=C===!0?MI({x:O,y:N}):{x:O,y:N};if(O=se.x,N=se.y,w){var de;return Object.assign({},X,(de={},de[K]=_?"0":"",de[I]=T?"0":"",de.transform=(B.devicePixelRatio||1)<=1?"translate("+O+"px, "+N+"px)":"translate3d("+O+"px, "+N+"px, 0)",de))}return Object.assign({},X,(o={},o[K]=_?N+"px":"",o[I]=T?O+"px":"",o.transform="",o))}function PI(i){var o=i.state,l=i.options,c=l.gpuAcceleration,d=c===void 0?!0:c,p=l.adaptive,g=p===void 0?!0:p,b=l.roundOffsets,w=b===void 0?!0:b,M={placement:nr(o.placement),variation:lu(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:d,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,kb(Object.assign({},M,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:g,roundOffsets:w})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,kb(Object.assign({},M,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:w})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}var Gx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:PI,data:{}},vh={passive:!0};function TI(i){var o=i.state,l=i.instance,c=i.options,d=c.scroll,p=d===void 0?!0:d,g=c.resize,b=g===void 0?!0:g,w=qo(o.elements.popper),M=[].concat(o.scrollParents.reference,o.scrollParents.popper);return p&&M.forEach(function(C){C.addEventListener("scroll",l.update,vh)}),b&&w.addEventListener("resize",l.update,vh),function(){p&&M.forEach(function(C){C.removeEventListener("scroll",l.update,vh)}),b&&w.removeEventListener("resize",l.update,vh)}}var Wx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:TI,data:{}},NI={left:"right",right:"left",bottom:"top",top:"bottom"};function $h(i){return i.replace(/left|right|bottom|top/g,function(o){return NI[o]})}var AI={start:"end",end:"start"};function Cb(i){return i.replace(/start|end/g,function(o){return AI[o]})}function h0(i){var o=qo(i),l=o.pageXOffset,c=o.pageYOffset;return{scrollLeft:l,scrollTop:c}}function d0(i){return au(Aa(i)).left+h0(i).scrollLeft}function LI(i){var o=qo(i),l=Aa(i),c=o.visualViewport,d=l.clientWidth,p=l.clientHeight,g=0,b=0;return c&&(d=c.width,p=c.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(g=c.offsetLeft,b=c.offsetTop)),{width:d,height:p,x:g+d0(i),y:b}}function EI(i){var o,l=Aa(i),c=h0(i),d=(o=i.ownerDocument)==null?void 0:o.body,p=Ja(l.scrollWidth,l.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),g=Ja(l.scrollHeight,l.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),b=-c.scrollLeft+d0(i),w=-c.scrollTop;return Lr(d||l).direction==="rtl"&&(b+=Ja(l.clientWidth,d?d.clientWidth:0)-p),{width:p,height:g,x:b,y:w}}function f0(i){var o=Lr(i),l=o.overflow,c=o.overflowX,d=o.overflowY;return/auto|scroll|overlay|hidden/.test(l+d+c)}function Ux(i){return["html","body","#document"].indexOf(or(i))>=0?i.ownerDocument.body:wo(i)&&f0(i)?i:Ux(af(i))}function tc(i,o){var l;o===void 0&&(o=[]);var c=Ux(i),d=c===((l=i.ownerDocument)==null?void 0:l.body),p=qo(c),g=d?[p].concat(p.visualViewport||[],f0(c)?c:[]):c,b=o.concat(g);return d?b:b.concat(tc(af(g)))}function rg(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function DI(i){var o=au(i);return o.top=o.top+i.clientTop,o.left=o.left+i.clientLeft,o.bottom=o.top+i.clientHeight,o.right=o.left+i.clientWidth,o.width=i.clientWidth,o.height=i.clientHeight,o.x=o.left,o.y=o.top,o}function Mb(i,o){return o===zx?rg(LI(i)):ou(o)?DI(o):rg(EI(Aa(i)))}function OI(i){var o=tc(af(i)),l=["absolute","fixed"].indexOf(Lr(i).position)>=0,c=l&&wo(i)?Hc(i):i;return ou(c)?o.filter(function(d){return ou(d)&&Kx(d,c)&&or(d)!=="body"}):[]}function RI(i,o,l){var c=o==="clippingParents"?OI(i):[].concat(o),d=[].concat(c,[l]),p=d[0],g=d.reduce(function(b,w){var M=Mb(i,w);return b.top=Ja(M.top,b.top),b.right=bd(M.right,b.right),b.bottom=bd(M.bottom,b.bottom),b.left=Ja(M.left,b.left),b},Mb(i,p));return g.width=g.right-g.left,g.height=g.bottom-g.top,g.x=g.left,g.y=g.top,g}function Yx(i){var o=i.reference,l=i.element,c=i.placement,d=c?nr(c):null,p=c?lu(c):null,g=o.x+o.width/2-l.width/2,b=o.y+o.height/2-l.height/2,w;switch(d){case Vs:w={x:g,y:o.y-l.height};break;case Co:w={x:g,y:o.y+o.height};break;case Mo:w={x:o.x+o.width,y:b};break;case zs:w={x:o.x-l.width,y:b};break;default:w={x:o.x,y:o.y}}var M=d?c0(d):null;if(M!=null){var C=M==="y"?"height":"width";switch(p){case su:w[M]=w[M]-(o[C]/2-l[C]/2);break;case yc:w[M]=w[M]+(o[C]/2-l[C]/2);break}}return w}function bc(i,o){o===void 0&&(o={});var l=o,c=l.placement,d=c===void 0?i.placement:c,p=l.boundary,g=p===void 0?iI:p,b=l.rootBoundary,w=b===void 0?zx:b,M=l.elementContext,C=M===void 0?Ru:M,P=l.altBoundary,A=P===void 0?!1:P,O=l.padding,R=O===void 0?0:O,N=jx(typeof R!="number"?R:qx(R,Kc)),z=C===Ru?sI:Ru,T=i.rects.popper,_=i.elements[A?z:C],I=RI(ou(_)?_:_.contextElement||Aa(i.elements.popper),g,w),K=au(i.elements.reference),B=Yx({reference:K,element:T,strategy:"absolute",placement:d}),G=rg(Object.assign({},T,B)),$=C===Ru?G:K,J={top:I.top-$.top+N.top,bottom:$.bottom-I.bottom+N.bottom,left:I.left-$.left+N.left,right:$.right-I.right+N.right},ee=i.modifiersData.offset;if(C===Ru&&ee){var Q=ee[d];Object.keys(J).forEach(function(X){var se=[Mo,Co].indexOf(X)>=0?1:-1,de=[Vs,Co].indexOf(X)>=0?"y":"x";J[X]+=Q[de]*se})}return J}function II(i,o){o===void 0&&(o={});var l=o,c=l.placement,d=l.boundary,p=l.rootBoundary,g=l.padding,b=l.flipVariations,w=l.allowedAutoPlacements,M=w===void 0?pl:w,C=lu(c),P=C?b?xb:xb.filter(function(R){return lu(R)===C}):Kc,A=P.filter(function(R){return M.indexOf(R)>=0});A.length===0&&(A=P);var O=A.reduce(function(R,N){return R[N]=bc(i,{placement:N,boundary:d,rootBoundary:p,padding:g})[nr(N)],R},{});return Object.keys(O).sort(function(R,N){return O[R]-O[N]})}function FI(i){if(nr(i)===a0)return[];var o=$h(i);return[Cb(i),o,Cb(o)]}function BI(i){var o=i.state,l=i.options,c=i.name;if(!o.modifiersData[c]._skip){for(var d=l.mainAxis,p=d===void 0?!0:d,g=l.altAxis,b=g===void 0?!0:g,w=l.fallbackPlacements,M=l.padding,C=l.boundary,P=l.rootBoundary,A=l.altBoundary,O=l.flipVariations,R=O===void 0?!0:O,N=l.allowedAutoPlacements,z=o.options.placement,T=nr(z),_=T===z,I=w||(_||!R?[$h(z)]:FI(z)),K=[z].concat(I).reduce(function(Be,tt){return Be.concat(nr(tt)===a0?II(o,{placement:tt,boundary:C,rootBoundary:P,padding:M,flipVariations:R,allowedAutoPlacements:N}):tt)},[]),B=o.rects.reference,G=o.rects.popper,$=new Map,J=!0,ee=K[0],Q=0;Q<K.length;Q++){var X=K[Q],se=nr(X),de=lu(X)===su,ve=[Vs,Co].indexOf(se)>=0,me=ve?"width":"height",ae=bc(o,{placement:X,boundary:C,rootBoundary:P,altBoundary:A,padding:M}),ie=ve?de?Mo:zs:de?Co:Vs;B[me]>G[me]&&(ie=$h(ie));var re=$h(ie),te=[];if(p&&te.push(ae[se]<=0),b&&te.push(ae[ie]<=0,ae[re]<=0),te.every(function(Be){return Be})){ee=X,J=!1;break}$.set(X,te)}if(J)for(var ue=R?3:1,be=function(Be){var tt=K.find(function(Le){var _e=$.get(Le);if(_e)return _e.slice(0,Be).every(function(Fe){return Fe})});if(tt)return ee=tt,"break"},Ce=ue;Ce>0;Ce--){var Ne=be(Ce);if(Ne==="break")break}o.placement!==ee&&(o.modifiersData[c]._skip=!0,o.placement=ee,o.reset=!0)}}var $I={name:"flip",enabled:!0,phase:"main",fn:BI,requiresIfExists:["offset"],data:{_skip:!1}};function Pb(i,o,l){return l===void 0&&(l={x:0,y:0}),{top:i.top-o.height-l.y,right:i.right-o.width+l.x,bottom:i.bottom-o.height+l.y,left:i.left-o.width-l.x}}function Tb(i){return[Vs,Mo,Co,zs].some(function(o){return i[o]>=0})}function VI(i){var o=i.state,l=i.name,c=o.rects.reference,d=o.rects.popper,p=o.modifiersData.preventOverflow,g=bc(o,{elementContext:"reference"}),b=bc(o,{altBoundary:!0}),w=Pb(g,c),M=Pb(b,d,p),C=Tb(w),P=Tb(M);o.modifiersData[l]={referenceClippingOffsets:w,popperEscapeOffsets:M,isReferenceHidden:C,hasPopperEscaped:P},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":C,"data-popper-escaped":P})}var zI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VI};function _I(i,o,l){var c=nr(i),d=[zs,Vs].indexOf(c)>=0?-1:1,p=typeof l=="function"?l(Object.assign({},o,{placement:i})):l,g=p[0],b=p[1];return g=g||0,b=(b||0)*d,[zs,Mo].indexOf(c)>=0?{x:b,y:g}:{x:g,y:b}}function KI(i){var o=i.state,l=i.options,c=i.name,d=l.offset,p=d===void 0?[0,0]:d,g=pl.reduce(function(C,P){return C[P]=_I(P,o.rects,p),C},{}),b=g[o.placement],w=b.x,M=b.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=w,o.modifiersData.popperOffsets.y+=M),o.modifiersData[c]=g}var HI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:KI};function jI(i){var o=i.state,l=i.name;o.modifiersData[l]=Yx({reference:o.rects.reference,element:o.rects.popper,strategy:"absolute",placement:o.placement})}var Xx={name:"popperOffsets",enabled:!0,phase:"read",fn:jI,data:{}};function qI(i){return i==="x"?"y":"x"}function GI(i){var o=i.state,l=i.options,c=i.name,d=l.mainAxis,p=d===void 0?!0:d,g=l.altAxis,b=g===void 0?!1:g,w=l.boundary,M=l.rootBoundary,C=l.altBoundary,P=l.padding,A=l.tether,O=A===void 0?!0:A,R=l.tetherOffset,N=R===void 0?0:R,z=bc(o,{boundary:w,rootBoundary:M,padding:P,altBoundary:C}),T=nr(o.placement),_=lu(o.placement),I=!_,K=c0(T),B=qI(K),G=o.modifiersData.popperOffsets,$=o.rects.reference,J=o.rects.popper,ee=typeof N=="function"?N(Object.assign({},o.rects,{placement:o.placement})):N,Q=typeof ee=="number"?{mainAxis:ee,altAxis:ee}:Object.assign({mainAxis:0,altAxis:0},ee),X=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,se={x:0,y:0};if(G){if(p){var de,ve=K==="y"?Vs:zs,me=K==="y"?Co:Mo,ae=K==="y"?"height":"width",ie=G[K],re=ie+z[ve],te=ie-z[me],ue=O?-J[ae]/2:0,be=_===su?$[ae]:J[ae],Ce=_===su?-J[ae]:-$[ae],Ne=o.elements.arrow,Be=O&&Ne?u0(Ne):{width:0,height:0},tt=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:Hx(),Le=tt[ve],_e=tt[me],Fe=ec(0,$[ae],Be[ae]),gt=I?$[ae]/2-ue-Fe-Le-Q.mainAxis:be-Fe-Le-Q.mainAxis,Ye=I?-$[ae]/2+ue+Fe+_e+Q.mainAxis:Ce+Fe+_e+Q.mainAxis,Ze=o.elements.arrow&&Hc(o.elements.arrow),mt=Ze?K==="y"?Ze.clientTop||0:Ze.clientLeft||0:0,Me=(de=X==null?void 0:X[K])!=null?de:0,Ee=ie+gt-Me-mt,We=ie+Ye-Me,ot=ec(O?bd(re,Ee):re,ie,O?Ja(te,We):te);G[K]=ot,se[K]=ot-ie}if(b){var He,Je=K==="x"?Vs:zs,nt=K==="x"?Co:Mo,rt=G[B],ht=B==="y"?"height":"width",qe=rt+z[Je],Mt=rt-z[nt],Nt=[Vs,zs].indexOf(T)!==-1,Ge=(He=X==null?void 0:X[B])!=null?He:0,kt=Nt?qe:rt-$[ht]-J[ht]-Ge+Q.altAxis,Ht=Nt?rt+$[ht]+J[ht]-Ge-Q.altAxis:Mt,bn=O&&Nt?bI(kt,rt,Ht):ec(O?kt:qe,rt,O?Ht:Mt);G[B]=bn,se[B]=bn-rt}o.modifiersData[c]=se}}var WI={name:"preventOverflow",enabled:!0,phase:"main",fn:GI,requiresIfExists:["offset"]};function UI(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function YI(i){return i===qo(i)||!wo(i)?h0(i):UI(i)}function XI(i){var o=i.getBoundingClientRect(),l=ru(o.width)/i.offsetWidth||1,c=ru(o.height)/i.offsetHeight||1;return l!==1||c!==1}function ZI(i,o,l){l===void 0&&(l=!1);var c=wo(o),d=wo(o)&&XI(o),p=Aa(o),g=au(i,d),b={scrollLeft:0,scrollTop:0},w={x:0,y:0};return(c||!c&&!l)&&((or(o)!=="body"||f0(p))&&(b=YI(o)),wo(o)?(w=au(o,!0),w.x+=o.clientLeft,w.y+=o.clientTop):p&&(w.x=d0(p))),{x:g.left+b.scrollLeft-w.x,y:g.top+b.scrollTop-w.y,width:g.width,height:g.height}}function JI(i){var o=new Map,l=new Set,c=[];i.forEach(function(p){o.set(p.name,p)});function d(p){l.add(p.name);var g=[].concat(p.requires||[],p.requiresIfExists||[]);g.forEach(function(b){if(!l.has(b)){var w=o.get(b);w&&d(w)}}),c.push(p)}return i.forEach(function(p){l.has(p.name)||d(p)}),c}function QI(i){var o=JI(i);return pI.reduce(function(l,c){return l.concat(o.filter(function(d){return d.phase===c}))},[])}function eF(i){var o;return function(){return o||(o=new Promise(function(l){Promise.resolve().then(function(){o=void 0,l(i())})})),o}}function tF(i){var o=i.reduce(function(l,c){var d=l[c.name];return l[c.name]=d?Object.assign({},d,c,{options:Object.assign({},d.options,c.options),data:Object.assign({},d.data,c.data)}):c,l},{});return Object.keys(o).map(function(l){return o[l]})}var Nb={placement:"bottom",modifiers:[],strategy:"absolute"};function Ab(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return!o.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function p0(i){i===void 0&&(i={});var o=i,l=o.defaultModifiers,c=l===void 0?[]:l,d=o.defaultOptions,p=d===void 0?Nb:d;return function(g,b,w){w===void 0&&(w=p);var M={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nb,p),modifiersData:{},elements:{reference:g,popper:b},attributes:{},styles:{}},C=[],P=!1,A={state:M,setOptions:function(N){var z=typeof N=="function"?N(M.options):N;R(),M.options=Object.assign({},p,M.options,z),M.scrollParents={reference:ou(g)?tc(g):g.contextElement?tc(g.contextElement):[],popper:tc(b)};var T=QI(tF([].concat(c,M.options.modifiers)));return M.orderedModifiers=T.filter(function(_){return _.enabled}),O(),A.update()},forceUpdate:function(){if(!P){var N=M.elements,z=N.reference,T=N.popper;if(Ab(z,T)){M.rects={reference:ZI(z,Hc(T),M.options.strategy==="fixed"),popper:u0(T)},M.reset=!1,M.placement=M.options.placement,M.orderedModifiers.forEach(function(J){return M.modifiersData[J.name]=Object.assign({},J.data)});for(var _=0;_<M.orderedModifiers.length;_++){if(M.reset===!0){M.reset=!1,_=-1;continue}var I=M.orderedModifiers[_],K=I.fn,B=I.options,G=B===void 0?{}:B,$=I.name;typeof K=="function"&&(M=K({state:M,options:G,name:$,instance:A})||M)}}}},update:eF(function(){return new Promise(function(N){A.forceUpdate(),N(M)})}),destroy:function(){R(),P=!0}};if(!Ab(g,b))return A;A.setOptions(w).then(function(N){!P&&w.onFirstUpdate&&w.onFirstUpdate(N)});function O(){M.orderedModifiers.forEach(function(N){var z=N.name,T=N.options,_=T===void 0?{}:T,I=N.effect;if(typeof I=="function"){var K=I({state:M,name:z,instance:A,options:_}),B=function(){};C.push(K||B)}})}function R(){C.forEach(function(N){return N()}),C=[]}return A}}p0();var nF=[Wx,Xx,Gx,_x];p0({defaultModifiers:nF});var iF=[Wx,Xx,Gx,_x,HI,$I,WI,kI,zI],sF=p0({defaultModifiers:iF});const oF=(i,o,l={})=>{const c={name:"updateState",enabled:!0,phase:"write",fn:({state:w})=>{const M=rF(w);Object.assign(g.value,M)},requires:["computeStyles"]},d=j(()=>{const{onFirstUpdate:w,placement:M,strategy:C,modifiers:P}=v(l);return{onFirstUpdate:w,placement:M||"bottom",strategy:C||"absolute",modifiers:[...P||[],c,{name:"applyStyles",enabled:!1}]}}),p=oi(),g=ne({styles:{popper:{position:v(d).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),b=()=>{p.value&&(p.value.destroy(),p.value=void 0)};return Ue(d,w=>{const M=v(p);M&&M.setOptions(w)},{deep:!0}),Ue([i,o],([w,M])=>{b(),!(!w||!M)&&(p.value=sF(w,M,v(d)))}),ei(()=>{b()}),{state:j(()=>{var w;return{...((w=v(p))==null?void 0:w.state)||{}}}),styles:j(()=>v(g).styles),attributes:j(()=>v(g).attributes),update:()=>{var w;return(w=v(p))==null?void 0:w.update()},forceUpdate:()=>{var w;return(w=v(p))==null?void 0:w.forceUpdate()},instanceRef:j(()=>v(p))}};function rF(i){const o=Object.keys(i.elements),l=yd(o.map(d=>[d,i.styles[d]||{}])),c=yd(o.map(d=>[d,i.attributes[d]]));return{styles:l,attributes:c}}const g0=i=>{if(!i)return{onClick:jn,onMousedown:jn,onMouseup:jn};let o=!1,l=!1;return{onClick:g=>{o&&l&&i(g),o=l=!1},onMousedown:g=>{o=g.target===g.currentTarget},onMouseup:g=>{l=g.target===g.currentTarget}}},aF=(i,o=0)=>{if(o===0)return i;const l=ne(!1);let c=0;const d=()=>{c&&clearTimeout(c),c=window.setTimeout(()=>{l.value=i.value},o)};return un(d),Ue(()=>i.value,p=>{p?d():l.value=p}),l};function Lb(){let i;const o=(c,d)=>{l(),i=window.setTimeout(c,d)},l=()=>window.clearTimeout(i);return Fc(()=>l()),{registerTimeout:o,cancelTimeout:l}}const Eb={prefix:Math.floor(Math.random()*1e4),current:0},lF=Symbol("elIdInjection"),m0=()=>pn()?Tt(lF,Eb):Eb,hs=i=>{const o=m0(),l=o0();return j(()=>v(i)||`${l.value}-id-${o.prefix}-${o.current++}`)};let El=[];const Db=i=>{const o=i;o.key===Gt.esc&&El.forEach(l=>l(o))},uF=i=>{un(()=>{El.length===0&&document.addEventListener("keydown",Db),In&&El.push(i)}),ei(()=>{El=El.filter(o=>o!==i),El.length===0&&In&&document.removeEventListener("keydown",Db)})};let Ob;const Zx=()=>{const i=o0(),o=m0(),l=j(()=>`${i.value}-popper-container-${o.prefix}`),c=j(()=>`#${l.value}`);return{id:l,selector:c}},cF=i=>{const o=document.createElement("div");return o.id=i,document.body.appendChild(o),o},hF=()=>{const{id:i,selector:o}=Zx();return Gd(()=>{In&&!Ob&&!document.body.querySelector(o.value)&&(Ob=cF(i.value))}),{id:i,selector:o}},dF=lt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),fF=({showAfter:i,hideAfter:o,autoClose:l,open:c,close:d})=>{const{registerTimeout:p}=Lb(),{registerTimeout:g,cancelTimeout:b}=Lb();return{onOpen:C=>{p(()=>{c(C);const P=v(l);Yt(P)&&P>0&&g(()=>{d(C)},P)},v(i))},onClose:C=>{b(),p(()=>{d(C)},v(o))}}},Jx=Symbol("elForwardRef"),pF=i=>{En(Jx,{setForwardRef:l=>{i.value=l}})},gF=i=>({mounted(o){i(o)},updated(o){i(o)},unmounted(){i(null)}}),Rb={current:0},Ib=ne(0),Qx=2e3,Fb=Symbol("elZIndexContextKey"),eS=Symbol("zIndexContextKey"),Su=i=>{const o=pn()?Tt(Fb,Rb):Rb,l=i||(pn()?Tt(eS,void 0):void 0),c=j(()=>{const g=v(l);return Yt(g)?g:Qx}),d=j(()=>c.value+Ib.value),p=()=>(o.current++,Ib.value=o.current,d.value);return!In&&Tt(Fb),{initialZIndex:c,currentZIndex:d,nextZIndex:p}},uu=Math.min,Qa=Math.max,wd=Math.round,yh=Math.floor,xa=i=>({x:i,y:i}),mF={left:"right",right:"left",bottom:"top",top:"bottom"},vF={start:"end",end:"start"};function ag(i,o,l){return Qa(i,uu(o,l))}function jc(i,o){return typeof i=="function"?i(o):i}function rl(i){return i.split("-")[0]}function qc(i){return i.split("-")[1]}function tS(i){return i==="x"?"y":"x"}function v0(i){return i==="y"?"height":"width"}function lf(i){return["top","bottom"].includes(rl(i))?"y":"x"}function y0(i){return tS(lf(i))}function yF(i,o,l){l===void 0&&(l=!1);const c=qc(i),d=y0(i),p=v0(d);let g=d==="x"?c===(l?"end":"start")?"right":"left":c==="start"?"bottom":"top";return o.reference[p]>o.floating[p]&&(g=xd(g)),[g,xd(g)]}function bF(i){const o=xd(i);return[lg(i),o,lg(o)]}function lg(i){return i.replace(/start|end/g,o=>vF[o])}function wF(i,o,l){const c=["left","right"],d=["right","left"],p=["top","bottom"],g=["bottom","top"];switch(i){case"top":case"bottom":return l?o?d:c:o?c:d;case"left":case"right":return o?p:g;default:return[]}}function xF(i,o,l,c){const d=qc(i);let p=wF(rl(i),l==="start",c);return d&&(p=p.map(g=>g+"-"+d),o&&(p=p.concat(p.map(lg)))),p}function xd(i){return i.replace(/left|right|bottom|top/g,o=>mF[o])}function SF(i){return{top:0,right:0,bottom:0,left:0,...i}}function nS(i){return typeof i!="number"?SF(i):{top:i,right:i,bottom:i,left:i}}function Sd(i){const{x:o,y:l,width:c,height:d}=i;return{width:c,height:d,top:l,left:o,right:o+c,bottom:l+d,x:o,y:l}}function Bb(i,o,l){let{reference:c,floating:d}=i;const p=lf(o),g=y0(o),b=v0(g),w=rl(o),M=p==="y",C=c.x+c.width/2-d.width/2,P=c.y+c.height/2-d.height/2,A=c[b]/2-d[b]/2;let O;switch(w){case"top":O={x:C,y:c.y-d.height};break;case"bottom":O={x:C,y:c.y+c.height};break;case"right":O={x:c.x+c.width,y:P};break;case"left":O={x:c.x-d.width,y:P};break;default:O={x:c.x,y:c.y}}switch(qc(o)){case"start":O[g]-=A*(l&&M?-1:1);break;case"end":O[g]+=A*(l&&M?-1:1);break}return O}const kF=async(i,o,l)=>{const{placement:c="bottom",strategy:d="absolute",middleware:p=[],platform:g}=l,b=p.filter(Boolean),w=await(g.isRTL==null?void 0:g.isRTL(o));let M=await g.getElementRects({reference:i,floating:o,strategy:d}),{x:C,y:P}=Bb(M,c,w),A=c,O={},R=0;for(let N=0;N<b.length;N++){const{name:z,fn:T}=b[N],{x:_,y:I,data:K,reset:B}=await T({x:C,y:P,initialPlacement:c,placement:A,strategy:d,middlewareData:O,rects:M,platform:g,elements:{reference:i,floating:o}});C=_??C,P=I??P,O={...O,[z]:{...O[z],...K}},B&&R<=50&&(R++,typeof B=="object"&&(B.placement&&(A=B.placement),B.rects&&(M=B.rects===!0?await g.getElementRects({reference:i,floating:o,strategy:d}):B.rects),{x:C,y:P}=Bb(M,A,w)),N=-1)}return{x:C,y:P,placement:A,strategy:d,middlewareData:O}};async function b0(i,o){var l;o===void 0&&(o={});const{x:c,y:d,platform:p,rects:g,elements:b,strategy:w}=i,{boundary:M="clippingAncestors",rootBoundary:C="viewport",elementContext:P="floating",altBoundary:A=!1,padding:O=0}=jc(o,i),R=nS(O),z=b[A?P==="floating"?"reference":"floating":P],T=Sd(await p.getClippingRect({element:(l=await(p.isElement==null?void 0:p.isElement(z)))==null||l?z:z.contextElement||await(p.getDocumentElement==null?void 0:p.getDocumentElement(b.floating)),boundary:M,rootBoundary:C,strategy:w})),_=P==="floating"?{x:c,y:d,width:g.floating.width,height:g.floating.height}:g.reference,I=await(p.getOffsetParent==null?void 0:p.getOffsetParent(b.floating)),K=await(p.isElement==null?void 0:p.isElement(I))?await(p.getScale==null?void 0:p.getScale(I))||{x:1,y:1}:{x:1,y:1},B=Sd(p.convertOffsetParentRelativeRectToViewportRelativeRect?await p.convertOffsetParentRelativeRectToViewportRelativeRect({elements:b,rect:_,offsetParent:I,strategy:w}):_);return{top:(T.top-B.top+R.top)/K.y,bottom:(B.bottom-T.bottom+R.bottom)/K.y,left:(T.left-B.left+R.left)/K.x,right:(B.right-T.right+R.right)/K.x}}const CF=i=>({name:"arrow",options:i,async fn(o){const{x:l,y:c,placement:d,rects:p,platform:g,elements:b,middlewareData:w}=o,{element:M,padding:C=0}=jc(i,o)||{};if(M==null)return{};const P=nS(C),A={x:l,y:c},O=y0(d),R=v0(O),N=await g.getDimensions(M),z=O==="y",T=z?"top":"left",_=z?"bottom":"right",I=z?"clientHeight":"clientWidth",K=p.reference[R]+p.reference[O]-A[O]-p.floating[R],B=A[O]-p.reference[O],G=await(g.getOffsetParent==null?void 0:g.getOffsetParent(M));let $=G?G[I]:0;(!$||!await(g.isElement==null?void 0:g.isElement(G)))&&($=b.floating[I]||p.floating[R]);const J=K/2-B/2,ee=$/2-N[R]/2-1,Q=uu(P[T],ee),X=uu(P[_],ee),se=Q,de=$-N[R]-X,ve=$/2-N[R]/2+J,me=ag(se,ve,de),ae=!w.arrow&&qc(d)!=null&&ve!==me&&p.reference[R]/2-(ve<se?Q:X)-N[R]/2<0,ie=ae?ve<se?ve-se:ve-de:0;return{[O]:A[O]+ie,data:{[O]:me,centerOffset:ve-me-ie,...ae&&{alignmentOffset:ie}},reset:ae}}}),MF=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(o){var l,c;const{placement:d,middlewareData:p,rects:g,initialPlacement:b,platform:w,elements:M}=o,{mainAxis:C=!0,crossAxis:P=!0,fallbackPlacements:A,fallbackStrategy:O="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:N=!0,...z}=jc(i,o);if((l=p.arrow)!=null&&l.alignmentOffset)return{};const T=rl(d),_=rl(b)===b,I=await(w.isRTL==null?void 0:w.isRTL(M.floating)),K=A||(_||!N?[xd(b)]:bF(b));!A&&R!=="none"&&K.push(...xF(b,N,R,I));const B=[b,...K],G=await b0(o,z),$=[];let J=((c=p.flip)==null?void 0:c.overflows)||[];if(C&&$.push(G[T]),P){const se=yF(d,g,I);$.push(G[se[0]],G[se[1]])}if(J=[...J,{placement:d,overflows:$}],!$.every(se=>se<=0)){var ee,Q;const se=(((ee=p.flip)==null?void 0:ee.index)||0)+1,de=B[se];if(de)return{data:{index:se,overflows:J},reset:{placement:de}};let ve=(Q=J.filter(me=>me.overflows[0]<=0).sort((me,ae)=>me.overflows[1]-ae.overflows[1])[0])==null?void 0:Q.placement;if(!ve)switch(O){case"bestFit":{var X;const me=(X=J.map(ae=>[ae.placement,ae.overflows.filter(ie=>ie>0).reduce((ie,re)=>ie+re,0)]).sort((ae,ie)=>ae[1]-ie[1])[0])==null?void 0:X[0];me&&(ve=me);break}case"initialPlacement":ve=b;break}if(d!==ve)return{reset:{placement:ve}}}return{}}}};async function PF(i,o){const{placement:l,platform:c,elements:d}=i,p=await(c.isRTL==null?void 0:c.isRTL(d.floating)),g=rl(l),b=qc(l),w=lf(l)==="y",M=["left","top"].includes(g)?-1:1,C=p&&w?-1:1,P=jc(o,i);let{mainAxis:A,crossAxis:O,alignmentAxis:R}=typeof P=="number"?{mainAxis:P,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...P};return b&&typeof R=="number"&&(O=b==="end"?R*-1:R),w?{x:O*C,y:A*M}:{x:A*M,y:O*C}}const TF=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(o){var l,c;const{x:d,y:p,placement:g,middlewareData:b}=o,w=await PF(o,i);return g===((l=b.offset)==null?void 0:l.placement)&&(c=b.arrow)!=null&&c.alignmentOffset?{}:{x:d+w.x,y:p+w.y,data:{...w,placement:g}}}}},NF=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(o){const{x:l,y:c,placement:d}=o,{mainAxis:p=!0,crossAxis:g=!1,limiter:b={fn:z=>{let{x:T,y:_}=z;return{x:T,y:_}}},...w}=jc(i,o),M={x:l,y:c},C=await b0(o,w),P=lf(rl(d)),A=tS(P);let O=M[A],R=M[P];if(p){const z=A==="y"?"top":"left",T=A==="y"?"bottom":"right",_=O+C[z],I=O-C[T];O=ag(_,O,I)}if(g){const z=P==="y"?"top":"left",T=P==="y"?"bottom":"right",_=R+C[z],I=R-C[T];R=ag(_,R,I)}const N=b.fn({...o,[A]:O,[P]:R});return{...N,data:{x:N.x-l,y:N.y-c}}}}};function ku(i){return iS(i)?(i.nodeName||"").toLowerCase():"#document"}function to(i){var o;return(i==null||(o=i.ownerDocument)==null?void 0:o.defaultView)||window}function Br(i){var o;return(o=(iS(i)?i.ownerDocument:i.document)||window.document)==null?void 0:o.documentElement}function iS(i){return i instanceof Node||i instanceof to(i).Node}function rr(i){return i instanceof Element||i instanceof to(i).Element}function ar(i){return i instanceof HTMLElement||i instanceof to(i).HTMLElement}function $b(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof to(i).ShadowRoot}function Gc(i){const{overflow:o,overflowX:l,overflowY:c,display:d}=Ko(i);return/auto|scroll|overlay|hidden|clip/.test(o+c+l)&&!["inline","contents"].includes(d)}function AF(i){return["table","td","th"].includes(ku(i))}function w0(i){const o=x0(),l=Ko(i);return l.transform!=="none"||l.perspective!=="none"||(l.containerType?l.containerType!=="normal":!1)||!o&&(l.backdropFilter?l.backdropFilter!=="none":!1)||!o&&(l.filter?l.filter!=="none":!1)||["transform","perspective","filter"].some(c=>(l.willChange||"").includes(c))||["paint","layout","strict","content"].some(c=>(l.contain||"").includes(c))}function LF(i){let o=Sa(i);for(;ar(o)&&!cu(o);){if(w0(o))return o;o=Sa(o)}return null}function x0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cu(i){return["html","body","#document"].includes(ku(i))}function Ko(i){return to(i).getComputedStyle(i)}function uf(i){return rr(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function Sa(i){if(ku(i)==="html")return i;const o=i.assignedSlot||i.parentNode||$b(i)&&i.host||Br(i);return $b(o)?o.host:o}function sS(i){const o=Sa(i);return cu(o)?i.ownerDocument?i.ownerDocument.body:i.body:ar(o)&&Gc(o)?o:sS(o)}function wc(i,o,l){var c;o===void 0&&(o=[]),l===void 0&&(l=!0);const d=sS(i),p=d===((c=i.ownerDocument)==null?void 0:c.body),g=to(d);return p?o.concat(g,g.visualViewport||[],Gc(d)?d:[],g.frameElement&&l?wc(g.frameElement):[]):o.concat(d,wc(d,[],l))}function oS(i){const o=Ko(i);let l=parseFloat(o.width)||0,c=parseFloat(o.height)||0;const d=ar(i),p=d?i.offsetWidth:l,g=d?i.offsetHeight:c,b=wd(l)!==p||wd(c)!==g;return b&&(l=p,c=g),{width:l,height:c,$:b}}function S0(i){return rr(i)?i:i.contextElement}function jl(i){const o=S0(i);if(!ar(o))return xa(1);const l=o.getBoundingClientRect(),{width:c,height:d,$:p}=oS(o);let g=(p?wd(l.width):l.width)/c,b=(p?wd(l.height):l.height)/d;return(!g||!Number.isFinite(g))&&(g=1),(!b||!Number.isFinite(b))&&(b=1),{x:g,y:b}}const EF=xa(0);function rS(i){const o=to(i);return!x0()||!o.visualViewport?EF:{x:o.visualViewport.offsetLeft,y:o.visualViewport.offsetTop}}function DF(i,o,l){return o===void 0&&(o=!1),!l||o&&l!==to(i)?!1:o}function al(i,o,l,c){o===void 0&&(o=!1),l===void 0&&(l=!1);const d=i.getBoundingClientRect(),p=S0(i);let g=xa(1);o&&(c?rr(c)&&(g=jl(c)):g=jl(i));const b=DF(p,l,c)?rS(p):xa(0);let w=(d.left+b.x)/g.x,M=(d.top+b.y)/g.y,C=d.width/g.x,P=d.height/g.y;if(p){const A=to(p),O=c&&rr(c)?to(c):c;let R=A,N=R.frameElement;for(;N&&c&&O!==R;){const z=jl(N),T=N.getBoundingClientRect(),_=Ko(N),I=T.left+(N.clientLeft+parseFloat(_.paddingLeft))*z.x,K=T.top+(N.clientTop+parseFloat(_.paddingTop))*z.y;w*=z.x,M*=z.y,C*=z.x,P*=z.y,w+=I,M+=K,R=to(N),N=R.frameElement}}return Sd({width:C,height:P,x:w,y:M})}const OF=[":popover-open",":modal"];function k0(i){return OF.some(o=>{try{return i.matches(o)}catch{return!1}})}function RF(i){let{elements:o,rect:l,offsetParent:c,strategy:d}=i;const p=d==="fixed",g=Br(c),b=o?k0(o.floating):!1;if(c===g||b&&p)return l;let w={scrollLeft:0,scrollTop:0},M=xa(1);const C=xa(0),P=ar(c);if((P||!P&&!p)&&((ku(c)!=="body"||Gc(g))&&(w=uf(c)),ar(c))){const A=al(c);M=jl(c),C.x=A.x+c.clientLeft,C.y=A.y+c.clientTop}return{width:l.width*M.x,height:l.height*M.y,x:l.x*M.x-w.scrollLeft*M.x+C.x,y:l.y*M.y-w.scrollTop*M.y+C.y}}function IF(i){return Array.from(i.getClientRects())}function aS(i){return al(Br(i)).left+uf(i).scrollLeft}function FF(i){const o=Br(i),l=uf(i),c=i.ownerDocument.body,d=Qa(o.scrollWidth,o.clientWidth,c.scrollWidth,c.clientWidth),p=Qa(o.scrollHeight,o.clientHeight,c.scrollHeight,c.clientHeight);let g=-l.scrollLeft+aS(i);const b=-l.scrollTop;return Ko(c).direction==="rtl"&&(g+=Qa(o.clientWidth,c.clientWidth)-d),{width:d,height:p,x:g,y:b}}function BF(i,o){const l=to(i),c=Br(i),d=l.visualViewport;let p=c.clientWidth,g=c.clientHeight,b=0,w=0;if(d){p=d.width,g=d.height;const M=x0();(!M||M&&o==="fixed")&&(b=d.offsetLeft,w=d.offsetTop)}return{width:p,height:g,x:b,y:w}}function $F(i,o){const l=al(i,!0,o==="fixed"),c=l.top+i.clientTop,d=l.left+i.clientLeft,p=ar(i)?jl(i):xa(1),g=i.clientWidth*p.x,b=i.clientHeight*p.y,w=d*p.x,M=c*p.y;return{width:g,height:b,x:w,y:M}}function Vb(i,o,l){let c;if(o==="viewport")c=BF(i,l);else if(o==="document")c=FF(Br(i));else if(rr(o))c=$F(o,l);else{const d=rS(i);c={...o,x:o.x-d.x,y:o.y-d.y}}return Sd(c)}function lS(i,o){const l=Sa(i);return l===o||!rr(l)||cu(l)?!1:Ko(l).position==="fixed"||lS(l,o)}function VF(i,o){const l=o.get(i);if(l)return l;let c=wc(i,[],!1).filter(b=>rr(b)&&ku(b)!=="body"),d=null;const p=Ko(i).position==="fixed";let g=p?Sa(i):i;for(;rr(g)&&!cu(g);){const b=Ko(g),w=w0(g);!w&&b.position==="fixed"&&(d=null),(p?!w&&!d:!w&&b.position==="static"&&!!d&&["absolute","fixed"].includes(d.position)||Gc(g)&&!w&&lS(i,g))?c=c.filter(C=>C!==g):d=b,g=Sa(g)}return o.set(i,c),c}function zF(i){let{element:o,boundary:l,rootBoundary:c,strategy:d}=i;const g=[...l==="clippingAncestors"?k0(o)?[]:VF(o,this._c):[].concat(l),c],b=g[0],w=g.reduce((M,C)=>{const P=Vb(o,C,d);return M.top=Qa(P.top,M.top),M.right=uu(P.right,M.right),M.bottom=uu(P.bottom,M.bottom),M.left=Qa(P.left,M.left),M},Vb(o,b,d));return{width:w.right-w.left,height:w.bottom-w.top,x:w.left,y:w.top}}function _F(i){const{width:o,height:l}=oS(i);return{width:o,height:l}}function KF(i,o,l){const c=ar(o),d=Br(o),p=l==="fixed",g=al(i,!0,p,o);let b={scrollLeft:0,scrollTop:0};const w=xa(0);if(c||!c&&!p)if((ku(o)!=="body"||Gc(d))&&(b=uf(o)),c){const P=al(o,!0,p,o);w.x=P.x+o.clientLeft,w.y=P.y+o.clientTop}else d&&(w.x=aS(d));const M=g.left+b.scrollLeft-w.x,C=g.top+b.scrollTop-w.y;return{x:M,y:C,width:g.width,height:g.height}}function pp(i){return Ko(i).position==="static"}function zb(i,o){return!ar(i)||Ko(i).position==="fixed"?null:o?o(i):i.offsetParent}function uS(i,o){const l=to(i);if(k0(i))return l;if(!ar(i)){let d=Sa(i);for(;d&&!cu(d);){if(rr(d)&&!pp(d))return d;d=Sa(d)}return l}let c=zb(i,o);for(;c&&AF(c)&&pp(c);)c=zb(c,o);return c&&cu(c)&&pp(c)&&!w0(c)?l:c||LF(i)||l}const HF=async function(i){const o=this.getOffsetParent||uS,l=this.getDimensions,c=await l(i.floating);return{reference:KF(i.reference,await o(i.floating),i.strategy),floating:{x:0,y:0,width:c.width,height:c.height}}};function jF(i){return Ko(i).direction==="rtl"}const qF={convertOffsetParentRelativeRectToViewportRelativeRect:RF,getDocumentElement:Br,getClippingRect:zF,getOffsetParent:uS,getElementRects:HF,getClientRects:IF,getDimensions:_F,getScale:jl,isElement:rr,isRTL:jF};function GF(i,o){let l=null,c;const d=Br(i);function p(){var b;clearTimeout(c),(b=l)==null||b.disconnect(),l=null}function g(b,w){b===void 0&&(b=!1),w===void 0&&(w=1),p();const{left:M,top:C,width:P,height:A}=i.getBoundingClientRect();if(b||o(),!P||!A)return;const O=yh(C),R=yh(d.clientWidth-(M+P)),N=yh(d.clientHeight-(C+A)),z=yh(M),_={rootMargin:-O+"px "+-R+"px "+-N+"px "+-z+"px",threshold:Qa(0,uu(1,w))||1};let I=!0;function K(B){const G=B[0].intersectionRatio;if(G!==w){if(!I)return g();G?g(!1,G):c=setTimeout(()=>{g(!1,1e-7)},1e3)}I=!1}try{l=new IntersectionObserver(K,{..._,root:d.ownerDocument})}catch{l=new IntersectionObserver(K,_)}l.observe(i)}return g(!0),p}function WF(i,o,l,c){c===void 0&&(c={});const{ancestorScroll:d=!0,ancestorResize:p=!0,elementResize:g=typeof ResizeObserver=="function",layoutShift:b=typeof IntersectionObserver=="function",animationFrame:w=!1}=c,M=S0(i),C=d||p?[...M?wc(M):[],...wc(o)]:[];C.forEach(T=>{d&&T.addEventListener("scroll",l,{passive:!0}),p&&T.addEventListener("resize",l)});const P=M&&b?GF(M,l):null;let A=-1,O=null;g&&(O=new ResizeObserver(T=>{let[_]=T;_&&_.target===M&&O&&(O.unobserve(o),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var I;(I=O)==null||I.observe(o)})),l()}),M&&!w&&O.observe(M),O.observe(o));let R,N=w?al(i):null;w&&z();function z(){const T=al(i);N&&(T.x!==N.x||T.y!==N.y||T.width!==N.width||T.height!==N.height)&&l(),N=T,R=requestAnimationFrame(z)}return l(),()=>{var T;C.forEach(_=>{d&&_.removeEventListener("scroll",l),p&&_.removeEventListener("resize",l)}),P==null||P(),(T=O)==null||T.disconnect(),O=null,w&&cancelAnimationFrame(R)}}const UF=b0,cS=TF,YF=NF,XF=MF,hS=CF,dS=(i,o,l)=>{const c=new Map,d={platform:qF,...l},p={...d.platform,_c:c};return kF(i,o,{...d,platform:p})};lt({});const ZF=i=>{if(!In)return;if(!i)return i;const o=$s(i);return o||(ri(i)?o:i)},JF=({middleware:i,placement:o,strategy:l})=>{const c=ne(),d=ne(),p=ne(),g=ne(),b=ne({}),w={x:p,y:g,placement:o,strategy:l,middlewareData:b},M=async()=>{if(!In)return;const C=ZF(c),P=$s(d);if(!C||!P)return;const A=await dS(C,P,{placement:v(o),strategy:v(l),middleware:v(i)});tu(w).forEach(O=>{w[O].value=A[O]})};return un(()=>{us(()=>{M()})}),{...w,update:M,referenceRef:c,contentRef:d}},QF=({arrowRef:i,padding:o})=>({name:"arrow",options:{element:i,padding:o},fn(l){const c=v(i);return c?hS({element:c,padding:o}).fn(l):{}}});function eB(i){const o=ne();function l(){if(i.value==null)return;const{selectionStart:d,selectionEnd:p,value:g}=i.value;if(d==null||p==null)return;const b=g.slice(0,Math.max(0,d)),w=g.slice(Math.max(0,p));o.value={selectionStart:d,selectionEnd:p,value:g,beforeTxt:b,afterTxt:w}}function c(){if(i.value==null||o.value==null)return;const{value:d}=i.value,{beforeTxt:p,afterTxt:g,selectionStart:b}=o.value;if(p==null||g==null||b==null)return;let w=d.length;if(d.endsWith(g))w=d.length-g.length;else if(d.startsWith(p))w=p.length;else{const M=p[b-1],C=d.indexOf(M,b-1);C!==-1&&(w=C+1)}i.value.setSelectionRange(w,w)}return[l,c]}const tB=(i,o,l)=>da(i.subTree).filter(p=>{var g;return li(p)&&((g=p.type)==null?void 0:g.name)===o&&!!p.component}).map(p=>p.component.uid).map(p=>l[p]).filter(p=>!!p),C0=(i,o)=>{const l={},c=oi([]);return{children:c,addChild:g=>{l[g.uid]=g,c.value=tB(i,o,l)},removeChild:g=>{delete l[g],c.value=c.value.filter(b=>b.uid!==g)}}},ji=jo({type:String,values:ur,required:!1}),fS=Symbol("size"),nB=()=>{const i=Tt(fS,{});return j(()=>v(i.size)||"")};function cf(i,{afterFocus:o,beforeBlur:l,afterBlur:c}={}){const d=pn(),{emit:p}=d,g=oi(),b=ne(!1),w=P=>{b.value||(b.value=!0,p("focus",P),o==null||o())},M=P=>{var A;Xt(l)&&l(P)||P.relatedTarget&&((A=g.value)!=null&&A.contains(P.relatedTarget))||(b.value=!1,p("blur",P),c==null||c())},C=()=>{var P;(P=i.value)==null||P.focus()};return Ue(g,P=>{P&&P.setAttribute("tabindex","-1")}),ii(g,"click",C),{wrapperRef:g,isFocused:b,handleFocus:w,handleBlur:M}}const iB=["",void 0,null],sB=void 0,Cu=lt({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:i=>Xt(i)?!i():!i}}),hf=(i,o)=>{let l=Wc();l.value||(l=ne({}));const c=j(()=>i.emptyValues||l.value.emptyValues||iB),d=j(()=>Xt(i.valueOnClear)?i.valueOnClear():i.valueOnClear!==void 0?i.valueOnClear:Xt(l.value.valueOnClear)?l.value.valueOnClear():l.value.valueOnClear!==void 0?l.value.valueOnClear:o!==void 0?o:sB),p=g=>c.value.includes(g);return c.value.includes(d.value),{emptyValues:c,valueOnClear:d,isEmptyValue:p}},oB=lt({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),os=i=>er(oB,i),pS=Symbol(),kd=ne();function Wc(i,o=void 0){const l=pn()?Tt(pS,kd):kd;return i?j(()=>{var c,d;return(d=(c=l.value)==null?void 0:c[i])!=null?d:o}):l}function df(i,o){const l=Wc(),c=Qe(i,j(()=>{var b;return((b=l.value)==null?void 0:b.namespace)||Qu})),d=Bn(j(()=>{var b;return(b=l.value)==null?void 0:b.locale})),p=Su(j(()=>{var b;return((b=l.value)==null?void 0:b.zIndex)||Qx})),g=j(()=>{var b;return v(o)||((b=l.value)==null?void 0:b.size)||""});return M0(j(()=>v(l)||{})),{ns:c,locale:d,zIndex:p,size:g}}const M0=(i,o,l=!1)=>{var c;const d=!!pn(),p=d?Wc():void 0,g=(c=o==null?void 0:o.provide)!=null?c:d?En:void 0;if(!g)return;const b=j(()=>{const w=v(i);return p!=null&&p.value?rB(p.value,w):w});return g(pS,b),g(Fx,j(()=>b.value.locale)),g(Bx,j(()=>b.value.namespace)),g(eS,j(()=>b.value.zIndex)),g(fS,{size:j(()=>b.value.size||"")}),(l||!kd.value)&&(kd.value=b.value),b},rB=(i,o)=>{const l=[...new Set([...tu(i),...tu(o)])],c={};for(const d of l)c[d]=o[d]!==void 0?o[d]:i[d];return c},aB=lt({a11y:{type:Boolean,default:!0},locale:{type:Ae(Object)},size:ji,button:{type:Ae(Object)},experimentalFeatures:{type:Ae(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Ae(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Cu}),ug={},lB=xe({name:"ElConfigProvider",props:aB,setup(i,{slots:o}){Ue(()=>i.message,c=>{Object.assign(ug,c??{})},{immediate:!0,deep:!0});const l=M0(i);return()=>ze(o,"default",{config:l==null?void 0:l.value})}}),uB=gn(lB),cB="2.7.6",hB=(i=[])=>({version:cB,install:(l,c)=>{l[bb]||(l[bb]=!0,i.forEach(d=>l.use(d)),c&&M0(c,l,!0))}}),dB=lt({zIndex:{type:Ae([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),fB={scroll:({scrollTop:i,fixed:o})=>Yt(i)&&Ii(o),[si]:i=>Ii(i)};var ct=(i,o)=>{const l=i.__vccOpts||i;for(const[c,d]of o)l[c]=d;return l};const gS="ElAffix",pB=xe({name:gS}),gB=xe({...pB,props:dB,emits:fB,setup(i,{expose:o,emit:l}){const c=i,d=Qe("affix"),p=oi(),g=oi(),b=oi(),{height:w}=ZN(),{height:M,width:C,top:P,bottom:A,update:O}=Oy(g,{windowScroll:!1}),R=Oy(p),N=ne(!1),z=ne(0),T=ne(0),_=j(()=>({height:N.value?`${M.value}px`:"",width:N.value?`${C.value}px`:""})),I=j(()=>{if(!N.value)return{};const G=c.offset?Si(c.offset):0;return{height:`${M.value}px`,width:`${C.value}px`,top:c.position==="top"?G:"",bottom:c.position==="bottom"?G:"",transform:T.value?`translateY(${T.value}px)`:"",zIndex:c.zIndex}}),K=()=>{if(b.value)if(z.value=b.value instanceof Window?document.documentElement.scrollTop:b.value.scrollTop||0,c.position==="top")if(c.target){const G=R.bottom.value-c.offset-M.value;N.value=c.offset>P.value&&R.bottom.value>0,T.value=G<0?G:0}else N.value=c.offset>P.value;else if(c.target){const G=w.value-R.top.value-c.offset-M.value;N.value=w.value-c.offset<A.value&&w.value>R.top.value,T.value=G<0?-G:0}else N.value=w.value-c.offset<A.value},B=()=>{O(),l("scroll",{scrollTop:z.value,fixed:N.value})};return Ue(N,G=>l("change",G)),un(()=>{var G;c.target?(p.value=(G=document.querySelector(c.target))!=null?G:void 0,p.value||Hi(gS,`Target does not exist: ${c.target}`)):p.value=document.documentElement,b.value=Ym(g.value,!0),O()}),ii(b,"scroll",B),us(K),o({update:K,updateRoot:O}),(G,$)=>(Y(),fe("div",{ref_key:"root",ref:g,class:Z(v(d).b()),style:Ft(v(_))},[pe("div",{class:Z({[v(d).m("fixed")]:N.value}),style:Ft(v(I))},[ze(G.$slots,"default")],6)],6))}});var mB=ct(gB,[["__file","affix.vue"]]);const vB=gn(mB),yB=lt({size:{type:Ae([Number,String])},color:{type:String}}),bB=xe({name:"ElIcon",inheritAttrs:!1}),wB=xe({...bB,props:yB,setup(i){const o=i,l=Qe("icon"),c=j(()=>{const{size:d,color:p}=o;return!d&&!p?{}:{fontSize:Ri(d)?void 0:Si(d),"--color":p}});return(d,p)=>(Y(),fe("i",An({class:v(l).b(),style:v(c)},d.$attrs),[ze(d.$slots,"default")],16))}});var xB=ct(wB,[["__file","icon.vue"]]);const Et=gn(xB),SB=["light","dark"],kB=lt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:tu(wa),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:SB,default:"light"}}),CB={close:i=>i instanceof MouseEvent},MB=xe({name:"ElAlert"}),PB=xe({...MB,props:kB,emits:CB,setup(i,{emit:o}){const l=i,{Close:c}=t0,d=Qi(),p=Qe("alert"),g=ne(!0),b=j(()=>wa[l.type]),w=j(()=>[p.e("icon"),{[p.is("big")]:!!l.description||!!d.default}]),M=j(()=>({"with-description":l.description||d.default})),C=P=>{g.value=!1,o("close",P)};return(P,A)=>(Y(),Ie(Ki,{name:v(p).b("fade"),persisted:""},{default:Te(()=>[ln(pe("div",{class:Z([v(p).b(),v(p).m(P.type),v(p).is("center",P.center),v(p).is(P.effect)]),role:"alert"},[P.showIcon&&v(b)?(Y(),Ie(v(Et),{key:0,class:Z(v(w))},{default:Te(()=>[(Y(),Ie(kn(v(b))))]),_:1},8,["class"])):De("v-if",!0),pe("div",{class:Z(v(p).e("content"))},[P.title||P.$slots.title?(Y(),fe("span",{key:0,class:Z([v(p).e("title"),v(M)])},[ze(P.$slots,"title",{},()=>[Tn(dt(P.title),1)])],2)):De("v-if",!0),P.$slots.default||P.description?(Y(),fe("p",{key:1,class:Z(v(p).e("description"))},[ze(P.$slots,"default",{},()=>[Tn(dt(P.description),1)])],2)):De("v-if",!0),P.closable?(Y(),fe($t,{key:2},[P.closeText?(Y(),fe("div",{key:0,class:Z([v(p).e("close-btn"),v(p).is("customed")]),onClick:C},dt(P.closeText),3)):(Y(),Ie(v(Et),{key:1,class:Z(v(p).e("close-btn")),onClick:C},{default:Te(()=>[ye(v(c))]),_:1},8,["class"]))],64)):De("v-if",!0)],2)],2),[[$n,g.value]])]),_:3},8,["name"]))}});var TB=ct(PB,[["__file","alert.vue"]]);const NB=gn(TB),gl=Symbol("formContextKey"),lr=Symbol("formItemContextKey"),$i=(i,o={})=>{const l=ne(void 0),c=o.prop?l:Vx("size"),d=o.global?l:nB(),p=o.form?{size:void 0}:Tt(gl,void 0),g=o.formItem?{size:void 0}:Tt(lr,void 0);return j(()=>c.value||v(i)||(g==null?void 0:g.size)||(p==null?void 0:p.size)||d.value||"")},Es=i=>{const o=Vx("disabled"),l=Tt(gl,void 0);return j(()=>o.value||v(i)||(l==null?void 0:l.disabled)||!1)},ks=()=>{const i=Tt(gl,void 0),o=Tt(lr,void 0);return{form:i,formItem:o}},Go=(i,{formItemContext:o,disableIdGeneration:l,disableIdManagement:c})=>{l||(l=ne(!1)),c||(c=ne(!1));const d=ne();let p;const g=j(()=>{var b;return!!(!(i.label||i.ariaLabel)&&o&&o.inputIds&&((b=o.inputIds)==null?void 0:b.length)<=1)});return un(()=>{p=Ue([Gn(i,"id"),l],([b,w])=>{const M=b??(w?void 0:hs().value);M!==d.value&&(o!=null&&o.removeInputId&&(d.value&&o.removeInputId(d.value),!(c!=null&&c.value)&&!w&&M&&o.addInputId(M)),d.value=M)},{immediate:!0})}),Ma(()=>{p&&p(),o!=null&&o.removeInputId&&d.value&&o.removeInputId(d.value)}),{isLabeledByFormItem:g,inputId:d}},AB=lt({size:{type:String,values:ur},disabled:Boolean}),LB=lt({...AB,model:Object,rules:{type:Ae(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),EB={validate:(i,o,l)=>(St(i)||tn(i))&&Ii(o)&&tn(l)};function DB(){const i=ne([]),o=j(()=>{if(!i.value.length)return"0";const p=Math.max(...i.value);return p?`${p}px`:""});function l(p){const g=i.value.indexOf(p);return g===-1&&o.value,g}function c(p,g){if(p&&g){const b=l(g);i.value.splice(b,1,p)}else p&&i.value.push(p)}function d(p){const g=l(p);g>-1&&i.value.splice(g,1)}return{autoLabelWidth:o,registerLabelWidth:c,deregisterLabelWidth:d}}const bh=(i,o)=>{const l=va(o);return l.length>0?i.filter(c=>c.prop&&l.includes(c.prop)):i},OB="ElForm",RB=xe({name:OB}),IB=xe({...RB,props:LB,emits:EB,setup(i,{expose:o,emit:l}){const c=i,d=[],p=$i(),g=Qe("form"),b=j(()=>{const{labelPosition:I,inline:K}=c;return[g.b(),g.m(p.value||"default"),{[g.m(`label-${I}`)]:I,[g.m("inline")]:K}]}),w=I=>d.find(K=>K.prop===I),M=I=>{d.push(I)},C=I=>{I.prop&&d.splice(d.indexOf(I),1)},P=(I=[])=>{c.model&&bh(d,I).forEach(K=>K.resetField())},A=(I=[])=>{bh(d,I).forEach(K=>K.clearValidate())},O=j(()=>!!c.model),R=I=>{if(d.length===0)return[];const K=bh(d,I);return K.length?K:[]},N=async I=>T(void 0,I),z=async(I=[])=>{if(!O.value)return!1;const K=R(I);if(K.length===0)return!0;let B={};for(const G of K)try{await G.validate("")}catch($){B={...B,...$}}return Object.keys(B).length===0?!0:Promise.reject(B)},T=async(I=[],K)=>{const B=!Xt(K);try{const G=await z(I);return G===!0&&await(K==null?void 0:K(G)),G}catch(G){if(G instanceof Error)throw G;const $=G;return c.scrollToError&&_(Object.keys($)[0]),await(K==null?void 0:K(!1,$)),B&&Promise.reject($)}},_=I=>{var K;const B=bh(d,I)[0];B&&((K=B.$el)==null||K.scrollIntoView(c.scrollIntoViewOptions))};return Ue(()=>c.rules,()=>{c.validateOnRuleChange&&N().catch(I=>void 0)},{deep:!0}),En(gl,Hn({...ss(c),emit:l,resetFields:P,clearValidate:A,validateField:T,getField:w,addField:M,removeField:C,...DB()})),o({validate:N,validateField:T,resetFields:P,clearValidate:A,scrollToField:_,fields:d}),(I,K)=>(Y(),fe("form",{class:Z(v(b))},[ze(I.$slots,"default")],2))}});var FB=ct(IB,[["__file","form.vue"]]);function Ha(){return Ha=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},Ha.apply(this,arguments)}function BB(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,xc(i,o)}function cg(i){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},cg(i)}function xc(i,o){return xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,d){return c.__proto__=d,c},xc(i,o)}function $B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vh(i,o,l){return $B()?Vh=Reflect.construct.bind():Vh=function(d,p,g){var b=[null];b.push.apply(b,p);var w=Function.bind.apply(d,b),M=new w;return g&&xc(M,g.prototype),M},Vh.apply(null,arguments)}function VB(i){return Function.toString.call(i).indexOf("[native code]")!==-1}function hg(i){var o=typeof Map=="function"?new Map:void 0;return hg=function(c){if(c===null||!VB(c))return c;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(typeof o<"u"){if(o.has(c))return o.get(c);o.set(c,d)}function d(){return Vh(c,arguments,cg(this).constructor)}return d.prototype=Object.create(c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),xc(d,c)},hg(i)}var zB=/%[sdj%]/g,_B=function(){};function dg(i){if(!i||!i.length)return null;var o={};return i.forEach(function(l){var c=l.field;o[c]=o[c]||[],o[c].push(l)}),o}function Js(i){for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];var d=0,p=l.length;if(typeof i=="function")return i.apply(null,l);if(typeof i=="string"){var g=i.replace(zB,function(b){if(b==="%%")return"%";if(d>=p)return b;switch(b){case"%s":return String(l[d++]);case"%d":return Number(l[d++]);case"%j":try{return JSON.stringify(l[d++])}catch{return"[Circular]"}break;default:return b}});return g}return i}function KB(i){return i==="string"||i==="url"||i==="hex"||i==="email"||i==="date"||i==="pattern"}function Ji(i,o){return!!(i==null||o==="array"&&Array.isArray(i)&&!i.length||KB(o)&&typeof i=="string"&&!i)}function HB(i,o,l){var c=[],d=0,p=i.length;function g(b){c.push.apply(c,b||[]),d++,d===p&&l(c)}i.forEach(function(b){o(b,g)})}function _b(i,o,l){var c=0,d=i.length;function p(g){if(g&&g.length){l(g);return}var b=c;c=c+1,b<d?o(i[b],p):l([])}p([])}function jB(i){var o=[];return Object.keys(i).forEach(function(l){o.push.apply(o,i[l]||[])}),o}var Kb=function(i){BB(o,i);function o(l,c){var d;return d=i.call(this,"Async Validation Error")||this,d.errors=l,d.fields=c,d}return o}(hg(Error));function qB(i,o,l,c,d){if(o.first){var p=new Promise(function(A,O){var R=function(T){return c(T),T.length?O(new Kb(T,dg(T))):A(d)},N=jB(i);_b(N,l,R)});return p.catch(function(A){return A}),p}var g=o.firstFields===!0?Object.keys(i):o.firstFields||[],b=Object.keys(i),w=b.length,M=0,C=[],P=new Promise(function(A,O){var R=function(z){if(C.push.apply(C,z),M++,M===w)return c(C),C.length?O(new Kb(C,dg(C))):A(d)};b.length||(c(C),A(d)),b.forEach(function(N){var z=i[N];g.indexOf(N)!==-1?_b(z,l,R):HB(z,l,R)})});return P.catch(function(A){return A}),P}function GB(i){return!!(i&&i.message!==void 0)}function WB(i,o){for(var l=i,c=0;c<o.length;c++){if(l==null)return l;l=l[o[c]]}return l}function Hb(i,o){return function(l){var c;return i.fullFields?c=WB(o,i.fullFields):c=o[l.field||i.fullField],GB(l)?(l.field=l.field||i.fullField,l.fieldValue=c,l):{message:typeof l=="function"?l():l,fieldValue:c,field:l.field||i.fullField}}}function jb(i,o){if(o){for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];typeof c=="object"&&typeof i[l]=="object"?i[l]=Ha({},i[l],c):i[l]=c}}return i}var mS=function(o,l,c,d,p,g){o.required&&(!c.hasOwnProperty(o.field)||Ji(l,g||o.type))&&d.push(Js(p.messages.required,o.fullField))},UB=function(o,l,c,d,p){(/^\s+$/.test(l)||l==="")&&d.push(Js(p.messages.whitespace,o.fullField))},wh,YB=function(){if(wh)return wh;var i="[a-fA-F\\d:]",o=function(K){return K&&K.includeBoundaries?"(?:(?<=\\s|^)(?="+i+")|(?<="+i+")(?=\\s|$))":""},l="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",c="[a-fA-F\\d]{1,4}",d=(`
(?:
(?:`+c+":){7}(?:"+c+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+c+":){6}(?:"+l+"|:"+c+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+c+":){5}(?::"+l+"|(?::"+c+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+c+":){4}(?:(?::"+c+"){0,1}:"+l+"|(?::"+c+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+c+":){3}(?:(?::"+c+"){0,2}:"+l+"|(?::"+c+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+c+":){2}(?:(?::"+c+"){0,3}:"+l+"|(?::"+c+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+c+":){1}(?:(?::"+c+"){0,4}:"+l+"|(?::"+c+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+c+"){0,5}:"+l+"|(?::"+c+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),p=new RegExp("(?:^"+l+"$)|(?:^"+d+"$)"),g=new RegExp("^"+l+"$"),b=new RegExp("^"+d+"$"),w=function(K){return K&&K.exact?p:new RegExp("(?:"+o(K)+l+o(K)+")|(?:"+o(K)+d+o(K)+")","g")};w.v4=function(I){return I&&I.exact?g:new RegExp(""+o(I)+l+o(I),"g")},w.v6=function(I){return I&&I.exact?b:new RegExp(""+o(I)+d+o(I),"g")};var M="(?:(?:[a-z]+:)?//)",C="(?:\\S+(?::\\S*)?@)?",P=w.v4().source,A=w.v6().source,O="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",R="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",N="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",z="(?::\\d{2,5})?",T='(?:[/?#][^\\s"]*)?',_="(?:"+M+"|www\\.)"+C+"(?:localhost|"+P+"|"+A+"|"+O+R+N+")"+z+T;return wh=new RegExp("(?:^"+_+"$)","i"),wh},qb={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},zu={integer:function(o){return zu.number(o)&&parseInt(o,10)===o},float:function(o){return zu.number(o)&&!zu.integer(o)},array:function(o){return Array.isArray(o)},regexp:function(o){if(o instanceof RegExp)return!0;try{return!!new RegExp(o)}catch{return!1}},date:function(o){return typeof o.getTime=="function"&&typeof o.getMonth=="function"&&typeof o.getYear=="function"&&!isNaN(o.getTime())},number:function(o){return isNaN(o)?!1:typeof o=="number"},object:function(o){return typeof o=="object"&&!zu.array(o)},method:function(o){return typeof o=="function"},email:function(o){return typeof o=="string"&&o.length<=320&&!!o.match(qb.email)},url:function(o){return typeof o=="string"&&o.length<=2048&&!!o.match(YB())},hex:function(o){return typeof o=="string"&&!!o.match(qb.hex)}},XB=function(o,l,c,d,p){if(o.required&&l===void 0){mS(o,l,c,d,p);return}var g=["integer","float","array","regexp","object","method","email","number","date","url","hex"],b=o.type;g.indexOf(b)>-1?zu[b](l)||d.push(Js(p.messages.types[b],o.fullField,o.type)):b&&typeof l!==o.type&&d.push(Js(p.messages.types[b],o.fullField,o.type))},ZB=function(o,l,c,d,p){var g=typeof o.len=="number",b=typeof o.min=="number",w=typeof o.max=="number",M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C=l,P=null,A=typeof l=="number",O=typeof l=="string",R=Array.isArray(l);if(A?P="number":O?P="string":R&&(P="array"),!P)return!1;R&&(C=l.length),O&&(C=l.replace(M,"_").length),g?C!==o.len&&d.push(Js(p.messages[P].len,o.fullField,o.len)):b&&!w&&C<o.min?d.push(Js(p.messages[P].min,o.fullField,o.min)):w&&!b&&C>o.max?d.push(Js(p.messages[P].max,o.fullField,o.max)):b&&w&&(C<o.min||C>o.max)&&d.push(Js(p.messages[P].range,o.fullField,o.min,o.max))},Ml="enum",JB=function(o,l,c,d,p){o[Ml]=Array.isArray(o[Ml])?o[Ml]:[],o[Ml].indexOf(l)===-1&&d.push(Js(p.messages[Ml],o.fullField,o[Ml].join(", ")))},QB=function(o,l,c,d,p){if(o.pattern){if(o.pattern instanceof RegExp)o.pattern.lastIndex=0,o.pattern.test(l)||d.push(Js(p.messages.pattern.mismatch,o.fullField,l,o.pattern));else if(typeof o.pattern=="string"){var g=new RegExp(o.pattern);g.test(l)||d.push(Js(p.messages.pattern.mismatch,o.fullField,l,o.pattern))}}},Jn={required:mS,whitespace:UB,type:XB,range:ZB,enum:JB,pattern:QB},e4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l,"string")&&!o.required)return c();Jn.required(o,l,d,g,p,"string"),Ji(l,"string")||(Jn.type(o,l,d,g,p),Jn.range(o,l,d,g,p),Jn.pattern(o,l,d,g,p),o.whitespace===!0&&Jn.whitespace(o,l,d,g,p))}c(g)},t4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l)&&!o.required)return c();Jn.required(o,l,d,g,p),l!==void 0&&Jn.type(o,l,d,g,p)}c(g)},n4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(l===""&&(l=void 0),Ji(l)&&!o.required)return c();Jn.required(o,l,d,g,p),l!==void 0&&(Jn.type(o,l,d,g,p),Jn.range(o,l,d,g,p))}c(g)},i4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l)&&!o.required)return c();Jn.required(o,l,d,g,p),l!==void 0&&Jn.type(o,l,d,g,p)}c(g)},s4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l)&&!o.required)return c();Jn.required(o,l,d,g,p),Ji(l)||Jn.type(o,l,d,g,p)}c(g)},o4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l)&&!o.required)return c();Jn.required(o,l,d,g,p),l!==void 0&&(Jn.type(o,l,d,g,p),Jn.range(o,l,d,g,p))}c(g)},r4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l)&&!o.required)return c();Jn.required(o,l,d,g,p),l!==void 0&&(Jn.type(o,l,d,g,p),Jn.range(o,l,d,g,p))}c(g)},a4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(l==null&&!o.required)return c();Jn.required(o,l,d,g,p,"array"),l!=null&&(Jn.type(o,l,d,g,p),Jn.range(o,l,d,g,p))}c(g)},l4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l)&&!o.required)return c();Jn.required(o,l,d,g,p),l!==void 0&&Jn.type(o,l,d,g,p)}c(g)},u4="enum",c4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l)&&!o.required)return c();Jn.required(o,l,d,g,p),l!==void 0&&Jn[u4](o,l,d,g,p)}c(g)},h4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l,"string")&&!o.required)return c();Jn.required(o,l,d,g,p),Ji(l,"string")||Jn.pattern(o,l,d,g,p)}c(g)},d4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l,"date")&&!o.required)return c();if(Jn.required(o,l,d,g,p),!Ji(l,"date")){var w;l instanceof Date?w=l:w=new Date(l),Jn.type(o,w,d,g,p),w&&Jn.range(o,w.getTime(),d,g,p)}}c(g)},f4=function(o,l,c,d,p){var g=[],b=Array.isArray(l)?"array":typeof l;Jn.required(o,l,d,g,p,b),c(g)},gp=function(o,l,c,d,p){var g=o.type,b=[],w=o.required||!o.required&&d.hasOwnProperty(o.field);if(w){if(Ji(l,g)&&!o.required)return c();Jn.required(o,l,d,b,p,g),Ji(l,g)||Jn.type(o,l,d,b,p)}c(b)},p4=function(o,l,c,d,p){var g=[],b=o.required||!o.required&&d.hasOwnProperty(o.field);if(b){if(Ji(l)&&!o.required)return c();Jn.required(o,l,d,g,p)}c(g)},nc={string:e4,method:t4,number:n4,boolean:i4,regexp:s4,integer:o4,float:r4,array:a4,object:l4,enum:c4,pattern:h4,date:d4,url:gp,hex:gp,email:gp,required:f4,any:p4};function fg(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var o=JSON.parse(JSON.stringify(this));return o.clone=this.clone,o}}}var pg=fg(),Uc=function(){function i(l){this.rules=null,this._messages=pg,this.define(l)}var o=i.prototype;return o.define=function(c){var d=this;if(!c)throw new Error("Cannot configure a schema with no rules");if(typeof c!="object"||Array.isArray(c))throw new Error("Rules must be an object");this.rules={},Object.keys(c).forEach(function(p){var g=c[p];d.rules[p]=Array.isArray(g)?g:[g]})},o.messages=function(c){return c&&(this._messages=jb(fg(),c)),this._messages},o.validate=function(c,d,p){var g=this;d===void 0&&(d={}),p===void 0&&(p=function(){});var b=c,w=d,M=p;if(typeof w=="function"&&(M=w,w={}),!this.rules||Object.keys(this.rules).length===0)return M&&M(null,b),Promise.resolve(b);function C(N){var z=[],T={};function _(K){if(Array.isArray(K)){var B;z=(B=z).concat.apply(B,K)}else z.push(K)}for(var I=0;I<N.length;I++)_(N[I]);z.length?(T=dg(z),M(z,T)):M(null,b)}if(w.messages){var P=this.messages();P===pg&&(P=fg()),jb(P,w.messages),w.messages=P}else w.messages=this.messages();var A={},O=w.keys||Object.keys(this.rules);O.forEach(function(N){var z=g.rules[N],T=b[N];z.forEach(function(_){var I=_;typeof I.transform=="function"&&(b===c&&(b=Ha({},b)),T=b[N]=I.transform(T)),typeof I=="function"?I={validator:I}:I=Ha({},I),I.validator=g.getValidationMethod(I),I.validator&&(I.field=N,I.fullField=I.fullField||N,I.type=g.getType(I),A[N]=A[N]||[],A[N].push({rule:I,value:T,source:b,field:N}))})});var R={};return qB(A,w,function(N,z){var T=N.rule,_=(T.type==="object"||T.type==="array")&&(typeof T.fields=="object"||typeof T.defaultField=="object");_=_&&(T.required||!T.required&&N.value),T.field=N.field;function I(G,$){return Ha({},$,{fullField:T.fullField+"."+G,fullFields:T.fullFields?[].concat(T.fullFields,[G]):[G]})}function K(G){G===void 0&&(G=[]);var $=Array.isArray(G)?G:[G];!w.suppressWarning&&$.length&&i.warning("async-validator:",$),$.length&&T.message!==void 0&&($=[].concat(T.message));var J=$.map(Hb(T,b));if(w.first&&J.length)return R[T.field]=1,z(J);if(!_)z(J);else{if(T.required&&!N.value)return T.message!==void 0?J=[].concat(T.message).map(Hb(T,b)):w.error&&(J=[w.error(T,Js(w.messages.required,T.field))]),z(J);var ee={};T.defaultField&&Object.keys(N.value).map(function(se){ee[se]=T.defaultField}),ee=Ha({},ee,N.rule.fields);var Q={};Object.keys(ee).forEach(function(se){var de=ee[se],ve=Array.isArray(de)?de:[de];Q[se]=ve.map(I.bind(null,se))});var X=new i(Q);X.messages(w.messages),N.rule.options&&(N.rule.options.messages=w.messages,N.rule.options.error=w.error),X.validate(N.value,N.rule.options||w,function(se){var de=[];J&&J.length&&de.push.apply(de,J),se&&se.length&&de.push.apply(de,se),z(de.length?de:null)})}}var B;if(T.asyncValidator)B=T.asyncValidator(T,N.value,K,N.source,w);else if(T.validator){try{B=T.validator(T,N.value,K,N.source,w)}catch(G){console.error==null||console.error(G),w.suppressValidatorError||setTimeout(function(){throw G},0),K(G.message)}B===!0?K():B===!1?K(typeof T.message=="function"?T.message(T.fullField||T.field):T.message||(T.fullField||T.field)+" fails"):B instanceof Array?K(B):B instanceof Error&&K(B.message)}B&&B.then&&B.then(function(){return K()},function(G){return K(G)})},function(N){C(N)},b)},o.getType=function(c){if(c.type===void 0&&c.pattern instanceof RegExp&&(c.type="pattern"),typeof c.validator!="function"&&c.type&&!nc.hasOwnProperty(c.type))throw new Error(Js("Unknown rule type %s",c.type));return c.type||"string"},o.getValidationMethod=function(c){if(typeof c.validator=="function")return c.validator;var d=Object.keys(c),p=d.indexOf("message");return p!==-1&&d.splice(p,1),d.length===1&&d[0]==="required"?nc.required:nc[this.getType(c)]||void 0},i}();Uc.register=function(o,l){if(typeof l!="function")throw new Error("Cannot register a validator by type, validator is not a function");nc[o]=l};Uc.warning=_B;Uc.messages=pg;Uc.validators=nc;const g4=["","error","validating","success"],m4=lt({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Ae([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Ae([Object,Array])},error:String,validateStatus:{type:String,values:g4},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:ur}}),Gb="ElLabelWrap";var v4=xe({name:Gb,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(i,{slots:o}){const l=Tt(gl,void 0),c=Tt(lr);c||Hi(Gb,"usage: <el-form-item><label-wrap /></el-form-item>");const d=Qe("form"),p=ne(),g=ne(0),b=()=>{var C;if((C=p.value)!=null&&C.firstElementChild){const P=window.getComputedStyle(p.value.firstElementChild).width;return Math.ceil(Number.parseFloat(P))}else return 0},w=(C="update")=>{Kt(()=>{o.default&&i.isAutoWidth&&(C==="update"?g.value=b():C==="remove"&&(l==null||l.deregisterLabelWidth(g.value)))})},M=()=>w("update");return un(()=>{M()}),ei(()=>{w("remove")}),Or(()=>M()),Ue(g,(C,P)=>{i.updateAll&&(l==null||l.registerLabelWidth(C,P))}),fi(j(()=>{var C,P;return(P=(C=p.value)==null?void 0:C.firstElementChild)!=null?P:null}),M),()=>{var C,P;if(!o)return null;const{isAutoWidth:A}=i;if(A){const O=l==null?void 0:l.autoLabelWidth,R=c==null?void 0:c.hasLabel,N={};if(R&&O&&O!=="auto"){const z=Math.max(0,Number.parseInt(O,10)-g.value),T=l.labelPosition==="left"?"marginRight":"marginLeft";z&&(N[T]=`${z}px`)}return ye("div",{ref:p,class:[d.be("item","label-wrap")],style:N},[(C=o.default)==null?void 0:C.call(o)])}else return ye($t,{ref:p},[(P=o.default)==null?void 0:P.call(o)])}}});const y4=["role","aria-labelledby"],b4=xe({name:"ElFormItem"}),w4=xe({...b4,props:m4,setup(i,{expose:o}){const l=i,c=Qi(),d=Tt(gl,void 0),p=Tt(lr,void 0),g=$i(void 0,{formItem:!1}),b=Qe("form-item"),w=hs().value,M=ne([]),C=ne(""),P=ON(C,100),A=ne(""),O=ne();let R,N=!1;const z=j(()=>{if((d==null?void 0:d.labelPosition)==="top")return{};const _e=Si(l.labelWidth||(d==null?void 0:d.labelWidth)||"");return _e?{width:_e}:{}}),T=j(()=>{if((d==null?void 0:d.labelPosition)==="top"||d!=null&&d.inline)return{};if(!l.label&&!l.labelWidth&&ee)return{};const _e=Si(l.labelWidth||(d==null?void 0:d.labelWidth)||"");return!l.label&&!c.label?{marginLeft:_e}:{}}),_=j(()=>[b.b(),b.m(g.value),b.is("error",C.value==="error"),b.is("validating",C.value==="validating"),b.is("success",C.value==="success"),b.is("required",ve.value||l.required),b.is("no-asterisk",d==null?void 0:d.hideRequiredAsterisk),(d==null?void 0:d.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[b.m("feedback")]:d==null?void 0:d.statusIcon}]),I=j(()=>Ii(l.inlineMessage)?l.inlineMessage:(d==null?void 0:d.inlineMessage)||!1),K=j(()=>[b.e("error"),{[b.em("error","inline")]:I.value}]),B=j(()=>l.prop?tn(l.prop)?l.prop:l.prop.join("."):""),G=j(()=>!!(l.label||c.label)),$=j(()=>l.for||(M.value.length===1?M.value[0]:void 0)),J=j(()=>!$.value&&G.value),ee=!!p,Q=j(()=>{const _e=d==null?void 0:d.model;if(!(!_e||!l.prop))return Bh(_e,l.prop).value}),X=j(()=>{const{required:_e}=l,Fe=[];l.rules&&Fe.push(...va(l.rules));const gt=d==null?void 0:d.rules;if(gt&&l.prop){const Ye=Bh(gt,l.prop).value;Ye&&Fe.push(...va(Ye))}if(_e!==void 0){const Ye=Fe.map((Ze,mt)=>[Ze,mt]).filter(([Ze])=>Object.keys(Ze).includes("required"));if(Ye.length>0)for(const[Ze,mt]of Ye)Ze.required!==_e&&(Fe[mt]={...Ze,required:_e});else Fe.push({required:_e})}return Fe}),se=j(()=>X.value.length>0),de=_e=>X.value.filter(gt=>!gt.trigger||!_e?!0:Array.isArray(gt.trigger)?gt.trigger.includes(_e):gt.trigger===_e).map(({trigger:gt,...Ye})=>Ye),ve=j(()=>X.value.some(_e=>_e.required)),me=j(()=>{var _e;return P.value==="error"&&l.showMessage&&((_e=d==null?void 0:d.showMessage)!=null?_e:!0)}),ae=j(()=>`${l.label||""}${(d==null?void 0:d.labelSuffix)||""}`),ie=_e=>{C.value=_e},re=_e=>{var Fe,gt;const{errors:Ye,fields:Ze}=_e;(!Ye||!Ze)&&console.error(_e),ie("error"),A.value=Ye?(gt=(Fe=Ye==null?void 0:Ye[0])==null?void 0:Fe.message)!=null?gt:`${l.prop} is required`:"",d==null||d.emit("validate",l.prop,!1,A.value)},te=()=>{ie("success"),d==null||d.emit("validate",l.prop,!0,"")},ue=async _e=>{const Fe=B.value;return new Uc({[Fe]:_e}).validate({[Fe]:Q.value},{firstFields:!0}).then(()=>(te(),!0)).catch(Ye=>(re(Ye),Promise.reject(Ye)))},be=async(_e,Fe)=>{if(N||!l.prop)return!1;const gt=Xt(Fe);if(!se.value)return Fe==null||Fe(!1),!1;const Ye=de(_e);return Ye.length===0?(Fe==null||Fe(!0),!0):(ie("validating"),ue(Ye).then(()=>(Fe==null||Fe(!0),!0)).catch(Ze=>{const{fields:mt}=Ze;return Fe==null||Fe(!1,mt),gt?!1:Promise.reject(mt)}))},Ce=()=>{ie(""),A.value="",N=!1},Ne=async()=>{const _e=d==null?void 0:d.model;if(!_e||!l.prop)return;const Fe=Bh(_e,l.prop);N=!0,Fe.value=hb(R),await Kt(),Ce(),N=!1},Be=_e=>{M.value.includes(_e)||M.value.push(_e)},tt=_e=>{M.value=M.value.filter(Fe=>Fe!==_e)};Ue(()=>l.error,_e=>{A.value=_e||"",ie(_e?"error":"")},{immediate:!0}),Ue(()=>l.validateStatus,_e=>ie(_e||""));const Le=Hn({...ss(l),$el:O,size:g,validateState:C,labelId:w,inputIds:M,isGroup:J,hasLabel:G,fieldValue:Q,addInputId:Be,removeInputId:tt,resetField:Ne,clearValidate:Ce,validate:be});return En(lr,Le),un(()=>{l.prop&&(d==null||d.addField(Le),R=hb(Q.value))}),ei(()=>{d==null||d.removeField(Le)}),o({size:g,validateMessage:A,validateState:C,validate:be,clearValidate:Ce,resetField:Ne}),(_e,Fe)=>{var gt;return Y(),fe("div",{ref_key:"formItemRef",ref:O,class:Z(v(_)),role:v(J)?"group":void 0,"aria-labelledby":v(J)?v(w):void 0},[ye(v(v4),{"is-auto-width":v(z).width==="auto","update-all":((gt=v(d))==null?void 0:gt.labelWidth)==="auto"},{default:Te(()=>[v(G)?(Y(),Ie(kn(v($)?"label":"div"),{key:0,id:v(w),for:v($),class:Z(v(b).e("label")),style:Ft(v(z))},{default:Te(()=>[ze(_e.$slots,"label",{label:v(ae)},()=>[Tn(dt(v(ae)),1)])]),_:3},8,["id","for","class","style"])):De("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),pe("div",{class:Z(v(b).e("content")),style:Ft(v(T))},[ze(_e.$slots,"default"),ye(C2,{name:`${v(b).namespace.value}-zoom-in-top`},{default:Te(()=>[v(me)?ze(_e.$slots,"error",{key:0,error:A.value},()=>[pe("div",{class:Z(v(K))},dt(A.value),3)]):De("v-if",!0)]),_:3},8,["name"])],6)],10,y4)}}});var vS=ct(w4,[["__file","form-item.vue"]]);const x4=gn(FB,{FormItem:vS}),S4=gi(vS);let Io;const k4=`
  height:0 !important;
  visibility:hidden !important;
  ${B2()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,C4=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function M4(i){const o=window.getComputedStyle(i),l=o.getPropertyValue("box-sizing"),c=Number.parseFloat(o.getPropertyValue("padding-bottom"))+Number.parseFloat(o.getPropertyValue("padding-top")),d=Number.parseFloat(o.getPropertyValue("border-bottom-width"))+Number.parseFloat(o.getPropertyValue("border-top-width"));return{contextStyle:C4.map(g=>`${g}:${o.getPropertyValue(g)}`).join(";"),paddingSize:c,borderSize:d,boxSizing:l}}function Wb(i,o=1,l){var c;Io||(Io=document.createElement("textarea"),document.body.appendChild(Io));const{paddingSize:d,borderSize:p,boxSizing:g,contextStyle:b}=M4(i);Io.setAttribute("style",`${b};${k4}`),Io.value=i.value||i.placeholder||"";let w=Io.scrollHeight;const M={};g==="border-box"?w=w+p:g==="content-box"&&(w=w-d),Io.value="";const C=Io.scrollHeight-d;if(Yt(o)){let P=C*o;g==="border-box"&&(P=P+d+p),w=Math.max(P,w),M.minHeight=`${P}px`}if(Yt(l)){let P=C*l;g==="border-box"&&(P=P+d+p),w=Math.min(P,w)}return M.height=`${w}px`,(c=Io.parentNode)==null||c.removeChild(Io),Io=void 0,M}const P4=lt({id:{type:String,default:void 0},size:ji,disabled:Boolean,modelValue:{type:Ae([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ae([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Xn},prefixIcon:{type:Xn},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ae([Object,Array,String]),default:()=>pi({})},autofocus:{type:Boolean,default:!1},...os(["ariaLabel"])}),T4={[wn]:i=>tn(i),input:i=>tn(i),change:i=>tn(i),focus:i=>i instanceof FocusEvent,blur:i=>i instanceof FocusEvent,clear:()=>!0,mouseleave:i=>i instanceof MouseEvent,mouseenter:i=>i instanceof MouseEvent,keydown:i=>i instanceof Event,compositionstart:i=>i instanceof CompositionEvent,compositionupdate:i=>i instanceof CompositionEvent,compositionend:i=>i instanceof CompositionEvent},N4=["role"],A4=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],L4=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],E4=xe({name:"ElInput",inheritAttrs:!1}),D4=xe({...E4,props:P4,emits:T4,setup(i,{expose:o,emit:l}){const c=i,d=cl(),p=Qi(),g=j(()=>{const Ge={};return c.containerRole==="combobox"&&(Ge["aria-haspopup"]=d["aria-haspopup"],Ge["aria-owns"]=d["aria-owns"],Ge["aria-expanded"]=d["aria-expanded"]),Ge}),b=j(()=>[c.type==="textarea"?z.b():N.b(),N.m(O.value),N.is("disabled",R.value),N.is("exceed",Be.value),{[N.b("group")]:p.prepend||p.append,[N.m("prefix")]:p.prefix||c.prefixIcon,[N.m("suffix")]:p.suffix||c.suffixIcon||c.clearable||c.showPassword,[N.bm("suffix","password-clear")]:ue.value&&be.value,[N.b("hidden")]:c.type==="hidden"},d.class]),w=j(()=>[N.e("wrapper"),N.is("focus",Q.value)]),M=s0({excludeKeys:j(()=>Object.keys(g.value))}),{form:C,formItem:P}=ks(),{inputId:A}=Go(c,{formItemContext:P}),O=$i(),R=Es(),N=Qe("input"),z=Qe("textarea"),T=oi(),_=oi(),I=ne(!1),K=ne(!1),B=ne(!1),G=ne(),$=oi(c.inputStyle),J=j(()=>T.value||_.value),{wrapperRef:ee,isFocused:Q,handleFocus:X,handleBlur:se}=cf(J,{afterBlur(){var Ge;c.validateEvent&&((Ge=P==null?void 0:P.validate)==null||Ge.call(P,"blur").catch(kt=>void 0))}}),de=j(()=>{var Ge;return(Ge=C==null?void 0:C.statusIcon)!=null?Ge:!1}),ve=j(()=>(P==null?void 0:P.validateState)||""),me=j(()=>ve.value&&n0[ve.value]),ae=j(()=>B.value?IR:oR),ie=j(()=>[d.style]),re=j(()=>[c.inputStyle,$.value,{resize:c.resize}]),te=j(()=>Xi(c.modelValue)?"":String(c.modelValue)),ue=j(()=>c.clearable&&!R.value&&!c.readonly&&!!te.value&&(Q.value||I.value)),be=j(()=>c.showPassword&&!R.value&&!c.readonly&&!!te.value&&(!!te.value||Q.value)),Ce=j(()=>c.showWordLimit&&!!c.maxlength&&(c.type==="text"||c.type==="textarea")&&!R.value&&!c.readonly&&!c.showPassword),Ne=j(()=>te.value.length),Be=j(()=>!!Ce.value&&Ne.value>Number(c.maxlength)),tt=j(()=>!!p.suffix||!!c.suffixIcon||ue.value||c.showPassword||Ce.value||!!ve.value&&de.value),[Le,_e]=eB(T);fi(_,Ge=>{if(Ye(),!Ce.value||c.resize!=="both")return;const kt=Ge[0],{width:Ht}=kt.contentRect;G.value={right:`calc(100% - ${Ht+15+6}px)`}});const Fe=()=>{const{type:Ge,autosize:kt}=c;if(!(!In||Ge!=="textarea"||!_.value))if(kt){const Ht=yn(kt)?kt.minRows:void 0,bn=yn(kt)?kt.maxRows:void 0,hn=Wb(_.value,Ht,bn);$.value={overflowY:"hidden",...hn},Kt(()=>{_.value.offsetHeight,$.value=hn})}else $.value={minHeight:Wb(_.value).minHeight}},Ye=(Ge=>{let kt=!1;return()=>{var Ht;if(kt||!c.autosize)return;((Ht=_.value)==null?void 0:Ht.offsetParent)===null||(Ge(),kt=!0)}})(Fe),Ze=()=>{const Ge=J.value,kt=c.formatter?c.formatter(te.value):te.value;!Ge||Ge.value===kt||(Ge.value=kt)},mt=async Ge=>{Le();let{value:kt}=Ge.target;if(c.formatter&&(kt=c.parser?c.parser(kt):kt),!K.value){if(kt===te.value){Ze();return}l(wn,kt),l("input",kt),await Kt(),Ze(),_e()}},Me=Ge=>{l("change",Ge.target.value)},Ee=Ge=>{l("compositionstart",Ge),K.value=!0},We=Ge=>{var kt;l("compositionupdate",Ge);const Ht=(kt=Ge.target)==null?void 0:kt.value,bn=Ht[Ht.length-1]||"";K.value=!i0(bn)},ot=Ge=>{l("compositionend",Ge),K.value&&(K.value=!1,mt(Ge))},He=()=>{B.value=!B.value,Je()},Je=async()=>{var Ge;await Kt(),(Ge=J.value)==null||Ge.focus()},nt=()=>{var Ge;return(Ge=J.value)==null?void 0:Ge.blur()},rt=Ge=>{I.value=!1,l("mouseleave",Ge)},ht=Ge=>{I.value=!0,l("mouseenter",Ge)},qe=Ge=>{l("keydown",Ge)},Mt=()=>{var Ge;(Ge=J.value)==null||Ge.select()},Nt=()=>{l(wn,""),l("change",""),l("clear"),l("input","")};return Ue(()=>c.modelValue,()=>{var Ge;Kt(()=>Fe()),c.validateEvent&&((Ge=P==null?void 0:P.validate)==null||Ge.call(P,"change").catch(kt=>void 0))}),Ue(te,()=>Ze()),Ue(()=>c.type,async()=>{await Kt(),Ze(),Fe()}),un(()=>{!c.formatter&&c.parser,Ze(),Kt(Fe)}),qi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},j(()=>!!c.label)),o({input:T,textarea:_,ref:J,textareaStyle:re,autosize:Gn(c,"autosize"),focus:Je,blur:nt,select:Mt,clear:Nt,resizeTextarea:Fe}),(Ge,kt)=>(Y(),fe("div",An(v(g),{class:[v(b),{[v(N).bm("group","append")]:Ge.$slots.append,[v(N).bm("group","prepend")]:Ge.$slots.prepend}],style:v(ie),role:Ge.containerRole,onMouseenter:ht,onMouseleave:rt}),[De(" input "),Ge.type!=="textarea"?(Y(),fe($t,{key:0},[De(" prepend slot "),Ge.$slots.prepend?(Y(),fe("div",{key:0,class:Z(v(N).be("group","prepend"))},[ze(Ge.$slots,"prepend")],2)):De("v-if",!0),pe("div",{ref_key:"wrapperRef",ref:ee,class:Z(v(w))},[De(" prefix slot "),Ge.$slots.prefix||Ge.prefixIcon?(Y(),fe("span",{key:0,class:Z(v(N).e("prefix"))},[pe("span",{class:Z(v(N).e("prefix-inner"))},[ze(Ge.$slots,"prefix"),Ge.prefixIcon?(Y(),Ie(v(Et),{key:0,class:Z(v(N).e("icon"))},{default:Te(()=>[(Y(),Ie(kn(Ge.prefixIcon)))]),_:1},8,["class"])):De("v-if",!0)],2)],2)):De("v-if",!0),pe("input",An({id:v(A),ref_key:"input",ref:T,class:v(N).e("inner")},v(M),{minlength:Ge.minlength,maxlength:Ge.maxlength,type:Ge.showPassword?B.value?"text":"password":Ge.type,disabled:v(R),readonly:Ge.readonly,autocomplete:Ge.autocomplete,tabindex:Ge.tabindex,"aria-label":Ge.label||Ge.ariaLabel,placeholder:Ge.placeholder,style:Ge.inputStyle,form:Ge.form,autofocus:Ge.autofocus,onCompositionstart:Ee,onCompositionupdate:We,onCompositionend:ot,onInput:mt,onFocus:kt[0]||(kt[0]=(...Ht)=>v(X)&&v(X)(...Ht)),onBlur:kt[1]||(kt[1]=(...Ht)=>v(se)&&v(se)(...Ht)),onChange:Me,onKeydown:qe}),null,16,A4),De(" suffix slot "),v(tt)?(Y(),fe("span",{key:1,class:Z(v(N).e("suffix"))},[pe("span",{class:Z(v(N).e("suffix-inner"))},[!v(ue)||!v(be)||!v(Ce)?(Y(),fe($t,{key:0},[ze(Ge.$slots,"suffix"),Ge.suffixIcon?(Y(),Ie(v(Et),{key:0,class:Z(v(N).e("icon"))},{default:Te(()=>[(Y(),Ie(kn(Ge.suffixIcon)))]),_:1},8,["class"])):De("v-if",!0)],64)):De("v-if",!0),v(ue)?(Y(),Ie(v(Et),{key:1,class:Z([v(N).e("icon"),v(N).e("clear")]),onMousedown:en(v(jn),["prevent"]),onClick:Nt},{default:Te(()=>[ye(v(Ta))]),_:1},8,["class","onMousedown"])):De("v-if",!0),v(be)?(Y(),Ie(v(Et),{key:2,class:Z([v(N).e("icon"),v(N).e("password")]),onClick:He},{default:Te(()=>[(Y(),Ie(kn(v(ae))))]),_:1},8,["class"])):De("v-if",!0),v(Ce)?(Y(),fe("span",{key:3,class:Z(v(N).e("count"))},[pe("span",{class:Z(v(N).e("count-inner"))},dt(v(Ne))+" / "+dt(Ge.maxlength),3)],2)):De("v-if",!0),v(ve)&&v(me)&&v(de)?(Y(),Ie(v(Et),{key:4,class:Z([v(N).e("icon"),v(N).e("validateIcon"),v(N).is("loading",v(ve)==="validating")])},{default:Te(()=>[(Y(),Ie(kn(v(me))))]),_:1},8,["class"])):De("v-if",!0)],2)],2)):De("v-if",!0)],2),De(" append slot "),Ge.$slots.append?(Y(),fe("div",{key:1,class:Z(v(N).be("group","append"))},[ze(Ge.$slots,"append")],2)):De("v-if",!0)],64)):(Y(),fe($t,{key:1},[De(" textarea "),pe("textarea",An({id:v(A),ref_key:"textarea",ref:_,class:[v(z).e("inner"),v(N).is("focus",v(Q))]},v(M),{minlength:Ge.minlength,maxlength:Ge.maxlength,tabindex:Ge.tabindex,disabled:v(R),readonly:Ge.readonly,autocomplete:Ge.autocomplete,style:v(re),"aria-label":Ge.label||Ge.ariaLabel,placeholder:Ge.placeholder,form:Ge.form,autofocus:Ge.autofocus,onCompositionstart:Ee,onCompositionupdate:We,onCompositionend:ot,onInput:mt,onFocus:kt[2]||(kt[2]=(...Ht)=>v(X)&&v(X)(...Ht)),onBlur:kt[3]||(kt[3]=(...Ht)=>v(se)&&v(se)(...Ht)),onChange:Me,onKeydown:qe}),null,16,L4),v(Ce)?(Y(),fe("span",{key:0,style:Ft(G.value),class:Z(v(N).e("count"))},dt(v(Ne))+" / "+dt(Ge.maxlength),7)):De("v-if",!0)],64))],16,N4))}});var O4=ct(D4,[["__file","input.vue"]]);const bs=gn(O4),Pl=4,yS={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},R4=({move:i,size:o,bar:l})=>({[l.size]:o,transform:`translate${l.axis}(${i}%)`}),P0=Symbol("scrollbarContextKey"),I4=lt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),F4="Thumb",B4=xe({__name:"thumb",props:I4,setup(i){const o=i,l=Tt(P0),c=Qe("scrollbar");l||Hi(F4,"can not inject scrollbar context");const d=ne(),p=ne(),g=ne({}),b=ne(!1);let w=!1,M=!1,C=In?document.onselectstart:null;const P=j(()=>yS[o.vertical?"vertical":"horizontal"]),A=j(()=>R4({size:o.size,move:o.move,bar:P.value})),O=j(()=>d.value[P.value.offset]**2/l.wrapElement[P.value.scrollSize]/o.ratio/p.value[P.value.offset]),R=G=>{var $;if(G.stopPropagation(),G.ctrlKey||[1,2].includes(G.button))return;($=window.getSelection())==null||$.removeAllRanges(),z(G);const J=G.currentTarget;J&&(g.value[P.value.axis]=J[P.value.offset]-(G[P.value.client]-J.getBoundingClientRect()[P.value.direction]))},N=G=>{if(!p.value||!d.value||!l.wrapElement)return;const $=Math.abs(G.target.getBoundingClientRect()[P.value.direction]-G[P.value.client]),J=p.value[P.value.offset]/2,ee=($-J)*100*O.value/d.value[P.value.offset];l.wrapElement[P.value.scroll]=ee*l.wrapElement[P.value.scrollSize]/100},z=G=>{G.stopImmediatePropagation(),w=!0,document.addEventListener("mousemove",T),document.addEventListener("mouseup",_),C=document.onselectstart,document.onselectstart=()=>!1},T=G=>{if(!d.value||!p.value||w===!1)return;const $=g.value[P.value.axis];if(!$)return;const J=(d.value.getBoundingClientRect()[P.value.direction]-G[P.value.client])*-1,ee=p.value[P.value.offset]-$,Q=(J-ee)*100*O.value/d.value[P.value.offset];l.wrapElement[P.value.scroll]=Q*l.wrapElement[P.value.scrollSize]/100},_=()=>{w=!1,g.value[P.value.axis]=0,document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",_),B(),M&&(b.value=!1)},I=()=>{M=!1,b.value=!!o.size},K=()=>{M=!0,b.value=w};ei(()=>{B(),document.removeEventListener("mouseup",_)});const B=()=>{document.onselectstart!==C&&(document.onselectstart=C)};return ii(Gn(l,"scrollbarElement"),"mousemove",I),ii(Gn(l,"scrollbarElement"),"mouseleave",K),(G,$)=>(Y(),Ie(Ki,{name:v(c).b("fade"),persisted:""},{default:Te(()=>[ln(pe("div",{ref_key:"instance",ref:d,class:Z([v(c).e("bar"),v(c).is(v(P).key)]),onMousedown:N},[pe("div",{ref_key:"thumb",ref:p,class:Z(v(c).e("thumb")),style:Ft(v(A)),onMousedown:R},null,38)],34),[[$n,G.always||b.value]])]),_:1},8,["name"]))}});var Ub=ct(B4,[["__file","thumb.vue"]]);const $4=lt({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),V4=xe({__name:"bar",props:$4,setup(i,{expose:o}){const l=i,c=Tt(P0),d=ne(0),p=ne(0),g=ne(""),b=ne(""),w=ne(1),M=ne(1);return o({handleScroll:A=>{if(A){const O=A.offsetHeight-Pl,R=A.offsetWidth-Pl;p.value=A.scrollTop*100/O*w.value,d.value=A.scrollLeft*100/R*M.value}},update:()=>{const A=c==null?void 0:c.wrapElement;if(!A)return;const O=A.offsetHeight-Pl,R=A.offsetWidth-Pl,N=O**2/A.scrollHeight,z=R**2/A.scrollWidth,T=Math.max(N,l.minSize),_=Math.max(z,l.minSize);w.value=N/(O-N)/(T/(O-T)),M.value=z/(R-z)/(_/(R-_)),b.value=T+Pl<O?`${T}px`:"",g.value=_+Pl<R?`${_}px`:""}}),(A,O)=>(Y(),fe($t,null,[ye(Ub,{move:d.value,ratio:M.value,size:g.value,always:A.always},null,8,["move","ratio","size","always"]),ye(Ub,{move:p.value,ratio:w.value,size:b.value,vertical:"",always:A.always},null,8,["move","ratio","size","always"])],64))}});var z4=ct(V4,[["__file","bar.vue"]]);const _4=lt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ae([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...os(["ariaLabel","ariaOrientation"])}),K4={scroll:({scrollTop:i,scrollLeft:o})=>[i,o].every(Yt)},H4="ElScrollbar",j4=xe({name:H4}),q4=xe({...j4,props:_4,emits:K4,setup(i,{expose:o,emit:l}){const c=i,d=Qe("scrollbar");let p,g;const b=ne(),w=ne(),M=ne(),C=ne(),P=j(()=>{const I={};return c.height&&(I.height=Si(c.height)),c.maxHeight&&(I.maxHeight=Si(c.maxHeight)),[c.wrapStyle,I]}),A=j(()=>[c.wrapClass,d.e("wrap"),{[d.em("wrap","hidden-default")]:!c.native}]),O=j(()=>[d.e("view"),c.viewClass]),R=()=>{var I;w.value&&((I=C.value)==null||I.handleScroll(w.value),l("scroll",{scrollTop:w.value.scrollTop,scrollLeft:w.value.scrollLeft}))};function N(I,K){yn(I)?w.value.scrollTo(I):Yt(I)&&Yt(K)&&w.value.scrollTo(I,K)}const z=I=>{Yt(I)&&(w.value.scrollTop=I)},T=I=>{Yt(I)&&(w.value.scrollLeft=I)},_=()=>{var I;(I=C.value)==null||I.update()};return Ue(()=>c.noresize,I=>{I?(p==null||p(),g==null||g()):({stop:p}=fi(M,_),g=ii("resize",_))},{immediate:!0}),Ue(()=>[c.maxHeight,c.height],()=>{c.native||Kt(()=>{var I;_(),w.value&&((I=C.value)==null||I.handleScroll(w.value))})}),En(P0,Hn({scrollbarElement:b,wrapElement:w})),un(()=>{c.native||Kt(()=>{_()})}),Or(()=>_()),o({wrapRef:w,update:_,scrollTo:N,setScrollTop:z,setScrollLeft:T,handleScroll:R}),(I,K)=>(Y(),fe("div",{ref_key:"scrollbarRef",ref:b,class:Z(v(d).b())},[pe("div",{ref_key:"wrapRef",ref:w,class:Z(v(A)),style:Ft(v(P)),onScroll:R},[(Y(),Ie(kn(I.tag),{id:I.id,ref_key:"resizeRef",ref:M,class:Z(v(O)),style:Ft(I.viewStyle),role:I.role,"aria-label":I.ariaLabel,"aria-orientation":I.ariaOrientation},{default:Te(()=>[ze(I.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),I.native?De("v-if",!0):(Y(),Ie(z4,{key:0,ref_key:"barRef",ref:C,always:I.always,"min-size":I.minSize},null,8,["always","min-size"]))],2))}});var G4=ct(q4,[["__file","scrollbar.vue"]]);const $r=gn(G4),T0=Symbol("popper"),bS=Symbol("popperContent"),W4=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],wS=lt({role:{type:String,values:W4,default:"tooltip"}}),U4=xe({name:"ElPopper",inheritAttrs:!1}),Y4=xe({...U4,props:wS,setup(i,{expose:o}){const l=i,c=ne(),d=ne(),p=ne(),g=ne(),b=j(()=>l.role),w={triggerRef:c,popperInstanceRef:d,contentRef:p,referenceRef:g,role:b};return o(w),En(T0,w),(M,C)=>ze(M.$slots,"default")}});var X4=ct(Y4,[["__file","popper.vue"]]);const xS=lt({arrowOffset:{type:Number,default:5}}),Z4=xe({name:"ElPopperArrow",inheritAttrs:!1}),J4=xe({...Z4,props:xS,setup(i,{expose:o}){const l=i,c=Qe("popper"),{arrowOffset:d,arrowRef:p,arrowStyle:g}=Tt(bS,void 0);return Ue(()=>l.arrowOffset,b=>{d.value=b}),ei(()=>{p.value=void 0}),o({arrowRef:p}),(b,w)=>(Y(),fe("span",{ref_key:"arrowRef",ref:p,class:Z(v(c).e("arrow")),style:Ft(v(g)),"data-popper-arrow":""},null,6))}});var Q4=ct(J4,[["__file","arrow.vue"]]);const e$="ElOnlyChild",SS=xe({name:e$,setup(i,{slots:o,attrs:l}){var c;const d=Tt(Jx),p=gF((c=d==null?void 0:d.setForwardRef)!=null?c:jn);return()=>{var g;const b=(g=o.default)==null?void 0:g.call(o,l);if(!b||b.length>1)return null;const w=kS(b);return w?ln(Ar(w,l),[[p]]):null}}});function kS(i){if(!i)return null;const o=i;for(const l of o){if(yn(l))switch(l.type){case rs:continue;case vu:case"svg":return Yb(l);case $t:return kS(l.children);default:return l}return Yb(l)}return null}function Yb(i){const o=Qe("only-child");return ye("span",{class:o.e("content")},[i])}const CS=lt({virtualRef:{type:Ae(Object)},virtualTriggering:Boolean,onMouseenter:{type:Ae(Function)},onMouseleave:{type:Ae(Function)},onClick:{type:Ae(Function)},onKeydown:{type:Ae(Function)},onFocus:{type:Ae(Function)},onBlur:{type:Ae(Function)},onContextmenu:{type:Ae(Function)},id:String,open:Boolean}),t$=xe({name:"ElPopperTrigger",inheritAttrs:!1}),n$=xe({...t$,props:CS,setup(i,{expose:o}){const l=i,{role:c,triggerRef:d}=Tt(T0,void 0);pF(d);const p=j(()=>b.value?l.id:void 0),g=j(()=>{if(c&&c.value==="tooltip")return l.open&&l.id?l.id:void 0}),b=j(()=>{if(c&&c.value!=="tooltip")return c.value}),w=j(()=>b.value?`${l.open}`:void 0);let M;return un(()=>{Ue(()=>l.virtualRef,C=>{C&&(d.value=$s(C))},{immediate:!0}),Ue(d,(C,P)=>{M==null||M(),M=void 0,ko(C)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(A=>{var O;const R=l[A];R&&(C.addEventListener(A.slice(2).toLowerCase(),R),(O=P==null?void 0:P.removeEventListener)==null||O.call(P,A.slice(2).toLowerCase(),R))}),M=Ue([p,g,b,w],A=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((O,R)=>{Xi(A[R])?C.removeAttribute(O):C.setAttribute(O,A[R])})},{immediate:!0})),ko(P)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(A=>P.removeAttribute(A))},{immediate:!0})}),ei(()=>{M==null||M(),M=void 0}),o({triggerRef:d}),(C,P)=>C.virtualTriggering?De("v-if",!0):(Y(),Ie(v(SS),An({key:0},C.$attrs,{"aria-controls":v(p),"aria-describedby":v(g),"aria-expanded":v(w),"aria-haspopup":v(b)}),{default:Te(()=>[ze(C.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var i$=ct(n$,[["__file","trigger.vue"]]);const mp="focus-trap.focus-after-trapped",vp="focus-trap.focus-after-released",s$="focus-trap.focusout-prevented",Xb={cancelable:!0,bubbles:!1},o$={cancelable:!0,bubbles:!1},Zb="focusAfterTrapped",Jb="focusAfterReleased",N0=Symbol("elFocusTrap"),A0=ne(),ff=ne(0),L0=ne(0);let xh=0;const MS=i=>{const o=[],l=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const d=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||d?NodeFilter.FILTER_SKIP:c.tabIndex>=0||c===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;l.nextNode();)o.push(l.currentNode);return o},Qb=(i,o)=>{for(const l of i)if(!r$(l,o))return l},r$=(i,o)=>{if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(o&&i===o)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1},a$=i=>{const o=MS(i),l=Qb(o,i),c=Qb(o.reverse(),i);return[l,c]},l$=i=>i instanceof HTMLInputElement&&"select"in i,Qr=(i,o)=>{if(i&&i.focus){const l=document.activeElement;i.focus({preventScroll:!0}),L0.value=window.performance.now(),i!==l&&l$(i)&&o&&i.select()}};function e1(i,o){const l=[...i],c=i.indexOf(o);return c!==-1&&l.splice(c,1),l}const u$=()=>{let i=[];return{push:c=>{const d=i[0];d&&c!==d&&d.pause(),i=e1(i,c),i.unshift(c)},remove:c=>{var d,p;i=e1(i,c),(p=(d=i[0])==null?void 0:d.resume)==null||p.call(d)}}},c$=(i,o=!1)=>{const l=document.activeElement;for(const c of i)if(Qr(c,o),document.activeElement!==l)return},t1=u$(),h$=()=>ff.value>L0.value,Sh=()=>{A0.value="pointer",ff.value=window.performance.now()},n1=()=>{A0.value="keyboard",ff.value=window.performance.now()},d$=()=>(un(()=>{xh===0&&(document.addEventListener("mousedown",Sh),document.addEventListener("touchstart",Sh),document.addEventListener("keydown",n1)),xh++}),ei(()=>{xh--,xh<=0&&(document.removeEventListener("mousedown",Sh),document.removeEventListener("touchstart",Sh),document.removeEventListener("keydown",n1))}),{focusReason:A0,lastUserFocusTimestamp:ff,lastAutomatedFocusTimestamp:L0}),kh=i=>new CustomEvent(s$,{...o$,detail:i}),f$=xe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Zb,Jb,"focusin","focusout","focusout-prevented","release-requested"],setup(i,{emit:o}){const l=ne();let c,d;const{focusReason:p}=d$();uF(R=>{i.trapped&&!g.paused&&o("release-requested",R)});const g={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},b=R=>{if(!i.loop&&!i.trapped||g.paused)return;const{key:N,altKey:z,ctrlKey:T,metaKey:_,currentTarget:I,shiftKey:K}=R,{loop:B}=i,G=N===Gt.tab&&!z&&!T&&!_,$=document.activeElement;if(G&&$){const J=I,[ee,Q]=a$(J);if(ee&&Q){if(!K&&$===Q){const se=kh({focusReason:p.value});o("focusout-prevented",se),se.defaultPrevented||(R.preventDefault(),B&&Qr(ee,!0))}else if(K&&[ee,J].includes($)){const se=kh({focusReason:p.value});o("focusout-prevented",se),se.defaultPrevented||(R.preventDefault(),B&&Qr(Q,!0))}}else if($===J){const se=kh({focusReason:p.value});o("focusout-prevented",se),se.defaultPrevented||R.preventDefault()}}};En(N0,{focusTrapRef:l,onKeydown:b}),Ue(()=>i.focusTrapEl,R=>{R&&(l.value=R)},{immediate:!0}),Ue([l],([R],[N])=>{R&&(R.addEventListener("keydown",b),R.addEventListener("focusin",C),R.addEventListener("focusout",P)),N&&(N.removeEventListener("keydown",b),N.removeEventListener("focusin",C),N.removeEventListener("focusout",P))});const w=R=>{o(Zb,R)},M=R=>o(Jb,R),C=R=>{const N=v(l);if(!N)return;const z=R.target,T=R.relatedTarget,_=z&&N.contains(z);i.trapped||T&&N.contains(T)||(c=T),_&&o("focusin",R),!g.paused&&i.trapped&&(_?d=z:Qr(d,!0))},P=R=>{const N=v(l);if(!(g.paused||!N))if(i.trapped){const z=R.relatedTarget;!Xi(z)&&!N.contains(z)&&setTimeout(()=>{if(!g.paused&&i.trapped){const T=kh({focusReason:p.value});o("focusout-prevented",T),T.defaultPrevented||Qr(d,!0)}},0)}else{const z=R.target;z&&N.contains(z)||o("focusout",R)}};async function A(){await Kt();const R=v(l);if(R){t1.push(g);const N=R.contains(document.activeElement)?c:document.activeElement;if(c=N,!R.contains(N)){const T=new Event(mp,Xb);R.addEventListener(mp,w),R.dispatchEvent(T),T.defaultPrevented||Kt(()=>{let _=i.focusStartEl;tn(_)||(Qr(_),document.activeElement!==_&&(_="first")),_==="first"&&c$(MS(R),!0),(document.activeElement===N||_==="container")&&Qr(R)})}}}function O(){const R=v(l);if(R){R.removeEventListener(mp,w);const N=new CustomEvent(vp,{...Xb,detail:{focusReason:p.value}});R.addEventListener(vp,M),R.dispatchEvent(N),!N.defaultPrevented&&(p.value=="keyboard"||!h$()||R.contains(document.activeElement))&&Qr(c??document.body),R.removeEventListener(vp,M),t1.remove(g)}}return un(()=>{i.trapped&&A(),Ue(()=>i.trapped,R=>{R?A():O()})}),ei(()=>{i.trapped&&O()}),{onKeydown:b}}});function p$(i,o,l,c,d,p){return ze(i.$slots,"default",{handleKeydown:i.onKeydown})}var Yc=ct(f$,[["render",p$],["__file","focus-trap.vue"]]);const g$=["fixed","absolute"],m$=lt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ae(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:pl,default:"bottom"},popperOptions:{type:Ae(Object),default:()=>({})},strategy:{type:String,values:g$,default:"absolute"}}),PS=lt({...m$,id:String,style:{type:Ae([String,Array,Object])},className:{type:Ae([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ae([String,Array,Object])},popperStyle:{type:Ae([String,Array,Object])},referenceEl:{type:Ae(Object)},triggerTargetEl:{type:Ae(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...os(["ariaLabel"])}),v$={mouseenter:i=>i instanceof MouseEvent,mouseleave:i=>i instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},y$=(i,o=[])=>{const{placement:l,strategy:c,popperOptions:d}=i,p={placement:l,strategy:c,...d,modifiers:[...w$(i),...o]};return x$(p,d==null?void 0:d.modifiers),p},b$=i=>{if(In)return $s(i)};function w$(i){const{offset:o,gpuAcceleration:l,fallbackPlacements:c}=i;return[{name:"offset",options:{offset:[0,o??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:c}},{name:"computeStyles",options:{gpuAcceleration:l}}]}function x$(i,o){o&&(i.modifiers=[...i.modifiers,...o??[]])}const S$=0,k$=i=>{const{popperInstanceRef:o,contentRef:l,triggerRef:c,role:d}=Tt(T0,void 0),p=ne(),g=ne(),b=j(()=>({name:"eventListeners",enabled:!!i.visible})),w=j(()=>{var T;const _=v(p),I=(T=v(g))!=null?T:S$;return{name:"arrow",enabled:!Sx(_),options:{element:_,padding:I}}}),M=j(()=>({onFirstUpdate:()=>{R()},...y$(i,[v(w),v(b)])})),C=j(()=>b$(i.referenceEl)||v(c)),{attributes:P,state:A,styles:O,update:R,forceUpdate:N,instanceRef:z}=oF(C,l,M);return Ue(z,T=>o.value=T),un(()=>{Ue(()=>{var T;return(T=v(C))==null?void 0:T.getBoundingClientRect()},()=>{R()})}),{attributes:P,arrowRef:p,contentRef:l,instanceRef:z,state:A,styles:O,role:d,forceUpdate:N,update:R}},C$=(i,{attributes:o,styles:l,role:c})=>{const{nextZIndex:d}=Su(),p=Qe("popper"),g=j(()=>v(o).popper),b=ne(Yt(i.zIndex)?i.zIndex:d()),w=j(()=>[p.b(),p.is("pure",i.pure),p.is(i.effect),i.popperClass]),M=j(()=>[{zIndex:v(b)},v(l).popper,i.popperStyle||{}]),C=j(()=>c.value==="dialog"?"false":void 0),P=j(()=>v(l).arrow||{});return{ariaModal:C,arrowStyle:P,contentAttrs:g,contentClass:w,contentStyle:M,contentZIndex:b,updateZIndex:()=>{b.value=Yt(i.zIndex)?i.zIndex:d()}}},M$=(i,o)=>{const l=ne(!1),c=ne();return{focusStartRef:c,trapped:l,onFocusAfterReleased:M=>{var C;((C=M.detail)==null?void 0:C.focusReason)!=="pointer"&&(c.value="first",o("blur"))},onFocusAfterTrapped:()=>{o("focus")},onFocusInTrap:M=>{i.visible&&!l.value&&(M.target&&(c.value=M.target),l.value=!0)},onFocusoutPrevented:M=>{i.trapping||(M.detail.focusReason==="pointer"&&M.preventDefault(),l.value=!1)},onReleaseRequested:()=>{l.value=!1,o("close")}}},P$=xe({name:"ElPopperContent"}),T$=xe({...P$,props:PS,emits:v$,setup(i,{expose:o,emit:l}){const c=i,{focusStartRef:d,trapped:p,onFocusAfterReleased:g,onFocusAfterTrapped:b,onFocusInTrap:w,onFocusoutPrevented:M,onReleaseRequested:C}=M$(c,l),{attributes:P,arrowRef:A,contentRef:O,styles:R,instanceRef:N,role:z,update:T}=k$(c),{ariaModal:_,arrowStyle:I,contentAttrs:K,contentClass:B,contentStyle:G,updateZIndex:$}=C$(c,{styles:R,attributes:P,role:z}),J=Tt(lr,void 0),ee=ne();En(bS,{arrowStyle:I,arrowRef:A,arrowOffset:ee}),J&&En(lr,{...J,addInputId:jn,removeInputId:jn});let Q;const X=(de=!0)=>{T(),de&&$()},se=()=>{X(!1),c.visible&&c.focusOnShow?p.value=!0:c.visible===!1&&(p.value=!1)};return un(()=>{Ue(()=>c.triggerTargetEl,(de,ve)=>{Q==null||Q(),Q=void 0;const me=v(de||O.value),ae=v(ve||O.value);ko(me)&&(Q=Ue([z,()=>c.ariaLabel,_,()=>c.id],ie=>{["role","aria-label","aria-modal","id"].forEach((re,te)=>{Xi(ie[te])?me.removeAttribute(re):me.setAttribute(re,ie[te])})},{immediate:!0})),ae!==me&&ko(ae)&&["role","aria-label","aria-modal","id"].forEach(ie=>{ae.removeAttribute(ie)})},{immediate:!0}),Ue(()=>c.visible,se,{immediate:!0})}),ei(()=>{Q==null||Q(),Q=void 0}),o({popperContentRef:O,popperInstanceRef:N,updatePopper:X,contentStyle:G}),(de,ve)=>(Y(),fe("div",An({ref_key:"contentRef",ref:O},v(K),{style:v(G),class:v(B),tabindex:"-1",onMouseenter:ve[0]||(ve[0]=me=>de.$emit("mouseenter",me)),onMouseleave:ve[1]||(ve[1]=me=>de.$emit("mouseleave",me))}),[ye(v(Yc),{trapped:v(p),"trap-on-focus-in":!0,"focus-trap-el":v(O),"focus-start-el":v(d),onFocusAfterTrapped:v(b),onFocusAfterReleased:v(g),onFocusin:v(w),onFocusoutPrevented:v(M),onReleaseRequested:v(C)},{default:Te(()=>[ze(de.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var N$=ct(T$,[["__file","content.vue"]]);const TS=gn(X4),pf=Symbol("elTooltip"),Yi=lt({...dF,...PS,appendTo:{type:Ae([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,visible:{type:Ae(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...os(["ariaLabel"])}),Sc=lt({...CS,disabled:Boolean,trigger:{type:Ae([String,Array]),default:"hover"},triggerKeys:{type:Ae(Array),default:()=>[Gt.enter,Gt.space]}}),{useModelToggleProps:A$,useModelToggleEmits:L$,useModelToggle:E$}=$x("visible"),D$=lt({...wS,...A$,...Yi,...Sc,...xS,showArrow:{type:Boolean,default:!0}}),O$=[...L$,"before-show","before-hide","show","hide","open","close"],R$=(i,o)=>St(i)?i.includes(o):i===o,Tl=(i,o,l)=>c=>{R$(v(i),o)&&l(c)},I$=xe({name:"ElTooltipTrigger"}),F$=xe({...I$,props:Sc,setup(i,{expose:o}){const l=i,c=Qe("tooltip"),{controlled:d,id:p,open:g,onOpen:b,onClose:w,onToggle:M}=Tt(pf,void 0),C=ne(null),P=()=>{if(v(d)||l.disabled)return!0},A=Gn(l,"trigger"),O=xi(P,Tl(A,"hover",b)),R=xi(P,Tl(A,"hover",w)),N=xi(P,Tl(A,"click",K=>{K.button===0&&M(K)})),z=xi(P,Tl(A,"focus",b)),T=xi(P,Tl(A,"focus",w)),_=xi(P,Tl(A,"contextmenu",K=>{K.preventDefault(),M(K)})),I=xi(P,K=>{const{code:B}=K;l.triggerKeys.includes(B)&&(K.preventDefault(),M(K))});return o({triggerRef:C}),(K,B)=>(Y(),Ie(v(i$),{id:v(p),"virtual-ref":K.virtualRef,open:v(g),"virtual-triggering":K.virtualTriggering,class:Z(v(c).e("trigger")),onBlur:v(T),onClick:v(N),onContextmenu:v(_),onFocus:v(z),onMouseenter:v(O),onMouseleave:v(R),onKeydown:v(I)},{default:Te(()=>[ze(K.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var B$=ct(F$,[["__file","trigger.vue"]]);const $$=xe({name:"ElTooltipContent",inheritAttrs:!1}),V$=xe({...$$,props:Yi,setup(i,{expose:o}){const l=i,{selector:c}=Zx(),d=Qe("tooltip"),p=ne(null),g=ne(!1),{controlled:b,id:w,open:M,trigger:C,onClose:P,onOpen:A,onShow:O,onHide:R,onBeforeShow:N,onBeforeHide:z}=Tt(pf,void 0),T=j(()=>l.transition||`${d.namespace.value}-fade-in-linear`),_=j(()=>l.persistent);ei(()=>{g.value=!0});const I=j(()=>v(_)?!0:v(M)),K=j(()=>l.disabled?!1:v(M)),B=j(()=>l.appendTo||c.value),G=j(()=>{var ie;return(ie=l.style)!=null?ie:{}}),$=j(()=>!v(M)),J=()=>{R()},ee=()=>{if(v(b))return!0},Q=xi(ee,()=>{l.enterable&&v(C)==="hover"&&A()}),X=xi(ee,()=>{v(C)==="hover"&&P()}),se=()=>{var ie,re;(re=(ie=p.value)==null?void 0:ie.updatePopper)==null||re.call(ie),N==null||N()},de=()=>{z==null||z()},ve=()=>{O(),ae=Em(j(()=>{var ie;return(ie=p.value)==null?void 0:ie.popperContentRef}),()=>{if(v(b))return;v(C)!=="hover"&&P()})},me=()=>{l.virtualTriggering||P()};let ae;return Ue(()=>v(M),ie=>{ie||ae==null||ae()},{flush:"post"}),Ue(()=>l.content,()=>{var ie,re;(re=(ie=p.value)==null?void 0:ie.updatePopper)==null||re.call(ie)}),o({contentRef:p}),(ie,re)=>(Y(),Ie(mu,{disabled:!ie.teleported,to:v(B)},[ye(Ki,{name:v(T),onAfterLeave:J,onBeforeEnter:se,onAfterEnter:ve,onBeforeLeave:de},{default:Te(()=>[v(I)?ln((Y(),Ie(v(N$),An({key:0,id:v(w),ref_key:"contentRef",ref:p},ie.$attrs,{"aria-label":ie.ariaLabel,"aria-hidden":v($),"boundaries-padding":ie.boundariesPadding,"fallback-placements":ie.fallbackPlacements,"gpu-acceleration":ie.gpuAcceleration,offset:ie.offset,placement:ie.placement,"popper-options":ie.popperOptions,strategy:ie.strategy,effect:ie.effect,enterable:ie.enterable,pure:ie.pure,"popper-class":ie.popperClass,"popper-style":[ie.popperStyle,v(G)],"reference-el":ie.referenceEl,"trigger-target-el":ie.triggerTargetEl,visible:v(K),"z-index":ie.zIndex,onMouseenter:v(Q),onMouseleave:v(X),onBlur:me,onClose:v(P)}),{default:Te(()=>[g.value?De("v-if",!0):ze(ie.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[$n,v(K)]]):De("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var z$=ct(V$,[["__file","content.vue"]]);const _$=["innerHTML"],K$={key:1},H$=xe({name:"ElTooltip"}),j$=xe({...H$,props:D$,emits:O$,setup(i,{expose:o,emit:l}){const c=i;hF();const d=hs(),p=ne(),g=ne(),b=()=>{var T;const _=v(p);_&&((T=_.popperInstanceRef)==null||T.update())},w=ne(!1),M=ne(),{show:C,hide:P,hasUpdateHandler:A}=E$({indicator:w,toggleReason:M}),{onOpen:O,onClose:R}=fF({showAfter:Gn(c,"showAfter"),hideAfter:Gn(c,"hideAfter"),autoClose:Gn(c,"autoClose"),open:C,close:P}),N=j(()=>Ii(c.visible)&&!A.value);En(pf,{controlled:N,id:d,open:gu(w),trigger:Gn(c,"trigger"),onOpen:T=>{O(T)},onClose:T=>{R(T)},onToggle:T=>{v(w)?R(T):O(T)},onShow:()=>{l("show",M.value)},onHide:()=>{l("hide",M.value)},onBeforeShow:()=>{l("before-show",M.value)},onBeforeHide:()=>{l("before-hide",M.value)},updatePopper:b}),Ue(()=>c.disabled,T=>{T&&w.value&&(w.value=!1)});const z=T=>{var _,I;const K=(I=(_=g.value)==null?void 0:_.contentRef)==null?void 0:I.popperContentRef,B=(T==null?void 0:T.relatedTarget)||document.activeElement;return K&&K.contains(B)};return s2(()=>w.value&&P()),o({popperRef:p,contentRef:g,isFocusInsideContent:z,updatePopper:b,onOpen:O,onClose:R,hide:P}),(T,_)=>(Y(),Ie(v(TS),{ref_key:"popperRef",ref:p,role:T.role},{default:Te(()=>[ye(B$,{disabled:T.disabled,trigger:T.trigger,"trigger-keys":T.triggerKeys,"virtual-ref":T.virtualRef,"virtual-triggering":T.virtualTriggering},{default:Te(()=>[T.$slots.default?ze(T.$slots,"default",{key:0}):De("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ye(z$,{ref_key:"contentRef",ref:g,"aria-label":T.ariaLabel,"boundaries-padding":T.boundariesPadding,content:T.content,disabled:T.disabled,effect:T.effect,enterable:T.enterable,"fallback-placements":T.fallbackPlacements,"hide-after":T.hideAfter,"gpu-acceleration":T.gpuAcceleration,offset:T.offset,persistent:T.persistent,"popper-class":T.popperClass,"popper-style":T.popperStyle,placement:T.placement,"popper-options":T.popperOptions,pure:T.pure,"raw-content":T.rawContent,"reference-el":T.referenceEl,"trigger-target-el":T.triggerTargetEl,"show-after":T.showAfter,strategy:T.strategy,teleported:T.teleported,transition:T.transition,"virtual-triggering":T.virtualTriggering,"z-index":T.zIndex,"append-to":T.appendTo},{default:Te(()=>[ze(T.$slots,"content",{},()=>[T.rawContent?(Y(),fe("span",{key:0,innerHTML:T.content},null,8,_$)):(Y(),fe("span",K$,dt(T.content),1))]),T.showArrow?(Y(),Ie(v(Q4),{key:0,"arrow-offset":T.arrowOffset},null,8,["arrow-offset"])):De("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var q$=ct(j$,[["__file","tooltip.vue"]]);const Ss=gn(q$),G$=lt({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Ae(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Ae([Function,Array]),default:jn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Yi.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...os(["ariaLabel"])}),W$={[wn]:i=>tn(i),[Ns]:i=>tn(i),[si]:i=>tn(i),focus:i=>i instanceof FocusEvent,blur:i=>i instanceof FocusEvent,clear:()=>!0,select:i=>yn(i)},U$=["aria-expanded","aria-owns"],Y$={key:0},X$=["id","aria-selected","onClick"],NS="ElAutocomplete",Z$=xe({name:NS,inheritAttrs:!1}),J$=xe({...Z$,props:G$,emits:W$,setup(i,{expose:o,emit:l}){const c=i,d=s0(),p=cl(),g=Es(),b=Qe("autocomplete"),w=ne(),M=ne(),C=ne(),P=ne();let A=!1,O=!1;const R=ne([]),N=ne(-1),z=ne(""),T=ne(!1),_=ne(!1),I=ne(!1),K=hs(),B=j(()=>p.style),G=j(()=>(R.value.length>0||I.value)&&T.value),$=j(()=>!c.hideLoading&&I.value),J=j(()=>w.value?Array.from(w.value.$el.querySelectorAll("input")):[]),ee=()=>{G.value&&(z.value=`${w.value.$el.offsetWidth}px`)},Q=()=>{N.value=-1},se=Ks(async Le=>{if(_.value)return;const _e=Fe=>{I.value=!1,!_.value&&(St(Fe)?(R.value=Fe,N.value=c.highlightFirstItem?0:-1):Hi(NS,"autocomplete suggestions must be an array"))};if(I.value=!0,St(c.fetchSuggestions))_e(c.fetchSuggestions);else{const Fe=await c.fetchSuggestions(Le,_e);St(Fe)&&_e(Fe)}},c.debounce),de=Le=>{const _e=!!Le;if(l(Ns,Le),l(wn,Le),_.value=!1,T.value||(T.value=_e),!c.triggerOnFocus&&!Le){_.value=!0,R.value=[];return}se(Le)},ve=Le=>{var _e;g.value||(((_e=Le.target)==null?void 0:_e.tagName)!=="INPUT"||J.value.includes(document.activeElement))&&(T.value=!0)},me=Le=>{l(si,Le)},ae=Le=>{O?O=!1:(T.value=!0,l("focus",Le),c.triggerOnFocus&&!A&&se(String(c.modelValue)))},ie=Le=>{setTimeout(()=>{var _e;if((_e=C.value)!=null&&_e.isFocusInsideContent()){O=!0;return}T.value&&be(),l("blur",Le)})},re=()=>{T.value=!1,l(wn,""),l("clear")},te=async()=>{G.value&&N.value>=0&&N.value<R.value.length?Be(R.value[N.value]):c.selectWhenUnmatched&&(l("select",{value:c.modelValue}),R.value=[],N.value=-1)},ue=Le=>{G.value&&(Le.preventDefault(),Le.stopPropagation(),be())},be=()=>{T.value=!1},Ce=()=>{var Le;(Le=w.value)==null||Le.focus()},Ne=()=>{var Le;(Le=w.value)==null||Le.blur()},Be=async Le=>{l(Ns,Le[c.valueKey]),l(wn,Le[c.valueKey]),l("select",Le),R.value=[],N.value=-1},tt=Le=>{if(!G.value||I.value)return;if(Le<0){N.value=-1;return}Le>=R.value.length&&(Le=R.value.length-1);const _e=M.value.querySelector(`.${b.be("suggestion","wrap")}`),gt=_e.querySelectorAll(`.${b.be("suggestion","list")} li`)[Le],Ye=_e.scrollTop,{offsetTop:Ze,scrollHeight:mt}=gt;Ze+mt>Ye+_e.clientHeight&&(_e.scrollTop+=mt),Ze<Ye&&(_e.scrollTop-=mt),N.value=Le,w.value.ref.setAttribute("aria-activedescendant",`${K.value}-item-${N.value}`)};return Em(P,()=>{G.value&&be()}),un(()=>{w.value.ref.setAttribute("role","textbox"),w.value.ref.setAttribute("aria-autocomplete","list"),w.value.ref.setAttribute("aria-controls","id"),w.value.ref.setAttribute("aria-activedescendant",`${K.value}-item-${N.value}`),A=w.value.ref.hasAttribute("readonly")}),o({highlightedIndex:N,activated:T,loading:I,inputRef:w,popperRef:C,suggestions:R,handleSelect:Be,handleKeyEnter:te,focus:Ce,blur:Ne,close:be,highlight:tt}),(Le,_e)=>(Y(),Ie(v(Ss),{ref_key:"popperRef",ref:C,visible:v(G),placement:Le.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[v(b).e("popper"),Le.popperClass],teleported:Le.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${v(b).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:ee,onHide:Q},{content:Te(()=>[pe("div",{ref_key:"regionRef",ref:M,class:Z([v(b).b("suggestion"),v(b).is("loading",v($))]),style:Ft({[Le.fitInputWidth?"width":"minWidth"]:z.value,outline:"none"}),role:"region"},[ye(v($r),{id:v(K),tag:"ul","wrap-class":v(b).be("suggestion","wrap"),"view-class":v(b).be("suggestion","list"),role:"listbox"},{default:Te(()=>[v($)?(Y(),fe("li",Y$,[ze(Le.$slots,"loading",{},()=>[ye(v(Et),{class:Z(v(b).is("loading"))},{default:Te(()=>[ye(v(Na))]),_:1},8,["class"])])])):(Y(!0),fe($t,{key:1},Rn(R.value,(Fe,gt)=>(Y(),fe("li",{id:`${v(K)}-item-${gt}`,key:gt,class:Z({highlighted:N.value===gt}),role:"option","aria-selected":N.value===gt,onClick:Ye=>Be(Fe)},[ze(Le.$slots,"default",{item:Fe},()=>[Tn(dt(Fe[Le.valueKey]),1)])],10,X$))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:Te(()=>[pe("div",{ref_key:"listboxRef",ref:P,class:Z([v(b).b(),Le.$attrs.class]),style:Ft(v(B)),role:"combobox","aria-haspopup":"listbox","aria-expanded":v(G),"aria-owns":v(K)},[ye(v(bs),An({ref_key:"inputRef",ref:w},v(d),{clearable:Le.clearable,disabled:v(g),name:Le.name,"model-value":Le.modelValue,"aria-label":Le.ariaLabel,onInput:de,onChange:me,onFocus:ae,onBlur:ie,onClear:re,onKeydown:[_e[0]||(_e[0]=Yn(en(Fe=>tt(N.value-1),["prevent"]),["up"])),_e[1]||(_e[1]=Yn(en(Fe=>tt(N.value+1),["prevent"]),["down"])),Yn(te,["enter"]),Yn(be,["tab"]),Yn(ue,["esc"])],onMousedown:ve}),Nr({_:2},[Le.$slots.prepend?{name:"prepend",fn:Te(()=>[ze(Le.$slots,"prepend")])}:void 0,Le.$slots.append?{name:"append",fn:Te(()=>[ze(Le.$slots,"append")])}:void 0,Le.$slots.prefix?{name:"prefix",fn:Te(()=>[ze(Le.$slots,"prefix")])}:void 0,Le.$slots.suffix?{name:"suffix",fn:Te(()=>[ze(Le.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,U$)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Q$=ct(J$,[["__file","autocomplete.vue"]]);const eV=gn(Q$),tV=lt({size:{type:[Number,String],values:ur,default:"",validator:i=>Yt(i)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Xn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Ae(String),default:"cover"}}),nV={error:i=>i instanceof Event},iV=["src","alt","srcset"],sV=xe({name:"ElAvatar"}),oV=xe({...sV,props:tV,emits:nV,setup(i,{emit:o}){const l=i,c=Qe("avatar"),d=ne(!1),p=j(()=>{const{size:M,icon:C,shape:P}=l,A=[c.b()];return tn(M)&&A.push(c.m(M)),C&&A.push(c.m("icon")),P&&A.push(c.m(P)),A}),g=j(()=>{const{size:M}=l;return Yt(M)?c.cssVarBlock({size:Si(M)||""}):void 0}),b=j(()=>({objectFit:l.fit}));Ue(()=>l.src,()=>d.value=!1);function w(M){d.value=!0,o("error",M)}return(M,C)=>(Y(),fe("span",{class:Z(v(p)),style:Ft(v(g))},[(M.src||M.srcSet)&&!d.value?(Y(),fe("img",{key:0,src:M.src,alt:M.alt,srcset:M.srcSet,style:Ft(v(b)),onError:w},null,44,iV)):M.icon?(Y(),Ie(v(Et),{key:1},{default:Te(()=>[(Y(),Ie(kn(M.icon)))]),_:1})):ze(M.$slots,"default",{key:2})],6))}});var rV=ct(oV,[["__file","avatar.vue"]]);const aV=gn(rV),lV={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},uV={click:i=>i instanceof MouseEvent},cV=(i,o,l)=>{const c=oi(),d=oi(),p=ne(!1),g=()=>{c.value&&(p.value=c.value.scrollTop>=i.visibilityHeight)},b=M=>{var C;(C=c.value)==null||C.scrollTo({top:0,behavior:"smooth"}),o("click",M)},w=O2(g,300,!0);return ii(d,"scroll",w),un(()=>{var M;d.value=document,c.value=document.documentElement,i.target&&(c.value=(M=document.querySelector(i.target))!=null?M:void 0,c.value||Hi(l,`target does not exist: ${i.target}`),d.value=c.value),g()}),{visible:p,handleClick:b}},AS="ElBacktop",hV=xe({name:AS}),dV=xe({...hV,props:lV,emits:uV,setup(i,{emit:o}){const l=i,c=Qe("backtop"),{handleClick:d,visible:p}=cV(l,o,AS),g=j(()=>({right:`${l.right}px`,bottom:`${l.bottom}px`}));return(b,w)=>(Y(),Ie(Ki,{name:`${v(c).namespace.value}-fade-in`},{default:Te(()=>[v(p)?(Y(),fe("div",{key:0,style:Ft(v(g)),class:Z(v(c).b()),onClick:w[0]||(w[0]=en((...M)=>v(d)&&v(d)(...M),["stop"]))},[ze(b.$slots,"default",{},()=>[ye(v(Et),{class:Z(v(c).e("icon"))},{default:Te(()=>[ye(v(_3))]),_:1},8,["class"])])],6)):De("v-if",!0)]),_:3},8,["name"]))}});var fV=ct(dV,[["__file","backtop.vue"]]);const pV=gn(fV),gV=lt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:Ae([String,Object,Array])},badgeStyle:{type:Ae([String,Object,Array])},offset:{type:Ae(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),mV=["textContent"],vV=xe({name:"ElBadge"}),yV=xe({...vV,props:gV,setup(i,{expose:o}){const l=i,c=Qe("badge"),d=j(()=>l.isDot?"":Yt(l.value)&&Yt(l.max)?l.max<l.value?`${l.max}+`:l.value===0&&!l.showZero?"":`${l.value}`:`${l.value}`),p=j(()=>{var g,b,w,M,C,P;return[{backgroundColor:l.color,marginRight:Si(-((b=(g=l.offset)==null?void 0:g[0])!=null?b:0)),marginTop:Si((M=(w=l.offset)==null?void 0:w[1])!=null?M:0)},(C=l.dotStyle)!=null?C:{},(P=l.badgeStyle)!=null?P:{}]});return qi({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},j(()=>!!l.dotStyle)),qi({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},j(()=>!!l.dotClass)),o({content:d}),(g,b)=>(Y(),fe("div",{class:Z(v(c).b())},[ze(g.$slots,"default"),ye(Ki,{name:`${v(c).namespace.value}-zoom-in-center`,persisted:""},{default:Te(()=>[ln(pe("sup",{class:Z([v(c).e("content"),v(c).em("content",g.type),v(c).is("fixed",!!g.$slots.default),v(c).is("dot",g.isDot),g.dotClass,g.badgeClass]),style:Ft(v(p)),textContent:dt(v(d))},null,14,mV),[[$n,!g.hidden&&(v(d)||g.isDot)]])]),_:1},8,["name"])],2))}});var bV=ct(yV,[["__file","badge.vue"]]);const LS=gn(bV),ES=Symbol("breadcrumbKey"),wV=lt({separator:{type:String,default:"/"},separatorIcon:{type:Xn}}),xV=["aria-label"],SV=xe({name:"ElBreadcrumb"}),kV=xe({...SV,props:wV,setup(i){const o=i,{t:l}=Bn(),c=Qe("breadcrumb"),d=ne();return En(ES,o),un(()=>{const p=d.value.querySelectorAll(`.${c.e("item")}`);p.length&&p[p.length-1].setAttribute("aria-current","page")}),(p,g)=>(Y(),fe("div",{ref_key:"breadcrumb",ref:d,class:Z(v(c).b()),"aria-label":v(l)("el.breadcrumb.label"),role:"navigation"},[ze(p.$slots,"default")],10,xV))}});var CV=ct(kV,[["__file","breadcrumb.vue"]]);const MV=lt({to:{type:Ae([String,Object]),default:""},replace:{type:Boolean,default:!1}}),PV=xe({name:"ElBreadcrumbItem"}),TV=xe({...PV,props:MV,setup(i){const o=i,l=pn(),c=Tt(ES,void 0),d=Qe("breadcrumb"),p=l.appContext.config.globalProperties.$router,g=ne(),b=()=>{!o.to||!p||(o.replace?p.replace(o.to):p.push(o.to))};return(w,M)=>{var C,P;return Y(),fe("span",{class:Z(v(d).e("item"))},[pe("span",{ref_key:"link",ref:g,class:Z([v(d).e("inner"),v(d).is("link",!!w.to)]),role:"link",onClick:b},[ze(w.$slots,"default")],2),(C=v(c))!=null&&C.separatorIcon?(Y(),Ie(v(Et),{key:0,class:Z(v(d).e("separator"))},{default:Te(()=>[(Y(),Ie(kn(v(c).separatorIcon)))]),_:1},8,["class"])):(Y(),fe("span",{key:1,class:Z(v(d).e("separator")),role:"presentation"},dt((P=v(c))==null?void 0:P.separator),3))],2)}}});var DS=ct(TV,[["__file","breadcrumb-item.vue"]]);const NV=gn(CV,{BreadcrumbItem:DS}),AV=gi(DS),OS=Symbol("buttonGroupContextKey"),LV=(i,o)=>{qi({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},j(()=>i.type==="text"));const l=Tt(OS,void 0),c=Wc("button"),{form:d}=ks(),p=$i(j(()=>l==null?void 0:l.size)),g=Es(),b=ne(),w=Qi(),M=j(()=>i.type||(l==null?void 0:l.type)||""),C=j(()=>{var R,N,z;return(z=(N=i.autoInsertSpace)!=null?N:(R=c.value)==null?void 0:R.autoInsertSpace)!=null?z:!1}),P=j(()=>i.tag==="button"?{ariaDisabled:g.value||i.loading,disabled:g.value||i.loading,autofocus:i.autofocus,type:i.nativeType}:{}),A=j(()=>{var R;const N=(R=w.default)==null?void 0:R.call(w);if(C.value&&(N==null?void 0:N.length)===1){const z=N[0];if((z==null?void 0:z.type)===vu){const T=z.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(T.trim())}}return!1});return{_disabled:g,_size:p,_type:M,_ref:b,_props:P,shouldAddSpace:A,handleClick:R=>{i.nativeType==="reset"&&(d==null||d.resetFields()),o("click",R)}}},gg=["default","primary","success","warning","info","danger","text",""],EV=["button","submit","reset"],mg=lt({size:ji,disabled:Boolean,type:{type:String,values:gg,default:""},icon:{type:Xn},nativeType:{type:String,values:EV,default:"button"},loading:Boolean,loadingIcon:{type:Xn,default:()=>Na},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Ae([String,Object]),default:"button"}}),DV={click:i=>i instanceof MouseEvent};function cs(i,o){OV(i)&&(i="100%");var l=RV(i);return i=o===360?i:Math.min(o,Math.max(0,parseFloat(i))),l&&(i=parseInt(String(i*o),10)/100),Math.abs(i-o)<1e-6?1:(o===360?i=(i<0?i%o+o:i%o)/parseFloat(String(o)):i=i%o/parseFloat(String(o)),i)}function Ch(i){return Math.min(1,Math.max(0,i))}function OV(i){return typeof i=="string"&&i.indexOf(".")!==-1&&parseFloat(i)===1}function RV(i){return typeof i=="string"&&i.indexOf("%")!==-1}function RS(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function Mh(i){return i<=1?"".concat(Number(i)*100,"%"):i}function ja(i){return i.length===1?"0"+i:String(i)}function IV(i,o,l){return{r:cs(i,255)*255,g:cs(o,255)*255,b:cs(l,255)*255}}function i1(i,o,l){i=cs(i,255),o=cs(o,255),l=cs(l,255);var c=Math.max(i,o,l),d=Math.min(i,o,l),p=0,g=0,b=(c+d)/2;if(c===d)g=0,p=0;else{var w=c-d;switch(g=b>.5?w/(2-c-d):w/(c+d),c){case i:p=(o-l)/w+(o<l?6:0);break;case o:p=(l-i)/w+2;break;case l:p=(i-o)/w+4;break}p/=6}return{h:p,s:g,l:b}}function yp(i,o,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?i+(o-i)*(6*l):l<1/2?o:l<2/3?i+(o-i)*(2/3-l)*6:i}function FV(i,o,l){var c,d,p;if(i=cs(i,360),o=cs(o,100),l=cs(l,100),o===0)d=l,p=l,c=l;else{var g=l<.5?l*(1+o):l+o-l*o,b=2*l-g;c=yp(b,g,i+1/3),d=yp(b,g,i),p=yp(b,g,i-1/3)}return{r:c*255,g:d*255,b:p*255}}function s1(i,o,l){i=cs(i,255),o=cs(o,255),l=cs(l,255);var c=Math.max(i,o,l),d=Math.min(i,o,l),p=0,g=c,b=c-d,w=c===0?0:b/c;if(c===d)p=0;else{switch(c){case i:p=(o-l)/b+(o<l?6:0);break;case o:p=(l-i)/b+2;break;case l:p=(i-o)/b+4;break}p/=6}return{h:p,s:w,v:g}}function BV(i,o,l){i=cs(i,360)*6,o=cs(o,100),l=cs(l,100);var c=Math.floor(i),d=i-c,p=l*(1-o),g=l*(1-d*o),b=l*(1-(1-d)*o),w=c%6,M=[l,g,p,p,b,l][w],C=[b,l,l,g,p,p][w],P=[p,p,b,l,l,g][w];return{r:M*255,g:C*255,b:P*255}}function o1(i,o,l,c){var d=[ja(Math.round(i).toString(16)),ja(Math.round(o).toString(16)),ja(Math.round(l).toString(16))];return c&&d[0].startsWith(d[0].charAt(1))&&d[1].startsWith(d[1].charAt(1))&&d[2].startsWith(d[2].charAt(1))?d[0].charAt(0)+d[1].charAt(0)+d[2].charAt(0):d.join("")}function $V(i,o,l,c,d){var p=[ja(Math.round(i).toString(16)),ja(Math.round(o).toString(16)),ja(Math.round(l).toString(16)),ja(VV(c))];return d&&p[0].startsWith(p[0].charAt(1))&&p[1].startsWith(p[1].charAt(1))&&p[2].startsWith(p[2].charAt(1))&&p[3].startsWith(p[3].charAt(1))?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function VV(i){return Math.round(parseFloat(i)*255).toString(16)}function r1(i){return Ys(i)/255}function Ys(i){return parseInt(i,16)}function zV(i){return{r:i>>16,g:(i&65280)>>8,b:i&255}}var vg={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function _V(i){var o={r:0,g:0,b:0},l=1,c=null,d=null,p=null,g=!1,b=!1;return typeof i=="string"&&(i=jV(i)),typeof i=="object"&&(br(i.r)&&br(i.g)&&br(i.b)?(o=IV(i.r,i.g,i.b),g=!0,b=String(i.r).substr(-1)==="%"?"prgb":"rgb"):br(i.h)&&br(i.s)&&br(i.v)?(c=Mh(i.s),d=Mh(i.v),o=BV(i.h,c,d),g=!0,b="hsv"):br(i.h)&&br(i.s)&&br(i.l)&&(c=Mh(i.s),p=Mh(i.l),o=FV(i.h,c,p),g=!0,b="hsl"),Object.prototype.hasOwnProperty.call(i,"a")&&(l=i.a)),l=RS(l),{ok:g,format:i.format||b,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:l}}var KV="[-\\+]?\\d+%?",HV="[-\\+]?\\d*\\.\\d+%?",la="(?:".concat(HV,")|(?:").concat(KV,")"),bp="[\\s|\\(]+(".concat(la,")[,|\\s]+(").concat(la,")[,|\\s]+(").concat(la,")\\s*\\)?"),wp="[\\s|\\(]+(".concat(la,")[,|\\s]+(").concat(la,")[,|\\s]+(").concat(la,")[,|\\s]+(").concat(la,")\\s*\\)?"),Fo={CSS_UNIT:new RegExp(la),rgb:new RegExp("rgb"+bp),rgba:new RegExp("rgba"+wp),hsl:new RegExp("hsl"+bp),hsla:new RegExp("hsla"+wp),hsv:new RegExp("hsv"+bp),hsva:new RegExp("hsva"+wp),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function jV(i){if(i=i.trim().toLowerCase(),i.length===0)return!1;var o=!1;if(vg[i])i=vg[i],o=!0;else if(i==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var l=Fo.rgb.exec(i);return l?{r:l[1],g:l[2],b:l[3]}:(l=Fo.rgba.exec(i),l?{r:l[1],g:l[2],b:l[3],a:l[4]}:(l=Fo.hsl.exec(i),l?{h:l[1],s:l[2],l:l[3]}:(l=Fo.hsla.exec(i),l?{h:l[1],s:l[2],l:l[3],a:l[4]}:(l=Fo.hsv.exec(i),l?{h:l[1],s:l[2],v:l[3]}:(l=Fo.hsva.exec(i),l?{h:l[1],s:l[2],v:l[3],a:l[4]}:(l=Fo.hex8.exec(i),l?{r:Ys(l[1]),g:Ys(l[2]),b:Ys(l[3]),a:r1(l[4]),format:o?"name":"hex8"}:(l=Fo.hex6.exec(i),l?{r:Ys(l[1]),g:Ys(l[2]),b:Ys(l[3]),format:o?"name":"hex"}:(l=Fo.hex4.exec(i),l?{r:Ys(l[1]+l[1]),g:Ys(l[2]+l[2]),b:Ys(l[3]+l[3]),a:r1(l[4]+l[4]),format:o?"name":"hex8"}:(l=Fo.hex3.exec(i),l?{r:Ys(l[1]+l[1]),g:Ys(l[2]+l[2]),b:Ys(l[3]+l[3]),format:o?"name":"hex"}:!1)))))))))}function br(i){return!!Fo.CSS_UNIT.exec(String(i))}var IS=function(){function i(o,l){o===void 0&&(o=""),l===void 0&&(l={});var c;if(o instanceof i)return o;typeof o=="number"&&(o=zV(o)),this.originalInput=o;var d=_V(o);this.originalInput=o,this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.roundA=Math.round(100*this.a)/100,this.format=(c=l.format)!==null&&c!==void 0?c:d.format,this.gradientType=l.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=d.ok}return i.prototype.isDark=function(){return this.getBrightness()<128},i.prototype.isLight=function(){return!this.isDark()},i.prototype.getBrightness=function(){var o=this.toRgb();return(o.r*299+o.g*587+o.b*114)/1e3},i.prototype.getLuminance=function(){var o=this.toRgb(),l,c,d,p=o.r/255,g=o.g/255,b=o.b/255;return p<=.03928?l=p/12.92:l=Math.pow((p+.055)/1.055,2.4),g<=.03928?c=g/12.92:c=Math.pow((g+.055)/1.055,2.4),b<=.03928?d=b/12.92:d=Math.pow((b+.055)/1.055,2.4),.2126*l+.7152*c+.0722*d},i.prototype.getAlpha=function(){return this.a},i.prototype.setAlpha=function(o){return this.a=RS(o),this.roundA=Math.round(100*this.a)/100,this},i.prototype.isMonochrome=function(){var o=this.toHsl().s;return o===0},i.prototype.toHsv=function(){var o=s1(this.r,this.g,this.b);return{h:o.h*360,s:o.s,v:o.v,a:this.a}},i.prototype.toHsvString=function(){var o=s1(this.r,this.g,this.b),l=Math.round(o.h*360),c=Math.round(o.s*100),d=Math.round(o.v*100);return this.a===1?"hsv(".concat(l,", ").concat(c,"%, ").concat(d,"%)"):"hsva(".concat(l,", ").concat(c,"%, ").concat(d,"%, ").concat(this.roundA,")")},i.prototype.toHsl=function(){var o=i1(this.r,this.g,this.b);return{h:o.h*360,s:o.s,l:o.l,a:this.a}},i.prototype.toHslString=function(){var o=i1(this.r,this.g,this.b),l=Math.round(o.h*360),c=Math.round(o.s*100),d=Math.round(o.l*100);return this.a===1?"hsl(".concat(l,", ").concat(c,"%, ").concat(d,"%)"):"hsla(".concat(l,", ").concat(c,"%, ").concat(d,"%, ").concat(this.roundA,")")},i.prototype.toHex=function(o){return o===void 0&&(o=!1),o1(this.r,this.g,this.b,o)},i.prototype.toHexString=function(o){return o===void 0&&(o=!1),"#"+this.toHex(o)},i.prototype.toHex8=function(o){return o===void 0&&(o=!1),$V(this.r,this.g,this.b,this.a,o)},i.prototype.toHex8String=function(o){return o===void 0&&(o=!1),"#"+this.toHex8(o)},i.prototype.toHexShortString=function(o){return o===void 0&&(o=!1),this.a===1?this.toHexString(o):this.toHex8String(o)},i.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},i.prototype.toRgbString=function(){var o=Math.round(this.r),l=Math.round(this.g),c=Math.round(this.b);return this.a===1?"rgb(".concat(o,", ").concat(l,", ").concat(c,")"):"rgba(".concat(o,", ").concat(l,", ").concat(c,", ").concat(this.roundA,")")},i.prototype.toPercentageRgb=function(){var o=function(l){return"".concat(Math.round(cs(l,255)*100),"%")};return{r:o(this.r),g:o(this.g),b:o(this.b),a:this.a}},i.prototype.toPercentageRgbString=function(){var o=function(l){return Math.round(cs(l,255)*100)};return this.a===1?"rgb(".concat(o(this.r),"%, ").concat(o(this.g),"%, ").concat(o(this.b),"%)"):"rgba(".concat(o(this.r),"%, ").concat(o(this.g),"%, ").concat(o(this.b),"%, ").concat(this.roundA,")")},i.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var o="#"+o1(this.r,this.g,this.b,!1),l=0,c=Object.entries(vg);l<c.length;l++){var d=c[l],p=d[0],g=d[1];if(o===g)return p}return!1},i.prototype.toString=function(o){var l=!!o;o=o??this.format;var c=!1,d=this.a<1&&this.a>=0,p=!l&&d&&(o.startsWith("hex")||o==="name");return p?o==="name"&&this.a===0?this.toName():this.toRgbString():(o==="rgb"&&(c=this.toRgbString()),o==="prgb"&&(c=this.toPercentageRgbString()),(o==="hex"||o==="hex6")&&(c=this.toHexString()),o==="hex3"&&(c=this.toHexString(!0)),o==="hex4"&&(c=this.toHex8String(!0)),o==="hex8"&&(c=this.toHex8String()),o==="name"&&(c=this.toName()),o==="hsl"&&(c=this.toHslString()),o==="hsv"&&(c=this.toHsvString()),c||this.toHexString())},i.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},i.prototype.clone=function(){return new i(this.toString())},i.prototype.lighten=function(o){o===void 0&&(o=10);var l=this.toHsl();return l.l+=o/100,l.l=Ch(l.l),new i(l)},i.prototype.brighten=function(o){o===void 0&&(o=10);var l=this.toRgb();return l.r=Math.max(0,Math.min(255,l.r-Math.round(255*-(o/100)))),l.g=Math.max(0,Math.min(255,l.g-Math.round(255*-(o/100)))),l.b=Math.max(0,Math.min(255,l.b-Math.round(255*-(o/100)))),new i(l)},i.prototype.darken=function(o){o===void 0&&(o=10);var l=this.toHsl();return l.l-=o/100,l.l=Ch(l.l),new i(l)},i.prototype.tint=function(o){return o===void 0&&(o=10),this.mix("white",o)},i.prototype.shade=function(o){return o===void 0&&(o=10),this.mix("black",o)},i.prototype.desaturate=function(o){o===void 0&&(o=10);var l=this.toHsl();return l.s-=o/100,l.s=Ch(l.s),new i(l)},i.prototype.saturate=function(o){o===void 0&&(o=10);var l=this.toHsl();return l.s+=o/100,l.s=Ch(l.s),new i(l)},i.prototype.greyscale=function(){return this.desaturate(100)},i.prototype.spin=function(o){var l=this.toHsl(),c=(l.h+o)%360;return l.h=c<0?360+c:c,new i(l)},i.prototype.mix=function(o,l){l===void 0&&(l=50);var c=this.toRgb(),d=new i(o).toRgb(),p=l/100,g={r:(d.r-c.r)*p+c.r,g:(d.g-c.g)*p+c.g,b:(d.b-c.b)*p+c.b,a:(d.a-c.a)*p+c.a};return new i(g)},i.prototype.analogous=function(o,l){o===void 0&&(o=6),l===void 0&&(l=30);var c=this.toHsl(),d=360/l,p=[this];for(c.h=(c.h-(d*o>>1)+720)%360;--o;)c.h=(c.h+d)%360,p.push(new i(c));return p},i.prototype.complement=function(){var o=this.toHsl();return o.h=(o.h+180)%360,new i(o)},i.prototype.monochromatic=function(o){o===void 0&&(o=6);for(var l=this.toHsv(),c=l.h,d=l.s,p=l.v,g=[],b=1/o;o--;)g.push(new i({h:c,s:d,v:p})),p=(p+b)%1;return g},i.prototype.splitcomplement=function(){var o=this.toHsl(),l=o.h;return[this,new i({h:(l+72)%360,s:o.s,l:o.l}),new i({h:(l+216)%360,s:o.s,l:o.l})]},i.prototype.onBackground=function(o){var l=this.toRgb(),c=new i(o).toRgb(),d=l.a+c.a*(1-l.a);return new i({r:(l.r*l.a+c.r*c.a*(1-l.a))/d,g:(l.g*l.a+c.g*c.a*(1-l.a))/d,b:(l.b*l.a+c.b*c.a*(1-l.a))/d,a:d})},i.prototype.triad=function(){return this.polyad(3)},i.prototype.tetrad=function(){return this.polyad(4)},i.prototype.polyad=function(o){for(var l=this.toHsl(),c=l.h,d=[this],p=360/o,g=1;g<o;g++)d.push(new i({h:(c+g*p)%360,s:l.s,l:l.l}));return d},i.prototype.equals=function(o){return this.toRgbString()===new i(o).toRgbString()},i}();function Xr(i,o=20){return i.mix("#141414",o).toString()}function qV(i){const o=Es(),l=Qe("button");return j(()=>{let c={};const d=i.color;if(d){const p=new IS(d),g=i.dark?p.tint(20).toString():Xr(p,20);if(i.plain)c=l.cssVarBlock({"bg-color":i.dark?Xr(p,90):p.tint(90).toString(),"text-color":d,"border-color":i.dark?Xr(p,50):p.tint(50).toString(),"hover-text-color":`var(${l.cssVarName("color-white")})`,"hover-bg-color":d,"hover-border-color":d,"active-bg-color":g,"active-text-color":`var(${l.cssVarName("color-white")})`,"active-border-color":g}),o.value&&(c[l.cssVarBlockName("disabled-bg-color")]=i.dark?Xr(p,90):p.tint(90).toString(),c[l.cssVarBlockName("disabled-text-color")]=i.dark?Xr(p,50):p.tint(50).toString(),c[l.cssVarBlockName("disabled-border-color")]=i.dark?Xr(p,80):p.tint(80).toString());else{const b=i.dark?Xr(p,30):p.tint(30).toString(),w=p.isDark()?`var(${l.cssVarName("color-white")})`:`var(${l.cssVarName("color-black")})`;if(c=l.cssVarBlock({"bg-color":d,"text-color":w,"border-color":d,"hover-bg-color":b,"hover-text-color":w,"hover-border-color":b,"active-bg-color":g,"active-border-color":g}),o.value){const M=i.dark?Xr(p,50):p.tint(50).toString();c[l.cssVarBlockName("disabled-bg-color")]=M,c[l.cssVarBlockName("disabled-text-color")]=i.dark?"rgba(255, 255, 255, 0.5)":`var(${l.cssVarName("color-white")})`,c[l.cssVarBlockName("disabled-border-color")]=M}}}return c})}const GV=xe({name:"ElButton"}),WV=xe({...GV,props:mg,emits:DV,setup(i,{expose:o,emit:l}){const c=i,d=qV(c),p=Qe("button"),{_ref:g,_size:b,_type:w,_disabled:M,_props:C,shouldAddSpace:P,handleClick:A}=LV(c,l),O=j(()=>[p.b(),p.m(w.value),p.m(b.value),p.is("disabled",M.value),p.is("loading",c.loading),p.is("plain",c.plain),p.is("round",c.round),p.is("circle",c.circle),p.is("text",c.text),p.is("link",c.link),p.is("has-bg",c.bg)]);return o({ref:g,size:b,type:w,disabled:M,shouldAddSpace:P}),(R,N)=>(Y(),Ie(kn(R.tag),An({ref_key:"_ref",ref:g},v(C),{class:v(O),style:v(d),onClick:v(A)}),{default:Te(()=>[R.loading?(Y(),fe($t,{key:0},[R.$slots.loading?ze(R.$slots,"loading",{key:0}):(Y(),Ie(v(Et),{key:1,class:Z(v(p).is("loading"))},{default:Te(()=>[(Y(),Ie(kn(R.loadingIcon)))]),_:1},8,["class"]))],64)):R.icon||R.$slots.icon?(Y(),Ie(v(Et),{key:1},{default:Te(()=>[R.icon?(Y(),Ie(kn(R.icon),{key:0})):ze(R.$slots,"icon",{key:1})]),_:3})):De("v-if",!0),R.$slots.default?(Y(),fe("span",{key:2,class:Z({[v(p).em("text","expand")]:v(P)})},[ze(R.$slots,"default")],2)):De("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var UV=ct(WV,[["__file","button.vue"]]);const YV={size:mg.size,type:mg.type},XV=xe({name:"ElButtonGroup"}),ZV=xe({...XV,props:YV,setup(i){const o=i;En(OS,Hn({size:Gn(o,"size"),type:Gn(o,"type")}));const l=Qe("button");return(c,d)=>(Y(),fe("div",{class:Z(`${v(l).b("group")}`)},[ze(c.$slots,"default")],2))}});var FS=ct(ZV,[["__file","button-group.vue"]]);const Zi=gn(UV,{ButtonGroup:FS}),BS=gi(FS);var Vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zr(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $S={exports:{}};(function(i,o){(function(l,c){i.exports=c()})(Vr,function(){var l=1e3,c=6e4,d=36e5,p="millisecond",g="second",b="minute",w="hour",M="day",C="week",P="month",A="quarter",O="year",R="date",N="Invalid Date",z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ve){var me=["th","st","nd","rd"],ae=ve%100;return"["+ve+(me[(ae-20)%10]||me[ae]||me[0])+"]"}},I=function(ve,me,ae){var ie=String(ve);return!ie||ie.length>=me?ve:""+Array(me+1-ie.length).join(ae)+ve},K={s:I,z:function(ve){var me=-ve.utcOffset(),ae=Math.abs(me),ie=Math.floor(ae/60),re=ae%60;return(me<=0?"+":"-")+I(ie,2,"0")+":"+I(re,2,"0")},m:function ve(me,ae){if(me.date()<ae.date())return-ve(ae,me);var ie=12*(ae.year()-me.year())+(ae.month()-me.month()),re=me.clone().add(ie,P),te=ae-re<0,ue=me.clone().add(ie+(te?-1:1),P);return+(-(ie+(ae-re)/(te?re-ue:ue-re))||0)},a:function(ve){return ve<0?Math.ceil(ve)||0:Math.floor(ve)},p:function(ve){return{M:P,y:O,w:C,d:M,D:R,h:w,m:b,s:g,ms:p,Q:A}[ve]||String(ve||"").toLowerCase().replace(/s$/,"")},u:function(ve){return ve===void 0}},B="en",G={};G[B]=_;var $="$isDayjsObject",J=function(ve){return ve instanceof se||!(!ve||!ve[$])},ee=function ve(me,ae,ie){var re;if(!me)return B;if(typeof me=="string"){var te=me.toLowerCase();G[te]&&(re=te),ae&&(G[te]=ae,re=te);var ue=me.split("-");if(!re&&ue.length>1)return ve(ue[0])}else{var be=me.name;G[be]=me,re=be}return!ie&&re&&(B=re),re||!ie&&B},Q=function(ve,me){if(J(ve))return ve.clone();var ae=typeof me=="object"?me:{};return ae.date=ve,ae.args=arguments,new se(ae)},X=K;X.l=ee,X.i=J,X.w=function(ve,me){return Q(ve,{locale:me.$L,utc:me.$u,x:me.$x,$offset:me.$offset})};var se=function(){function ve(ae){this.$L=ee(ae.locale,null,!0),this.parse(ae),this.$x=this.$x||ae.x||{},this[$]=!0}var me=ve.prototype;return me.parse=function(ae){this.$d=function(ie){var re=ie.date,te=ie.utc;if(re===null)return new Date(NaN);if(X.u(re))return new Date;if(re instanceof Date)return new Date(re);if(typeof re=="string"&&!/Z$/i.test(re)){var ue=re.match(z);if(ue){var be=ue[2]-1||0,Ce=(ue[7]||"0").substring(0,3);return te?new Date(Date.UTC(ue[1],be,ue[3]||1,ue[4]||0,ue[5]||0,ue[6]||0,Ce)):new Date(ue[1],be,ue[3]||1,ue[4]||0,ue[5]||0,ue[6]||0,Ce)}}return new Date(re)}(ae),this.init()},me.init=function(){var ae=this.$d;this.$y=ae.getFullYear(),this.$M=ae.getMonth(),this.$D=ae.getDate(),this.$W=ae.getDay(),this.$H=ae.getHours(),this.$m=ae.getMinutes(),this.$s=ae.getSeconds(),this.$ms=ae.getMilliseconds()},me.$utils=function(){return X},me.isValid=function(){return this.$d.toString()!==N},me.isSame=function(ae,ie){var re=Q(ae);return this.startOf(ie)<=re&&re<=this.endOf(ie)},me.isAfter=function(ae,ie){return Q(ae)<this.startOf(ie)},me.isBefore=function(ae,ie){return this.endOf(ie)<Q(ae)},me.$g=function(ae,ie,re){return X.u(ae)?this[ie]:this.set(re,ae)},me.unix=function(){return Math.floor(this.valueOf()/1e3)},me.valueOf=function(){return this.$d.getTime()},me.startOf=function(ae,ie){var re=this,te=!!X.u(ie)||ie,ue=X.p(ae),be=function(gt,Ye){var Ze=X.w(re.$u?Date.UTC(re.$y,Ye,gt):new Date(re.$y,Ye,gt),re);return te?Ze:Ze.endOf(M)},Ce=function(gt,Ye){return X.w(re.toDate()[gt].apply(re.toDate("s"),(te?[0,0,0,0]:[23,59,59,999]).slice(Ye)),re)},Ne=this.$W,Be=this.$M,tt=this.$D,Le="set"+(this.$u?"UTC":"");switch(ue){case O:return te?be(1,0):be(31,11);case P:return te?be(1,Be):be(0,Be+1);case C:var _e=this.$locale().weekStart||0,Fe=(Ne<_e?Ne+7:Ne)-_e;return be(te?tt-Fe:tt+(6-Fe),Be);case M:case R:return Ce(Le+"Hours",0);case w:return Ce(Le+"Minutes",1);case b:return Ce(Le+"Seconds",2);case g:return Ce(Le+"Milliseconds",3);default:return this.clone()}},me.endOf=function(ae){return this.startOf(ae,!1)},me.$set=function(ae,ie){var re,te=X.p(ae),ue="set"+(this.$u?"UTC":""),be=(re={},re[M]=ue+"Date",re[R]=ue+"Date",re[P]=ue+"Month",re[O]=ue+"FullYear",re[w]=ue+"Hours",re[b]=ue+"Minutes",re[g]=ue+"Seconds",re[p]=ue+"Milliseconds",re)[te],Ce=te===M?this.$D+(ie-this.$W):ie;if(te===P||te===O){var Ne=this.clone().set(R,1);Ne.$d[be](Ce),Ne.init(),this.$d=Ne.set(R,Math.min(this.$D,Ne.daysInMonth())).$d}else be&&this.$d[be](Ce);return this.init(),this},me.set=function(ae,ie){return this.clone().$set(ae,ie)},me.get=function(ae){return this[X.p(ae)]()},me.add=function(ae,ie){var re,te=this;ae=Number(ae);var ue=X.p(ie),be=function(Be){var tt=Q(te);return X.w(tt.date(tt.date()+Math.round(Be*ae)),te)};if(ue===P)return this.set(P,this.$M+ae);if(ue===O)return this.set(O,this.$y+ae);if(ue===M)return be(1);if(ue===C)return be(7);var Ce=(re={},re[b]=c,re[w]=d,re[g]=l,re)[ue]||1,Ne=this.$d.getTime()+ae*Ce;return X.w(Ne,this)},me.subtract=function(ae,ie){return this.add(-1*ae,ie)},me.format=function(ae){var ie=this,re=this.$locale();if(!this.isValid())return re.invalidDate||N;var te=ae||"YYYY-MM-DDTHH:mm:ssZ",ue=X.z(this),be=this.$H,Ce=this.$m,Ne=this.$M,Be=re.weekdays,tt=re.months,Le=re.meridiem,_e=function(Ye,Ze,mt,Me){return Ye&&(Ye[Ze]||Ye(ie,te))||mt[Ze].slice(0,Me)},Fe=function(Ye){return X.s(be%12||12,Ye,"0")},gt=Le||function(Ye,Ze,mt){var Me=Ye<12?"AM":"PM";return mt?Me.toLowerCase():Me};return te.replace(T,function(Ye,Ze){return Ze||function(mt){switch(mt){case"YY":return String(ie.$y).slice(-2);case"YYYY":return X.s(ie.$y,4,"0");case"M":return Ne+1;case"MM":return X.s(Ne+1,2,"0");case"MMM":return _e(re.monthsShort,Ne,tt,3);case"MMMM":return _e(tt,Ne);case"D":return ie.$D;case"DD":return X.s(ie.$D,2,"0");case"d":return String(ie.$W);case"dd":return _e(re.weekdaysMin,ie.$W,Be,2);case"ddd":return _e(re.weekdaysShort,ie.$W,Be,3);case"dddd":return Be[ie.$W];case"H":return String(be);case"HH":return X.s(be,2,"0");case"h":return Fe(1);case"hh":return Fe(2);case"a":return gt(be,Ce,!0);case"A":return gt(be,Ce,!1);case"m":return String(Ce);case"mm":return X.s(Ce,2,"0");case"s":return String(ie.$s);case"ss":return X.s(ie.$s,2,"0");case"SSS":return X.s(ie.$ms,3,"0");case"Z":return ue}return null}(Ye)||ue.replace(":","")})},me.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},me.diff=function(ae,ie,re){var te,ue=this,be=X.p(ie),Ce=Q(ae),Ne=(Ce.utcOffset()-this.utcOffset())*c,Be=this-Ce,tt=function(){return X.m(ue,Ce)};switch(be){case O:te=tt()/12;break;case P:te=tt();break;case A:te=tt()/3;break;case C:te=(Be-Ne)/6048e5;break;case M:te=(Be-Ne)/864e5;break;case w:te=Be/d;break;case b:te=Be/c;break;case g:te=Be/l;break;default:te=Be}return re?te:X.a(te)},me.daysInMonth=function(){return this.endOf(P).$D},me.$locale=function(){return G[this.$L]},me.locale=function(ae,ie){if(!ae)return this.$L;var re=this.clone(),te=ee(ae,ie,!0);return te&&(re.$L=te),re},me.clone=function(){return X.w(this.$d,this)},me.toDate=function(){return new Date(this.valueOf())},me.toJSON=function(){return this.isValid()?this.toISOString():null},me.toISOString=function(){return this.$d.toISOString()},me.toString=function(){return this.$d.toUTCString()},ve}(),de=se.prototype;return Q.prototype=de,[["$ms",p],["$s",g],["$m",b],["$H",w],["$W",M],["$M",P],["$y",O],["$D",R]].forEach(function(ve){de[ve[1]]=function(me){return this.$g(me,ve[0],ve[1])}}),Q.extend=function(ve,me){return ve.$i||(ve(me,se,Q),ve.$i=!0),Q},Q.locale=ee,Q.isDayjs=J,Q.unix=function(ve){return Q(1e3*ve)},Q.en=G[B],Q.Ls=G,Q.p={},Q})})($S);var JV=$S.exports;const vn=zr(JV);var VS={exports:{}};(function(i,o){(function(l,c){i.exports=c()})(Vr,function(){var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},c=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,d=/\d\d/,p=/\d\d?/,g=/\d*[^-_:/,()\s\d]+/,b={},w=function(N){return(N=+N)+(N>68?1900:2e3)},M=function(N){return function(z){this[N]=+z}},C=[/[+-]\d\d:?(\d\d)?|Z/,function(N){(this.zone||(this.zone={})).offset=function(z){if(!z||z==="Z")return 0;var T=z.match(/([+-]|\d\d)/g),_=60*T[1]+(+T[2]||0);return _===0?0:T[0]==="+"?-_:_}(N)}],P=function(N){var z=b[N];return z&&(z.indexOf?z:z.s.concat(z.f))},A=function(N,z){var T,_=b.meridiem;if(_){for(var I=1;I<=24;I+=1)if(N.indexOf(_(I,0,z))>-1){T=I>12;break}}else T=N===(z?"pm":"PM");return T},O={A:[g,function(N){this.afternoon=A(N,!1)}],a:[g,function(N){this.afternoon=A(N,!0)}],S:[/\d/,function(N){this.milliseconds=100*+N}],SS:[d,function(N){this.milliseconds=10*+N}],SSS:[/\d{3}/,function(N){this.milliseconds=+N}],s:[p,M("seconds")],ss:[p,M("seconds")],m:[p,M("minutes")],mm:[p,M("minutes")],H:[p,M("hours")],h:[p,M("hours")],HH:[p,M("hours")],hh:[p,M("hours")],D:[p,M("day")],DD:[d,M("day")],Do:[g,function(N){var z=b.ordinal,T=N.match(/\d+/);if(this.day=T[0],z)for(var _=1;_<=31;_+=1)z(_).replace(/\[|\]/g,"")===N&&(this.day=_)}],M:[p,M("month")],MM:[d,M("month")],MMM:[g,function(N){var z=P("months"),T=(P("monthsShort")||z.map(function(_){return _.slice(0,3)})).indexOf(N)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[g,function(N){var z=P("months").indexOf(N)+1;if(z<1)throw new Error;this.month=z%12||z}],Y:[/[+-]?\d+/,M("year")],YY:[d,function(N){this.year=w(N)}],YYYY:[/\d{4}/,M("year")],Z:C,ZZ:C};function R(N){var z,T;z=N,T=b&&b.formats;for(var _=(N=z.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ee,Q,X){var se=X&&X.toUpperCase();return Q||T[X]||l[X]||T[se].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(de,ve,me){return ve||me.slice(1)})})).match(c),I=_.length,K=0;K<I;K+=1){var B=_[K],G=O[B],$=G&&G[0],J=G&&G[1];_[K]=J?{regex:$,parser:J}:B.replace(/^\[|\]$/g,"")}return function(ee){for(var Q={},X=0,se=0;X<I;X+=1){var de=_[X];if(typeof de=="string")se+=de.length;else{var ve=de.regex,me=de.parser,ae=ee.slice(se),ie=ve.exec(ae)[0];me.call(Q,ie),ee=ee.replace(ie,"")}}return function(re){var te=re.afternoon;if(te!==void 0){var ue=re.hours;te?ue<12&&(re.hours+=12):ue===12&&(re.hours=0),delete re.afternoon}}(Q),Q}}return function(N,z,T){T.p.customParseFormat=!0,N&&N.parseTwoDigitYear&&(w=N.parseTwoDigitYear);var _=z.prototype,I=_.parse;_.parse=function(K){var B=K.date,G=K.utc,$=K.args;this.$u=G;var J=$[1];if(typeof J=="string"){var ee=$[2]===!0,Q=$[3]===!0,X=ee||Q,se=$[2];Q&&(se=$[2]),b=this.$locale(),!ee&&se&&(b=T.Ls[se]),this.$d=function(ae,ie,re){try{if(["x","X"].indexOf(ie)>-1)return new Date((ie==="X"?1e3:1)*ae);var te=R(ie)(ae),ue=te.year,be=te.month,Ce=te.day,Ne=te.hours,Be=te.minutes,tt=te.seconds,Le=te.milliseconds,_e=te.zone,Fe=new Date,gt=Ce||(ue||be?1:Fe.getDate()),Ye=ue||Fe.getFullYear(),Ze=0;ue&&!be||(Ze=be>0?be-1:Fe.getMonth());var mt=Ne||0,Me=Be||0,Ee=tt||0,We=Le||0;return _e?new Date(Date.UTC(Ye,Ze,gt,mt,Me,Ee,We+60*_e.offset*1e3)):re?new Date(Date.UTC(Ye,Ze,gt,mt,Me,Ee,We)):new Date(Ye,Ze,gt,mt,Me,Ee,We)}catch{return new Date("")}}(B,J,G),this.init(),se&&se!==!0&&(this.$L=this.locale(se).$L),X&&B!=this.format(J)&&(this.$d=new Date("")),b={}}else if(J instanceof Array)for(var de=J.length,ve=1;ve<=de;ve+=1){$[1]=J[ve-1];var me=T.apply(this,$);if(me.isValid()){this.$d=me.$d,this.$L=me.$L,this.init();break}ve===de&&(this.$d=new Date(""))}else I.call(this,K)}}})})(VS);var QV=VS.exports;const E0=zr(QV),a1=["hours","minutes","seconds"],yg="HH:mm:ss",Dl="YYYY-MM-DD",e8={date:Dl,dates:Dl,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:`${Dl} ${yg}`,monthrange:"YYYY-MM",daterange:Dl,datetimerange:`${Dl} ${yg}`},xp=(i,o)=>[i>0?i-1:void 0,i,i<o?i+1:void 0],fa=i=>Array.from(Array.from({length:i}).keys()),zS=i=>i.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),_S=i=>i.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),l1=function(i,o){const l=tl(i),c=tl(o);return l&&c?i.getTime()===o.getTime():!l&&!c?i===o:!1},u1=function(i,o){const l=St(i),c=St(o);return l&&c?i.length!==o.length?!1:i.every((d,p)=>l1(d,o[p])):!l&&!c?l1(i,o):!1},c1=function(i,o,l){const c=go(o)||o==="x"?vn(i).locale(l):vn(i,o).locale(l);return c.isValid()?c:void 0},h1=function(i,o,l){return go(o)?i:o==="x"?+i:vn(i).locale(l).format(o)},Sp=(i,o)=>{var l;const c=[],d=o==null?void 0:o();for(let p=0;p<i;p++)c.push((l=d==null?void 0:d.includes(p))!=null?l:!1);return c},KS=lt({disabledHours:{type:Ae(Function)},disabledMinutes:{type:Ae(Function)},disabledSeconds:{type:Ae(Function)}}),HS=lt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),D0=lt({id:{type:Ae([Array,String])},name:{type:Ae([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Ae([String,Object]),default:Ta},editable:{type:Boolean,default:!0},prefixIcon:{type:Ae([String,Object]),default:""},size:ji,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Ae(Object),default:()=>({})},modelValue:{type:Ae([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Ae([Date,Array])},defaultTime:{type:Ae([Date,Array])},isRange:Boolean,...KS,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:Ae([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...Cu,...os(["ariaLabel"])}),t8=["id","name","placeholder","value","disabled","readonly"],n8=["id","name","placeholder","value","disabled","readonly"],i8=xe({name:"Picker"}),s8=xe({...i8,props:D0,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(i,{expose:o,emit:l}){const c=i,d=cl(),{lang:p}=Bn(),g=Qe("date"),b=Qe("input"),w=Qe("range"),{form:M,formItem:C}=ks(),P=Tt("ElPopperOptions",{}),{valueOnClear:A}=hf(c,null),O=ne(),R=ne(),N=ne(!1),z=ne(!1),T=ne(null);let _=!1,I=!1;const K=j(()=>[g.b("editor"),g.bm("editor",c.type),b.e("wrapper"),g.is("disabled",Ne.value),g.is("active",N.value),w.b("editor"),nt?w.bm("editor",nt.value):"",d.class]),B=j(()=>[b.e("icon"),w.e("close-icon"),Ze.value?"":w.e("close-icon--hidden")]);Ue(N,Ve=>{Ve?Kt(()=>{Ve&&(T.value=c.modelValue)}):(qe.value=null,Kt(()=>{G(c.modelValue)}))});const G=(Ve,Lt)=>{(Lt||!u1(Ve,T.value))&&(l("change",Ve),c.validateEvent&&(C==null||C.validate("change").catch(Sn=>void 0)))},$=Ve=>{if(!u1(c.modelValue,Ve)){let Lt;St(Ve)?Lt=Ve.map(Sn=>h1(Sn,c.valueFormat,p.value)):Ve&&(Lt=h1(Ve,c.valueFormat,p.value)),l("update:modelValue",Ve&&Lt,p.value)}},J=Ve=>{l("keydown",Ve)},ee=j(()=>{if(R.value){const Ve=Je.value?R.value:R.value.$el;return Array.from(Ve.querySelectorAll("input"))}return[]}),Q=(Ve,Lt,Sn)=>{const zn=ee.value;zn.length&&(!Sn||Sn==="min"?(zn[0].setSelectionRange(Ve,Lt),zn[0].focus()):Sn==="max"&&(zn[1].setSelectionRange(Ve,Lt),zn[1].focus()))},X=()=>{te(!0,!0),Kt(()=>{I=!1})},se=(Ve="",Lt=!1)=>{Lt||(I=!0),N.value=Lt;let Sn;St(Ve)?Sn=Ve.map(zn=>zn.toDate()):Sn=Ve&&Ve.toDate(),qe.value=null,$(Sn)},de=()=>{z.value=!0},ve=()=>{l("visible-change",!0)},me=Ve=>{(Ve==null?void 0:Ve.key)===Gt.esc&&te(!0,!0)},ae=()=>{z.value=!1,N.value=!1,I=!1,l("visible-change",!1)},ie=()=>{N.value=!0},re=()=>{N.value=!1},te=(Ve=!0,Lt=!1)=>{I=Lt;const[Sn,zn]=v(ee);let ki=Sn;!Ve&&Je.value&&(ki=zn),ki&&ki.focus()},ue=Ve=>{c.readonly||Ne.value||N.value||I||(N.value=!0,l("focus",Ve))};let be;const Ce=Ve=>{const Lt=async()=>{setTimeout(()=>{var Sn;be===Lt&&(!((Sn=O.value)!=null&&Sn.isFocusInsideContent()&&!_)&&ee.value.filter(zn=>zn.contains(document.activeElement)).length===0&&(Mt(),N.value=!1,l("blur",Ve),c.validateEvent&&(C==null||C.validate("blur").catch(zn=>void 0))),_=!1)},0)};be=Lt,Lt()},Ne=j(()=>c.disabled||(M==null?void 0:M.disabled)),Be=j(()=>{let Ve;if(Me.value?it.value.getDefaultValue&&(Ve=it.value.getDefaultValue()):St(c.modelValue)?Ve=c.modelValue.map(Lt=>c1(Lt,c.valueFormat,p.value)):Ve=c1(c.modelValue,c.valueFormat,p.value),it.value.getRangeAvailableTime){const Lt=it.value.getRangeAvailableTime(Ve);ws(Lt,Ve)||(Ve=Lt,$(St(Ve)?Ve.map(Sn=>Sn.toDate()):Ve.toDate()))}return St(Ve)&&Ve.some(Lt=>!Lt)&&(Ve=[]),Ve}),tt=j(()=>{if(!it.value.panelReady)return"";const Ve=Ge(Be.value);return St(qe.value)?[qe.value[0]||Ve&&Ve[0]||"",qe.value[1]||Ve&&Ve[1]||""]:qe.value!==null?qe.value:!_e.value&&Me.value||!N.value&&Me.value?"":Ve?Fe.value||gt.value?Ve.join(", "):Ve:""}),Le=j(()=>c.type.includes("time")),_e=j(()=>c.type.startsWith("time")),Fe=j(()=>c.type==="dates"),gt=j(()=>c.type==="years"),Ye=j(()=>c.prefixIcon||(Le.value?Nx:$3)),Ze=ne(!1),mt=Ve=>{c.readonly||Ne.value||Ze.value&&(Ve.stopPropagation(),X(),$(A.value),G(A.value,!0),Ze.value=!1,N.value=!1,it.value.handleClear&&it.value.handleClear())},Me=j(()=>{const{modelValue:Ve}=c;return!Ve||St(Ve)&&!Ve.filter(Boolean).length}),Ee=async Ve=>{var Lt;c.readonly||Ne.value||(((Lt=Ve.target)==null?void 0:Lt.tagName)!=="INPUT"||ee.value.includes(document.activeElement))&&(N.value=!0)},We=()=>{c.readonly||Ne.value||!Me.value&&c.clearable&&(Ze.value=!0)},ot=()=>{Ze.value=!1},He=Ve=>{var Lt;c.readonly||Ne.value||(((Lt=Ve.touches[0].target)==null?void 0:Lt.tagName)!=="INPUT"||ee.value.includes(document.activeElement))&&(N.value=!0)},Je=j(()=>c.type.includes("range")),nt=$i(),rt=j(()=>{var Ve,Lt;return(Lt=(Ve=v(O))==null?void 0:Ve.popperRef)==null?void 0:Lt.contentRef}),ht=j(()=>{var Ve;return v(Je)?v(R):(Ve=v(R))==null?void 0:Ve.$el});Em(ht,Ve=>{const Lt=v(rt),Sn=v(ht);Lt&&(Ve.target===Lt||Ve.composedPath().includes(Lt))||Ve.target===Sn||Ve.composedPath().includes(Sn)||(N.value=!1)});const qe=ne(null),Mt=()=>{if(qe.value){const Ve=Nt(tt.value);Ve&&kt(Ve)&&($(St(Ve)?Ve.map(Lt=>Lt.toDate()):Ve.toDate()),qe.value=null)}qe.value===""&&($(A.value),G(A.value),qe.value=null)},Nt=Ve=>Ve?it.value.parseUserInput(Ve):null,Ge=Ve=>Ve?it.value.formatToString(Ve):null,kt=Ve=>it.value.isValidValue(Ve),Ht=async Ve=>{if(c.readonly||Ne.value)return;const{code:Lt}=Ve;if(J(Ve),Lt===Gt.esc){N.value===!0&&(N.value=!1,Ve.preventDefault(),Ve.stopPropagation());return}if(Lt===Gt.down&&(it.value.handleFocusPicker&&(Ve.preventDefault(),Ve.stopPropagation()),N.value===!1&&(N.value=!0,await Kt()),it.value.handleFocusPicker)){it.value.handleFocusPicker();return}if(Lt===Gt.tab){_=!0;return}if(Lt===Gt.enter||Lt===Gt.numpadEnter){(qe.value===null||qe.value===""||kt(Nt(tt.value)))&&(Mt(),N.value=!1),Ve.stopPropagation();return}if(qe.value){Ve.stopPropagation();return}it.value.handleKeydownInput&&it.value.handleKeydownInput(Ve)},bn=Ve=>{qe.value=Ve,N.value||(N.value=!0)},hn=Ve=>{const Lt=Ve.target;qe.value?qe.value=[Lt.value,qe.value[1]]:qe.value=[Lt.value,null]},Vt=Ve=>{const Lt=Ve.target;qe.value?qe.value=[qe.value[0],Lt.value]:qe.value=[null,Lt.value]},Ke=()=>{var Ve;const Lt=qe.value,Sn=Nt(Lt&&Lt[0]),zn=v(Be);if(Sn&&Sn.isValid()){qe.value=[Ge(Sn),((Ve=tt.value)==null?void 0:Ve[1])||null];const ki=[Sn,zn&&(zn[1]||null)];kt(ki)&&($(ki),qe.value=null)}},wt=()=>{var Ve;const Lt=v(qe),Sn=Nt(Lt&&Lt[1]),zn=v(Be);if(Sn&&Sn.isValid()){qe.value=[((Ve=v(tt))==null?void 0:Ve[0])||null,Ge(Sn)];const ki=[zn&&zn[0],Sn];kt(ki)&&($(ki),qe.value=null)}},it=ne({}),$e=Ve=>{it.value[Ve[0]]=Ve[1],it.value.panelReady=!0},et=Ve=>{l("calendar-change",Ve)},st=(Ve,Lt,Sn)=>{l("panel-change",Ve,Lt,Sn)};return En("EP_PICKER_BASE",{props:c}),qi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-time-picker",ref:"https://element-plus.org/en-US/component/time-picker.html"},j(()=>!!c.label)),o({focus:te,handleFocusInput:ue,handleBlurInput:Ce,handleOpen:ie,handleClose:re,onPick:se}),(Ve,Lt)=>(Y(),Ie(v(Ss),An({ref_key:"refPopper",ref:O,visible:N.value,effect:"light",pure:"",trigger:"click"},Ve.$attrs,{role:"dialog",teleported:"",transition:`${v(g).namespace.value}-zoom-in-top`,"popper-class":[`${v(g).namespace.value}-picker__popper`,Ve.popperClass],"popper-options":v(P),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:de,onShow:ve,onHide:ae}),{default:Te(()=>[v(Je)?(Y(),fe("div",{key:1,ref_key:"inputRef",ref:R,class:Z(v(K)),style:Ft(Ve.$attrs.style),onClick:ue,onMouseenter:We,onMouseleave:ot,onTouchstartPassive:He,onKeydown:Ht},[v(Ye)?(Y(),Ie(v(Et),{key:0,class:Z([v(b).e("icon"),v(w).e("icon")]),onMousedown:en(Ee,["prevent"]),onTouchstartPassive:He},{default:Te(()=>[(Y(),Ie(kn(v(Ye))))]),_:1},8,["class","onMousedown"])):De("v-if",!0),pe("input",{id:Ve.id&&Ve.id[0],autocomplete:"off",name:Ve.name&&Ve.name[0],placeholder:Ve.startPlaceholder,value:v(tt)&&v(tt)[0],disabled:v(Ne),readonly:!Ve.editable||Ve.readonly,class:Z(v(w).b("input")),onMousedown:Ee,onInput:hn,onChange:Ke,onFocus:ue,onBlur:Ce},null,42,t8),ze(Ve.$slots,"range-separator",{},()=>[pe("span",{class:Z(v(w).b("separator"))},dt(Ve.rangeSeparator),3)]),pe("input",{id:Ve.id&&Ve.id[1],autocomplete:"off",name:Ve.name&&Ve.name[1],placeholder:Ve.endPlaceholder,value:v(tt)&&v(tt)[1],disabled:v(Ne),readonly:!Ve.editable||Ve.readonly,class:Z(v(w).b("input")),onMousedown:Ee,onFocus:ue,onBlur:Ce,onInput:Vt,onChange:wt},null,42,n8),Ve.clearIcon?(Y(),Ie(v(Et),{key:1,class:Z(v(B)),onClick:mt},{default:Te(()=>[(Y(),Ie(kn(Ve.clearIcon)))]),_:1},8,["class"])):De("v-if",!0)],38)):(Y(),Ie(v(bs),{key:0,id:Ve.id,ref_key:"inputRef",ref:R,"container-role":"combobox","model-value":v(tt),name:Ve.name,size:v(nt),disabled:v(Ne),placeholder:Ve.placeholder,class:Z([v(g).b("editor"),v(g).bm("editor",Ve.type),Ve.$attrs.class]),style:Ft(Ve.$attrs.style),readonly:!Ve.editable||Ve.readonly||v(Fe)||v(gt)||Ve.type==="week","aria-label":Ve.label||Ve.ariaLabel,tabindex:Ve.tabindex,"validate-event":!1,onInput:bn,onFocus:ue,onBlur:Ce,onKeydown:Ht,onChange:Mt,onMousedown:Ee,onMouseenter:We,onMouseleave:ot,onTouchstartPassive:He,onClick:Lt[0]||(Lt[0]=en(()=>{},["stop"]))},{prefix:Te(()=>[v(Ye)?(Y(),Ie(v(Et),{key:0,class:Z(v(b).e("icon")),onMousedown:en(Ee,["prevent"]),onTouchstartPassive:He},{default:Te(()=>[(Y(),Ie(kn(v(Ye))))]),_:1},8,["class","onMousedown"])):De("v-if",!0)]),suffix:Te(()=>[Ze.value&&Ve.clearIcon?(Y(),Ie(v(Et),{key:0,class:Z(`${v(b).e("icon")} clear-icon`),onClick:en(mt,["stop"])},{default:Te(()=>[(Y(),Ie(kn(Ve.clearIcon)))]),_:1},8,["class","onClick"])):De("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown"]))]),content:Te(()=>[ze(Ve.$slots,"default",{visible:N.value,actualVisible:z.value,parsedValue:v(Be),format:Ve.format,dateFormat:Ve.dateFormat,timeFormat:Ve.timeFormat,unlinkPanels:Ve.unlinkPanels,type:Ve.type,defaultValue:Ve.defaultValue,onPick:se,onSelectRange:Q,onSetPickerOption:$e,onCalendarChange:et,onPanelChange:st,onKeydown:me,onMousedown:Lt[1]||(Lt[1]=en(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var jS=ct(s8,[["__file","picker.vue"]]);const o8=lt({...HS,datetimeRole:String,parsedValue:{type:Ae(Object)}}),qS=({getAvailableHours:i,getAvailableMinutes:o,getAvailableSeconds:l})=>{const c=(g,b,w,M)=>{const C={hour:i,minute:o,second:l};let P=g;return["hour","minute","second"].forEach(A=>{if(C[A]){let O;const R=C[A];switch(A){case"minute":{O=R(P.hour(),b,M);break}case"second":{O=R(P.hour(),P.minute(),b,M);break}default:{O=R(b,M);break}}if(O!=null&&O.length&&!O.includes(P[A]())){const N=w?0:O.length-1;P=P[A](O[N])}}}),P},d={};return{timePickerOptions:d,getAvailableTime:c,onSetOption:([g,b])=>{d[g]=b}}},kp=i=>{const o=(c,d)=>c||d,l=c=>c!==!0;return i.map(o).filter(l)},GS=(i,o,l)=>({getHoursList:(g,b)=>Sp(24,i&&(()=>i==null?void 0:i(g,b))),getMinutesList:(g,b,w)=>Sp(60,o&&(()=>o==null?void 0:o(g,b,w))),getSecondsList:(g,b,w,M)=>Sp(60,l&&(()=>l==null?void 0:l(g,b,w,M)))}),WS=(i,o,l)=>{const{getHoursList:c,getMinutesList:d,getSecondsList:p}=GS(i,o,l);return{getAvailableHours:(M,C)=>kp(c(M,C)),getAvailableMinutes:(M,C,P)=>kp(d(M,C,P)),getAvailableSeconds:(M,C,P,A)=>kp(p(M,C,P,A))}},US=i=>{const o=ne(i.parsedValue);return Ue(()=>i.visible,l=>{l||(o.value=i.parsedValue)}),o},ea=new Map;let d1;In&&(document.addEventListener("mousedown",i=>d1=i),document.addEventListener("mouseup",i=>{for(const o of ea.values())for(const{documentHandler:l}of o)l(i,d1)}));function f1(i,o){let l=[];return Array.isArray(o.arg)?l=o.arg:ko(o.arg)&&l.push(o.arg),function(c,d){const p=o.instance.popperRef,g=c.target,b=d==null?void 0:d.target,w=!o||!o.instance,M=!g||!b,C=i.contains(g)||i.contains(b),P=i===g,A=l.length&&l.some(R=>R==null?void 0:R.contains(g))||l.length&&l.includes(b),O=p&&(p.contains(g)||p.contains(b));w||M||C||P||A||O||o.value(c,d)}}const Er={beforeMount(i,o){ea.has(i)||ea.set(i,[]),ea.get(i).push({documentHandler:f1(i,o),bindingFn:o.value})},updated(i,o){ea.has(i)||ea.set(i,[]);const l=ea.get(i),c=l.findIndex(p=>p.bindingFn===o.oldValue),d={documentHandler:f1(i,o),bindingFn:o.value};c>=0?l.splice(c,1,d):l.push(d)},unmounted(i){ea.delete(i)}},r8=100,a8=600,Cd={beforeMount(i,o){const l=o.value,{interval:c=r8,delay:d=a8}=Xt(l)?{}:l;let p,g;const b=()=>Xt(l)?l():l.handler(),w=()=>{g&&(clearTimeout(g),g=void 0),p&&(clearInterval(p),p=void 0)};i.addEventListener("mousedown",M=>{M.button===0&&(w(),b(),document.addEventListener("mouseup",()=>w(),{once:!0}),g=setTimeout(()=>{p=setInterval(()=>{b()},c)},d))})}},bg="_trap-focus-children",qa=[],p1=i=>{if(qa.length===0)return;const o=qa[qa.length-1][bg];if(o.length>0&&i.code===Gt.tab){if(o.length===1){i.preventDefault(),document.activeElement!==o[0]&&o[0].focus();return}const l=i.shiftKey,c=i.target===o[0],d=i.target===o[o.length-1];c&&l&&(i.preventDefault(),o[o.length-1].focus()),d&&!l&&(i.preventDefault(),o[0].focus())}},l8={beforeMount(i){i[bg]=ky(i),qa.push(i),qa.length<=1&&document.addEventListener("keydown",p1)},updated(i){Kt(()=>{i[bg]=ky(i)})},unmounted(){qa.shift(),qa.length===0&&document.removeEventListener("keydown",p1)}};var g1=!1,_a,wg,xg,zh,_h,YS,Kh,Sg,kg,Cg,XS,Mg,Pg,ZS,JS;function Fs(){if(!g1){g1=!0;var i=navigator.userAgent,o=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(i),l=/(Mac OS X)|(Windows)|(Linux)/.exec(i);if(Mg=/\b(iPhone|iP[ao]d)/.exec(i),Pg=/\b(iP[ao]d)/.exec(i),Cg=/Android/i.exec(i),ZS=/FBAN\/\w+;/i.exec(i),JS=/Mobile/i.exec(i),XS=!!/Win64/.exec(i),o){_a=o[1]?parseFloat(o[1]):o[5]?parseFloat(o[5]):NaN,_a&&document&&document.documentMode&&(_a=document.documentMode);var c=/(?:Trident\/(\d+.\d+))/.exec(i);YS=c?parseFloat(c[1])+4:_a,wg=o[2]?parseFloat(o[2]):NaN,xg=o[3]?parseFloat(o[3]):NaN,zh=o[4]?parseFloat(o[4]):NaN,zh?(o=/(?:Chrome\/(\d+\.\d+))/.exec(i),_h=o&&o[1]?parseFloat(o[1]):NaN):_h=NaN}else _a=wg=xg=_h=zh=NaN;if(l){if(l[1]){var d=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(i);Kh=d?parseFloat(d[1].replace("_",".")):!0}else Kh=!1;Sg=!!l[2],kg=!!l[3]}else Kh=Sg=kg=!1}}var Tg={ie:function(){return Fs()||_a},ieCompatibilityMode:function(){return Fs()||YS>_a},ie64:function(){return Tg.ie()&&XS},firefox:function(){return Fs()||wg},opera:function(){return Fs()||xg},webkit:function(){return Fs()||zh},safari:function(){return Tg.webkit()},chrome:function(){return Fs()||_h},windows:function(){return Fs()||Sg},osx:function(){return Fs()||Kh},linux:function(){return Fs()||kg},iphone:function(){return Fs()||Mg},mobile:function(){return Fs()||Mg||Pg||Cg||JS},nativeApp:function(){return Fs()||ZS},android:function(){return Fs()||Cg},ipad:function(){return Fs()||Pg}},u8=Tg,Ph=!!(typeof window<"u"&&window.document&&window.document.createElement),c8={canUseDOM:Ph,canUseWorkers:typeof Worker<"u",canUseEventListeners:Ph&&!!(window.addEventListener||window.attachEvent),canUseViewport:Ph&&!!window.screen,isInWorker:!Ph},QS=c8,ek;QS.canUseDOM&&(ek=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function h8(i,o){if(!QS.canUseDOM||o&&!("addEventListener"in document))return!1;var l="on"+i,c=l in document;if(!c){var d=document.createElement("div");d.setAttribute(l,"return;"),c=typeof d[l]=="function"}return!c&&ek&&i==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}var d8=h8,m1=10,v1=40,y1=800;function tk(i){var o=0,l=0,c=0,d=0;return"detail"in i&&(l=i.detail),"wheelDelta"in i&&(l=-i.wheelDelta/120),"wheelDeltaY"in i&&(l=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(o=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(o=l,l=0),c=o*m1,d=l*m1,"deltaY"in i&&(d=i.deltaY),"deltaX"in i&&(c=i.deltaX),(c||d)&&i.deltaMode&&(i.deltaMode==1?(c*=v1,d*=v1):(c*=y1,d*=y1)),c&&!o&&(o=c<1?-1:1),d&&!l&&(l=d<1?-1:1),{spinX:o,spinY:l,pixelX:c,pixelY:d}}tk.getEventType=function(){return u8.firefox()?"DOMMouseScroll":d8("wheel")?"wheel":"mousewheel"};var f8=tk;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const p8=function(i,o){if(i&&i.addEventListener){const l=function(c){const d=f8(c);o&&Reflect.apply(o,this,[c,d])};i.addEventListener("wheel",l,{passive:!0})}},g8={beforeMount(i,o){p8(i,o.value)}},m8=lt({role:{type:String,required:!0},spinnerDate:{type:Ae(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Ae(String),default:""},...KS}),v8=["onClick"],y8=["onMouseenter"],b8=xe({__name:"basic-time-spinner",props:m8,emits:["change","select-range","set-option"],setup(i,{emit:o}){const l=i,c=Qe("time"),{getHoursList:d,getMinutesList:p,getSecondsList:g}=GS(l.disabledHours,l.disabledMinutes,l.disabledSeconds);let b=!1;const w=ne(),M=ne(),C=ne(),P=ne(),A={hours:M,minutes:C,seconds:P},O=j(()=>l.showSeconds?a1:a1.slice(0,2)),R=j(()=>{const{spinnerDate:te}=l,ue=te.hour(),be=te.minute(),Ce=te.second();return{hours:ue,minutes:be,seconds:Ce}}),N=j(()=>{const{hours:te,minutes:ue}=v(R);return{hours:d(l.role),minutes:p(te,l.role),seconds:g(te,ue,l.role)}}),z=j(()=>{const{hours:te,minutes:ue,seconds:be}=v(R);return{hours:xp(te,23),minutes:xp(ue,59),seconds:xp(be,59)}}),T=Ks(te=>{b=!1,K(te)},200),_=te=>{if(!!!l.amPmMode)return"";const be=l.amPmMode==="A";let Ce=te<12?" am":" pm";return be&&(Ce=Ce.toUpperCase()),Ce},I=te=>{let ue;switch(te){case"hours":ue=[0,2];break;case"minutes":ue=[3,5];break;case"seconds":ue=[6,8];break}const[be,Ce]=ue;o("select-range",be,Ce),w.value=te},K=te=>{$(te,v(R)[te])},B=()=>{K("hours"),K("minutes"),K("seconds")},G=te=>te.querySelector(`.${c.namespace.value}-scrollbar__wrap`),$=(te,ue)=>{if(l.arrowControl)return;const be=v(A[te]);be&&be.$el&&(G(be.$el).scrollTop=Math.max(0,ue*J(te)))},J=te=>{const ue=v(A[te]),be=ue==null?void 0:ue.$el.querySelector("li");return be&&Number.parseFloat(aa(be,"height"))||0},ee=()=>{X(1)},Q=()=>{X(-1)},X=te=>{w.value||I("hours");const ue=w.value,be=v(R)[ue],Ce=w.value==="hours"?24:60,Ne=se(ue,be,te,Ce);de(ue,Ne),$(ue,Ne),Kt(()=>I(ue))},se=(te,ue,be,Ce)=>{let Ne=(ue+be+Ce)%Ce;const Be=v(N)[te];for(;Be[Ne]&&Ne!==ue;)Ne=(Ne+be+Ce)%Ce;return Ne},de=(te,ue)=>{if(v(N)[te][ue])return;const{hours:Ne,minutes:Be,seconds:tt}=v(R);let Le;switch(te){case"hours":Le=l.spinnerDate.hour(ue).minute(Be).second(tt);break;case"minutes":Le=l.spinnerDate.hour(Ne).minute(ue).second(tt);break;case"seconds":Le=l.spinnerDate.hour(Ne).minute(Be).second(ue);break}o("change",Le)},ve=(te,{value:ue,disabled:be})=>{be||(de(te,ue),I(te),$(te,ue))},me=te=>{b=!0,T(te);const ue=Math.min(Math.round((G(v(A[te]).$el).scrollTop-(ae(te)*.5-10)/J(te)+3)/J(te)),te==="hours"?23:59);de(te,ue)},ae=te=>v(A[te]).$el.offsetHeight,ie=()=>{const te=ue=>{const be=v(A[ue]);be&&be.$el&&(G(be.$el).onscroll=()=>{me(ue)})};te("hours"),te("minutes"),te("seconds")};un(()=>{Kt(()=>{!l.arrowControl&&ie(),B(),l.role==="start"&&I("hours")})});const re=(te,ue)=>{A[ue].value=te};return o("set-option",[`${l.role}_scrollDown`,X]),o("set-option",[`${l.role}_emitSelectRange`,I]),Ue(()=>l.spinnerDate,()=>{b||B()}),(te,ue)=>(Y(),fe("div",{class:Z([v(c).b("spinner"),{"has-seconds":te.showSeconds}])},[te.arrowControl?De("v-if",!0):(Y(!0),fe($t,{key:0},Rn(v(O),be=>(Y(),Ie(v($r),{key:be,ref_for:!0,ref:Ce=>re(Ce,be),class:Z(v(c).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":v(c).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Ce=>I(be),onMousemove:Ce=>K(be)},{default:Te(()=>[(Y(!0),fe($t,null,Rn(v(N)[be],(Ce,Ne)=>(Y(),fe("li",{key:Ne,class:Z([v(c).be("spinner","item"),v(c).is("active",Ne===v(R)[be]),v(c).is("disabled",Ce)]),onClick:Be=>ve(be,{value:Ne,disabled:Ce})},[be==="hours"?(Y(),fe($t,{key:0},[Tn(dt(("0"+(te.amPmMode?Ne%12||12:Ne)).slice(-2))+dt(_(Ne)),1)],64)):(Y(),fe($t,{key:1},[Tn(dt(("0"+Ne).slice(-2)),1)],64))],10,v8))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),te.arrowControl?(Y(!0),fe($t,{key:1},Rn(v(O),be=>(Y(),fe("div",{key:be,class:Z([v(c).be("spinner","wrapper"),v(c).is("arrow")]),onMouseenter:Ce=>I(be)},[ln((Y(),Ie(v(Et),{class:Z(["arrow-up",v(c).be("spinner","arrow")])},{default:Te(()=>[ye(v(Xm))]),_:1},8,["class"])),[[v(Cd),Q]]),ln((Y(),Ie(v(Et),{class:Z(["arrow-down",v(c).be("spinner","arrow")])},{default:Te(()=>[ye(v(Fr))]),_:1},8,["class"])),[[v(Cd),ee]]),pe("ul",{class:Z(v(c).be("spinner","list"))},[(Y(!0),fe($t,null,Rn(v(z)[be],(Ce,Ne)=>(Y(),fe("li",{key:Ne,class:Z([v(c).be("spinner","item"),v(c).is("active",Ce===v(R)[be]),v(c).is("disabled",v(N)[be][Ce])])},[typeof Ce=="number"?(Y(),fe($t,{key:0},[be==="hours"?(Y(),fe($t,{key:0},[Tn(dt(("0"+(te.amPmMode?Ce%12||12:Ce)).slice(-2))+dt(_(Ce)),1)],64)):(Y(),fe($t,{key:1},[Tn(dt(("0"+Ce).slice(-2)),1)],64))],64)):De("v-if",!0)],2))),128))],2)],42,y8))),128)):De("v-if",!0)],2))}});var Ng=ct(b8,[["__file","basic-time-spinner.vue"]]);const w8=xe({__name:"panel-time-pick",props:o8,emits:["pick","select-range","set-picker-option"],setup(i,{emit:o}){const l=i,c=Tt("EP_PICKER_BASE"),{arrowControl:d,disabledHours:p,disabledMinutes:g,disabledSeconds:b,defaultValue:w}=c.props,{getAvailableHours:M,getAvailableMinutes:C,getAvailableSeconds:P}=WS(p,g,b),A=Qe("time"),{t:O,lang:R}=Bn(),N=ne([0,2]),z=US(l),T=j(()=>Ri(l.actualVisible)?`${A.namespace.value}-zoom-in-top`:""),_=j(()=>l.format.includes("ss")),I=j(()=>l.format.includes("A")?"A":l.format.includes("a")?"a":""),K=re=>{const te=vn(re).locale(R.value),ue=ve(te);return te.isSame(ue)},B=()=>{o("pick",z.value,!1)},G=(re=!1,te=!1)=>{te||o("pick",l.parsedValue,re)},$=re=>{if(!l.visible)return;const te=ve(re).millisecond(0);o("pick",te,!0)},J=(re,te)=>{o("select-range",re,te),N.value=[re,te]},ee=re=>{const te=[0,3].concat(_.value?[6]:[]),ue=["hours","minutes"].concat(_.value?["seconds"]:[]),Ce=(te.indexOf(N.value[0])+re+te.length)%te.length;X.start_emitSelectRange(ue[Ce])},Q=re=>{const te=re.code,{left:ue,right:be,up:Ce,down:Ne}=Gt;if([ue,be].includes(te)){ee(te===ue?-1:1),re.preventDefault();return}if([Ce,Ne].includes(te)){const Be=te===Ce?-1:1;X.start_scrollDown(Be),re.preventDefault();return}},{timePickerOptions:X,onSetOption:se,getAvailableTime:de}=qS({getAvailableHours:M,getAvailableMinutes:C,getAvailableSeconds:P}),ve=re=>de(re,l.datetimeRole||"",!0),me=re=>re?vn(re,l.format).locale(R.value):null,ae=re=>re?re.format(l.format):null,ie=()=>vn(w).locale(R.value);return o("set-picker-option",["isValidValue",K]),o("set-picker-option",["formatToString",ae]),o("set-picker-option",["parseUserInput",me]),o("set-picker-option",["handleKeydownInput",Q]),o("set-picker-option",["getRangeAvailableTime",ve]),o("set-picker-option",["getDefaultValue",ie]),(re,te)=>(Y(),Ie(Ki,{name:v(T)},{default:Te(()=>[re.actualVisible||re.visible?(Y(),fe("div",{key:0,class:Z(v(A).b("panel"))},[pe("div",{class:Z([v(A).be("panel","content"),{"has-seconds":v(_)}])},[ye(Ng,{ref:"spinner",role:re.datetimeRole||"start","arrow-control":v(d),"show-seconds":v(_),"am-pm-mode":v(I),"spinner-date":re.parsedValue,"disabled-hours":v(p),"disabled-minutes":v(g),"disabled-seconds":v(b),onChange:$,onSetOption:v(se),onSelectRange:J},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),pe("div",{class:Z(v(A).be("panel","footer"))},[pe("button",{type:"button",class:Z([v(A).be("panel","btn"),"cancel"]),onClick:B},dt(v(O)("el.datepicker.cancel")),3),pe("button",{type:"button",class:Z([v(A).be("panel","btn"),"confirm"]),onClick:te[0]||(te[0]=ue=>G())},dt(v(O)("el.datepicker.confirm")),3)],2)],2)):De("v-if",!0)]),_:1},8,["name"]))}});var Md=ct(w8,[["__file","panel-time-pick.vue"]]);const x8=lt({...HS,parsedValue:{type:Ae(Array)}}),S8=["disabled"],k8=xe({__name:"panel-time-range",props:x8,emits:["pick","select-range","set-picker-option"],setup(i,{emit:o}){const l=i,c=(Ze,mt)=>{const Me=[];for(let Ee=Ze;Ee<=mt;Ee++)Me.push(Ee);return Me},{t:d,lang:p}=Bn(),g=Qe("time"),b=Qe("picker"),w=Tt("EP_PICKER_BASE"),{arrowControl:M,disabledHours:C,disabledMinutes:P,disabledSeconds:A,defaultValue:O}=w.props,R=j(()=>[g.be("range-picker","body"),g.be("panel","content"),g.is("arrow",M),K.value?"has-seconds":""]),N=j(()=>[g.be("range-picker","body"),g.be("panel","content"),g.is("arrow",M),K.value?"has-seconds":""]),z=j(()=>l.parsedValue[0]),T=j(()=>l.parsedValue[1]),_=US(l),I=()=>{o("pick",_.value,!1)},K=j(()=>l.format.includes("ss")),B=j(()=>l.format.includes("A")?"A":l.format.includes("a")?"a":""),G=(Ze=!1)=>{o("pick",[z.value,T.value],Ze)},$=Ze=>{Q(Ze.millisecond(0),T.value)},J=Ze=>{Q(z.value,Ze.millisecond(0))},ee=Ze=>{const mt=Ze.map(Ee=>vn(Ee).locale(p.value)),Me=be(mt);return mt[0].isSame(Me[0])&&mt[1].isSame(Me[1])},Q=(Ze,mt)=>{o("pick",[Ze,mt],!0)},X=j(()=>z.value>T.value),se=ne([0,2]),de=(Ze,mt)=>{o("select-range",Ze,mt,"min"),se.value=[Ze,mt]},ve=j(()=>K.value?11:8),me=(Ze,mt)=>{o("select-range",Ze,mt,"max");const Me=v(ve);se.value=[Ze+Me,mt+Me]},ae=Ze=>{const mt=K.value?[0,3,6,11,14,17]:[0,3,8,11],Me=["hours","minutes"].concat(K.value?["seconds"]:[]),We=(mt.indexOf(se.value[0])+Ze+mt.length)%mt.length,ot=mt.length/2;We<ot?tt.start_emitSelectRange(Me[We]):tt.end_emitSelectRange(Me[We-ot])},ie=Ze=>{const mt=Ze.code,{left:Me,right:Ee,up:We,down:ot}=Gt;if([Me,Ee].includes(mt)){ae(mt===Me?-1:1),Ze.preventDefault();return}if([We,ot].includes(mt)){const He=mt===We?-1:1,Je=se.value[0]<ve.value?"start":"end";tt[`${Je}_scrollDown`](He),Ze.preventDefault();return}},re=(Ze,mt)=>{const Me=C?C(Ze):[],Ee=Ze==="start",ot=(mt||(Ee?T.value:z.value)).hour(),He=Ee?c(ot+1,23):c(0,ot-1);return dp(Me,He)},te=(Ze,mt,Me)=>{const Ee=P?P(Ze,mt):[],We=mt==="start",ot=Me||(We?T.value:z.value),He=ot.hour();if(Ze!==He)return Ee;const Je=ot.minute(),nt=We?c(Je+1,59):c(0,Je-1);return dp(Ee,nt)},ue=(Ze,mt,Me,Ee)=>{const We=A?A(Ze,mt,Me):[],ot=Me==="start",He=Ee||(ot?T.value:z.value),Je=He.hour(),nt=He.minute();if(Ze!==Je||mt!==nt)return We;const rt=He.second(),ht=ot?c(rt+1,59):c(0,rt-1);return dp(We,ht)},be=([Ze,mt])=>[Le(Ze,"start",!0,mt),Le(mt,"end",!1,Ze)],{getAvailableHours:Ce,getAvailableMinutes:Ne,getAvailableSeconds:Be}=WS(re,te,ue),{timePickerOptions:tt,getAvailableTime:Le,onSetOption:_e}=qS({getAvailableHours:Ce,getAvailableMinutes:Ne,getAvailableSeconds:Be}),Fe=Ze=>Ze?St(Ze)?Ze.map(mt=>vn(mt,l.format).locale(p.value)):vn(Ze,l.format).locale(p.value):null,gt=Ze=>Ze?St(Ze)?Ze.map(mt=>mt.format(l.format)):Ze.format(l.format):null,Ye=()=>{if(St(O))return O.map(mt=>vn(mt).locale(p.value));const Ze=vn(O).locale(p.value);return[Ze,Ze.add(60,"m")]};return o("set-picker-option",["formatToString",gt]),o("set-picker-option",["parseUserInput",Fe]),o("set-picker-option",["isValidValue",ee]),o("set-picker-option",["handleKeydownInput",ie]),o("set-picker-option",["getDefaultValue",Ye]),o("set-picker-option",["getRangeAvailableTime",be]),(Ze,mt)=>Ze.actualVisible?(Y(),fe("div",{key:0,class:Z([v(g).b("range-picker"),v(b).b("panel")])},[pe("div",{class:Z(v(g).be("range-picker","content"))},[pe("div",{class:Z(v(g).be("range-picker","cell"))},[pe("div",{class:Z(v(g).be("range-picker","header"))},dt(v(d)("el.datepicker.startTime")),3),pe("div",{class:Z(v(R))},[ye(Ng,{ref:"minSpinner",role:"start","show-seconds":v(K),"am-pm-mode":v(B),"arrow-control":v(M),"spinner-date":v(z),"disabled-hours":re,"disabled-minutes":te,"disabled-seconds":ue,onChange:$,onSetOption:v(_e),onSelectRange:de},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),pe("div",{class:Z(v(g).be("range-picker","cell"))},[pe("div",{class:Z(v(g).be("range-picker","header"))},dt(v(d)("el.datepicker.endTime")),3),pe("div",{class:Z(v(N))},[ye(Ng,{ref:"maxSpinner",role:"end","show-seconds":v(K),"am-pm-mode":v(B),"arrow-control":v(M),"spinner-date":v(T),"disabled-hours":re,"disabled-minutes":te,"disabled-seconds":ue,onChange:J,onSetOption:v(_e),onSelectRange:me},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),pe("div",{class:Z(v(g).be("panel","footer"))},[pe("button",{type:"button",class:Z([v(g).be("panel","btn"),"cancel"]),onClick:mt[0]||(mt[0]=Me=>I())},dt(v(d)("el.datepicker.cancel")),3),pe("button",{type:"button",class:Z([v(g).be("panel","btn"),"confirm"]),disabled:v(X),onClick:mt[1]||(mt[1]=Me=>G())},dt(v(d)("el.datepicker.confirm")),11,S8)],2)],2)):De("v-if",!0)}});var C8=ct(k8,[["__file","panel-time-range.vue"]]);vn.extend(E0);var M8=xe({name:"ElTimePicker",install:null,props:{...D0,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(i,o){const l=ne(),[c,d]=i.isRange?["timerange",C8]:["time",Md],p=g=>o.emit("update:modelValue",g);return En("ElPopperOptions",i.popperOptions),o.expose({focus:g=>{var b;(b=l.value)==null||b.handleFocusInput(g)},blur:g=>{var b;(b=l.value)==null||b.handleBlurInput(g)},handleOpen:()=>{var g;(g=l.value)==null||g.handleOpen()},handleClose:()=>{var g;(g=l.value)==null||g.handleClose()}}),()=>{var g;const b=(g=i.format)!=null?g:yg;return ye(jS,An(i,{ref:l,type:c,format:b,"onUpdate:modelValue":p}),{default:w=>ye(d,w,null)})}}});const Hh=M8;Hh.install=i=>{i.component(Hh.name,Hh)};const P8=Hh,T8=(i,o)=>{const l=i.subtract(1,"month").endOf("month").date();return fa(o).map((c,d)=>l-(o-d-1))},N8=i=>{const o=i.daysInMonth();return fa(o).map((l,c)=>c+1)},A8=i=>fa(i.length/7).map(o=>{const l=o*7;return i.slice(l,l+7)}),L8=lt({selectedDay:{type:Ae(Object)},range:{type:Ae(Array)},date:{type:Ae(Object),required:!0},hideHeader:{type:Boolean}}),E8={pick:i=>yn(i)};var nk={exports:{}};(function(i,o){(function(l,c){i.exports=c()})(Vr,function(){return function(l,c,d){var p=c.prototype,g=function(P){return P&&(P.indexOf?P:P.s)},b=function(P,A,O,R,N){var z=P.name?P:P.$locale(),T=g(z[A]),_=g(z[O]),I=T||_.map(function(B){return B.slice(0,R)});if(!N)return I;var K=z.weekStart;return I.map(function(B,G){return I[(G+(K||0))%7]})},w=function(){return d.Ls[d.locale()]},M=function(P,A){return P.formats[A]||function(O){return O.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(R,N,z){return N||z.slice(1)})}(P.formats[A.toUpperCase()])},C=function(){var P=this;return{months:function(A){return A?A.format("MMMM"):b(P,"months")},monthsShort:function(A){return A?A.format("MMM"):b(P,"monthsShort","months",3)},firstDayOfWeek:function(){return P.$locale().weekStart||0},weekdays:function(A){return A?A.format("dddd"):b(P,"weekdays")},weekdaysMin:function(A){return A?A.format("dd"):b(P,"weekdaysMin","weekdays",2)},weekdaysShort:function(A){return A?A.format("ddd"):b(P,"weekdaysShort","weekdays",3)},longDateFormat:function(A){return M(P.$locale(),A)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};p.localeData=function(){return C.bind(this)()},d.localeData=function(){var P=w();return{firstDayOfWeek:function(){return P.weekStart||0},weekdays:function(){return d.weekdays()},weekdaysShort:function(){return d.weekdaysShort()},weekdaysMin:function(){return d.weekdaysMin()},months:function(){return d.months()},monthsShort:function(){return d.monthsShort()},longDateFormat:function(A){return M(P,A)},meridiem:P.meridiem,ordinal:P.ordinal}},d.months=function(){return b(w(),"months")},d.monthsShort=function(){return b(w(),"monthsShort","months",3)},d.weekdays=function(P){return b(w(),"weekdays",null,null,P)},d.weekdaysShort=function(P){return b(w(),"weekdaysShort","weekdays",3,P)},d.weekdaysMin=function(P){return b(w(),"weekdaysMin","weekdays",2,P)}}})})(nk);var D8=nk.exports;const ik=zr(D8),O8=(i,o)=>{vn.extend(ik);const l=vn.localeData().firstDayOfWeek(),{t:c,lang:d}=Bn(),p=vn().locale(d.value),g=j(()=>!!i.range&&!!i.range.length),b=j(()=>{let A=[];if(g.value){const[O,R]=i.range,N=fa(R.date()-O.date()+1).map(_=>({text:O.date()+_,type:"current"}));let z=N.length%7;z=z===0?0:7-z;const T=fa(z).map((_,I)=>({text:I+1,type:"next"}));A=N.concat(T)}else{const O=i.date.startOf("month").day(),R=T8(i.date,(O-l+7)%7).map(_=>({text:_,type:"prev"})),N=N8(i.date).map(_=>({text:_,type:"current"}));A=[...R,...N];const z=7-(A.length%7||7),T=fa(z).map((_,I)=>({text:I+1,type:"next"}));A=A.concat(T)}return A8(A)}),w=j(()=>{const A=l;return A===0?fp.map(O=>c(`el.datepicker.weeks.${O}`)):fp.slice(A).concat(fp.slice(0,A)).map(O=>c(`el.datepicker.weeks.${O}`))}),M=(A,O)=>{switch(O){case"prev":return i.date.startOf("month").subtract(1,"month").date(A);case"next":return i.date.startOf("month").add(1,"month").date(A);case"current":return i.date.date(A)}};return{now:p,isInRange:g,rows:b,weekDays:w,getFormattedDate:M,handlePickDay:({text:A,type:O})=>{const R=M(A,O);o("pick",R)},getSlotData:({text:A,type:O})=>{const R=M(A,O);return{isSelected:R.isSame(i.selectedDay),type:`${O}-month`,day:R.format("YYYY-MM-DD"),date:R.toDate()}}}},R8={key:0},I8=["onClick"],F8=xe({name:"DateTable"}),B8=xe({...F8,props:L8,emits:E8,setup(i,{expose:o,emit:l}){const c=i,{isInRange:d,now:p,rows:g,weekDays:b,getFormattedDate:w,handlePickDay:M,getSlotData:C}=O8(c,l),P=Qe("calendar-table"),A=Qe("calendar-day"),O=({text:R,type:N})=>{const z=[N];if(N==="current"){const T=w(R,N);T.isSame(c.selectedDay,"day")&&z.push(A.is("selected")),T.isSame(p,"day")&&z.push(A.is("today"))}return z};return o({getFormattedDate:w}),(R,N)=>(Y(),fe("table",{class:Z([v(P).b(),v(P).is("range",v(d))]),cellspacing:"0",cellpadding:"0"},[R.hideHeader?De("v-if",!0):(Y(),fe("thead",R8,[(Y(!0),fe($t,null,Rn(v(b),z=>(Y(),fe("th",{key:z},dt(z),1))),128))])),pe("tbody",null,[(Y(!0),fe($t,null,Rn(v(g),(z,T)=>(Y(),fe("tr",{key:T,class:Z({[v(P).e("row")]:!0,[v(P).em("row","hide-border")]:T===0&&R.hideHeader})},[(Y(!0),fe($t,null,Rn(z,(_,I)=>(Y(),fe("td",{key:I,class:Z(O(_)),onClick:K=>v(M)(_)},[pe("div",{class:Z(v(A).b())},[ze(R.$slots,"date-cell",{data:v(C)(_)},()=>[pe("span",null,dt(_.text),1)])],2)],10,I8))),128))],2))),128))])],2))}});var b1=ct(B8,[["__file","date-table.vue"]]);const $8=(i,o)=>{const l=i.endOf("month"),c=o.startOf("month"),p=l.isSame(c,"week")?c.add(1,"week"):c;return[[i,l],[p.startOf("week"),o]]},V8=(i,o)=>{const l=i.endOf("month"),c=i.add(1,"month").startOf("month"),d=l.isSame(c,"week")?c.add(1,"week"):c,p=d.endOf("month"),g=o.startOf("month"),b=p.isSame(g,"week")?g.add(1,"week"):g;return[[i,l],[d.startOf("week"),p],[b.startOf("week"),o]]},z8=(i,o,l)=>{const{lang:c}=Bn(),d=ne(),p=vn().locale(c.value),g=j({get(){return i.modelValue?w.value:d.value},set(z){if(!z)return;d.value=z;const T=z.toDate();o(Ns,T),o(wn,T)}}),b=j(()=>{if(!i.range)return[];const z=i.range.map(I=>vn(I).locale(c.value)),[T,_]=z;return T.isAfter(_)?[]:T.isSame(_,"month")?O(T,_):T.add(1,"month").month()!==_.month()?[]:O(T,_)}),w=j(()=>i.modelValue?vn(i.modelValue).locale(c.value):g.value||(b.value.length?b.value[0][0]:p)),M=j(()=>w.value.subtract(1,"month").date(1)),C=j(()=>w.value.add(1,"month").date(1)),P=j(()=>w.value.subtract(1,"year").date(1)),A=j(()=>w.value.add(1,"year").date(1)),O=(z,T)=>{const _=z.startOf("week"),I=T.endOf("week"),K=_.get("month"),B=I.get("month");return K===B?[[_,I]]:(K+1)%12===B?$8(_,I):K+2===B||(K+1)%11===B?V8(_,I):[]},R=z=>{g.value=z};return{calculateValidatedDateRange:O,date:w,realSelectedDay:g,pickDay:R,selectDate:z=>{const _={"prev-month":M.value,"next-month":C.value,"prev-year":P.value,"next-year":A.value,today:p}[z];_.isSame(w.value,"day")||R(_)},validatedRange:b}},_8=i=>St(i)&&i.length===2&&i.every(o=>tl(o)),K8=lt({modelValue:{type:Date},range:{type:Ae(Array),validator:_8}}),H8={[wn]:i=>tl(i),[Ns]:i=>tl(i)},j8="ElCalendar",q8=xe({name:j8}),G8=xe({...q8,props:K8,emits:H8,setup(i,{expose:o,emit:l}){const c=i,d=Qe("calendar"),{calculateValidatedDateRange:p,date:g,pickDay:b,realSelectedDay:w,selectDate:M,validatedRange:C}=z8(c,l),{t:P}=Bn(),A=j(()=>{const O=`el.datepicker.month${g.value.format("M")}`;return`${g.value.year()} ${P("el.datepicker.year")} ${P(O)}`});return o({selectedDay:w,pickDay:b,selectDate:M,calculateValidatedDateRange:p}),(O,R)=>(Y(),fe("div",{class:Z(v(d).b())},[pe("div",{class:Z(v(d).e("header"))},[ze(O.$slots,"header",{date:v(A)},()=>[pe("div",{class:Z(v(d).e("title"))},dt(v(A)),3),v(C).length===0?(Y(),fe("div",{key:0,class:Z(v(d).e("button-group"))},[ye(v(BS),null,{default:Te(()=>[ye(v(Zi),{size:"small",onClick:R[0]||(R[0]=N=>v(M)("prev-month"))},{default:Te(()=>[Tn(dt(v(P)("el.datepicker.prevMonth")),1)]),_:1}),ye(v(Zi),{size:"small",onClick:R[1]||(R[1]=N=>v(M)("today"))},{default:Te(()=>[Tn(dt(v(P)("el.datepicker.today")),1)]),_:1}),ye(v(Zi),{size:"small",onClick:R[2]||(R[2]=N=>v(M)("next-month"))},{default:Te(()=>[Tn(dt(v(P)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):De("v-if",!0)])],2),v(C).length===0?(Y(),fe("div",{key:0,class:Z(v(d).e("body"))},[ye(b1,{date:v(g),"selected-day":v(w),onPick:v(b)},Nr({_:2},[O.$slots["date-cell"]?{name:"date-cell",fn:Te(N=>[ze(O.$slots,"date-cell",Cr(Xl(N)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(Y(),fe("div",{key:1,class:Z(v(d).e("body"))},[(Y(!0),fe($t,null,Rn(v(C),(N,z)=>(Y(),Ie(b1,{key:z,date:N[0],"selected-day":v(w),range:N,"hide-header":z!==0,onPick:v(b)},Nr({_:2},[O.$slots["date-cell"]?{name:"date-cell",fn:Te(T=>[ze(O.$slots,"date-cell",Cr(Xl(T)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var W8=ct(G8,[["__file","calendar.vue"]]);const U8=gn(W8),Y8=lt({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Ae([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),X8=xe({name:"ElCard"}),Z8=xe({...X8,props:Y8,setup(i){const o=Qe("card");return(l,c)=>(Y(),fe("div",{class:Z([v(o).b(),v(o).is(`${l.shadow}-shadow`)])},[l.$slots.header||l.header?(Y(),fe("div",{key:0,class:Z(v(o).e("header"))},[ze(l.$slots,"header",{},()=>[Tn(dt(l.header),1)])],2)):De("v-if",!0),pe("div",{class:Z([v(o).e("body"),l.bodyClass]),style:Ft(l.bodyStyle)},[ze(l.$slots,"default")],6),l.$slots.footer||l.footer?(Y(),fe("div",{key:1,class:Z(v(o).e("footer"))},[ze(l.$slots,"footer",{},()=>[Tn(dt(l.footer),1)])],2)):De("v-if",!0)],2))}});var J8=ct(Z8,[["__file","card.vue"]]);const Q8=gn(J8),e5=lt({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),t5={change:(i,o)=>[i,o].every(Yt)},sk=Symbol("carouselContextKey"),w1=300,n5=(i,o,l)=>{const{children:c,addChild:d,removeChild:p}=C0(pn(),"ElCarouselItem"),g=Qi(),b=ne(-1),w=ne(null),M=ne(!1),C=ne(),P=ne(0),A=ne(!0),O=ne(!0),R=ne(!1),N=j(()=>i.arrow!=="never"&&!v(_)),z=j(()=>c.value.some(Le=>Le.props.label.toString().length>0)),T=j(()=>i.type==="card"),_=j(()=>i.direction==="vertical"),I=j(()=>i.height!=="auto"?{height:i.height}:{height:`${P.value}px`,overflow:"hidden"}),K=Za(Le=>{Q(Le)},w1,{trailing:!0}),B=Za(Le=>{te(Le)},w1),G=Le=>A.value?b.value<=1?Le<=1:Le>1:!0;function $(){w.value&&(clearInterval(w.value),w.value=null)}function J(){i.interval<=0||!i.autoplay||w.value||(w.value=setInterval(()=>ee(),i.interval))}const ee=()=>{O.value||(R.value=!0),O.value=!1,b.value<c.value.length-1?b.value=b.value+1:i.loop&&(b.value=0)};function Q(Le){if(O.value||(R.value=!0),O.value=!1,tn(Le)){const gt=c.value.filter(Ye=>Ye.props.name===Le);gt.length>0&&(Le=c.value.indexOf(gt[0]))}if(Le=Number(Le),Number.isNaN(Le)||Le!==Math.floor(Le))return;const _e=c.value.length,Fe=b.value;Le<0?b.value=i.loop?_e-1:0:Le>=_e?b.value=i.loop?0:_e-1:b.value=Le,Fe===b.value&&X(Fe),Ce()}function X(Le){c.value.forEach((_e,Fe)=>{_e.translateItem(Fe,b.value,Le)})}function se(Le,_e){var Fe,gt,Ye,Ze;const mt=v(c),Me=mt.length;if(Me===0||!Le.states.inStage)return!1;const Ee=_e+1,We=_e-1,ot=Me-1,He=mt[ot].states.active,Je=mt[0].states.active,nt=(gt=(Fe=mt[Ee])==null?void 0:Fe.states)==null?void 0:gt.active,rt=(Ze=(Ye=mt[We])==null?void 0:Ye.states)==null?void 0:Ze.active;return _e===ot&&Je||nt?"left":_e===0&&He||rt?"right":!1}function de(){M.value=!0,i.pauseOnHover&&$()}function ve(){M.value=!1,J()}function me(){R.value=!1}function ae(Le){v(_)||c.value.forEach((_e,Fe)=>{Le===se(_e,Fe)&&(_e.states.hover=!0)})}function ie(){v(_)||c.value.forEach(Le=>{Le.states.hover=!1})}function re(Le){Le!==b.value&&(O.value||(R.value=!0)),b.value=Le}function te(Le){i.trigger==="hover"&&Le!==b.value&&(b.value=Le,O.value||(R.value=!0))}function ue(){Q(b.value-1)}function be(){Q(b.value+1)}function Ce(){$(),i.pauseOnHover||J()}function Ne(Le){i.height==="auto"&&(P.value=Le)}function Be(){var Le;const _e=(Le=g.default)==null?void 0:Le.call(g);if(!_e)return null;const Fe=da(_e),gt="ElCarouselItem",Ye=Fe.filter(Ze=>li(Ze)&&Ze.type.name===gt);return(Ye==null?void 0:Ye.length)===2&&i.loop&&!T.value?(A.value=!0,Ye):(A.value=!1,null)}Ue(()=>b.value,(Le,_e)=>{X(_e),A.value&&(Le=Le%2,_e=_e%2),_e>-1&&o("change",Le,_e)}),Ue(()=>i.autoplay,Le=>{Le?J():$()}),Ue(()=>i.loop,()=>{Q(b.value)}),Ue(()=>i.interval,()=>{Ce()});const tt=oi();return un(()=>{Ue(()=>c.value,()=>{c.value.length>0&&Q(i.initialIndex)},{immediate:!0}),tt.value=fi(C.value,()=>{X()}),J()}),ei(()=>{$(),C.value&&tt.value&&tt.value.stop()}),En(sk,{root:C,isCardType:T,isVertical:_,items:c,loop:i.loop,addItem:d,removeItem:p,setActiveItem:Q,setContainerHeight:Ne}),{root:C,activeIndex:b,arrowDisplay:N,hasLabel:z,hover:M,isCardType:T,isTransitioning:R,items:c,isVertical:_,containerStyle:I,isItemsTwoLength:A,handleButtonEnter:ae,handleTransitionEnd:me,handleButtonLeave:ie,handleIndicatorClick:re,handleMouseEnter:de,handleMouseLeave:ve,setActiveItem:Q,prev:ue,next:be,PlaceholderItem:Be,isTwoLengthShow:G,throttledArrowClick:K,throttledIndicatorHover:B}},i5=["aria-label"],s5=["aria-label"],o5=["onMouseenter","onClick"],r5=["aria-label"],a5={key:0},l5={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},u5=pe("defs",null,[pe("filter",{id:"elCarouselHorizontal"},[pe("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),pe("filter",{id:"elCarouselVertical"},[pe("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),c5=[u5],h5="ElCarousel",d5=xe({name:h5}),f5=xe({...d5,props:e5,emits:t5,setup(i,{expose:o,emit:l}){const c=i,{root:d,activeIndex:p,arrowDisplay:g,hasLabel:b,hover:w,isCardType:M,items:C,isVertical:P,containerStyle:A,handleButtonEnter:O,handleButtonLeave:R,isTransitioning:N,handleIndicatorClick:z,handleMouseEnter:T,handleMouseLeave:_,handleTransitionEnd:I,setActiveItem:K,prev:B,next:G,PlaceholderItem:$,isTwoLengthShow:J,throttledArrowClick:ee,throttledIndicatorHover:Q}=n5(c,l),X=Qe("carousel"),{t:se}=Bn(),de=j(()=>{const ae=[X.b(),X.m(c.direction)];return v(M)&&ae.push(X.m("card")),ae}),ve=j(()=>{const ae=[X.e("container")];return c.motionBlur&&v(N)&&ae.push(v(P)?`${X.namespace.value}-transitioning-vertical`:`${X.namespace.value}-transitioning`),ae}),me=j(()=>{const ae=[X.e("indicators"),X.em("indicators",c.direction)];return v(b)&&ae.push(X.em("indicators","labels")),c.indicatorPosition==="outside"&&ae.push(X.em("indicators","outside")),v(P)&&ae.push(X.em("indicators","right")),ae});return o({setActiveItem:K,prev:B,next:G}),(ae,ie)=>(Y(),fe("div",{ref_key:"root",ref:d,class:Z(v(de)),onMouseenter:ie[7]||(ie[7]=en((...re)=>v(T)&&v(T)(...re),["stop"])),onMouseleave:ie[8]||(ie[8]=en((...re)=>v(_)&&v(_)(...re),["stop"]))},[v(g)?(Y(),Ie(Ki,{key:0,name:"carousel-arrow-left",persisted:""},{default:Te(()=>[ln(pe("button",{type:"button",class:Z([v(X).e("arrow"),v(X).em("arrow","left")]),"aria-label":v(se)("el.carousel.leftArrow"),onMouseenter:ie[0]||(ie[0]=re=>v(O)("left")),onMouseleave:ie[1]||(ie[1]=(...re)=>v(R)&&v(R)(...re)),onClick:ie[2]||(ie[2]=en(re=>v(ee)(v(p)-1),["stop"]))},[ye(v(Et),null,{default:Te(()=>[ye(v(ba))]),_:1})],42,i5),[[$n,(ae.arrow==="always"||v(w))&&(c.loop||v(p)>0)]])]),_:1})):De("v-if",!0),v(g)?(Y(),Ie(Ki,{key:1,name:"carousel-arrow-right",persisted:""},{default:Te(()=>[ln(pe("button",{type:"button",class:Z([v(X).e("arrow"),v(X).em("arrow","right")]),"aria-label":v(se)("el.carousel.rightArrow"),onMouseenter:ie[3]||(ie[3]=re=>v(O)("right")),onMouseleave:ie[4]||(ie[4]=(...re)=>v(R)&&v(R)(...re)),onClick:ie[5]||(ie[5]=en(re=>v(ee)(v(p)+1),["stop"]))},[ye(v(Et),null,{default:Te(()=>[ye(v(Ts))]),_:1})],42,s5),[[$n,(ae.arrow==="always"||v(w))&&(c.loop||v(p)<v(C).length-1)]])]),_:1})):De("v-if",!0),pe("div",{class:Z(v(ve)),style:Ft(v(A)),onTransitionend:ie[6]||(ie[6]=(...re)=>v(I)&&v(I)(...re))},[ye(v($)),ze(ae.$slots,"default")],38),ae.indicatorPosition!=="none"?(Y(),fe("ul",{key:2,class:Z(v(me))},[(Y(!0),fe($t,null,Rn(v(C),(re,te)=>ln((Y(),fe("li",{key:te,class:Z([v(X).e("indicator"),v(X).em("indicator",ae.direction),v(X).is("active",te===v(p))]),onMouseenter:ue=>v(Q)(te),onClick:en(ue=>v(z)(te),["stop"])},[pe("button",{class:Z(v(X).e("button")),"aria-label":v(se)("el.carousel.indicator",{index:te+1})},[v(b)?(Y(),fe("span",a5,dt(re.props.label),1)):De("v-if",!0)],10,r5)],42,o5)),[[$n,v(J)(te)]])),128))],2)):De("v-if",!0),c.motionBlur?(Y(),fe("svg",l5,c5)):De("v-if",!0)],34))}});var p5=ct(f5,[["__file","carousel.vue"]]);const g5=lt({name:{type:String,default:""},label:{type:[String,Number],default:""}}),m5=(i,o)=>{const l=Tt(sk),c=pn(),d=.83,p=ne(),g=ne(!1),b=ne(0),w=ne(1),M=ne(!1),C=ne(!1),P=ne(!1),A=ne(!1),{isCardType:O,isVertical:R}=l;function N(K,B,G){const $=G-1,J=B-1,ee=B+1,Q=G/2;return B===0&&K===$?-1:B===$&&K===0?G:K<J&&B-K>=Q?G+1:K>ee&&K-B>=Q?-2:K}function z(K,B){var G,$;const J=v(R)?((G=l.root.value)==null?void 0:G.offsetHeight)||0:(($=l.root.value)==null?void 0:$.offsetWidth)||0;return P.value?J*((2-d)*(K-B)+1)/4:K<B?-(1+d)*J/4:(3+d)*J/4}function T(K,B,G){const $=l.root.value;return $?((G?$.offsetHeight:$.offsetWidth)||0)*(K-B):0}const _=(K,B,G)=>{var $;const J=v(O),ee=($=l.items.value.length)!=null?$:Number.NaN,Q=K===B;!J&&!Ri(G)&&(A.value=Q||K===G),!Q&&ee>2&&l.loop&&(K=N(K,B,ee));const X=v(R);M.value=Q,J?(P.value=Math.round(Math.abs(K-B))<=1,b.value=z(K,B),w.value=v(M)?1:d):b.value=T(K,B,X),C.value=!0,Q&&p.value&&l.setContainerHeight(p.value.offsetHeight)};function I(){if(l&&v(O)){const K=l.items.value.findIndex(({uid:B})=>B===c.uid);l.setActiveItem(K)}}return un(()=>{l.addItem({props:i,states:Hn({hover:g,translate:b,scale:w,active:M,ready:C,inStage:P,animating:A}),uid:c.uid,translateItem:_})}),Ma(()=>{l.removeItem(c.uid)}),{carouselItemRef:p,active:M,animating:A,hover:g,inStage:P,isVertical:R,translate:b,isCardType:O,scale:w,ready:C,handleItemClick:I}},v5=xe({name:"ElCarouselItem"}),y5=xe({...v5,props:g5,setup(i){const o=i,l=Qe("carousel"),{carouselItemRef:c,active:d,animating:p,hover:g,inStage:b,isVertical:w,translate:M,isCardType:C,scale:P,ready:A,handleItemClick:O}=m5(o),R=j(()=>[l.e("item"),l.is("active",d.value),l.is("in-stage",b.value),l.is("hover",g.value),l.is("animating",p.value),{[l.em("item","card")]:C.value,[l.em("item","card-vertical")]:C.value&&w.value}]),N=j(()=>{const T=`${`translate${v(w)?"Y":"X"}`}(${v(M)}px)`,_=`scale(${v(P)})`;return{transform:[T,_].join(" ")}});return(z,T)=>ln((Y(),fe("div",{ref_key:"carouselItemRef",ref:c,class:Z(v(R)),style:Ft(v(N)),onClick:T[0]||(T[0]=(..._)=>v(O)&&v(O)(..._))},[v(C)?ln((Y(),fe("div",{key:0,class:Z(v(l).e("mask"))},null,2)),[[$n,!v(d)]]):De("v-if",!0),ze(z.$slots,"default")],6)),[[$n,v(A)]])}});var ok=ct(y5,[["__file","carousel-item.vue"]]);const b5=gn(p5,{CarouselItem:ok}),w5=gi(ok),rk={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:ji,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...os(["ariaControls"])},ak={[wn]:i=>tn(i)||Yt(i)||Ii(i),change:i=>tn(i)||Yt(i)||Ii(i)},Mu=Symbol("checkboxGroupContextKey"),x5=({model:i,isChecked:o})=>{const l=Tt(Mu,void 0),c=j(()=>{var p,g;const b=(p=l==null?void 0:l.max)==null?void 0:p.value,w=(g=l==null?void 0:l.min)==null?void 0:g.value;return!Ri(b)&&i.value.length>=b&&!o.value||!Ri(w)&&i.value.length<=w&&o.value});return{isDisabled:Es(j(()=>(l==null?void 0:l.disabled.value)||c.value)),isLimitDisabled:c}},S5=(i,{model:o,isLimitExceeded:l,hasOwnLabel:c,isDisabled:d,isLabeledByFormItem:p})=>{const g=Tt(Mu,void 0),{formItem:b}=ks(),{emit:w}=pn();function M(R){var N,z,T,_;return[!0,i.trueValue,i.trueLabel].includes(R)?(z=(N=i.trueValue)!=null?N:i.trueLabel)!=null?z:!0:(_=(T=i.falseValue)!=null?T:i.falseLabel)!=null?_:!1}function C(R,N){w("change",M(R),N)}function P(R){if(l.value)return;const N=R.target;w("change",M(N.checked),R)}async function A(R){l.value||!c.value&&!d.value&&p.value&&(R.composedPath().some(T=>T.tagName==="LABEL")||(o.value=M([!1,i.falseValue,i.falseLabel].includes(o.value)),await Kt(),C(o.value,R)))}const O=j(()=>(g==null?void 0:g.validateEvent)||i.validateEvent);return Ue(()=>i.modelValue,()=>{O.value&&(b==null||b.validate("change").catch(R=>void 0))}),{handleChange:P,onClickRoot:A}},k5=i=>{const o=ne(!1),{emit:l}=pn(),c=Tt(Mu,void 0),d=j(()=>Ri(c)===!1),p=ne(!1),g=j({get(){var b,w;return d.value?(b=c==null?void 0:c.modelValue)==null?void 0:b.value:(w=i.modelValue)!=null?w:o.value},set(b){var w,M;d.value&&St(b)?(p.value=((w=c==null?void 0:c.max)==null?void 0:w.value)!==void 0&&b.length>(c==null?void 0:c.max.value)&&b.length>g.value.length,p.value===!1&&((M=c==null?void 0:c.changeEvent)==null||M.call(c,b))):(l(wn,b),o.value=b)}});return{model:g,isGroup:d,isLimitExceeded:p}},C5=(i,o,{model:l})=>{const c=Tt(Mu,void 0),d=ne(!1),p=j(()=>sl(i.value)?i.label:i.value),g=j(()=>{const C=l.value;return Ii(C)?C:St(C)?yn(p.value)?C.map(Wn).some(P=>ws(P,p.value)):C.map(Wn).includes(p.value):C!=null?C===i.trueValue||C===i.trueLabel:!!C}),b=$i(j(()=>{var C;return(C=c==null?void 0:c.size)==null?void 0:C.value}),{prop:!0}),w=$i(j(()=>{var C;return(C=c==null?void 0:c.size)==null?void 0:C.value})),M=j(()=>!!o.default||!sl(p.value));return{checkboxButtonSize:b,isChecked:g,isFocused:d,checkboxSize:w,hasOwnLabel:M,actualValue:p}},lk=(i,o)=>{const{formItem:l}=ks(),{model:c,isGroup:d,isLimitExceeded:p}=k5(i),{isFocused:g,isChecked:b,checkboxButtonSize:w,checkboxSize:M,hasOwnLabel:C,actualValue:P}=C5(i,o,{model:c}),{isDisabled:A}=x5({model:c,isChecked:b}),{inputId:O,isLabeledByFormItem:R}=Go(i,{formItemContext:l,disableIdGeneration:C,disableIdManagement:d}),{handleChange:N,onClickRoot:z}=S5(i,{model:c,isLimitExceeded:p,hasOwnLabel:C,isDisabled:A,isLabeledByFormItem:R});return(()=>{function _(){var I,K;St(c.value)&&!c.value.includes(P.value)?c.value.push(P.value):c.value=(K=(I=i.trueValue)!=null?I:i.trueLabel)!=null?K:!0}i.checked&&_()})(),qi({from:"controls",replacement:"aria-controls",version:"2.8.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},j(()=>!!i.controls)),qi({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},j(()=>d.value&&sl(i.value))),qi({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},j(()=>!!i.trueLabel)),qi({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},j(()=>!!i.falseLabel)),{inputId:O,isLabeledByFormItem:R,isChecked:b,isDisabled:A,isFocused:g,checkboxButtonSize:w,checkboxSize:M,hasOwnLabel:C,model:c,actualValue:P,handleChange:N,onClickRoot:z}},M5=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],P5=["id","indeterminate","disabled","value","name","tabindex"],T5=xe({name:"ElCheckbox"}),N5=xe({...T5,props:rk,emits:ak,setup(i){const o=i,l=Qi(),{inputId:c,isLabeledByFormItem:d,isChecked:p,isDisabled:g,isFocused:b,checkboxSize:w,hasOwnLabel:M,model:C,actualValue:P,handleChange:A,onClickRoot:O}=lk(o,l),R=Qe("checkbox"),N=j(()=>[R.b(),R.m(w.value),R.is("disabled",g.value),R.is("bordered",o.border),R.is("checked",p.value)]),z=j(()=>[R.e("input"),R.is("disabled",g.value),R.is("checked",p.value),R.is("indeterminate",o.indeterminate),R.is("focus",b.value)]);return(T,_)=>(Y(),Ie(kn(!v(M)&&v(d)?"span":"label"),{class:Z(v(N)),"aria-controls":T.indeterminate?T.controls||T.ariaControls:null,onClick:v(O)},{default:Te(()=>{var I,K;return[pe("span",{class:Z(v(z))},[T.trueValue||T.falseValue||T.trueLabel||T.falseLabel?ln((Y(),fe("input",{key:0,id:v(c),"onUpdate:modelValue":_[0]||(_[0]=B=>ri(C)?C.value=B:null),class:Z(v(R).e("original")),type:"checkbox",indeterminate:T.indeterminate,name:T.name,tabindex:T.tabindex,disabled:v(g),"true-value":(I=T.trueValue)!=null?I:T.trueLabel,"false-value":(K=T.falseValue)!=null?K:T.falseLabel,onChange:_[1]||(_[1]=(...B)=>v(A)&&v(A)(...B)),onFocus:_[2]||(_[2]=B=>b.value=!0),onBlur:_[3]||(_[3]=B=>b.value=!1),onClick:_[4]||(_[4]=en(()=>{},["stop"]))},null,42,M5)),[[pd,v(C)]]):ln((Y(),fe("input",{key:1,id:v(c),"onUpdate:modelValue":_[5]||(_[5]=B=>ri(C)?C.value=B:null),class:Z(v(R).e("original")),type:"checkbox",indeterminate:T.indeterminate,disabled:v(g),value:v(P),name:T.name,tabindex:T.tabindex,onChange:_[6]||(_[6]=(...B)=>v(A)&&v(A)(...B)),onFocus:_[7]||(_[7]=B=>b.value=!0),onBlur:_[8]||(_[8]=B=>b.value=!1),onClick:_[9]||(_[9]=en(()=>{},["stop"]))},null,42,P5)),[[pd,v(C)]]),pe("span",{class:Z(v(R).e("inner"))},null,2)],2),v(M)?(Y(),fe("span",{key:0,class:Z(v(R).e("label"))},[ze(T.$slots,"default"),T.$slots.default?De("v-if",!0):(Y(),fe($t,{key:0},[Tn(dt(T.label),1)],64))],2)):De("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var A5=ct(N5,[["__file","checkbox.vue"]]);const L5=["name","tabindex","disabled","true-value","false-value"],E5=["name","tabindex","disabled","value"],D5=xe({name:"ElCheckboxButton"}),O5=xe({...D5,props:rk,emits:ak,setup(i){const o=i,l=Qi(),{isFocused:c,isChecked:d,isDisabled:p,checkboxButtonSize:g,model:b,actualValue:w,handleChange:M}=lk(o,l),C=Tt(Mu,void 0),P=Qe("checkbox"),A=j(()=>{var R,N,z,T;const _=(N=(R=C==null?void 0:C.fill)==null?void 0:R.value)!=null?N:"";return{backgroundColor:_,borderColor:_,color:(T=(z=C==null?void 0:C.textColor)==null?void 0:z.value)!=null?T:"",boxShadow:_?`-1px 0 0 0 ${_}`:void 0}}),O=j(()=>[P.b("button"),P.bm("button",g.value),P.is("disabled",p.value),P.is("checked",d.value),P.is("focus",c.value)]);return(R,N)=>{var z,T;return Y(),fe("label",{class:Z(v(O))},[R.trueValue||R.falseValue||R.trueLabel||R.falseLabel?ln((Y(),fe("input",{key:0,"onUpdate:modelValue":N[0]||(N[0]=_=>ri(b)?b.value=_:null),class:Z(v(P).be("button","original")),type:"checkbox",name:R.name,tabindex:R.tabindex,disabled:v(p),"true-value":(z=R.trueValue)!=null?z:R.trueLabel,"false-value":(T=R.falseValue)!=null?T:R.falseLabel,onChange:N[1]||(N[1]=(..._)=>v(M)&&v(M)(..._)),onFocus:N[2]||(N[2]=_=>c.value=!0),onBlur:N[3]||(N[3]=_=>c.value=!1),onClick:N[4]||(N[4]=en(()=>{},["stop"]))},null,42,L5)),[[pd,v(b)]]):ln((Y(),fe("input",{key:1,"onUpdate:modelValue":N[5]||(N[5]=_=>ri(b)?b.value=_:null),class:Z(v(P).be("button","original")),type:"checkbox",name:R.name,tabindex:R.tabindex,disabled:v(p),value:v(w),onChange:N[6]||(N[6]=(..._)=>v(M)&&v(M)(..._)),onFocus:N[7]||(N[7]=_=>c.value=!0),onBlur:N[8]||(N[8]=_=>c.value=!1),onClick:N[9]||(N[9]=en(()=>{},["stop"]))},null,42,E5)),[[pd,v(b)]]),R.$slots.default||R.label?(Y(),fe("span",{key:2,class:Z(v(P).be("button","inner")),style:Ft(v(d)?v(A):void 0)},[ze(R.$slots,"default",{},()=>[Tn(dt(R.label),1)])],6)):De("v-if",!0)],2)}}});var uk=ct(O5,[["__file","checkbox-button.vue"]]);const R5=lt({modelValue:{type:Ae(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ji,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...os(["ariaLabel"])}),I5={[wn]:i=>St(i),change:i=>St(i)},F5=xe({name:"ElCheckboxGroup"}),B5=xe({...F5,props:R5,emits:I5,setup(i,{emit:o}){const l=i,c=Qe("checkbox"),{formItem:d}=ks(),{inputId:p,isLabeledByFormItem:g}=Go(l,{formItemContext:d}),b=async M=>{o(wn,M),await Kt(),o("change",M)},w=j({get(){return l.modelValue},set(M){b(M)}});return En(Mu,{...er(ss(l),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:w,changeEvent:b}),qi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-checkbox-group",ref:"https://element-plus.org/en-US/component/checkbox.html"},j(()=>!!l.label)),Ue(()=>l.modelValue,()=>{l.validateEvent&&(d==null||d.validate("change").catch(M=>void 0))}),(M,C)=>{var P;return Y(),Ie(kn(M.tag),{id:v(p),class:Z(v(c).b("group")),role:"group","aria-label":v(g)?void 0:M.label||M.ariaLabel||"checkbox-group","aria-labelledby":v(g)?(P=v(d))==null?void 0:P.labelId:void 0},{default:Te(()=>[ze(M.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var ck=ct(B5,[["__file","checkbox-group.vue"]]);const Po=gn(A5,{CheckboxButton:uk,CheckboxGroup:ck}),$5=gi(uk),hk=gi(ck),dk=lt({modelValue:{type:[String,Number,Boolean],default:void 0},size:ji,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),V5=lt({...dk,border:Boolean}),fk={[wn]:i=>tn(i)||Yt(i)||Ii(i),[si]:i=>tn(i)||Yt(i)||Ii(i)},pk=Symbol("radioGroupKey"),gk=(i,o)=>{const l=ne(),c=Tt(pk,void 0),d=j(()=>!!c),p=j(()=>sl(i.value)?i.label:i.value),g=j({get(){return d.value?c.modelValue:i.modelValue},set(P){d.value?c.changeEvent(P):o&&o(wn,P),l.value.checked=i.modelValue===p.value}}),b=$i(j(()=>c==null?void 0:c.size)),w=Es(j(()=>c==null?void 0:c.disabled)),M=ne(!1),C=j(()=>w.value||d.value&&g.value!==p.value?-1:0);return qi({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},j(()=>d.value&&sl(i.value))),{radioRef:l,isGroup:d,radioGroup:c,focus:M,size:b,disabled:w,tabIndex:C,modelValue:g,actualValue:p}},z5=["value","name","disabled"],_5=xe({name:"ElRadio"}),K5=xe({..._5,props:V5,emits:fk,setup(i,{emit:o}){const l=i,c=Qe("radio"),{radioRef:d,radioGroup:p,focus:g,size:b,disabled:w,modelValue:M,actualValue:C}=gk(l,o);function P(){Kt(()=>o("change",M.value))}return(A,O)=>{var R;return Y(),fe("label",{class:Z([v(c).b(),v(c).is("disabled",v(w)),v(c).is("focus",v(g)),v(c).is("bordered",A.border),v(c).is("checked",v(M)===v(C)),v(c).m(v(b))])},[pe("span",{class:Z([v(c).e("input"),v(c).is("disabled",v(w)),v(c).is("checked",v(M)===v(C))])},[ln(pe("input",{ref_key:"radioRef",ref:d,"onUpdate:modelValue":O[0]||(O[0]=N=>ri(M)?M.value=N:null),class:Z(v(c).e("original")),value:v(C),name:A.name||((R=v(p))==null?void 0:R.name),disabled:v(w),type:"radio",onFocus:O[1]||(O[1]=N=>g.value=!0),onBlur:O[2]||(O[2]=N=>g.value=!1),onChange:P,onClick:O[3]||(O[3]=en(()=>{},["stop"]))},null,42,z5),[[M2,v(M)]]),pe("span",{class:Z(v(c).e("inner"))},null,2)],2),pe("span",{class:Z(v(c).e("label")),onKeydown:O[4]||(O[4]=en(()=>{},["stop"]))},[ze(A.$slots,"default",{},()=>[Tn(dt(A.label),1)])],34)],2)}}});var H5=ct(K5,[["__file","radio.vue"]]);const j5=lt({...dk}),q5=["value","name","disabled"],G5=xe({name:"ElRadioButton"}),W5=xe({...G5,props:j5,setup(i){const o=i,l=Qe("radio"),{radioRef:c,focus:d,size:p,disabled:g,modelValue:b,radioGroup:w,actualValue:M}=gk(o),C=j(()=>({backgroundColor:(w==null?void 0:w.fill)||"",borderColor:(w==null?void 0:w.fill)||"",boxShadow:w!=null&&w.fill?`-1px 0 0 0 ${w.fill}`:"",color:(w==null?void 0:w.textColor)||""}));return(P,A)=>{var O;return Y(),fe("label",{class:Z([v(l).b("button"),v(l).is("active",v(b)===v(M)),v(l).is("disabled",v(g)),v(l).is("focus",v(d)),v(l).bm("button",v(p))])},[ln(pe("input",{ref_key:"radioRef",ref:c,"onUpdate:modelValue":A[0]||(A[0]=R=>ri(b)?b.value=R:null),class:Z(v(l).be("button","original-radio")),value:v(M),type:"radio",name:P.name||((O=v(w))==null?void 0:O.name),disabled:v(g),onFocus:A[1]||(A[1]=R=>d.value=!0),onBlur:A[2]||(A[2]=R=>d.value=!1),onClick:A[3]||(A[3]=en(()=>{},["stop"]))},null,42,q5),[[M2,v(b)]]),pe("span",{class:Z(v(l).be("button","inner")),style:Ft(v(b)===v(M)?v(C):{}),onKeydown:A[4]||(A[4]=en(()=>{},["stop"]))},[ze(P.$slots,"default",{},()=>[Tn(dt(P.label),1)])],38)],2)}}});var mk=ct(W5,[["__file","radio-button.vue"]]);const U5=lt({id:{type:String,default:void 0},size:ji,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...os(["ariaLabel"])}),Y5=fk,X5=["id","aria-label","aria-labelledby"],Z5=xe({name:"ElRadioGroup"}),J5=xe({...Z5,props:U5,emits:Y5,setup(i,{emit:o}){const l=i,c=Qe("radio"),d=hs(),p=ne(),{formItem:g}=ks(),{inputId:b,isLabeledByFormItem:w}=Go(l,{formItemContext:g}),M=P=>{o(wn,P),Kt(()=>o("change",P))};un(()=>{const P=p.value.querySelectorAll("[type=radio]"),A=P[0];!Array.from(P).some(O=>O.checked)&&A&&(A.tabIndex=0)});const C=j(()=>l.name||d.value);return En(pk,Hn({...ss(l),changeEvent:M,name:C})),Ue(()=>l.modelValue,()=>{l.validateEvent&&(g==null||g.validate("change").catch(P=>void 0))}),qi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},j(()=>!!l.label)),(P,A)=>(Y(),fe("div",{id:v(b),ref_key:"radioGroupRef",ref:p,class:Z(v(c).b("group")),role:"radiogroup","aria-label":v(w)?void 0:P.label||P.ariaLabel||"radio-group","aria-labelledby":v(w)?v(g).labelId:void 0},[ze(P.$slots,"default")],10,X5))}});var vk=ct(J5,[["__file","radio-group.vue"]]);const yk=gn(H5,{RadioButton:mk,RadioGroup:vk}),Q5=gi(vk),e6=gi(mk);var t6=xe({name:"NodeContent",setup(){return{ns:Qe("cascader-node")}},render(){const{ns:i}=this,{node:o,panel:l}=this.$parent,{data:c,label:d}=o,{renderLabelFn:p}=l;return jt("span",{class:i.e("label")},p?p({node:o,data:c}):d)}});const O0=Symbol(),n6=xe({name:"ElCascaderNode",components:{ElCheckbox:Po,ElRadio:yk,NodeContent:t6,ElIcon:Et,Check:_c,Loading:Na,ArrowRight:Ts},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(i,{emit:o}){const l=Tt(O0),c=Qe("cascader-node"),d=j(()=>l.isHoverMenu),p=j(()=>l.config.multiple),g=j(()=>l.config.checkStrictly),b=j(()=>{var G;return(G=l.checkedNodes[0])==null?void 0:G.uid}),w=j(()=>i.node.isDisabled),M=j(()=>i.node.isLeaf),C=j(()=>g.value&&!M.value||!w.value),P=j(()=>O(l.expandingNode)),A=j(()=>g.value&&l.checkedNodes.some(O)),O=G=>{var $;const{level:J,uid:ee}=i.node;return(($=G==null?void 0:G.pathNodes[J-1])==null?void 0:$.uid)===ee},R=()=>{P.value||l.expandNode(i.node)},N=G=>{const{node:$}=i;G!==$.checked&&l.handleCheckChange($,G)},z=()=>{l.lazyLoad(i.node,()=>{M.value||R()})},T=G=>{d.value&&(_(),!M.value&&o("expand",G))},_=()=>{const{node:G}=i;!C.value||G.loading||(G.loaded?R():z())},I=()=>{d.value&&!M.value||(M.value&&!w.value&&!g.value&&!p.value?B(!0):_())},K=G=>{g.value?(N(G),i.node.loaded&&R()):B(G)},B=G=>{i.node.loaded?(N(G),!g.value&&R()):z()};return{panel:l,isHoverMenu:d,multiple:p,checkStrictly:g,checkedNodeId:b,isDisabled:w,isLeaf:M,expandable:C,inExpandingPath:P,inCheckedPath:A,ns:c,handleHoverExpand:T,handleExpand:_,handleClick:I,handleCheck:B,handleSelectCheck:K}}}),i6=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],s6=pe("span",null,null,-1);function o6(i,o,l,c,d,p){const g=fn("el-checkbox"),b=fn("el-radio"),w=fn("check"),M=fn("el-icon"),C=fn("node-content"),P=fn("loading"),A=fn("arrow-right");return Y(),fe("li",{id:`${i.menuId}-${i.node.uid}`,role:"menuitem","aria-haspopup":!i.isLeaf,"aria-owns":i.isLeaf?null:i.menuId,"aria-expanded":i.inExpandingPath,tabindex:i.expandable?-1:void 0,class:Z([i.ns.b(),i.ns.is("selectable",i.checkStrictly),i.ns.is("active",i.node.checked),i.ns.is("disabled",!i.expandable),i.inExpandingPath&&"in-active-path",i.inCheckedPath&&"in-checked-path"]),onMouseenter:o[2]||(o[2]=(...O)=>i.handleHoverExpand&&i.handleHoverExpand(...O)),onFocus:o[3]||(o[3]=(...O)=>i.handleHoverExpand&&i.handleHoverExpand(...O)),onClick:o[4]||(o[4]=(...O)=>i.handleClick&&i.handleClick(...O))},[De(" prefix "),i.multiple?(Y(),Ie(g,{key:0,"model-value":i.node.checked,indeterminate:i.node.indeterminate,disabled:i.isDisabled,onClick:o[0]||(o[0]=en(()=>{},["stop"])),"onUpdate:modelValue":i.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):i.checkStrictly?(Y(),Ie(b,{key:1,"model-value":i.checkedNodeId,label:i.node.uid,disabled:i.isDisabled,"onUpdate:modelValue":i.handleSelectCheck,onClick:o[1]||(o[1]=en(()=>{},["stop"]))},{default:Te(()=>[De(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),s6]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):i.isLeaf&&i.node.checked?(Y(),Ie(M,{key:2,class:Z(i.ns.e("prefix"))},{default:Te(()=>[ye(w)]),_:1},8,["class"])):De("v-if",!0),De(" content "),ye(C),De(" postfix "),i.isLeaf?De("v-if",!0):(Y(),fe($t,{key:3},[i.node.loading?(Y(),Ie(M,{key:0,class:Z([i.ns.is("loading"),i.ns.e("postfix")])},{default:Te(()=>[ye(P)]),_:1},8,["class"])):(Y(),Ie(M,{key:1,class:Z(["arrow-right",i.ns.e("postfix")])},{default:Te(()=>[ye(A)]),_:1},8,["class"]))],64))],42,i6)}var r6=ct(n6,[["render",o6],["__file","node.vue"]]);const a6=xe({name:"ElCascaderMenu",components:{Loading:Na,ElIcon:Et,ElScrollbar:$r,ElCascaderNode:r6},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(i){const o=pn(),l=Qe("cascader-menu"),{t:c}=Bn(),d=hs();let p=null,g=null;const b=Tt(O0),w=ne(null),M=j(()=>!i.nodes.length),C=j(()=>!b.initialLoaded),P=j(()=>`${d.value}-${i.index}`),A=z=>{p=z.target},O=z=>{if(!(!b.isHoverMenu||!p||!w.value))if(p.contains(z.target)){R();const T=o.vnode.el,{left:_}=T.getBoundingClientRect(),{offsetWidth:I,offsetHeight:K}=T,B=z.clientX-_,G=p.offsetTop,$=G+p.offsetHeight;w.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${B} ${G} L${I} 0 V${G} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${B} ${$} L${I} ${K} V${$} Z" />
        `}else g||(g=window.setTimeout(N,b.config.hoverThreshold))},R=()=>{g&&(clearTimeout(g),g=null)},N=()=>{w.value&&(w.value.innerHTML="",R())};return{ns:l,panel:b,hoverZone:w,isEmpty:M,isLoading:C,menuId:P,t:c,handleExpand:A,handleMouseMove:O,clearHoverZone:N}}});function l6(i,o,l,c,d,p){const g=fn("el-cascader-node"),b=fn("loading"),w=fn("el-icon"),M=fn("el-scrollbar");return Y(),Ie(M,{key:i.menuId,tag:"ul",role:"menu",class:Z(i.ns.b()),"wrap-class":i.ns.e("wrap"),"view-class":[i.ns.e("list"),i.ns.is("empty",i.isEmpty)],onMousemove:i.handleMouseMove,onMouseleave:i.clearHoverZone},{default:Te(()=>{var C;return[(Y(!0),fe($t,null,Rn(i.nodes,P=>(Y(),Ie(g,{key:P.uid,node:P,"menu-id":i.menuId,onExpand:i.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),i.isLoading?(Y(),fe("div",{key:0,class:Z(i.ns.e("empty-text"))},[ye(w,{size:"14",class:Z(i.ns.is("loading"))},{default:Te(()=>[ye(b)]),_:1},8,["class"]),Tn(" "+dt(i.t("el.cascader.loading")),1)],2)):i.isEmpty?(Y(),fe("div",{key:1,class:Z(i.ns.e("empty-text"))},dt(i.t("el.cascader.noData")),3)):(C=i.panel)!=null&&C.isHoverMenu?(Y(),fe("svg",{key:2,ref:"hoverZone",class:Z(i.ns.e("hover-zone"))},null,2)):De("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var u6=ct(a6,[["render",l6],["__file","menu.vue"]]);let c6=0;const h6=i=>{const o=[i];let{parent:l}=i;for(;l;)o.unshift(l),l=l.parent;return o};let Ag=class Lg{constructor(o,l,c,d=!1){this.data=o,this.config=l,this.parent=c,this.root=d,this.uid=c6++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:p,label:g,children:b}=l,w=o[b],M=h6(this);this.level=d?0:c?c.level+1:1,this.value=o[p],this.label=o[g],this.pathNodes=M,this.pathValues=M.map(C=>C.value),this.pathLabels=M.map(C=>C.label),this.childrenData=w,this.children=(w||[]).map(C=>new Lg(C,l,this)),this.loaded=!l.lazy||this.isLeaf||!go(w)}get isDisabled(){const{data:o,parent:l,config:c}=this,{disabled:d,checkStrictly:p}=c;return(Xt(d)?d(o,this):!!o[d])||!p&&(l==null?void 0:l.isDisabled)}get isLeaf(){const{data:o,config:l,childrenData:c,loaded:d}=this,{lazy:p,leaf:g}=l,b=Xt(g)?g(o,this):o[g];return Ri(b)?p&&!d?!1:!(Array.isArray(c)&&c.length):!!b}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(o){const{childrenData:l,children:c}=this,d=new Lg(o,this.config,this);return Array.isArray(l)?l.push(o):this.childrenData=[o],c.push(d),d}calcText(o,l){const c=o?this.pathLabels.join(l):this.label;return this.text=c,c}broadcast(o,...l){const c=`onParent${Qo(o)}`;this.children.forEach(d=>{d&&(d.broadcast(o,...l),d[c]&&d[c](...l))})}emit(o,...l){const{parent:c}=this,d=`onChild${Qo(o)}`;c&&(c[d]&&c[d](...l),c.emit(o,...l))}onParentCheck(o){this.isDisabled||this.setCheckState(o)}onChildCheck(){const{children:o}=this,l=o.filter(d=>!d.isDisabled),c=l.length?l.every(d=>d.checked):!1;this.setCheckState(c)}setCheckState(o){const l=this.children.length,c=this.children.reduce((d,p)=>{const g=p.checked?1:p.indeterminate?.5:0;return d+g},0);this.checked=this.loaded&&this.children.filter(d=>!d.isDisabled).every(d=>d.loaded&&d.checked)&&o,this.indeterminate=this.loaded&&c!==l&&c>0}doCheck(o){if(this.checked===o)return;const{checkStrictly:l,multiple:c}=this.config;l||!c?this.checked=o:(this.broadcast("check",o),this.setCheckState(o),this.emit("check"))}};const Eg=(i,o)=>i.reduce((l,c)=>(c.isLeaf?l.push(c):(!o&&l.push(c),l=l.concat(Eg(c.children,o))),l),[]);class x1{constructor(o,l){this.config=l;const c=(o||[]).map(d=>new Ag(d,this.config));this.nodes=c,this.allNodes=Eg(c,!1),this.leafNodes=Eg(c,!0)}getNodes(){return this.nodes}getFlattedNodes(o){return o?this.leafNodes:this.allNodes}appendNode(o,l){const c=l?l.appendChild(o):new Ag(o,this.config);l||this.nodes.push(c),this.allNodes.push(c),c.isLeaf&&this.leafNodes.push(c)}appendNodes(o,l){o.forEach(c=>this.appendNode(c,l))}getNodeByValue(o,l=!1){return!o&&o!==0?null:this.getFlattedNodes(l).find(d=>ws(d.value,o)||ws(d.pathValues,o))||null}getSameNode(o){return o&&this.getFlattedNodes(!1).find(({value:c,level:d})=>ws(o.value,c)&&o.level===d)||null}}const bk=lt({modelValue:{type:Ae([Number,String,Array])},options:{type:Ae(Array),default:()=>[]},props:{type:Ae(Object),default:()=>({})}}),d6={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:jn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},f6=i=>j(()=>({...d6,...i.props})),S1=i=>{if(!i)return 0;const o=i.id.split("-");return Number(o[o.length-2])},p6=i=>{if(!i)return;const o=i.querySelector("input");o?o.click():L2(i)&&i.click()},g6=(i,o)=>{const l=o.slice(0),c=l.map(p=>p.uid),d=i.reduce((p,g)=>{const b=c.indexOf(g.uid);return b>-1&&(p.push(g),l.splice(b,1),c.splice(b,1)),p},[]);return d.push(...l),d},m6=xe({name:"ElCascaderPanel",components:{ElCascaderMenu:u6},props:{...bk,border:{type:Boolean,default:!0},renderLabel:Function},emits:[wn,si,"close","expand-change"],setup(i,{emit:o,slots:l}){let c=!1;const d=Qe("cascader"),p=f6(i);let g=null;const b=ne(!0),w=ne([]),M=ne(null),C=ne([]),P=ne(null),A=ne([]),O=j(()=>p.value.expandTrigger==="hover"),R=j(()=>i.renderLabel||l.default),N=()=>{const{options:se}=i,de=p.value;c=!1,g=new x1(se,de),C.value=[g.getNodes()],de.lazy&&go(i.options)?(b.value=!1,z(void 0,ve=>{ve&&(g=new x1(ve,de),C.value=[g.getNodes()]),b.value=!0,J(!1,!0)})):J(!1,!0)},z=(se,de)=>{const ve=p.value;se=se||new Ag({},ve,void 0,!0),se.loading=!0;const me=ae=>{const ie=se,re=ie.root?null:ie;ae&&(g==null||g.appendNodes(ae,re)),ie.loading=!1,ie.loaded=!0,ie.childrenData=ie.childrenData||[],de&&de(ae)};ve.lazyLoad(se,me)},T=(se,de)=>{var ve;const{level:me}=se,ae=C.value.slice(0,me);let ie;se.isLeaf?ie=se.pathNodes[me-2]:(ie=se,ae.push(se.children)),((ve=P.value)==null?void 0:ve.uid)!==(ie==null?void 0:ie.uid)&&(P.value=se,C.value=ae,!de&&o("expand-change",(se==null?void 0:se.pathValues)||[]))},_=(se,de,ve=!0)=>{const{checkStrictly:me,multiple:ae}=p.value,ie=A.value[0];c=!0,!ae&&(ie==null||ie.doCheck(!1)),se.doCheck(de),$(),ve&&!ae&&!me&&o("close"),!ve&&!ae&&!me&&I(se)},I=se=>{se&&(se=se.parent,I(se),se&&T(se))},K=se=>g==null?void 0:g.getFlattedNodes(se),B=se=>{var de;return(de=K(se))==null?void 0:de.filter(ve=>ve.checked!==!1)},G=()=>{A.value.forEach(se=>se.doCheck(!1)),$(),C.value=C.value.slice(0,1),P.value=null,o("expand-change",[])},$=()=>{var se;const{checkStrictly:de,multiple:ve}=p.value,me=A.value,ae=B(!de),ie=g6(me,ae),re=ie.map(te=>te.valueByOption);A.value=ie,M.value=ve?re:(se=re[0])!=null?se:null},J=(se=!1,de=!1)=>{const{modelValue:ve}=i,{lazy:me,multiple:ae,checkStrictly:ie}=p.value,re=!ie;if(!(!b.value||c||!de&&ws(ve,M.value)))if(me&&!se){const ue=wb(u3(Zs(ve))).map(be=>g==null?void 0:g.getNodeByValue(be)).filter(be=>!!be&&!be.loaded&&!be.loading);ue.length?ue.forEach(be=>{z(be,()=>J(!1,de))}):J(!0,de)}else{const te=ae?Zs(ve):[ve],ue=wb(te.map(be=>g==null?void 0:g.getNodeByValue(be,re)));ee(ue,de),M.value=vd(ve)}},ee=(se,de=!0)=>{const{checkStrictly:ve}=p.value,me=A.value,ae=se.filter(te=>!!te&&(ve||te.isLeaf)),ie=g==null?void 0:g.getSameNode(P.value),re=de&&ie||ae[0];re?re.pathNodes.forEach(te=>T(te,!0)):P.value=null,me.forEach(te=>te.doCheck(!1)),Hn(ae).forEach(te=>te.doCheck(!0)),A.value=ae,Kt(Q)},Q=()=>{In&&w.value.forEach(se=>{const de=se==null?void 0:se.$el;if(de){const ve=de.querySelector(`.${d.namespace.value}-scrollbar__wrap`),me=de.querySelector(`.${d.b("node")}.${d.is("active")}`)||de.querySelector(`.${d.b("node")}.in-active-path`);Px(ve,me)}})},X=se=>{const de=se.target,{code:ve}=se;switch(ve){case Gt.up:case Gt.down:{se.preventDefault();const me=ve===Gt.up?-1:1;Fh(E2(de,me,`.${d.b("node")}[tabindex="-1"]`));break}case Gt.left:{se.preventDefault();const me=w.value[S1(de)-1],ae=me==null?void 0:me.$el.querySelector(`.${d.b("node")}[aria-expanded="true"]`);Fh(ae);break}case Gt.right:{se.preventDefault();const me=w.value[S1(de)+1],ae=me==null?void 0:me.$el.querySelector(`.${d.b("node")}[tabindex="-1"]`);Fh(ae);break}case Gt.enter:p6(de);break}};return En(O0,Hn({config:p,expandingNode:P,checkedNodes:A,isHoverMenu:O,initialLoaded:b,renderLabelFn:R,lazyLoad:z,expandNode:T,handleCheckChange:_})),Ue([p,()=>i.options],N,{deep:!0,immediate:!0}),Ue(()=>i.modelValue,()=>{c=!1,J()},{deep:!0}),Ue(()=>M.value,se=>{ws(se,i.modelValue)||(o(wn,se),o(si,se))}),Hw(()=>w.value=[]),un(()=>!go(i.modelValue)&&J()),{ns:d,menuList:w,menus:C,checkedNodes:A,handleKeyDown:X,handleCheckChange:_,getFlattedNodes:K,getCheckedNodes:B,clearCheckedNodes:G,calculateCheckedValue:$,scrollToExpandingNode:Q}}});function v6(i,o,l,c,d,p){const g=fn("el-cascader-menu");return Y(),fe("div",{class:Z([i.ns.b("panel"),i.ns.is("bordered",i.border)]),onKeydown:o[0]||(o[0]=(...b)=>i.handleKeyDown&&i.handleKeyDown(...b))},[(Y(!0),fe($t,null,Rn(i.menus,(b,w)=>(Y(),Ie(g,{key:w,ref_for:!0,ref:M=>i.menuList[w]=M,index:w,nodes:[...b]},null,8,["index","nodes"]))),128))],34)}var jh=ct(m6,[["render",v6],["__file","index.vue"]]);jh.install=i=>{i.component(jh.name,jh)};const wk=jh,y6=wk,gf=lt({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:ur},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),b6={close:i=>i instanceof MouseEvent,click:i=>i instanceof MouseEvent},w6=xe({name:"ElTag"}),x6=xe({...w6,props:gf,emits:b6,setup(i,{emit:o}){const l=i,c=$i(),d=Qe("tag"),p=j(()=>{const{type:w,hit:M,effect:C,closable:P,round:A}=l;return[d.b(),d.is("closable",P),d.m(w||"primary"),d.m(c.value),d.m(C),d.is("hit",M),d.is("round",A)]}),g=w=>{o("close",w)},b=w=>{o("click",w)};return(w,M)=>w.disableTransitions?(Y(),fe("span",{key:0,class:Z(v(p)),style:Ft({backgroundColor:w.color}),onClick:b},[pe("span",{class:Z(v(d).e("content"))},[ze(w.$slots,"default")],2),w.closable?(Y(),Ie(v(Et),{key:0,class:Z(v(d).e("close")),onClick:en(g,["stop"])},{default:Te(()=>[ye(v(_o))]),_:1},8,["class","onClick"])):De("v-if",!0)],6)):(Y(),Ie(Ki,{key:1,name:`${v(d).namespace.value}-zoom-in-center`,appear:""},{default:Te(()=>[pe("span",{class:Z(v(p)),style:Ft({backgroundColor:w.color}),onClick:b},[pe("span",{class:Z(v(d).e("content"))},[ze(w.$slots,"default")],2),w.closable?(Y(),Ie(v(Et),{key:0,class:Z(v(d).e("close")),onClick:en(g,["stop"])},{default:Te(()=>[ye(v(_o))]),_:1},8,["class","onClick"])):De("v-if",!0)],6)]),_:3},8,["name"]))}});var S6=ct(x6,[["__file","tag.vue"]]);const kc=gn(S6),k6=lt({...bk,size:ji,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Ae(Function),default:(i,o)=>i.text.includes(o)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Ae(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:Yi.teleported,tagType:{...gf.type,default:"info"},validateEvent:{type:Boolean,default:!0},...Cu}),C6={[wn]:i=>!0,[si]:i=>!0,focus:i=>i instanceof FocusEvent,blur:i=>i instanceof FocusEvent,visibleChange:i=>Ii(i),expandChange:i=>!!i,removeTag:i=>!!i},M6={key:0},P6=["placeholder","onKeydown"],T6=["onClick"],N6="ElCascader",A6=xe({name:N6}),L6=xe({...A6,props:k6,emits:C6,setup(i,{expose:o,emit:l}){const c=i,d={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:$e})=>{const{modifiersData:et,placement:st}=$e;["right","left","bottom","top"].includes(st)||(et.arrow.x=35)},requires:["arrow"]}]},p=cl();let g=0,b=0;const w=Qe("cascader"),M=Qe("input"),{t:C}=Bn(),{form:P,formItem:A}=ks(),{valueOnClear:O}=hf(c),R=ne(null),N=ne(null),z=ne(null),T=ne(null),_=ne(null),I=ne(!1),K=ne(!1),B=ne(!1),G=ne(!1),$=ne(""),J=ne(""),ee=ne([]),Q=ne([]),X=ne([]),se=ne(!1),de=j(()=>p.style),ve=j(()=>c.disabled||(P==null?void 0:P.disabled)),me=j(()=>c.placeholder||C("el.cascader.placeholder")),ae=j(()=>J.value||ee.value.length>0||se.value?"":me.value),ie=$i(),re=j(()=>["small"].includes(ie.value)?"small":"default"),te=j(()=>!!c.props.multiple),ue=j(()=>!c.filterable||te.value),be=j(()=>te.value?J.value:$.value),Ce=j(()=>{var $e;return(($e=T.value)==null?void 0:$e.checkedNodes)||[]}),Ne=j(()=>!c.clearable||ve.value||B.value||!K.value?!1:!!Ce.value.length),Be=j(()=>{const{showAllLevels:$e,separator:et}=c,st=Ce.value;return st.length?te.value?"":st[0].calcText($e,et):""}),tt=j(()=>(A==null?void 0:A.validateState)||""),Le=j({get(){return vd(c.modelValue)},set($e){const et=$e||O.value;l(wn,et),l(si,et),c.validateEvent&&(A==null||A.validate("change").catch(st=>void 0))}}),_e=j(()=>[w.b(),w.m(ie.value),w.is("disabled",ve.value),p.class]),Fe=j(()=>[M.e("icon"),"icon-arrow-down",w.is("reverse",I.value)]),gt=j(()=>w.is("focus",I.value||G.value)),Ye=j(()=>{var $e,et;return(et=($e=R.value)==null?void 0:$e.popperRef)==null?void 0:et.contentRef}),Ze=$e=>{var et,st,Ve;ve.value||($e=$e??!I.value,$e!==I.value&&(I.value=$e,(st=(et=N.value)==null?void 0:et.input)==null||st.setAttribute("aria-expanded",`${$e}`),$e?(mt(),Kt((Ve=T.value)==null?void 0:Ve.scrollToExpandingNode)):c.filterable&&Ge(),l("visibleChange",$e)))},mt=()=>{Kt(()=>{var $e;($e=R.value)==null||$e.updatePopper()})},Me=()=>{B.value=!1},Ee=$e=>{const{showAllLevels:et,separator:st}=c;return{node:$e,key:$e.uid,text:$e.calcText(et,st),hitState:!1,closable:!ve.value&&!$e.isDisabled,isCollapseTag:!1}},We=$e=>{var et;const st=$e.node;st.doCheck(!1),(et=T.value)==null||et.calculateCheckedValue(),l("removeTag",st.valueByOption)},ot=()=>{if(!te.value)return;const $e=Ce.value,et=[],st=[];if($e.forEach(Ve=>st.push(Ee(Ve))),Q.value=st,$e.length){$e.slice(0,c.maxCollapseTags).forEach(Sn=>et.push(Ee(Sn)));const Ve=$e.slice(c.maxCollapseTags),Lt=Ve.length;Lt&&(c.collapseTags?et.push({key:-1,text:`+ ${Lt}`,closable:!1,isCollapseTag:!0}):Ve.forEach(Sn=>et.push(Ee(Sn))))}ee.value=et},He=()=>{var $e,et;const{filterMethod:st,showAllLevels:Ve,separator:Lt}=c,Sn=(et=($e=T.value)==null?void 0:$e.getFlattedNodes(!c.props.checkStrictly))==null?void 0:et.filter(zn=>zn.isDisabled?!1:(zn.calcText(Ve,Lt),st(zn,be.value)));te.value&&(ee.value.forEach(zn=>{zn.hitState=!1}),Q.value.forEach(zn=>{zn.hitState=!1})),B.value=!0,X.value=Sn,mt()},Je=()=>{var $e;let et;B.value&&_.value?et=_.value.$el.querySelector(`.${w.e("suggestion-item")}`):et=($e=T.value)==null?void 0:$e.$el.querySelector(`.${w.b("node")}[tabindex="-1"]`),et&&(et.focus(),!B.value&&et.click())},nt=()=>{var $e,et;const st=($e=N.value)==null?void 0:$e.input,Ve=z.value,Lt=(et=_.value)==null?void 0:et.$el;if(!(!In||!st)){if(Lt){const Sn=Lt.querySelector(`.${w.e("suggestion-list")}`);Sn.style.minWidth=`${st.offsetWidth}px`}if(Ve){const{offsetHeight:Sn}=Ve,zn=ee.value.length>0?`${Math.max(Sn+6,g)}px`:`${g}px`;st.style.height=zn,mt()}}},rt=$e=>{var et;return(et=T.value)==null?void 0:et.getCheckedNodes($e)},ht=$e=>{mt(),l("expandChange",$e)},qe=$e=>{var et;const st=(et=$e.target)==null?void 0:et.value;if($e.type==="compositionend")se.value=!1,Kt(()=>wt(st));else{const Ve=st[st.length-1]||"";se.value=!i0(Ve)}},Mt=$e=>{if(!se.value)switch($e.code){case Gt.enter:Ze();break;case Gt.down:Ze(!0),Kt(Je),$e.preventDefault();break;case Gt.esc:I.value===!0&&($e.preventDefault(),$e.stopPropagation(),Ze(!1));break;case Gt.tab:Ze(!1);break}},Nt=()=>{var $e;($e=T.value)==null||$e.clearCheckedNodes(),!I.value&&c.filterable&&Ge(),Ze(!1)},Ge=()=>{const{value:$e}=Be;$.value=$e,J.value=$e},kt=$e=>{var et,st;const{checked:Ve}=$e;te.value?(et=T.value)==null||et.handleCheckChange($e,!Ve,!1):(!Ve&&((st=T.value)==null||st.handleCheckChange($e,!0,!1)),Ze(!1))},Ht=$e=>{const et=$e.target,{code:st}=$e;switch(st){case Gt.up:case Gt.down:{const Ve=st===Gt.up?-1:1;Fh(E2(et,Ve,`.${w.e("suggestion-item")}[tabindex="-1"]`));break}case Gt.enter:et.click();break}},bn=()=>{const $e=ee.value,et=$e[$e.length-1];b=J.value?0:b+1,!(!et||!b||c.collapseTags&&$e.length>1)&&(et.hitState?We(et):et.hitState=!0)},hn=$e=>{const et=$e.target,st=w.e("search-input");et.className===st&&(G.value=!0),l("focus",$e)},Vt=$e=>{G.value=!1,l("blur",$e)},Ke=Ks(()=>{const{value:$e}=be;if(!$e)return;const et=c.beforeFilter($e);rc(et)?et.then(He).catch(()=>{}):et!==!1?He():Me()},c.debounce),wt=($e,et)=>{!I.value&&Ze(!0),!(et!=null&&et.isComposing)&&($e?Ke():Me())},it=$e=>Number.parseFloat(BN(M.cssVarName("input-height"),$e).value)-2;return Ue(B,mt),Ue([Ce,ve],ot),Ue(ee,()=>{Kt(()=>nt())}),Ue(ie,async()=>{await Kt();const $e=N.value.input;g=it($e)||g,nt()}),Ue(Be,Ge,{immediate:!0}),un(()=>{const $e=N.value.input,et=it($e);g=$e.offsetHeight||et,fi($e,nt)}),o({getCheckedNodes:rt,cascaderPanelRef:T,togglePopperVisible:Ze,contentRef:Ye}),($e,et)=>(Y(),Ie(v(Ss),{ref_key:"tooltipRef",ref:R,visible:I.value,teleported:$e.teleported,"popper-class":[v(w).e("dropdown"),$e.popperClass],"popper-options":d,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${v(w).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:Me},{default:Te(()=>[ln((Y(),fe("div",{class:Z(v(_e)),style:Ft(v(de)),onClick:et[5]||(et[5]=()=>Ze(v(ue)?void 0:!0)),onKeydown:Mt,onMouseenter:et[6]||(et[6]=st=>K.value=!0),onMouseleave:et[7]||(et[7]=st=>K.value=!1)},[ye(v(bs),{ref_key:"input",ref:N,modelValue:$.value,"onUpdate:modelValue":et[1]||(et[1]=st=>$.value=st),placeholder:v(ae),readonly:v(ue),disabled:v(ve),"validate-event":!1,size:v(ie),class:Z(v(gt)),tabindex:v(te)&&$e.filterable&&!v(ve)?-1:void 0,onCompositionstart:qe,onCompositionupdate:qe,onCompositionend:qe,onFocus:hn,onBlur:Vt,onInput:wt},{suffix:Te(()=>[v(Ne)?(Y(),Ie(v(Et),{key:"clear",class:Z([v(M).e("icon"),"icon-circle-close"]),onClick:en(Nt,["stop"])},{default:Te(()=>[ye(v(Ta))]),_:1},8,["class","onClick"])):(Y(),Ie(v(Et),{key:"arrow-down",class:Z(v(Fe)),onClick:et[0]||(et[0]=en(st=>Ze(),["stop"]))},{default:Te(()=>[ye(v(Fr))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),v(te)?(Y(),fe("div",{key:0,ref_key:"tagWrapper",ref:z,class:Z([v(w).e("tags"),v(w).is("validate",!!v(tt))])},[(Y(!0),fe($t,null,Rn(ee.value,st=>(Y(),Ie(v(kc),{key:st.key,type:$e.tagType,size:v(re),hit:st.hitState,closable:st.closable,"disable-transitions":"",onClose:Ve=>We(st)},{default:Te(()=>[st.isCollapseTag===!1?(Y(),fe("span",M6,dt(st.text),1)):(Y(),Ie(v(Ss),{key:1,disabled:I.value||!$e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:Te(()=>[pe("span",null,dt(st.text),1)]),content:Te(()=>[pe("div",{class:Z(v(w).e("collapse-tags"))},[(Y(!0),fe($t,null,Rn(Q.value.slice($e.maxCollapseTags),(Ve,Lt)=>(Y(),fe("div",{key:Lt,class:Z(v(w).e("collapse-tag"))},[(Y(),Ie(v(kc),{key:Ve.key,class:"in-tooltip",type:$e.tagType,size:v(re),hit:Ve.hitState,closable:Ve.closable,"disable-transitions":"",onClose:Sn=>We(Ve)},{default:Te(()=>[pe("span",null,dt(Ve.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),$e.filterable&&!v(ve)?ln((Y(),fe("input",{key:0,"onUpdate:modelValue":et[2]||(et[2]=st=>J.value=st),type:"text",class:Z(v(w).e("search-input")),placeholder:v(Be)?"":v(me),onInput:et[3]||(et[3]=st=>wt(J.value,st)),onClick:et[4]||(et[4]=en(st=>Ze(!0),["stop"])),onKeydown:Yn(bn,["delete"]),onCompositionstart:qe,onCompositionupdate:qe,onCompositionend:qe,onFocus:hn,onBlur:Vt},null,42,P6)),[[Am,J.value]]):De("v-if",!0)],2)):De("v-if",!0)],38)),[[v(Er),()=>Ze(!1),v(Ye)]])]),content:Te(()=>[ln(ye(v(wk),{ref_key:"cascaderPanelRef",ref:T,modelValue:v(Le),"onUpdate:modelValue":et[8]||(et[8]=st=>ri(Le)?Le.value=st:null),options:$e.options,props:c.props,border:!1,"render-label":$e.$slots.default,onExpandChange:ht,onClose:et[9]||(et[9]=st=>$e.$nextTick(()=>Ze(!1)))},null,8,["modelValue","options","props","render-label"]),[[$n,!B.value]]),$e.filterable?ln((Y(),Ie(v($r),{key:0,ref_key:"suggestionPanel",ref:_,tag:"ul",class:Z(v(w).e("suggestion-panel")),"view-class":v(w).e("suggestion-list"),onKeydown:Ht},{default:Te(()=>[X.value.length?(Y(!0),fe($t,{key:0},Rn(X.value,st=>(Y(),fe("li",{key:st.uid,class:Z([v(w).e("suggestion-item"),v(w).is("checked",st.checked)]),tabindex:-1,onClick:Ve=>kt(st)},[pe("span",null,dt(st.text),1),st.checked?(Y(),Ie(v(Et),{key:0},{default:Te(()=>[ye(v(_c))]),_:1})):De("v-if",!0)],10,T6))),128)):ze($e.$slots,"empty",{key:1},()=>[pe("li",{class:Z(v(w).e("empty-text"))},dt(v(C)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[$n,B.value]]):De("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var qh=ct(L6,[["__file","cascader.vue"]]);qh.install=i=>{i.component(qh.name,qh)};const E6=qh,D6=E6,O6=lt({checked:{type:Boolean,default:!1},type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),R6={"update:checked":i=>Ii(i),[si]:i=>Ii(i)},I6=xe({name:"ElCheckTag"}),F6=xe({...I6,props:O6,emits:R6,setup(i,{emit:o}){const l=i,c=Qe("check-tag"),d=j(()=>[c.b(),c.is("checked",l.checked),c.m(l.type||"primary")]),p=()=>{const g=!l.checked;o(si,g),o("update:checked",g)};return(g,b)=>(Y(),fe("span",{class:Z(v(d)),onClick:p},[ze(g.$slots,"default")],2))}});var B6=ct(F6,[["__file","check-tag.vue"]]);const $6=gn(B6),xk=Symbol("rowContextKey"),V6=["start","center","end","space-around","space-between","space-evenly"],z6=["top","middle","bottom"],_6=lt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:V6,default:"start"},align:{type:String,values:z6}}),K6=xe({name:"ElRow"}),H6=xe({...K6,props:_6,setup(i){const o=i,l=Qe("row"),c=j(()=>o.gutter);En(xk,{gutter:c});const d=j(()=>{const g={};return o.gutter&&(g.marginRight=g.marginLeft=`-${o.gutter/2}px`),g}),p=j(()=>[l.b(),l.is(`justify-${o.justify}`,o.justify!=="start"),l.is(`align-${o.align}`,!!o.align)]);return(g,b)=>(Y(),Ie(kn(g.tag),{class:Z(v(p)),style:Ft(v(d))},{default:Te(()=>[ze(g.$slots,"default")]),_:3},8,["class","style"]))}});var j6=ct(H6,[["__file","row.vue"]]);const q6=gn(j6),G6=lt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Ae([Number,Object]),default:()=>pi({})},sm:{type:Ae([Number,Object]),default:()=>pi({})},md:{type:Ae([Number,Object]),default:()=>pi({})},lg:{type:Ae([Number,Object]),default:()=>pi({})},xl:{type:Ae([Number,Object]),default:()=>pi({})}}),W6=xe({name:"ElCol"}),U6=xe({...W6,props:G6,setup(i){const o=i,{gutter:l}=Tt(xk,{gutter:j(()=>0)}),c=Qe("col"),d=j(()=>{const g={};return l.value&&(g.paddingLeft=g.paddingRight=`${l.value/2}px`),g}),p=j(()=>{const g=[];return["span","offset","pull","push"].forEach(M=>{const C=o[M];Yt(C)&&(M==="span"?g.push(c.b(`${o[M]}`)):C>0&&g.push(c.b(`${M}-${o[M]}`)))}),["xs","sm","md","lg","xl"].forEach(M=>{Yt(o[M])?g.push(c.b(`${M}-${o[M]}`)):yn(o[M])&&Object.entries(o[M]).forEach(([C,P])=>{g.push(C!=="span"?c.b(`${M}-${C}-${P}`):c.b(`${M}-${P}`))})}),l.value&&g.push(c.is("guttered")),[c.b(),g]});return(g,b)=>(Y(),Ie(kn(g.tag),{class:Z(v(p)),style:Ft(v(d))},{default:Te(()=>[ze(g.$slots,"default")]),_:3},8,["class","style"]))}});var Y6=ct(U6,[["__file","col.vue"]]);const X6=gn(Y6),k1=i=>Yt(i)||tn(i)||St(i),Z6=lt({accordion:Boolean,modelValue:{type:Ae([Array,String,Number]),default:()=>pi([])}}),J6={[wn]:k1,[si]:k1},Sk=Symbol("collapseContextKey"),Q6=(i,o)=>{const l=ne(va(i.modelValue)),c=p=>{l.value=p;const g=i.accordion?l.value[0]:l.value;o(wn,g),o(si,g)},d=p=>{if(i.accordion)c([l.value[0]===p?"":p]);else{const g=[...l.value],b=g.indexOf(p);b>-1?g.splice(b,1):g.push(p),c(g)}};return Ue(()=>i.modelValue,()=>l.value=va(i.modelValue),{deep:!0}),En(Sk,{activeNames:l,handleItemClick:d}),{activeNames:l,setActiveNames:c}},ez=()=>{const i=Qe("collapse");return{rootKls:j(()=>i.b())}},tz=xe({name:"ElCollapse"}),nz=xe({...tz,props:Z6,emits:J6,setup(i,{expose:o,emit:l}){const c=i,{activeNames:d,setActiveNames:p}=Q6(c,l),{rootKls:g}=ez();return o({activeNames:d,setActiveNames:p}),(b,w)=>(Y(),fe("div",{class:Z(v(g))},[ze(b.$slots,"default")],2))}});var iz=ct(nz,[["__file","collapse.vue"]]);const sz=xe({name:"ElCollapseTransition"}),oz=xe({...sz,setup(i){const o=Qe("collapse-transition"),l=d=>{d.style.maxHeight="",d.style.overflow=d.dataset.oldOverflow,d.style.paddingTop=d.dataset.oldPaddingTop,d.style.paddingBottom=d.dataset.oldPaddingBottom},c={beforeEnter(d){d.dataset||(d.dataset={}),d.dataset.oldPaddingTop=d.style.paddingTop,d.dataset.oldPaddingBottom=d.style.paddingBottom,d.style.height&&(d.dataset.elExistsHeight=d.style.height),d.style.maxHeight=0,d.style.paddingTop=0,d.style.paddingBottom=0},enter(d){requestAnimationFrame(()=>{d.dataset.oldOverflow=d.style.overflow,d.dataset.elExistsHeight?d.style.maxHeight=d.dataset.elExistsHeight:d.scrollHeight!==0?d.style.maxHeight=`${d.scrollHeight}px`:d.style.maxHeight=0,d.style.paddingTop=d.dataset.oldPaddingTop,d.style.paddingBottom=d.dataset.oldPaddingBottom,d.style.overflow="hidden"})},afterEnter(d){d.style.maxHeight="",d.style.overflow=d.dataset.oldOverflow},enterCancelled(d){l(d)},beforeLeave(d){d.dataset||(d.dataset={}),d.dataset.oldPaddingTop=d.style.paddingTop,d.dataset.oldPaddingBottom=d.style.paddingBottom,d.dataset.oldOverflow=d.style.overflow,d.style.maxHeight=`${d.scrollHeight}px`,d.style.overflow="hidden"},leave(d){d.scrollHeight!==0&&(d.style.maxHeight=0,d.style.paddingTop=0,d.style.paddingBottom=0)},afterLeave(d){l(d)},leaveCancelled(d){l(d)}};return(d,p)=>(Y(),Ie(Ki,An({name:v(o).b()},ZP(c)),{default:Te(()=>[ze(d.$slots,"default")]),_:3},16,["name"]))}});var Gh=ct(oz,[["__file","collapse-transition.vue"]]);Gh.install=i=>{i.component(Gh.name,Gh)};const mf=Gh,rz=mf,az=lt({title:{type:String,default:""},name:{type:Ae([String,Number]),default:void 0},disabled:Boolean}),lz=i=>{const o=Tt(Sk),{namespace:l}=Qe("collapse"),c=ne(!1),d=ne(!1),p=m0(),g=j(()=>p.current++),b=j(()=>{var A;return(A=i.name)!=null?A:`${l.value}-id-${p.prefix}-${v(g)}`}),w=j(()=>o==null?void 0:o.activeNames.value.includes(v(b)));return{focusing:c,id:g,isActive:w,handleFocus:()=>{setTimeout(()=>{d.value?d.value=!1:c.value=!0},50)},handleHeaderClick:()=>{i.disabled||(o==null||o.handleItemClick(v(b)),c.value=!1,d.value=!0)},handleEnterClick:()=>{o==null||o.handleItemClick(v(b))}}},uz=(i,{focusing:o,isActive:l,id:c})=>{const d=Qe("collapse"),p=j(()=>[d.b("item"),d.is("active",v(l)),d.is("disabled",i.disabled)]),g=j(()=>[d.be("item","header"),d.is("active",v(l)),{focusing:v(o)&&!i.disabled}]),b=j(()=>[d.be("item","arrow"),d.is("active",v(l))]),w=j(()=>d.be("item","wrap")),M=j(()=>d.be("item","content")),C=j(()=>d.b(`content-${v(c)}`)),P=j(()=>d.b(`head-${v(c)}`));return{arrowKls:b,headKls:g,rootKls:p,itemWrapperKls:w,itemContentKls:M,scopedContentId:C,scopedHeadId:P}},cz=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],hz=["id","aria-hidden","aria-labelledby"],dz=xe({name:"ElCollapseItem"}),fz=xe({...dz,props:az,setup(i,{expose:o}){const l=i,{focusing:c,id:d,isActive:p,handleFocus:g,handleHeaderClick:b,handleEnterClick:w}=lz(l),{arrowKls:M,headKls:C,rootKls:P,itemWrapperKls:A,itemContentKls:O,scopedContentId:R,scopedHeadId:N}=uz(l,{focusing:c,isActive:p,id:d});return o({isActive:p}),(z,T)=>(Y(),fe("div",{class:Z(v(P))},[pe("button",{id:v(N),class:Z(v(C)),"aria-expanded":v(p),"aria-controls":v(R),"aria-describedby":v(R),tabindex:z.disabled?-1:0,type:"button",onClick:T[0]||(T[0]=(..._)=>v(b)&&v(b)(..._)),onKeydown:T[1]||(T[1]=Yn(en((..._)=>v(w)&&v(w)(..._),["stop","prevent"]),["space","enter"])),onFocus:T[2]||(T[2]=(..._)=>v(g)&&v(g)(..._)),onBlur:T[3]||(T[3]=_=>c.value=!1)},[ze(z.$slots,"title",{},()=>[Tn(dt(z.title),1)]),ye(v(Et),{class:Z(v(M))},{default:Te(()=>[ye(v(Ts))]),_:1},8,["class"])],42,cz),ye(v(mf),null,{default:Te(()=>[ln(pe("div",{id:v(R),role:"region",class:Z(v(A)),"aria-hidden":!v(p),"aria-labelledby":v(N)},[pe("div",{class:Z(v(O))},[ze(z.$slots,"default")],2)],10,hz),[[$n,v(p)]])]),_:3})],2))}});var kk=ct(fz,[["__file","collapse-item.vue"]]);const pz=gn(iz,{CollapseItem:kk}),gz=gi(kk),mz=lt({color:{type:Ae(Object),required:!0},vertical:{type:Boolean,default:!1}});let Cp=!1;function Cc(i,o){if(!In)return;const l=function(p){var g;(g=o.drag)==null||g.call(o,p)},c=function(p){var g;document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",c),document.onselectstart=null,document.ondragstart=null,Cp=!1,(g=o.end)==null||g.call(o,p)},d=function(p){var g;Cp||(p.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",l),document.addEventListener("mouseup",c),document.addEventListener("touchmove",l),document.addEventListener("touchend",c),Cp=!0,(g=o.start)==null||g.call(o,p))};i.addEventListener("mousedown",d),i.addEventListener("touchstart",d)}const vz=i=>{const o=pn(),l=oi(),c=oi();function d(g){g.target!==l.value&&p(g)}function p(g){if(!c.value||!l.value)return;const w=o.vnode.el.getBoundingClientRect(),{clientX:M,clientY:C}=Dm(g);if(i.vertical){let P=C-w.top;P=Math.max(l.value.offsetHeight/2,P),P=Math.min(P,w.height-l.value.offsetHeight/2),i.color.set("alpha",Math.round((P-l.value.offsetHeight/2)/(w.height-l.value.offsetHeight)*100))}else{let P=M-w.left;P=Math.max(l.value.offsetWidth/2,P),P=Math.min(P,w.width-l.value.offsetWidth/2),i.color.set("alpha",Math.round((P-l.value.offsetWidth/2)/(w.width-l.value.offsetWidth)*100))}}return{thumb:l,bar:c,handleDrag:p,handleClick:d}},yz=(i,{bar:o,thumb:l,handleDrag:c})=>{const d=pn(),p=Qe("color-alpha-slider"),g=ne(0),b=ne(0),w=ne();function M(){if(!l.value||i.vertical)return 0;const _=d.vnode.el,I=i.color.get("alpha");return _?Math.round(I*(_.offsetWidth-l.value.offsetWidth/2)/100):0}function C(){if(!l.value)return 0;const _=d.vnode.el;if(!i.vertical)return 0;const I=i.color.get("alpha");return _?Math.round(I*(_.offsetHeight-l.value.offsetHeight/2)/100):0}function P(){if(i.color&&i.color.value){const{r:_,g:I,b:K}=i.color.toRgb();return`linear-gradient(to right, rgba(${_}, ${I}, ${K}, 0) 0%, rgba(${_}, ${I}, ${K}, 1) 100%)`}return""}function A(){g.value=M(),b.value=C(),w.value=P()}un(()=>{if(!o.value||!l.value)return;const _={drag:I=>{c(I)},end:I=>{c(I)}};Cc(o.value,_),Cc(l.value,_),A()}),Ue(()=>i.color.get("alpha"),()=>A()),Ue(()=>i.color.value,()=>A());const O=j(()=>[p.b(),p.is("vertical",i.vertical)]),R=j(()=>p.e("bar")),N=j(()=>p.e("thumb")),z=j(()=>({background:w.value})),T=j(()=>({left:Si(g.value),top:Si(b.value)}));return{rootKls:O,barKls:R,barStyle:z,thumbKls:N,thumbStyle:T,update:A}},bz="ElColorAlphaSlider",wz=xe({name:bz}),xz=xe({...wz,props:mz,setup(i,{expose:o}){const l=i,{bar:c,thumb:d,handleDrag:p,handleClick:g}=vz(l),{rootKls:b,barKls:w,barStyle:M,thumbKls:C,thumbStyle:P,update:A}=yz(l,{bar:c,thumb:d,handleDrag:p});return o({update:A,bar:c,thumb:d}),(O,R)=>(Y(),fe("div",{class:Z(v(b))},[pe("div",{ref_key:"bar",ref:c,class:Z(v(w)),style:Ft(v(M)),onClick:R[0]||(R[0]=(...N)=>v(g)&&v(g)(...N))},null,6),pe("div",{ref_key:"thumb",ref:d,class:Z(v(C)),style:Ft(v(P))},null,6)],2))}});var Sz=ct(xz,[["__file","alpha-slider.vue"]]);const kz=xe({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(i){const o=Qe("color-hue-slider"),l=pn(),c=ne(),d=ne(),p=ne(0),g=ne(0),b=j(()=>i.color.get("hue"));Ue(()=>b.value,()=>{A()});function w(O){O.target!==c.value&&M(O)}function M(O){if(!d.value||!c.value)return;const N=l.vnode.el.getBoundingClientRect(),{clientX:z,clientY:T}=Dm(O);let _;if(i.vertical){let I=T-N.top;I=Math.min(I,N.height-c.value.offsetHeight/2),I=Math.max(c.value.offsetHeight/2,I),_=Math.round((I-c.value.offsetHeight/2)/(N.height-c.value.offsetHeight)*360)}else{let I=z-N.left;I=Math.min(I,N.width-c.value.offsetWidth/2),I=Math.max(c.value.offsetWidth/2,I),_=Math.round((I-c.value.offsetWidth/2)/(N.width-c.value.offsetWidth)*360)}i.color.set("hue",_)}function C(){if(!c.value)return 0;const O=l.vnode.el;if(i.vertical)return 0;const R=i.color.get("hue");return O?Math.round(R*(O.offsetWidth-c.value.offsetWidth/2)/360):0}function P(){if(!c.value)return 0;const O=l.vnode.el;if(!i.vertical)return 0;const R=i.color.get("hue");return O?Math.round(R*(O.offsetHeight-c.value.offsetHeight/2)/360):0}function A(){p.value=C(),g.value=P()}return un(()=>{if(!d.value||!c.value)return;const O={drag:R=>{M(R)},end:R=>{M(R)}};Cc(d.value,O),Cc(c.value,O),A()}),{bar:d,thumb:c,thumbLeft:p,thumbTop:g,hueValue:b,handleClick:w,update:A,ns:o}}});function Cz(i,o,l,c,d,p){return Y(),fe("div",{class:Z([i.ns.b(),i.ns.is("vertical",i.vertical)])},[pe("div",{ref:"bar",class:Z(i.ns.e("bar")),onClick:o[0]||(o[0]=(...g)=>i.handleClick&&i.handleClick(...g))},null,2),pe("div",{ref:"thumb",class:Z(i.ns.e("thumb")),style:Ft({left:i.thumbLeft+"px",top:i.thumbTop+"px"})},null,6)],2)}var Mz=ct(kz,[["render",Cz],["__file","hue-slider.vue"]]);const Pz=lt({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:ji,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},teleported:Yi.teleported,predefine:{type:Ae(Array)},validateEvent:{type:Boolean,default:!0},...os(["ariaLabel"])}),Tz={[wn]:i=>tn(i)||Xi(i),[si]:i=>tn(i)||Xi(i),activeChange:i=>tn(i)||Xi(i),focus:i=>i instanceof FocusEvent,blur:i=>i instanceof FocusEvent},Ck=Symbol("colorPickerContextKey"),C1=function(i,o,l){return[i,o*l/((i=(2-o)*l)<1?i:2-i)||0,i/2]},Nz=function(i){return typeof i=="string"&&i.includes(".")&&Number.parseFloat(i)===1},Az=function(i){return typeof i=="string"&&i.includes("%")},ql=function(i,o){Nz(i)&&(i="100%");const l=Az(i);return i=Math.min(o,Math.max(0,Number.parseFloat(`${i}`))),l&&(i=Number.parseInt(`${i*o}`,10)/100),Math.abs(i-o)<1e-6?1:i%o/Number.parseFloat(o)},M1={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Wh=i=>{i=Math.min(Math.round(i),255);const o=Math.floor(i/16),l=i%16;return`${M1[o]||o}${M1[l]||l}`},P1=function({r:i,g:o,b:l}){return Number.isNaN(+i)||Number.isNaN(+o)||Number.isNaN(+l)?"":`#${Wh(i)}${Wh(o)}${Wh(l)}`},Mp={A:10,B:11,C:12,D:13,E:14,F:15},$a=function(i){return i.length===2?(Mp[i[0].toUpperCase()]||+i[0])*16+(Mp[i[1].toUpperCase()]||+i[1]):Mp[i[1].toUpperCase()]||+i[1]},Lz=function(i,o,l){o=o/100,l=l/100;let c=o;const d=Math.max(l,.01);l*=2,o*=l<=1?l:2-l,c*=d<=1?d:2-d;const p=(l+o)/2,g=l===0?2*c/(d+c):2*o/(l+o);return{h:i,s:g*100,v:p*100}},T1=(i,o,l)=>{i=ql(i,255),o=ql(o,255),l=ql(l,255);const c=Math.max(i,o,l),d=Math.min(i,o,l);let p;const g=c,b=c-d,w=c===0?0:b/c;if(c===d)p=0;else{switch(c){case i:{p=(o-l)/b+(o<l?6:0);break}case o:{p=(l-i)/b+2;break}case l:{p=(i-o)/b+4;break}}p/=6}return{h:p*360,s:w*100,v:g*100}},Iu=function(i,o,l){i=ql(i,360)*6,o=ql(o,100),l=ql(l,100);const c=Math.floor(i),d=i-c,p=l*(1-o),g=l*(1-d*o),b=l*(1-(1-d)*o),w=c%6,M=[l,g,p,p,b,l][w],C=[b,l,l,g,p,p][w],P=[p,p,b,l,l,g][w];return{r:Math.round(M*255),g:Math.round(C*255),b:Math.round(P*255)}};class ic{constructor(o={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const l in o)Fn(o,l)&&(this[l]=o[l]);o.value?this.fromString(o.value):this.doOnChange()}set(o,l){if(arguments.length===1&&typeof o=="object"){for(const c in o)Fn(o,c)&&this.set(c,o[c]);return}this[`_${o}`]=l,this.doOnChange()}get(o){return o==="alpha"?Math.floor(this[`_${o}`]):this[`_${o}`]}toRgb(){return Iu(this._hue,this._saturation,this._value)}fromString(o){if(!o){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const l=(c,d,p)=>{this._hue=Math.max(0,Math.min(360,c)),this._saturation=Math.max(0,Math.min(100,d)),this._value=Math.max(0,Math.min(100,p)),this.doOnChange()};if(o.includes("hsl")){const c=o.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(d=>d!=="").map((d,p)=>p>2?Number.parseFloat(d):Number.parseInt(d,10));if(c.length===4?this._alpha=Number.parseFloat(c[3])*100:c.length===3&&(this._alpha=100),c.length>=3){const{h:d,s:p,v:g}=Lz(c[0],c[1],c[2]);l(d,p,g)}}else if(o.includes("hsv")){const c=o.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(d=>d!=="").map((d,p)=>p>2?Number.parseFloat(d):Number.parseInt(d,10));c.length===4?this._alpha=Number.parseFloat(c[3])*100:c.length===3&&(this._alpha=100),c.length>=3&&l(c[0],c[1],c[2])}else if(o.includes("rgb")){const c=o.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(d=>d!=="").map((d,p)=>p>2?Number.parseFloat(d):Number.parseInt(d,10));if(c.length===4?this._alpha=Number.parseFloat(c[3])*100:c.length===3&&(this._alpha=100),c.length>=3){const{h:d,s:p,v:g}=T1(c[0],c[1],c[2]);l(d,p,g)}}else if(o.includes("#")){const c=o.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(c))return;let d,p,g;c.length===3?(d=$a(c[0]+c[0]),p=$a(c[1]+c[1]),g=$a(c[2]+c[2])):(c.length===6||c.length===8)&&(d=$a(c.slice(0,2)),p=$a(c.slice(2,4)),g=$a(c.slice(4,6))),c.length===8?this._alpha=$a(c.slice(6))/255*100:(c.length===3||c.length===6)&&(this._alpha=100);const{h:b,s:w,v:M}=T1(d,p,g);l(b,w,M)}}compare(o){return Math.abs(o._hue-this._hue)<2&&Math.abs(o._saturation-this._saturation)<1&&Math.abs(o._value-this._value)<1&&Math.abs(o._alpha-this._alpha)<1}doOnChange(){const{_hue:o,_saturation:l,_value:c,_alpha:d,format:p}=this;if(this.enableAlpha)switch(p){case"hsl":{const g=C1(o,l/100,c/100);this.value=`hsla(${o}, ${Math.round(g[1]*100)}%, ${Math.round(g[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${o}, ${Math.round(l)}%, ${Math.round(c)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${P1(Iu(o,l,c))}${Wh(d*255/100)}`;break}default:{const{r:g,g:b,b:w}=Iu(o,l,c);this.value=`rgba(${g}, ${b}, ${w}, ${this.get("alpha")/100})`}}else switch(p){case"hsl":{const g=C1(o,l/100,c/100);this.value=`hsl(${o}, ${Math.round(g[1]*100)}%, ${Math.round(g[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${o}, ${Math.round(l)}%, ${Math.round(c)}%)`;break}case"rgb":{const{r:g,g:b,b:w}=Iu(o,l,c);this.value=`rgb(${g}, ${b}, ${w})`;break}default:this.value=P1(Iu(o,l,c))}}}const Ez=xe({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(i){const o=Qe("color-predefine"),{currentColor:l}=Tt(Ck),c=ne(p(i.colors,i.color));Ue(()=>l.value,g=>{const b=new ic;b.fromString(g),c.value.forEach(w=>{w.selected=b.compare(w)})}),us(()=>{c.value=p(i.colors,i.color)});function d(g){i.color.fromString(i.colors[g])}function p(g,b){return g.map(w=>{const M=new ic;return M.enableAlpha=i.enableAlpha,M.format="rgba",M.fromString(w),M.selected=M.value===b.value,M})}return{rgbaColors:c,handleSelect:d,ns:o}}}),Dz=["onClick"];function Oz(i,o,l,c,d,p){return Y(),fe("div",{class:Z(i.ns.b())},[pe("div",{class:Z(i.ns.e("colors"))},[(Y(!0),fe($t,null,Rn(i.rgbaColors,(g,b)=>(Y(),fe("div",{key:i.colors[b],class:Z([i.ns.e("color-selector"),i.ns.is("alpha",g._alpha<100),{selected:g.selected}]),onClick:w=>i.handleSelect(b)},[pe("div",{style:Ft({backgroundColor:g.value})},null,4)],10,Dz))),128))],2)],2)}var Rz=ct(Ez,[["render",Oz],["__file","predefine.vue"]]);const Iz=xe({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(i){const o=Qe("color-svpanel"),l=pn(),c=ne(0),d=ne(0),p=ne("hsl(0, 100%, 50%)"),g=j(()=>{const M=i.color.get("hue"),C=i.color.get("value");return{hue:M,value:C}});function b(){const M=i.color.get("saturation"),C=i.color.get("value"),P=l.vnode.el,{clientWidth:A,clientHeight:O}=P;d.value=M*A/100,c.value=(100-C)*O/100,p.value=`hsl(${i.color.get("hue")}, 100%, 50%)`}function w(M){const P=l.vnode.el.getBoundingClientRect(),{clientX:A,clientY:O}=Dm(M);let R=A-P.left,N=O-P.top;R=Math.max(0,R),R=Math.min(R,P.width),N=Math.max(0,N),N=Math.min(N,P.height),d.value=R,c.value=N,i.color.set({saturation:R/P.width*100,value:100-N/P.height*100})}return Ue(()=>g.value,()=>{b()}),un(()=>{Cc(l.vnode.el,{drag:M=>{w(M)},end:M=>{w(M)}}),b()}),{cursorTop:c,cursorLeft:d,background:p,colorValue:g,handleDrag:w,update:b,ns:o}}}),Fz=pe("div",null,null,-1),Bz=[Fz];function $z(i,o,l,c,d,p){return Y(),fe("div",{class:Z(i.ns.b()),style:Ft({backgroundColor:i.background})},[pe("div",{class:Z(i.ns.e("white"))},null,2),pe("div",{class:Z(i.ns.e("black"))},null,2),pe("div",{class:Z(i.ns.e("cursor")),style:Ft({top:i.cursorTop+"px",left:i.cursorLeft+"px"})},Bz,6)],6)}var Vz=ct(Iz,[["render",$z],["__file","sv-panel.vue"]]);const zz=["onKeydown"],_z=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],Kz=xe({name:"ElColorPicker"}),Hz=xe({...Kz,props:Pz,emits:Tz,setup(i,{expose:o,emit:l}){const c=i,{t:d}=Bn(),p=Qe("color"),{formItem:g}=ks(),b=$i(),w=Es(),{inputId:M,isLabeledByFormItem:C}=Go(c,{formItemContext:g}),P=ne(),A=ne(),O=ne(),R=ne(),N=ne(),z=ne(),{isFocused:T,handleFocus:_,handleBlur:I}=cf(N,{beforeBlur(Ye){var Ze;return(Ze=R.value)==null?void 0:Ze.isFocusInsideContent(Ye)},afterBlur(){ae(!1),ue()}}),K=Ye=>{if(w.value)return gt();_(Ye)};let B=!0;const G=Hn(new ic({enableAlpha:c.showAlpha,format:c.colorFormat||"",value:c.modelValue})),$=ne(!1),J=ne(!1),ee=ne(""),Q=j(()=>!c.modelValue&&!J.value?"transparent":me(G,c.showAlpha)),X=j(()=>!c.modelValue&&!J.value?"":G.value),se=j(()=>C.value?void 0:c.label||c.ariaLabel||d("el.colorpicker.defaultLabel"));qi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-color-picker",ref:"https://element-plus.org/en-US/component/color-picker.html"},j(()=>!!c.label));const de=j(()=>C.value?g==null?void 0:g.labelId:void 0),ve=j(()=>[p.b("picker"),p.is("disabled",w.value),p.bm("picker",b.value),p.is("focused",T.value)]);function me(Ye,Ze){if(!(Ye instanceof ic))throw new TypeError("color should be instance of _color Class");const{r:mt,g:Me,b:Ee}=Ye.toRgb();return Ze?`rgba(${mt}, ${Me}, ${Ee}, ${Ye.get("alpha")/100})`:`rgb(${mt}, ${Me}, ${Ee})`}function ae(Ye){$.value=Ye}const ie=Ks(ae,100,{leading:!0});function re(){w.value||ae(!0)}function te(){ie(!1),ue()}function ue(){Kt(()=>{c.modelValue?G.fromString(c.modelValue):(G.value="",Kt(()=>{J.value=!1}))})}function be(){w.value||ie(!$.value)}function Ce(){G.fromString(ee.value)}function Ne(){const Ye=G.value;l(wn,Ye),l("change",Ye),c.validateEvent&&(g==null||g.validate("change").catch(Ze=>void 0)),ie(!1),Kt(()=>{const Ze=new ic({enableAlpha:c.showAlpha,format:c.colorFormat||"",value:c.modelValue});G.compare(Ze)||ue()})}function Be(){ie(!1),l(wn,null),l("change",null),c.modelValue!==null&&c.validateEvent&&(g==null||g.validate("change").catch(Ye=>void 0)),ue()}function tt(Ye){if($.value&&(te(),T.value)){const Ze=new FocusEvent("focus",Ye);I(Ze)}}function Le(Ye){Ye.preventDefault(),Ye.stopPropagation(),ae(!1),ue()}function _e(Ye){switch(Ye.code){case Gt.enter:case Gt.space:Ye.preventDefault(),Ye.stopPropagation(),re(),z.value.focus();break;case Gt.esc:Le(Ye);break}}function Fe(){N.value.focus()}function gt(){N.value.blur()}return un(()=>{c.modelValue&&(ee.value=X.value)}),Ue(()=>c.modelValue,Ye=>{Ye?Ye&&Ye!==G.value&&(B=!1,G.fromString(Ye)):J.value=!1}),Ue(()=>X.value,Ye=>{ee.value=Ye,B&&l("activeChange",Ye),B=!0}),Ue(()=>G.value,()=>{!c.modelValue&&!J.value&&(J.value=!0)}),Ue(()=>$.value,()=>{Kt(()=>{var Ye,Ze,mt;(Ye=P.value)==null||Ye.update(),(Ze=A.value)==null||Ze.update(),(mt=O.value)==null||mt.update()})}),En(Ck,{currentColor:X}),o({color:G,show:re,hide:te,focus:Fe,blur:gt}),(Ye,Ze)=>(Y(),Ie(v(Ss),{ref_key:"popper",ref:R,visible:$.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[v(p).be("picker","panel"),v(p).b("dropdown"),Ye.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Ye.teleported,transition:`${v(p).namespace.value}-zoom-in-top`,persistent:"",onHide:Ze[2]||(Ze[2]=mt=>ae(!1))},{content:Te(()=>[ln((Y(),fe("div",{onKeydown:Yn(Le,["esc"])},[pe("div",{class:Z(v(p).be("dropdown","main-wrapper"))},[ye(Mz,{ref_key:"hue",ref:P,class:"hue-slider",color:v(G),vertical:""},null,8,["color"]),ye(Vz,{ref_key:"sv",ref:A,color:v(G)},null,8,["color"])],2),Ye.showAlpha?(Y(),Ie(Sz,{key:0,ref_key:"alpha",ref:O,color:v(G)},null,8,["color"])):De("v-if",!0),Ye.predefine?(Y(),Ie(Rz,{key:1,ref:"predefine","enable-alpha":Ye.showAlpha,color:v(G),colors:Ye.predefine},null,8,["enable-alpha","color","colors"])):De("v-if",!0),pe("div",{class:Z(v(p).be("dropdown","btns"))},[pe("span",{class:Z(v(p).be("dropdown","value"))},[ye(v(bs),{ref_key:"inputRef",ref:z,modelValue:ee.value,"onUpdate:modelValue":Ze[0]||(Ze[0]=mt=>ee.value=mt),"validate-event":!1,size:"small",onKeyup:Yn(Ce,["enter"]),onBlur:Ce},null,8,["modelValue","onKeyup"])],2),ye(v(Zi),{class:Z(v(p).be("dropdown","link-btn")),text:"",size:"small",onClick:Be},{default:Te(()=>[Tn(dt(v(d)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ye(v(Zi),{plain:"",size:"small",class:Z(v(p).be("dropdown","btn")),onClick:Ne},{default:Te(()=>[Tn(dt(v(d)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,zz)),[[v(Er),tt]])]),default:Te(()=>[pe("div",An({id:v(M),ref_key:"triggerRef",ref:N},Ye.$attrs,{class:v(ve),role:"button","aria-label":v(se),"aria-labelledby":v(de),"aria-description":v(d)("el.colorpicker.description",{color:Ye.modelValue||""}),"aria-disabled":v(w),tabindex:v(w)?-1:Ye.tabindex,onKeydown:_e,onFocus:K,onBlur:Ze[1]||(Ze[1]=(...mt)=>v(I)&&v(I)(...mt))}),[v(w)?(Y(),fe("div",{key:0,class:Z(v(p).be("picker","mask"))},null,2)):De("v-if",!0),pe("div",{class:Z(v(p).be("picker","trigger")),onClick:be},[pe("span",{class:Z([v(p).be("picker","color"),v(p).is("alpha",Ye.showAlpha)])},[pe("span",{class:Z(v(p).be("picker","color-inner")),style:Ft({backgroundColor:v(Q)})},[ln(ye(v(Et),{class:Z([v(p).be("picker","icon"),v(p).is("icon-arrow-down")])},{default:Te(()=>[ye(v(Fr))]),_:1},8,["class"]),[[$n,Ye.modelValue||J.value]]),ln(ye(v(Et),{class:Z([v(p).be("picker","empty"),v(p).is("icon-close")])},{default:Te(()=>[ye(v(_o))]),_:1},8,["class"]),[[$n,!Ye.modelValue&&!J.value]])],6)],2)],2)],16,_z)]),_:1},8,["visible","popper-class","teleported","transition"]))}});var jz=ct(Hz,[["__file","color-picker.vue"]]);const qz=gn(jz),Gz=xe({name:"ElContainer"}),Wz=xe({...Gz,props:{direction:{type:String}},setup(i){const o=i,l=Qi(),c=Qe("container"),d=j(()=>o.direction==="vertical"?!0:o.direction==="horizontal"?!1:l&&l.default?l.default().some(g=>{const b=g.type.name;return b==="ElHeader"||b==="ElFooter"}):!1);return(p,g)=>(Y(),fe("section",{class:Z([v(c).b(),v(c).is("vertical",v(d))])},[ze(p.$slots,"default")],2))}});var Uz=ct(Wz,[["__file","container.vue"]]);const Yz=xe({name:"ElAside"}),Xz=xe({...Yz,props:{width:{type:String,default:null}},setup(i){const o=i,l=Qe("aside"),c=j(()=>o.width?l.cssVarBlock({width:o.width}):{});return(d,p)=>(Y(),fe("aside",{class:Z(v(l).b()),style:Ft(v(c))},[ze(d.$slots,"default")],6))}});var Mk=ct(Xz,[["__file","aside.vue"]]);const Zz=xe({name:"ElFooter"}),Jz=xe({...Zz,props:{height:{type:String,default:null}},setup(i){const o=i,l=Qe("footer"),c=j(()=>o.height?l.cssVarBlock({height:o.height}):{});return(d,p)=>(Y(),fe("footer",{class:Z(v(l).b()),style:Ft(v(c))},[ze(d.$slots,"default")],6))}});var Pk=ct(Jz,[["__file","footer.vue"]]);const Qz=xe({name:"ElHeader"}),e_=xe({...Qz,props:{height:{type:String,default:null}},setup(i){const o=i,l=Qe("header"),c=j(()=>o.height?l.cssVarBlock({height:o.height}):{});return(d,p)=>(Y(),fe("header",{class:Z(v(l).b()),style:Ft(v(c))},[ze(d.$slots,"default")],6))}});var Tk=ct(e_,[["__file","header.vue"]]);const t_=xe({name:"ElMain"}),n_=xe({...t_,setup(i){const o=Qe("main");return(l,c)=>(Y(),fe("main",{class:Z(v(o).b())},[ze(l.$slots,"default")],2))}});var Nk=ct(n_,[["__file","main.vue"]]);const i_=gn(Uz,{Aside:Mk,Footer:Pk,Header:Tk,Main:Nk}),s_=gi(Mk),o_=gi(Pk),r_=gi(Tk),a_=gi(Nk);var Ak={exports:{}};(function(i,o){(function(l,c){i.exports=c()})(Vr,function(){return function(l,c){var d=c.prototype,p=d.format;d.format=function(g){var b=this,w=this.$locale();if(!this.isValid())return p.bind(this)(g);var M=this.$utils(),C=(g||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(P){switch(P){case"Q":return Math.ceil((b.$M+1)/3);case"Do":return w.ordinal(b.$D);case"gggg":return b.weekYear();case"GGGG":return b.isoWeekYear();case"wo":return w.ordinal(b.week(),"W");case"w":case"ww":return M.s(b.week(),P==="w"?1:2,"0");case"W":case"WW":return M.s(b.isoWeek(),P==="W"?1:2,"0");case"k":case"kk":return M.s(String(b.$H===0?24:b.$H),P==="k"?1:2,"0");case"X":return Math.floor(b.$d.getTime()/1e3);case"x":return b.$d.getTime();case"z":return"["+b.offsetName()+"]";case"zzz":return"["+b.offsetName("long")+"]";default:return P}});return p.bind(this)(C)}}})})(Ak);var l_=Ak.exports;const u_=zr(l_);var Lk={exports:{}};(function(i,o){(function(l,c){i.exports=c()})(Vr,function(){var l="week",c="year";return function(d,p,g){var b=p.prototype;b.week=function(w){if(w===void 0&&(w=null),w!==null)return this.add(7*(w-this.week()),"day");var M=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var C=g(this).startOf(c).add(1,c).date(M),P=g(this).endOf(l);if(C.isBefore(P))return 1}var A=g(this).startOf(c).date(M).startOf(l).subtract(1,"millisecond"),O=this.diff(A,l,!0);return O<0?g(this).startOf("week").week():Math.ceil(O)},b.weeks=function(w){return w===void 0&&(w=null),this.week(w)}}})})(Lk);var c_=Lk.exports;const h_=zr(c_);var Ek={exports:{}};(function(i,o){(function(l,c){i.exports=c()})(Vr,function(){return function(l,c){c.prototype.weekYear=function(){var d=this.month(),p=this.week(),g=this.year();return p===1&&d===11?g+1:d===0&&p>=52?g-1:g}}})})(Ek);var d_=Ek.exports;const f_=zr(d_);var Dk={exports:{}};(function(i,o){(function(l,c){i.exports=c()})(Vr,function(){return function(l,c,d){c.prototype.dayOfYear=function(p){var g=Math.round((d(this).startOf("day")-d(this).startOf("year"))/864e5)+1;return p==null?g:this.add(p-g,"day")}}})})(Dk);var p_=Dk.exports;const g_=zr(p_);var Ok={exports:{}};(function(i,o){(function(l,c){i.exports=c()})(Vr,function(){return function(l,c){c.prototype.isSameOrAfter=function(d,p){return this.isSame(d,p)||this.isAfter(d,p)}}})})(Ok);var m_=Ok.exports;const v_=zr(m_);var Rk={exports:{}};(function(i,o){(function(l,c){i.exports=c()})(Vr,function(){return function(l,c){c.prototype.isSameOrBefore=function(d,p){return this.isSame(d,p)||this.isBefore(d,p)}}})})(Rk);var y_=Rk.exports;const b_=zr(y_),R0=Symbol(),w_=lt({...D0,type:{type:Ae(String),default:"date"}}),x_=["date","dates","year","years","month","week","range"],I0=lt({disabledDate:{type:Ae(Function)},date:{type:Ae(Object),required:!0},minDate:{type:Ae(Object)},maxDate:{type:Ae(Object)},parsedValue:{type:Ae([Object,Array])},rangeState:{type:Ae(Object),default:()=>({endDate:null,selecting:!1})}}),Ik=lt({type:{type:Ae(String),required:!0,values:KR},dateFormat:String,timeFormat:String}),Fk=lt({unlinkPanels:Boolean,parsedValue:{type:Ae(Array)}}),F0=i=>({type:String,values:x_,default:i}),S_=lt({...Ik,parsedValue:{type:Ae([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),k_=lt({...I0,cellClassName:{type:Ae(Function)},showWeekNumber:Boolean,selectionMode:F0("date")}),C_=["changerange","pick","select"],Dg=i=>{if(!St(i))return!1;const[o,l]=i;return vn.isDayjs(o)&&vn.isDayjs(l)&&o.isSameOrBefore(l)},Bk=(i,{lang:o,unit:l,unlinkPanels:c})=>{let d;if(St(i)){let[p,g]=i.map(b=>vn(b).locale(o));return c||(g=p.add(1,l)),[p,g]}else i?d=vn(i):d=vn();return d=d.locale(o),[d,d.add(1,l)]},M_=(i,o,{columnIndexOffset:l,startDate:c,nextEndDate:d,now:p,unit:g,relativeDateGetter:b,setCellMetadata:w,setRowMetadata:M})=>{for(let C=0;C<i.row;C++){const P=o[C];for(let A=0;A<i.column;A++){let O=P[A+l];O||(O={row:C,column:A,type:"normal",inRange:!1,start:!1,end:!1});const R=C*i.column+A,N=b(R);O.dayjs=N,O.date=N.toDate(),O.timestamp=N.valueOf(),O.type="normal",O.inRange=!!(c&&N.isSameOrAfter(c,g)&&d&&N.isSameOrBefore(d,g))||!!(c&&N.isSameOrBefore(c,g)&&d&&N.isSameOrAfter(d,g)),c!=null&&c.isSameOrAfter(d)?(O.start=!!d&&N.isSame(d,g),O.end=c&&N.isSame(c,g)):(O.start=!!c&&N.isSame(c,g),O.end=!!d&&N.isSame(d,g)),N.isSame(p,g)&&(O.type="today"),w==null||w(O,{rowIndex:C,columnIndex:A}),P[A+l]=O}M==null||M(P)}},Og=(i="")=>["normal","today"].includes(i),P_=(i,o)=>{const{lang:l}=Bn(),c=ne(),d=ne(),p=ne(),g=ne(),b=ne([[],[],[],[],[],[]]);let w=!1;const M=i.date.$locale().weekStart||7,C=i.date.locale("en").localeData().weekdaysShort().map(te=>te.toLowerCase()),P=j(()=>M>3?7-M:-M),A=j(()=>{const te=i.date.startOf("month");return te.subtract(te.day()||7,"day")}),O=j(()=>C.concat(C).slice(M,M+7)),R=j(()=>Z2(v(K)).some(te=>te.isCurrent)),N=j(()=>{const te=i.date.startOf("month"),ue=te.day()||7,be=te.daysInMonth(),Ce=te.subtract(1,"month").daysInMonth();return{startOfMonthDay:ue,dateCountOfMonth:be,dateCountOfLastMonth:Ce}}),z=j(()=>i.selectionMode==="dates"?Zs(i.parsedValue):[]),T=(te,{count:ue,rowIndex:be,columnIndex:Ce})=>{const{startOfMonthDay:Ne,dateCountOfMonth:Be,dateCountOfLastMonth:tt}=v(N),Le=v(P);if(be>=0&&be<=1){const _e=Ne+Le<0?7+Ne+Le:Ne+Le;if(Ce+be*7>=_e)return te.text=ue,!0;te.text=tt-(_e-Ce%7)+1+be*7,te.type="prev-month"}else return ue<=Be?te.text=ue:(te.text=ue-Be,te.type="next-month"),!0;return!1},_=(te,{columnIndex:ue,rowIndex:be},Ce)=>{const{disabledDate:Ne,cellClassName:Be}=i,tt=v(z),Le=T(te,{count:Ce,rowIndex:be,columnIndex:ue}),_e=te.dayjs.toDate();return te.selected=tt.find(Fe=>Fe.isSame(te.dayjs,"day")),te.isSelected=!!te.selected,te.isCurrent=G(te),te.disabled=Ne==null?void 0:Ne(_e),te.customClass=Be==null?void 0:Be(_e),Le},I=te=>{if(i.selectionMode==="week"){const[ue,be]=i.showWeekNumber?[1,7]:[0,6],Ce=re(te[ue+1]);te[ue].inRange=Ce,te[ue].start=Ce,te[be].inRange=Ce,te[be].end=Ce}},K=j(()=>{const{minDate:te,maxDate:ue,rangeState:be,showWeekNumber:Ce}=i,Ne=v(P),Be=v(b),tt="day";let Le=1;if(Ce)for(let _e=0;_e<6;_e++)Be[_e][0]||(Be[_e][0]={type:"week",text:v(A).add(_e*7+1,tt).week()});return M_({row:6,column:7},Be,{startDate:te,columnIndexOffset:Ce?1:0,nextEndDate:be.endDate||ue||be.selecting&&te||null,now:vn().locale(v(l)).startOf(tt),unit:tt,relativeDateGetter:_e=>v(A).add(_e-Ne,tt),setCellMetadata:(..._e)=>{_(..._e,Le)&&(Le+=1)},setRowMetadata:I}),Be});Ue(()=>i.date,async()=>{var te;(te=v(c))!=null&&te.contains(document.activeElement)&&(await Kt(),await B())});const B=async()=>{var te;return(te=v(d))==null?void 0:te.focus()},G=te=>i.selectionMode==="date"&&Og(te.type)&&$(te,i.parsedValue),$=(te,ue)=>ue?vn(ue).locale(v(l)).isSame(i.date.date(Number(te.text)),"day"):!1,J=(te,ue)=>{const be=te*7+(ue-(i.showWeekNumber?1:0))-v(P);return v(A).add(be,"day")},ee=te=>{var ue;if(!i.rangeState.selecting)return;let be=te.target;if(be.tagName==="SPAN"&&(be=(ue=be.parentNode)==null?void 0:ue.parentNode),be.tagName==="DIV"&&(be=be.parentNode),be.tagName!=="TD")return;const Ce=be.parentNode.rowIndex-1,Ne=be.cellIndex;v(K)[Ce][Ne].disabled||(Ce!==v(p)||Ne!==v(g))&&(p.value=Ce,g.value=Ne,o("changerange",{selecting:!0,endDate:J(Ce,Ne)}))},Q=te=>!v(R)&&(te==null?void 0:te.text)===1&&te.type==="normal"||te.isCurrent,X=te=>{w||v(R)||i.selectionMode!=="date"||ie(te,!0)},se=te=>{te.target.closest("td")&&(w=!0)},de=te=>{te.target.closest("td")&&(w=!1)},ve=te=>{!i.rangeState.selecting||!i.minDate?(o("pick",{minDate:te,maxDate:null}),o("select",!0)):(te>=i.minDate?o("pick",{minDate:i.minDate,maxDate:te}):o("pick",{minDate:te,maxDate:i.minDate}),o("select",!1))},me=te=>{const ue=te.week(),be=`${te.year()}w${ue}`;o("pick",{year:te.year(),week:ue,value:be,date:te.startOf("week")})},ae=(te,ue)=>{const be=ue?Zs(i.parsedValue).filter(Ce=>(Ce==null?void 0:Ce.valueOf())!==te.valueOf()):Zs(i.parsedValue).concat([te]);o("pick",be)},ie=(te,ue=!1)=>{const be=te.target.closest("td");if(!be)return;const Ce=be.parentNode.rowIndex-1,Ne=be.cellIndex,Be=v(K)[Ce][Ne];if(Be.disabled||Be.type==="week")return;const tt=J(Ce,Ne);switch(i.selectionMode){case"range":{ve(tt);break}case"date":{o("pick",tt,ue);break}case"week":{me(tt);break}case"dates":{ae(tt,!!Be.selected);break}}},re=te=>{if(i.selectionMode!=="week")return!1;let ue=i.date.startOf("day");if(te.type==="prev-month"&&(ue=ue.subtract(1,"month")),te.type==="next-month"&&(ue=ue.add(1,"month")),ue=ue.date(Number.parseInt(te.text,10)),i.parsedValue&&!Array.isArray(i.parsedValue)){const be=(i.parsedValue.day()-M+7)%7-1;return i.parsedValue.subtract(be,"day").isSame(ue,"day")}return!1};return{WEEKS:O,rows:K,tbodyRef:c,currentCellRef:d,focus:B,isCurrent:G,isWeekActive:re,isSelectedCell:Q,handlePickDate:ie,handleMouseUp:de,handleMouseDown:se,handleMouseMove:ee,handleFocus:X}},T_=(i,{isCurrent:o,isWeekActive:l})=>{const c=Qe("date-table"),{t:d}=Bn(),p=j(()=>[c.b(),{"is-week-mode":i.selectionMode==="week"}]),g=j(()=>d("el.datepicker.dateTablePrompt")),b=j(()=>d("el.datepicker.week"));return{tableKls:p,tableLabel:g,weekLabel:b,getCellClasses:C=>{const P=[];return Og(C.type)&&!C.disabled?(P.push("available"),C.type==="today"&&P.push("today")):P.push(C.type),o(C)&&P.push("current"),C.inRange&&(Og(C.type)||i.selectionMode==="week")&&(P.push("in-range"),C.start&&P.push("start-date"),C.end&&P.push("end-date")),C.disabled&&P.push("disabled"),C.selected&&P.push("selected"),C.customClass&&P.push(C.customClass),P.join(" ")},getRowKls:C=>[c.e("row"),{current:l(C)}],t:d}},N_=lt({cell:{type:Ae(Object)}});var A_=xe({name:"ElDatePickerCell",props:N_,setup(i){const o=Qe("date-table-cell"),{slots:l}=Tt(R0);return()=>{const{cell:c}=i;return ze(l,"default",{...c},()=>[ye("div",{class:o.b()},[ye("span",{class:o.e("text")},[c==null?void 0:c.text])])])}}});const L_=["aria-label"],E_={key:0,scope:"col"},D_=["aria-label"],O_=["aria-current","aria-selected","tabindex"],R_=xe({__name:"basic-date-table",props:k_,emits:C_,setup(i,{expose:o,emit:l}){const c=i,{WEEKS:d,rows:p,tbodyRef:g,currentCellRef:b,focus:w,isCurrent:M,isWeekActive:C,isSelectedCell:P,handlePickDate:A,handleMouseUp:O,handleMouseDown:R,handleMouseMove:N,handleFocus:z}=P_(c,l),{tableLabel:T,tableKls:_,weekLabel:I,getCellClasses:K,getRowKls:B,t:G}=T_(c,{isCurrent:M,isWeekActive:C});return o({focus:w}),($,J)=>(Y(),fe("table",{"aria-label":v(T),class:Z(v(_)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:J[1]||(J[1]=(...ee)=>v(A)&&v(A)(...ee)),onMousemove:J[2]||(J[2]=(...ee)=>v(N)&&v(N)(...ee)),onMousedown:J[3]||(J[3]=en((...ee)=>v(R)&&v(R)(...ee),["prevent"])),onMouseup:J[4]||(J[4]=(...ee)=>v(O)&&v(O)(...ee))},[pe("tbody",{ref_key:"tbodyRef",ref:g},[pe("tr",null,[$.showWeekNumber?(Y(),fe("th",E_,dt(v(I)),1)):De("v-if",!0),(Y(!0),fe($t,null,Rn(v(d),(ee,Q)=>(Y(),fe("th",{key:Q,"aria-label":v(G)("el.datepicker.weeksFull."+ee),scope:"col"},dt(v(G)("el.datepicker.weeks."+ee)),9,D_))),128))]),(Y(!0),fe($t,null,Rn(v(p),(ee,Q)=>(Y(),fe("tr",{key:Q,class:Z(v(B)(ee[1]))},[(Y(!0),fe($t,null,Rn(ee,(X,se)=>(Y(),fe("td",{key:`${Q}.${se}`,ref_for:!0,ref:de=>v(P)(X)&&(b.value=de),class:Z(v(K)(X)),"aria-current":X.isCurrent?"date":void 0,"aria-selected":X.isCurrent,tabindex:v(P)(X)?0:-1,onFocus:J[0]||(J[0]=(...de)=>v(z)&&v(z)(...de))},[ye(v(A_),{cell:X},null,8,["cell"])],42,O_))),128))],2))),128))],512)],42,L_))}});var Rg=ct(R_,[["__file","basic-date-table.vue"]]);const I_=lt({...I0,selectionMode:F0("month")}),F_=["aria-label"],B_=["aria-selected","aria-label","tabindex","onKeydown"],$_={class:"cell"},V_=xe({__name:"basic-month-table",props:I_,emits:["changerange","pick","select"],setup(i,{expose:o,emit:l}){const c=i,d=(K,B,G)=>{const $=vn().locale(G).startOf("month").month(B).year(K),J=$.daysInMonth();return fa(J).map(ee=>$.add(ee,"day").toDate())},p=Qe("month-table"),{t:g,lang:b}=Bn(),w=ne(),M=ne(),C=ne(c.date.locale("en").localeData().monthsShort().map(K=>K.toLowerCase())),P=ne([[],[],[]]),A=ne(),O=ne(),R=j(()=>{var K,B;const G=P.value,$=vn().locale(b.value).startOf("month");for(let J=0;J<3;J++){const ee=G[J];for(let Q=0;Q<4;Q++){const X=ee[Q]||(ee[Q]={row:J,column:Q,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});X.type="normal";const se=J*4+Q,de=c.date.startOf("year").month(se),ve=c.rangeState.endDate||c.maxDate||c.rangeState.selecting&&c.minDate||null;X.inRange=!!(c.minDate&&de.isSameOrAfter(c.minDate,"month")&&ve&&de.isSameOrBefore(ve,"month"))||!!(c.minDate&&de.isSameOrBefore(c.minDate,"month")&&ve&&de.isSameOrAfter(ve,"month")),(K=c.minDate)!=null&&K.isSameOrAfter(ve)?(X.start=!!(ve&&de.isSame(ve,"month")),X.end=c.minDate&&de.isSame(c.minDate,"month")):(X.start=!!(c.minDate&&de.isSame(c.minDate,"month")),X.end=!!(ve&&de.isSame(ve,"month"))),$.isSame(de)&&(X.type="today"),X.text=se,X.disabled=((B=c.disabledDate)==null?void 0:B.call(c,de.toDate()))||!1}}return G}),N=()=>{var K;(K=M.value)==null||K.focus()},z=K=>{const B={},G=c.date.year(),$=new Date,J=K.text;return B.disabled=c.disabledDate?d(G,J,b.value).every(c.disabledDate):!1,B.current=Zs(c.parsedValue).findIndex(ee=>vn.isDayjs(ee)&&ee.year()===G&&ee.month()===J)>=0,B.today=$.getFullYear()===G&&$.getMonth()===J,K.inRange&&(B["in-range"]=!0,K.start&&(B["start-date"]=!0),K.end&&(B["end-date"]=!0)),B},T=K=>{const B=c.date.year(),G=K.text;return Zs(c.date).findIndex($=>$.year()===B&&$.month()===G)>=0},_=K=>{var B;if(!c.rangeState.selecting)return;let G=K.target;if(G.tagName==="SPAN"&&(G=(B=G.parentNode)==null?void 0:B.parentNode),G.tagName==="DIV"&&(G=G.parentNode),G.tagName!=="TD")return;const $=G.parentNode.rowIndex,J=G.cellIndex;R.value[$][J].disabled||($!==A.value||J!==O.value)&&(A.value=$,O.value=J,l("changerange",{selecting:!0,endDate:c.date.startOf("year").month($*4+J)}))},I=K=>{var B;const G=(B=K.target)==null?void 0:B.closest("td");if((G==null?void 0:G.tagName)!=="TD"||bo(G,"disabled"))return;const $=G.cellIndex,ee=G.parentNode.rowIndex*4+$,Q=c.date.startOf("year").month(ee);c.selectionMode==="range"?c.rangeState.selecting?(c.minDate&&Q>=c.minDate?l("pick",{minDate:c.minDate,maxDate:Q}):l("pick",{minDate:Q,maxDate:c.minDate}),l("select",!1)):(l("pick",{minDate:Q,maxDate:null}),l("select",!0)):l("pick",ee)};return Ue(()=>c.date,async()=>{var K,B;(K=w.value)!=null&&K.contains(document.activeElement)&&(await Kt(),(B=M.value)==null||B.focus())}),o({focus:N}),(K,B)=>(Y(),fe("table",{role:"grid","aria-label":v(g)("el.datepicker.monthTablePrompt"),class:Z(v(p).b()),onClick:I,onMousemove:_},[pe("tbody",{ref_key:"tbodyRef",ref:w},[(Y(!0),fe($t,null,Rn(v(R),(G,$)=>(Y(),fe("tr",{key:$},[(Y(!0),fe($t,null,Rn(G,(J,ee)=>(Y(),fe("td",{key:ee,ref_for:!0,ref:Q=>T(J)&&(M.value=Q),class:Z(z(J)),"aria-selected":`${T(J)}`,"aria-label":v(g)(`el.datepicker.month${+J.text+1}`),tabindex:T(J)?0:-1,onKeydown:[Yn(en(I,["prevent","stop"]),["space"]),Yn(en(I,["prevent","stop"]),["enter"])]},[pe("div",null,[pe("span",$_,dt(v(g)("el.datepicker.months."+C.value[J.text])),1)])],42,B_))),128))]))),128))],512)],42,F_))}});var Ig=ct(V_,[["__file","basic-month-table.vue"]]);const{date:z_,disabledDate:__,parsedValue:K_}=I0,H_=lt({date:z_,disabledDate:__,parsedValue:K_,selectionMode:F0("year")}),j_=["aria-label"],q_=["aria-selected","tabindex","onKeydown"],G_={class:"cell"},W_={key:1},U_=xe({__name:"basic-year-table",props:H_,emits:["pick"],setup(i,{expose:o,emit:l}){const c=i,d=(N,z)=>{const T=vn(String(N)).locale(z).startOf("year"),I=T.endOf("year").dayOfYear();return fa(I).map(K=>T.add(K,"day").toDate())},p=Qe("year-table"),{t:g,lang:b}=Bn(),w=ne(),M=ne(),C=j(()=>Math.floor(c.date.year()/10)*10),P=()=>{var N;(N=M.value)==null||N.focus()},A=N=>{const z={},T=vn().locale(b.value);return z.disabled=c.disabledDate?d(N,b.value).every(c.disabledDate):!1,z.current=Zs(c.parsedValue).findIndex(_=>_.year()===N)>=0,z.today=T.year()===N,z},O=N=>N===C.value&&c.date.year()<C.value&&c.date.year()>C.value+9||Zs(c.date).findIndex(z=>z.year()===N)>=0||Zs(c.parsedValue).findIndex(z=>(z==null?void 0:z.year())===N)>=0,R=N=>{const T=N.target.closest("td");if(T&&T.textContent){if(bo(T,"disabled"))return;const _=T.textContent||T.innerText;if(c.selectionMode==="years"){if(N.type==="keydown"){l("pick",Zs(c.parsedValue),!1);return}const I=bo(T,"current")?Zs(c.parsedValue).filter(K=>(K==null?void 0:K.year())!==Number(_)):Zs(c.parsedValue).concat([vn(_)]);l("pick",I)}else l("pick",Number(_))}};return Ue(()=>c.date,async()=>{var N,z;(N=w.value)!=null&&N.contains(document.activeElement)&&(await Kt(),(z=M.value)==null||z.focus())}),o({focus:P}),(N,z)=>(Y(),fe("table",{role:"grid","aria-label":v(g)("el.datepicker.yearTablePrompt"),class:Z(v(p).b()),onClick:R},[pe("tbody",{ref_key:"tbodyRef",ref:w},[(Y(),fe($t,null,Rn(3,(T,_)=>pe("tr",{key:_},[(Y(),fe($t,null,Rn(4,(I,K)=>(Y(),fe($t,{key:_+"_"+K},[_*4+K<10?(Y(),fe("td",{key:0,ref_for:!0,ref:B=>O(v(C)+_*4+K)&&(M.value=B),class:Z(["available",A(v(C)+_*4+K)]),"aria-selected":`${O(v(C)+_*4+K)}`,tabindex:O(v(C)+_*4+K)?0:-1,onKeydown:[Yn(en(R,["prevent","stop"]),["space"]),Yn(en(R,["prevent","stop"]),["enter"])]},[pe("div",null,[pe("span",G_,dt(v(C)+_*4+K),1)])],42,q_)):(Y(),fe("td",W_))],64))),64))])),64))],512)],10,j_))}});var Y_=ct(U_,[["__file","basic-year-table.vue"]]);const X_=["onClick"],Z_=["aria-label"],J_=["aria-label"],Q_=["aria-label"],eK=["aria-label"],tK=xe({__name:"panel-date-pick",props:S_,emits:["pick","set-picker-option","panel-change"],setup(i,{emit:o}){const l=i,c=(Ke,wt,it)=>!0,d=Qe("picker-panel"),p=Qe("date-picker"),g=cl(),b=Qi(),{t:w,lang:M}=Bn(),C=Tt("EP_PICKER_BASE"),P=Tt(pf),{shortcuts:A,disabledDate:O,cellClassName:R,defaultTime:N}=C.props,z=Gn(C.props,"defaultValue"),T=ne(),_=ne(vn().locale(M.value)),I=ne(!1);let K=!1;const B=j(()=>vn(N).locale(M.value)),G=j(()=>_.value.month()),$=j(()=>_.value.year()),J=ne([]),ee=ne(null),Q=ne(null),X=Ke=>J.value.length>0?c(Ke,J.value,l.format||"HH:mm:ss"):!0,se=Ke=>N&&!Ee.value&&!I.value&&!K?B.value.year(Ke.year()).month(Ke.month()).date(Ke.date()):Le.value?Ke.millisecond(0):Ke.startOf("day"),de=(Ke,...wt)=>{if(!Ke)o("pick",Ke,...wt);else if(St(Ke)){const it=Ke.map(se);o("pick",it,...wt)}else o("pick",se(Ke),...wt);ee.value=null,Q.value=null,I.value=!1,K=!1},ve=async(Ke,wt)=>{if(ue.value==="date"){Ke=Ke;let it=l.parsedValue?l.parsedValue.year(Ke.year()).month(Ke.month()).date(Ke.date()):Ke;X(it)||(it=J.value[0][0].year(Ke.year()).month(Ke.month()).date(Ke.date())),_.value=it,de(it,Le.value||wt),l.type==="datetime"&&(await Kt(),Ht())}else ue.value==="week"?de(Ke.date):ue.value==="dates"&&de(Ke,!0)},me=Ke=>{const wt=Ke?"add":"subtract";_.value=_.value[wt](1,"month"),Vt("month")},ae=Ke=>{const wt=_.value,it=Ke?"add":"subtract";_.value=ie.value==="year"?wt[it](10,"year"):wt[it](1,"year"),Vt("year")},ie=ne("date"),re=j(()=>{const Ke=w("el.datepicker.year");if(ie.value==="year"){const wt=Math.floor($.value/10)*10;return Ke?`${wt} ${Ke} - ${wt+9} ${Ke}`:`${wt} - ${wt+9}`}return`${$.value} ${Ke}`}),te=Ke=>{const wt=Xt(Ke.value)?Ke.value():Ke.value;if(wt){K=!0,de(vn(wt).locale(M.value));return}Ke.onClick&&Ke.onClick({attrs:g,slots:b,emit:o})},ue=j(()=>{const{type:Ke}=l;return["week","month","year","years","dates"].includes(Ke)?Ke:"date"}),be=j(()=>ue.value==="date"?ie.value:ue.value),Ce=j(()=>!!A.length),Ne=async Ke=>{_.value=_.value.startOf("month").month(Ke),ue.value==="month"?de(_.value,!1):(ie.value="date",["month","year","date","week"].includes(ue.value)&&(de(_.value,!0),await Kt(),Ht())),Vt("month")},Be=async(Ke,wt)=>{ue.value==="year"?(_.value=_.value.startOf("year").year(Ke),de(_.value,!1)):ue.value==="years"?de(Ke,wt??!0):(_.value=_.value.year(Ke),ie.value="month",["month","year","date","week"].includes(ue.value)&&(de(_.value,!0),await Kt(),Ht())),Vt("year")},tt=async Ke=>{ie.value=Ke,await Kt(),Ht()},Le=j(()=>l.type==="datetime"||l.type==="datetimerange"),_e=j(()=>{const Ke=Le.value||ue.value==="dates",wt=ue.value==="years",it=ie.value==="date",$e=ie.value==="year";return Ke&&it||wt&&$e}),Fe=j(()=>O?l.parsedValue?St(l.parsedValue)?O(l.parsedValue[0].toDate()):O(l.parsedValue.toDate()):!0:!1),gt=()=>{if(ue.value==="dates"||ue.value==="years")de(l.parsedValue);else{let Ke=l.parsedValue;if(!Ke){const wt=vn(N).locale(M.value),it=kt();Ke=wt.year(it.year()).month(it.month()).date(it.date())}_.value=Ke,de(Ke)}},Ye=j(()=>O?O(vn().locale(M.value).toDate()):!1),Ze=()=>{const wt=vn().locale(M.value).toDate();I.value=!0,(!O||!O(wt))&&X(wt)&&(_.value=vn().locale(M.value),de(_.value))},mt=j(()=>l.timeFormat||_S(l.format)),Me=j(()=>l.dateFormat||zS(l.format)),Ee=j(()=>{if(Q.value)return Q.value;if(!(!l.parsedValue&&!z.value))return(l.parsedValue||_.value).format(mt.value)}),We=j(()=>{if(ee.value)return ee.value;if(!(!l.parsedValue&&!z.value))return(l.parsedValue||_.value).format(Me.value)}),ot=ne(!1),He=()=>{ot.value=!0},Je=()=>{ot.value=!1},nt=Ke=>({hour:Ke.hour(),minute:Ke.minute(),second:Ke.second(),year:Ke.year(),month:Ke.month(),date:Ke.date()}),rt=(Ke,wt,it)=>{const{hour:$e,minute:et,second:st}=nt(Ke),Ve=l.parsedValue?l.parsedValue.hour($e).minute(et).second(st):Ke;_.value=Ve,de(_.value,!0),it||(ot.value=wt)},ht=Ke=>{const wt=vn(Ke,mt.value).locale(M.value);if(wt.isValid()&&X(wt)){const{year:it,month:$e,date:et}=nt(_.value);_.value=wt.year(it).month($e).date(et),Q.value=null,ot.value=!1,de(_.value,!0)}},qe=Ke=>{const wt=vn(Ke,Me.value).locale(M.value);if(wt.isValid()){if(O&&O(wt.toDate()))return;const{hour:it,minute:$e,second:et}=nt(_.value);_.value=wt.hour(it).minute($e).second(et),ee.value=null,de(_.value,!0)}},Mt=Ke=>vn.isDayjs(Ke)&&Ke.isValid()&&(O?!O(Ke.toDate()):!0),Nt=Ke=>St(Ke)?Ke.map(wt=>wt.format(l.format)):Ke.format(l.format),Ge=Ke=>vn(Ke,l.format).locale(M.value),kt=()=>{const Ke=vn(z.value).locale(M.value);if(!z.value){const wt=B.value;return vn().hour(wt.hour()).minute(wt.minute()).second(wt.second()).locale(M.value)}return Ke},Ht=async()=>{var Ke;["week","month","year","date"].includes(ue.value)&&((Ke=T.value)==null||Ke.focus(),ue.value==="week"&&hn(Gt.down))},bn=Ke=>{const{code:wt}=Ke;[Gt.up,Gt.down,Gt.left,Gt.right,Gt.home,Gt.end,Gt.pageUp,Gt.pageDown].includes(wt)&&(hn(wt),Ke.stopPropagation(),Ke.preventDefault()),[Gt.enter,Gt.space,Gt.numpadEnter].includes(wt)&&ee.value===null&&Q.value===null&&(Ke.preventDefault(),de(_.value,!1))},hn=Ke=>{var wt;const{up:it,down:$e,left:et,right:st,home:Ve,end:Lt,pageUp:Sn,pageDown:zn}=Gt,ki={year:{[it]:-4,[$e]:4,[et]:-1,[st]:1,offset:(Ln,Un)=>Ln.setFullYear(Ln.getFullYear()+Un)},month:{[it]:-4,[$e]:4,[et]:-1,[st]:1,offset:(Ln,Un)=>Ln.setMonth(Ln.getMonth()+Un)},week:{[it]:-1,[$e]:1,[et]:-1,[st]:1,offset:(Ln,Un)=>Ln.setDate(Ln.getDate()+Un*7)},date:{[it]:-7,[$e]:7,[et]:-1,[st]:1,[Ve]:Ln=>-Ln.getDay(),[Lt]:Ln=>-Ln.getDay()+6,[Sn]:Ln=>-new Date(Ln.getFullYear(),Ln.getMonth(),0).getDate(),[zn]:Ln=>new Date(Ln.getFullYear(),Ln.getMonth()+1,0).getDate(),offset:(Ln,Un)=>Ln.setDate(Ln.getDate()+Un)}},mi=_.value.toDate();for(;Math.abs(_.value.diff(mi,"year",!0))<1;){const Ln=ki[be.value];if(!Ln)return;if(Ln.offset(mi,Xt(Ln[Ke])?Ln[Ke](mi):(wt=Ln[Ke])!=null?wt:0),O&&O(mi))break;const Un=vn(mi).locale(M.value);_.value=Un,o("pick",Un,!0);break}},Vt=Ke=>{o("panel-change",_.value.toDate(),Ke,ie.value)};return Ue(()=>ue.value,Ke=>{if(["month","year"].includes(Ke)){ie.value=Ke;return}else if(Ke==="years"){ie.value="year";return}ie.value="date"},{immediate:!0}),Ue(()=>ie.value,()=>{P==null||P.updatePopper()}),Ue(()=>z.value,Ke=>{Ke&&(_.value=kt())},{immediate:!0}),Ue(()=>l.parsedValue,Ke=>{if(Ke){if(ue.value==="dates"||ue.value==="years"||Array.isArray(Ke))return;_.value=Ke}else _.value=kt()},{immediate:!0}),o("set-picker-option",["isValidValue",Mt]),o("set-picker-option",["formatToString",Nt]),o("set-picker-option",["parseUserInput",Ge]),o("set-picker-option",["handleFocusPicker",Ht]),(Ke,wt)=>(Y(),fe("div",{class:Z([v(d).b(),v(p).b(),{"has-sidebar":Ke.$slots.sidebar||v(Ce),"has-time":v(Le)}])},[pe("div",{class:Z(v(d).e("body-wrapper"))},[ze(Ke.$slots,"sidebar",{class:Z(v(d).e("sidebar"))}),v(Ce)?(Y(),fe("div",{key:0,class:Z(v(d).e("sidebar"))},[(Y(!0),fe($t,null,Rn(v(A),(it,$e)=>(Y(),fe("button",{key:$e,type:"button",class:Z(v(d).e("shortcut")),onClick:et=>te(it)},dt(it.text),11,X_))),128))],2)):De("v-if",!0),pe("div",{class:Z(v(d).e("body"))},[v(Le)?(Y(),fe("div",{key:0,class:Z(v(p).e("time-header"))},[pe("span",{class:Z(v(p).e("editor-wrap"))},[ye(v(bs),{placeholder:v(w)("el.datepicker.selectDate"),"model-value":v(We),size:"small","validate-event":!1,onInput:wt[0]||(wt[0]=it=>ee.value=it),onChange:qe},null,8,["placeholder","model-value"])],2),ln((Y(),fe("span",{class:Z(v(p).e("editor-wrap"))},[ye(v(bs),{placeholder:v(w)("el.datepicker.selectTime"),"model-value":v(Ee),size:"small","validate-event":!1,onFocus:He,onInput:wt[1]||(wt[1]=it=>Q.value=it),onChange:ht},null,8,["placeholder","model-value"]),ye(v(Md),{visible:ot.value,format:v(mt),"parsed-value":_.value,onPick:rt},null,8,["visible","format","parsed-value"])],2)),[[v(Er),Je]])],2)):De("v-if",!0),ln(pe("div",{class:Z([v(p).e("header"),(ie.value==="year"||ie.value==="month")&&v(p).e("header--bordered")])},[pe("span",{class:Z(v(p).e("prev-btn"))},[pe("button",{type:"button","aria-label":v(w)("el.datepicker.prevYear"),class:Z(["d-arrow-left",v(d).e("icon-btn")]),onClick:wt[2]||(wt[2]=it=>ae(!1))},[ye(v(Et),null,{default:Te(()=>[ye(v(nu))]),_:1})],10,Z_),ln(pe("button",{type:"button","aria-label":v(w)("el.datepicker.prevMonth"),class:Z([v(d).e("icon-btn"),"arrow-left"]),onClick:wt[3]||(wt[3]=it=>me(!1))},[ye(v(Et),null,{default:Te(()=>[ye(v(ba))]),_:1})],10,J_),[[$n,ie.value==="date"]])],2),pe("span",{role:"button",class:Z(v(p).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:wt[4]||(wt[4]=Yn(it=>tt("year"),["enter"])),onClick:wt[5]||(wt[5]=it=>tt("year"))},dt(v(re)),35),ln(pe("span",{role:"button","aria-live":"polite",tabindex:"0",class:Z([v(p).e("header-label"),{active:ie.value==="month"}]),onKeydown:wt[6]||(wt[6]=Yn(it=>tt("month"),["enter"])),onClick:wt[7]||(wt[7]=it=>tt("month"))},dt(v(w)(`el.datepicker.month${v(G)+1}`)),35),[[$n,ie.value==="date"]]),pe("span",{class:Z(v(p).e("next-btn"))},[ln(pe("button",{type:"button","aria-label":v(w)("el.datepicker.nextMonth"),class:Z([v(d).e("icon-btn"),"arrow-right"]),onClick:wt[8]||(wt[8]=it=>me(!0))},[ye(v(Et),null,{default:Te(()=>[ye(v(Ts))]),_:1})],10,Q_),[[$n,ie.value==="date"]]),pe("button",{type:"button","aria-label":v(w)("el.datepicker.nextYear"),class:Z([v(d).e("icon-btn"),"d-arrow-right"]),onClick:wt[9]||(wt[9]=it=>ae(!0))},[ye(v(Et),null,{default:Te(()=>[ye(v(iu))]),_:1})],10,eK)],2)],2),[[$n,ie.value!=="time"]]),pe("div",{class:Z(v(d).e("content")),onKeydown:bn},[ie.value==="date"?(Y(),Ie(Rg,{key:0,ref_key:"currentViewRef",ref:T,"selection-mode":v(ue),date:_.value,"parsed-value":Ke.parsedValue,"disabled-date":v(O),"cell-class-name":v(R),onPick:ve},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):De("v-if",!0),ie.value==="year"?(Y(),Ie(Y_,{key:1,ref_key:"currentViewRef",ref:T,"selection-mode":v(ue),date:_.value,"disabled-date":v(O),"parsed-value":Ke.parsedValue,onPick:Be},null,8,["selection-mode","date","disabled-date","parsed-value"])):De("v-if",!0),ie.value==="month"?(Y(),Ie(Ig,{key:2,ref_key:"currentViewRef",ref:T,date:_.value,"parsed-value":Ke.parsedValue,"disabled-date":v(O),onPick:Ne},null,8,["date","parsed-value","disabled-date"])):De("v-if",!0)],34)],2)],2),ln(pe("div",{class:Z(v(d).e("footer"))},[ln(ye(v(Zi),{text:"",size:"small",class:Z(v(d).e("link-btn")),disabled:v(Ye),onClick:Ze},{default:Te(()=>[Tn(dt(v(w)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[$n,v(ue)!=="dates"&&v(ue)!=="years"]]),ye(v(Zi),{plain:"",size:"small",class:Z(v(d).e("link-btn")),disabled:v(Fe),onClick:gt},{default:Te(()=>[Tn(dt(v(w)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[$n,v(_e)]])],2))}});var nK=ct(tK,[["__file","panel-date-pick.vue"]]);const iK=lt({...Ik,...Fk}),sK=i=>{const{emit:o}=pn(),l=cl(),c=Qi();return p=>{const g=Xt(p.value)?p.value():p.value;if(g){o("pick",[vn(g[0]).locale(i.value),vn(g[1]).locale(i.value)]);return}p.onClick&&p.onClick({attrs:l,slots:c,emit:o})}},$k=(i,{defaultValue:o,leftDate:l,rightDate:c,unit:d,onParsedValueChanged:p})=>{const{emit:g}=pn(),{pickerNs:b}=Tt(R0),w=Qe("date-range-picker"),{t:M,lang:C}=Bn(),P=sK(C),A=ne(),O=ne(),R=ne({endDate:null,selecting:!1}),N=I=>{R.value=I},z=(I=!1)=>{const K=v(A),B=v(O);Dg([K,B])&&g("pick",[K,B],I)},T=I=>{R.value.selecting=I,I||(R.value.endDate=null)},_=()=>{const[I,K]=Bk(v(o),{lang:v(C),unit:d,unlinkPanels:i.unlinkPanels});A.value=void 0,O.value=void 0,l.value=I,c.value=K};return Ue(o,I=>{I&&_()},{immediate:!0}),Ue(()=>i.parsedValue,I=>{if(St(I)&&I.length===2){const[K,B]=I;A.value=K,l.value=K,O.value=B,p(v(A),v(O))}else _()},{immediate:!0}),{minDate:A,maxDate:O,rangeState:R,lang:C,ppNs:b,drpNs:w,handleChangeRange:N,handleRangeConfirm:z,handleShortcutClick:P,onSelect:T,t:M}},oK=["onClick"],rK=["aria-label"],aK=["aria-label"],lK=["disabled","aria-label"],uK=["disabled","aria-label"],cK=["disabled","aria-label"],hK=["disabled","aria-label"],dK=["aria-label"],fK=["aria-label"],Th="month",pK=xe({__name:"panel-date-range",props:iK,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(i,{emit:o}){const l=i,c=Tt("EP_PICKER_BASE"),{disabledDate:d,cellClassName:p,defaultTime:g,clearable:b}=c.props,w=Gn(c.props,"format"),M=Gn(c.props,"shortcuts"),C=Gn(c.props,"defaultValue"),{lang:P}=Bn(),A=ne(vn().locale(P.value)),O=ne(vn().locale(P.value).add(1,Th)),{minDate:R,maxDate:N,rangeState:z,ppNs:T,drpNs:_,handleChangeRange:I,handleRangeConfirm:K,handleShortcutClick:B,onSelect:G,t:$}=$k(l,{defaultValue:C,leftDate:A,rightDate:O,unit:Th,onParsedValueChanged:wt}),J=ne({min:null,max:null}),ee=ne({min:null,max:null}),Q=j(()=>`${A.value.year()} ${$("el.datepicker.year")} ${$(`el.datepicker.month${A.value.month()+1}`)}`),X=j(()=>`${O.value.year()} ${$("el.datepicker.year")} ${$(`el.datepicker.month${O.value.month()+1}`)}`),se=j(()=>A.value.year()),de=j(()=>A.value.month()),ve=j(()=>O.value.year()),me=j(()=>O.value.month()),ae=j(()=>!!M.value.length),ie=j(()=>J.value.min!==null?J.value.min:R.value?R.value.format(Ce.value):""),re=j(()=>J.value.max!==null?J.value.max:N.value||R.value?(N.value||R.value).format(Ce.value):""),te=j(()=>ee.value.min!==null?ee.value.min:R.value?R.value.format(be.value):""),ue=j(()=>ee.value.max!==null?ee.value.max:N.value||R.value?(N.value||R.value).format(be.value):""),be=j(()=>l.timeFormat||_S(w.value)),Ce=j(()=>l.dateFormat||zS(w.value)),Ne=it=>Dg(it)&&(d?!d(it[0].toDate())&&!d(it[1].toDate()):!0),Be=()=>{A.value=A.value.subtract(1,"year"),l.unlinkPanels||(O.value=A.value.add(1,"month")),mt("year")},tt=()=>{A.value=A.value.subtract(1,"month"),l.unlinkPanels||(O.value=A.value.add(1,"month")),mt("month")},Le=()=>{l.unlinkPanels?O.value=O.value.add(1,"year"):(A.value=A.value.add(1,"year"),O.value=A.value.add(1,"month")),mt("year")},_e=()=>{l.unlinkPanels?O.value=O.value.add(1,"month"):(A.value=A.value.add(1,"month"),O.value=A.value.add(1,"month")),mt("month")},Fe=()=>{A.value=A.value.add(1,"year"),mt("year")},gt=()=>{A.value=A.value.add(1,"month"),mt("month")},Ye=()=>{O.value=O.value.subtract(1,"year"),mt("year")},Ze=()=>{O.value=O.value.subtract(1,"month"),mt("month")},mt=it=>{o("panel-change",[A.value.toDate(),O.value.toDate()],it)},Me=j(()=>{const it=(de.value+1)%12,$e=de.value+1>=12?1:0;return l.unlinkPanels&&new Date(se.value+$e,it)<new Date(ve.value,me.value)}),Ee=j(()=>l.unlinkPanels&&ve.value*12+me.value-(se.value*12+de.value+1)>=12),We=j(()=>!(R.value&&N.value&&!z.value.selecting&&Dg([R.value,N.value]))),ot=j(()=>l.type==="datetime"||l.type==="datetimerange"),He=(it,$e)=>{if(it)return g?vn(g[$e]||g).locale(P.value).year(it.year()).month(it.month()).date(it.date()):it},Je=(it,$e=!0)=>{const et=it.minDate,st=it.maxDate,Ve=He(et,0),Lt=He(st,1);N.value===Lt&&R.value===Ve||(o("calendar-change",[et.toDate(),st&&st.toDate()]),N.value=Lt,R.value=Ve,!(!$e||ot.value)&&K())},nt=ne(!1),rt=ne(!1),ht=()=>{nt.value=!1},qe=()=>{rt.value=!1},Mt=(it,$e)=>{J.value[$e]=it;const et=vn(it,Ce.value).locale(P.value);if(et.isValid()){if(d&&d(et.toDate()))return;$e==="min"?(A.value=et,R.value=(R.value||A.value).year(et.year()).month(et.month()).date(et.date()),!l.unlinkPanels&&(!N.value||N.value.isBefore(R.value))&&(O.value=et.add(1,"month"),N.value=R.value.add(1,"month"))):(O.value=et,N.value=(N.value||O.value).year(et.year()).month(et.month()).date(et.date()),!l.unlinkPanels&&(!R.value||R.value.isAfter(N.value))&&(A.value=et.subtract(1,"month"),R.value=N.value.subtract(1,"month")))}},Nt=(it,$e)=>{J.value[$e]=null},Ge=(it,$e)=>{ee.value[$e]=it;const et=vn(it,be.value).locale(P.value);et.isValid()&&($e==="min"?(nt.value=!0,R.value=(R.value||A.value).hour(et.hour()).minute(et.minute()).second(et.second())):(rt.value=!0,N.value=(N.value||O.value).hour(et.hour()).minute(et.minute()).second(et.second()),O.value=N.value))},kt=(it,$e)=>{ee.value[$e]=null,$e==="min"?(A.value=R.value,nt.value=!1,(!N.value||N.value.isBefore(R.value))&&(N.value=R.value)):(O.value=N.value,rt.value=!1,N.value&&N.value.isBefore(R.value)&&(R.value=N.value))},Ht=(it,$e,et)=>{ee.value.min||(it&&(A.value=it,R.value=(R.value||A.value).hour(it.hour()).minute(it.minute()).second(it.second())),et||(nt.value=$e),(!N.value||N.value.isBefore(R.value))&&(N.value=R.value,O.value=it))},bn=(it,$e,et)=>{ee.value.max||(it&&(O.value=it,N.value=(N.value||O.value).hour(it.hour()).minute(it.minute()).second(it.second())),et||(rt.value=$e),N.value&&N.value.isBefore(R.value)&&(R.value=N.value))},hn=()=>{A.value=Bk(v(C),{lang:v(P),unit:"month",unlinkPanels:l.unlinkPanels})[0],O.value=A.value.add(1,"month"),N.value=void 0,R.value=void 0,o("pick",null)},Vt=it=>St(it)?it.map($e=>$e.format(w.value)):it.format(w.value),Ke=it=>St(it)?it.map($e=>vn($e,w.value).locale(P.value)):vn(it,w.value).locale(P.value);function wt(it,$e){if(l.unlinkPanels&&$e){const et=(it==null?void 0:it.year())||0,st=(it==null?void 0:it.month())||0,Ve=$e.year(),Lt=$e.month();O.value=et===Ve&&st===Lt?$e.add(1,Th):$e}else O.value=A.value.add(1,Th),$e&&(O.value=O.value.hour($e.hour()).minute($e.minute()).second($e.second()))}return o("set-picker-option",["isValidValue",Ne]),o("set-picker-option",["parseUserInput",Ke]),o("set-picker-option",["formatToString",Vt]),o("set-picker-option",["handleClear",hn]),(it,$e)=>(Y(),fe("div",{class:Z([v(T).b(),v(_).b(),{"has-sidebar":it.$slots.sidebar||v(ae),"has-time":v(ot)}])},[pe("div",{class:Z(v(T).e("body-wrapper"))},[ze(it.$slots,"sidebar",{class:Z(v(T).e("sidebar"))}),v(ae)?(Y(),fe("div",{key:0,class:Z(v(T).e("sidebar"))},[(Y(!0),fe($t,null,Rn(v(M),(et,st)=>(Y(),fe("button",{key:st,type:"button",class:Z(v(T).e("shortcut")),onClick:Ve=>v(B)(et)},dt(et.text),11,oK))),128))],2)):De("v-if",!0),pe("div",{class:Z(v(T).e("body"))},[v(ot)?(Y(),fe("div",{key:0,class:Z(v(_).e("time-header"))},[pe("span",{class:Z(v(_).e("editors-wrap"))},[pe("span",{class:Z(v(_).e("time-picker-wrap"))},[ye(v(bs),{size:"small",disabled:v(z).selecting,placeholder:v($)("el.datepicker.startDate"),class:Z(v(_).e("editor")),"model-value":v(ie),"validate-event":!1,onInput:$e[0]||($e[0]=et=>Mt(et,"min")),onChange:$e[1]||($e[1]=et=>Nt(et,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),ln((Y(),fe("span",{class:Z(v(_).e("time-picker-wrap"))},[ye(v(bs),{size:"small",class:Z(v(_).e("editor")),disabled:v(z).selecting,placeholder:v($)("el.datepicker.startTime"),"model-value":v(te),"validate-event":!1,onFocus:$e[2]||($e[2]=et=>nt.value=!0),onInput:$e[3]||($e[3]=et=>Ge(et,"min")),onChange:$e[4]||($e[4]=et=>kt(et,"min"))},null,8,["class","disabled","placeholder","model-value"]),ye(v(Md),{visible:nt.value,format:v(be),"datetime-role":"start","parsed-value":A.value,onPick:Ht},null,8,["visible","format","parsed-value"])],2)),[[v(Er),ht]])],2),pe("span",null,[ye(v(Et),null,{default:Te(()=>[ye(v(Ts))]),_:1})]),pe("span",{class:Z([v(_).e("editors-wrap"),"is-right"])},[pe("span",{class:Z(v(_).e("time-picker-wrap"))},[ye(v(bs),{size:"small",class:Z(v(_).e("editor")),disabled:v(z).selecting,placeholder:v($)("el.datepicker.endDate"),"model-value":v(re),readonly:!v(R),"validate-event":!1,onInput:$e[5]||($e[5]=et=>Mt(et,"max")),onChange:$e[6]||($e[6]=et=>Nt(et,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),ln((Y(),fe("span",{class:Z(v(_).e("time-picker-wrap"))},[ye(v(bs),{size:"small",class:Z(v(_).e("editor")),disabled:v(z).selecting,placeholder:v($)("el.datepicker.endTime"),"model-value":v(ue),readonly:!v(R),"validate-event":!1,onFocus:$e[7]||($e[7]=et=>v(R)&&(rt.value=!0)),onInput:$e[8]||($e[8]=et=>Ge(et,"max")),onChange:$e[9]||($e[9]=et=>kt(et,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ye(v(Md),{"datetime-role":"end",visible:rt.value,format:v(be),"parsed-value":O.value,onPick:bn},null,8,["visible","format","parsed-value"])],2)),[[v(Er),qe]])],2)],2)):De("v-if",!0),pe("div",{class:Z([[v(T).e("content"),v(_).e("content")],"is-left"])},[pe("div",{class:Z(v(_).e("header"))},[pe("button",{type:"button",class:Z([v(T).e("icon-btn"),"d-arrow-left"]),"aria-label":v($)("el.datepicker.prevYear"),onClick:Be},[ye(v(Et),null,{default:Te(()=>[ye(v(nu))]),_:1})],10,rK),pe("button",{type:"button",class:Z([v(T).e("icon-btn"),"arrow-left"]),"aria-label":v($)("el.datepicker.prevMonth"),onClick:tt},[ye(v(Et),null,{default:Te(()=>[ye(v(ba))]),_:1})],10,aK),it.unlinkPanels?(Y(),fe("button",{key:0,type:"button",disabled:!v(Ee),class:Z([[v(T).e("icon-btn"),{"is-disabled":!v(Ee)}],"d-arrow-right"]),"aria-label":v($)("el.datepicker.nextYear"),onClick:Fe},[ye(v(Et),null,{default:Te(()=>[ye(v(iu))]),_:1})],10,lK)):De("v-if",!0),it.unlinkPanels?(Y(),fe("button",{key:1,type:"button",disabled:!v(Me),class:Z([[v(T).e("icon-btn"),{"is-disabled":!v(Me)}],"arrow-right"]),"aria-label":v($)("el.datepicker.nextMonth"),onClick:gt},[ye(v(Et),null,{default:Te(()=>[ye(v(Ts))]),_:1})],10,uK)):De("v-if",!0),pe("div",null,dt(v(Q)),1)],2),ye(Rg,{"selection-mode":"range",date:A.value,"min-date":v(R),"max-date":v(N),"range-state":v(z),"disabled-date":v(d),"cell-class-name":v(p),onChangerange:v(I),onPick:Je,onSelect:v(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),pe("div",{class:Z([[v(T).e("content"),v(_).e("content")],"is-right"])},[pe("div",{class:Z(v(_).e("header"))},[it.unlinkPanels?(Y(),fe("button",{key:0,type:"button",disabled:!v(Ee),class:Z([[v(T).e("icon-btn"),{"is-disabled":!v(Ee)}],"d-arrow-left"]),"aria-label":v($)("el.datepicker.prevYear"),onClick:Ye},[ye(v(Et),null,{default:Te(()=>[ye(v(nu))]),_:1})],10,cK)):De("v-if",!0),it.unlinkPanels?(Y(),fe("button",{key:1,type:"button",disabled:!v(Me),class:Z([[v(T).e("icon-btn"),{"is-disabled":!v(Me)}],"arrow-left"]),"aria-label":v($)("el.datepicker.prevMonth"),onClick:Ze},[ye(v(Et),null,{default:Te(()=>[ye(v(ba))]),_:1})],10,hK)):De("v-if",!0),pe("button",{type:"button","aria-label":v($)("el.datepicker.nextYear"),class:Z([v(T).e("icon-btn"),"d-arrow-right"]),onClick:Le},[ye(v(Et),null,{default:Te(()=>[ye(v(iu))]),_:1})],10,dK),pe("button",{type:"button",class:Z([v(T).e("icon-btn"),"arrow-right"]),"aria-label":v($)("el.datepicker.nextMonth"),onClick:_e},[ye(v(Et),null,{default:Te(()=>[ye(v(Ts))]),_:1})],10,fK),pe("div",null,dt(v(X)),1)],2),ye(Rg,{"selection-mode":"range",date:O.value,"min-date":v(R),"max-date":v(N),"range-state":v(z),"disabled-date":v(d),"cell-class-name":v(p),onChangerange:v(I),onPick:Je,onSelect:v(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),v(ot)?(Y(),fe("div",{key:0,class:Z(v(T).e("footer"))},[v(b)?(Y(),Ie(v(Zi),{key:0,text:"",size:"small",class:Z(v(T).e("link-btn")),onClick:hn},{default:Te(()=>[Tn(dt(v($)("el.datepicker.clear")),1)]),_:1},8,["class"])):De("v-if",!0),ye(v(Zi),{plain:"",size:"small",class:Z(v(T).e("link-btn")),disabled:v(We),onClick:$e[10]||($e[10]=et=>v(K)(!1))},{default:Te(()=>[Tn(dt(v($)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):De("v-if",!0)],2))}});var gK=ct(pK,[["__file","panel-date-range.vue"]]);const mK=lt({...Fk}),vK=["pick","set-picker-option","calendar-change"],yK=({unlinkPanels:i,leftDate:o,rightDate:l})=>{const{t:c}=Bn(),d=()=>{o.value=o.value.subtract(1,"year"),i.value||(l.value=l.value.subtract(1,"year"))},p=()=>{i.value||(o.value=o.value.add(1,"year")),l.value=l.value.add(1,"year")},g=()=>{o.value=o.value.add(1,"year")},b=()=>{l.value=l.value.subtract(1,"year")},w=j(()=>`${o.value.year()} ${c("el.datepicker.year")}`),M=j(()=>`${l.value.year()} ${c("el.datepicker.year")}`),C=j(()=>o.value.year()),P=j(()=>l.value.year()===o.value.year()?o.value.year()+1:l.value.year());return{leftPrevYear:d,rightNextYear:p,leftNextYear:g,rightPrevYear:b,leftLabel:w,rightLabel:M,leftYear:C,rightYear:P}},bK=["onClick"],wK=["disabled"],xK=["disabled"],Nh="year",SK=xe({name:"DatePickerMonthRange"}),kK=xe({...SK,props:mK,emits:vK,setup(i,{emit:o}){const l=i,{lang:c}=Bn(),d=Tt("EP_PICKER_BASE"),{shortcuts:p,disabledDate:g}=d.props,b=Gn(d.props,"format"),w=Gn(d.props,"defaultValue"),M=ne(vn().locale(c.value)),C=ne(vn().locale(c.value).add(1,Nh)),{minDate:P,maxDate:A,rangeState:O,ppNs:R,drpNs:N,handleChangeRange:z,handleRangeConfirm:T,handleShortcutClick:_,onSelect:I}=$k(l,{defaultValue:w,leftDate:M,rightDate:C,unit:Nh,onParsedValueChanged:ae}),K=j(()=>!!p.length),{leftPrevYear:B,rightNextYear:G,leftNextYear:$,rightPrevYear:J,leftLabel:ee,rightLabel:Q,leftYear:X,rightYear:se}=yK({unlinkPanels:Gn(l,"unlinkPanels"),leftDate:M,rightDate:C}),de=j(()=>l.unlinkPanels&&se.value>X.value+1),ve=(ie,re=!0)=>{const te=ie.minDate,ue=ie.maxDate;A.value===ue&&P.value===te||(o("calendar-change",[te.toDate(),ue&&ue.toDate()]),A.value=ue,P.value=te,re&&T())},me=ie=>ie.map(re=>re.format(b.value));function ae(ie,re){if(l.unlinkPanels&&re){const te=(ie==null?void 0:ie.year())||0,ue=re.year();C.value=te===ue?re.add(1,Nh):re}else C.value=M.value.add(1,Nh)}return o("set-picker-option",["formatToString",me]),(ie,re)=>(Y(),fe("div",{class:Z([v(R).b(),v(N).b(),{"has-sidebar":!!ie.$slots.sidebar||v(K)}])},[pe("div",{class:Z(v(R).e("body-wrapper"))},[ze(ie.$slots,"sidebar",{class:Z(v(R).e("sidebar"))}),v(K)?(Y(),fe("div",{key:0,class:Z(v(R).e("sidebar"))},[(Y(!0),fe($t,null,Rn(v(p),(te,ue)=>(Y(),fe("button",{key:ue,type:"button",class:Z(v(R).e("shortcut")),onClick:be=>v(_)(te)},dt(te.text),11,bK))),128))],2)):De("v-if",!0),pe("div",{class:Z(v(R).e("body"))},[pe("div",{class:Z([[v(R).e("content"),v(N).e("content")],"is-left"])},[pe("div",{class:Z(v(N).e("header"))},[pe("button",{type:"button",class:Z([v(R).e("icon-btn"),"d-arrow-left"]),onClick:re[0]||(re[0]=(...te)=>v(B)&&v(B)(...te))},[ye(v(Et),null,{default:Te(()=>[ye(v(nu))]),_:1})],2),ie.unlinkPanels?(Y(),fe("button",{key:0,type:"button",disabled:!v(de),class:Z([[v(R).e("icon-btn"),{[v(R).is("disabled")]:!v(de)}],"d-arrow-right"]),onClick:re[1]||(re[1]=(...te)=>v($)&&v($)(...te))},[ye(v(Et),null,{default:Te(()=>[ye(v(iu))]),_:1})],10,wK)):De("v-if",!0),pe("div",null,dt(v(ee)),1)],2),ye(Ig,{"selection-mode":"range",date:M.value,"min-date":v(P),"max-date":v(A),"range-state":v(O),"disabled-date":v(g),onChangerange:v(z),onPick:ve,onSelect:v(I)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),pe("div",{class:Z([[v(R).e("content"),v(N).e("content")],"is-right"])},[pe("div",{class:Z(v(N).e("header"))},[ie.unlinkPanels?(Y(),fe("button",{key:0,type:"button",disabled:!v(de),class:Z([[v(R).e("icon-btn"),{"is-disabled":!v(de)}],"d-arrow-left"]),onClick:re[2]||(re[2]=(...te)=>v(J)&&v(J)(...te))},[ye(v(Et),null,{default:Te(()=>[ye(v(nu))]),_:1})],10,xK)):De("v-if",!0),pe("button",{type:"button",class:Z([v(R).e("icon-btn"),"d-arrow-right"]),onClick:re[3]||(re[3]=(...te)=>v(G)&&v(G)(...te))},[ye(v(Et),null,{default:Te(()=>[ye(v(iu))]),_:1})],2),pe("div",null,dt(v(Q)),1)],2),ye(Ig,{"selection-mode":"range",date:C.value,"min-date":v(P),"max-date":v(A),"range-state":v(O),"disabled-date":v(g),onChangerange:v(z),onPick:ve,onSelect:v(I)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var CK=ct(kK,[["__file","panel-month-range.vue"]]);const MK=function(i){switch(i){case"daterange":case"datetimerange":return gK;case"monthrange":return CK;default:return nK}};vn.extend(ik);vn.extend(u_);vn.extend(E0);vn.extend(h_);vn.extend(f_);vn.extend(g_);vn.extend(v_);vn.extend(b_);var PK=xe({name:"ElDatePicker",install:null,props:w_,emits:["update:modelValue"],setup(i,{expose:o,emit:l,slots:c}){const d=Qe("picker-panel");En("ElPopperOptions",Hn(Gn(i,"popperOptions"))),En(R0,{slots:c,pickerNs:d});const p=ne();o({focus:(w=!0)=>{var M;(M=p.value)==null||M.focus(w)},handleOpen:()=>{var w;(w=p.value)==null||w.handleOpen()},handleClose:()=>{var w;(w=p.value)==null||w.handleClose()}});const b=w=>{l("update:modelValue",w)};return()=>{var w;const M=(w=i.format)!=null?w:e8[i.type]||Dl,C=MK(i.type);return ye(jS,An(i,{format:M,type:i.type,ref:p,"onUpdate:modelValue":b}),{default:P=>ye(C,P,null),"range-separator":c["range-separator"]})}}});const Uh=PK;Uh.install=i=>{i.component(Uh.name,Uh)};const TK=Uh,B0=Symbol("elDescriptions");var Fu=xe({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Tt(B0,{})}},render(){var i,o,l,c,d,p,g;const b=qR(this.cell),w=(((i=this.cell)==null?void 0:i.dirs)||[]).map(B=>{const{dir:G,arg:$,modifiers:J,value:ee}=B;return[G,ee,$,J]}),{border:M,direction:C}=this.descriptions,P=C==="vertical",A=((c=(l=(o=this.cell)==null?void 0:o.children)==null?void 0:l.label)==null?void 0:c.call(l))||b.label,O=(g=(p=(d=this.cell)==null?void 0:d.children)==null?void 0:p.default)==null?void 0:g.call(p),R=b.span,N=b.align?`is-${b.align}`:"",z=b.labelAlign?`is-${b.labelAlign}`:N,T=b.className,_=b.labelClassName,I={width:Si(b.width),minWidth:Si(b.minWidth)},K=Qe("descriptions");switch(this.type){case"label":return ln(jt(this.tag,{style:I,class:[K.e("cell"),K.e("label"),K.is("bordered-label",M),K.is("vertical-label",P),z,_],colSpan:P?R:1},A),w);case"content":return ln(jt(this.tag,{style:I,class:[K.e("cell"),K.e("content"),K.is("bordered-content",M),K.is("vertical-content",P),N,T],colSpan:P?R:R*2-1},O),w);default:return ln(jt("td",{style:I,class:[K.e("cell"),N],colSpan:R},[Xi(A)?void 0:jt("span",{class:[K.e("label"),_]},A),jt("span",{class:[K.e("content"),T]},O)]),w)}}});const NK=lt({row:{type:Ae(Array),default:()=>[]}}),AK={key:1},LK=xe({name:"ElDescriptionsRow"}),EK=xe({...LK,props:NK,setup(i){const o=Tt(B0,{});return(l,c)=>v(o).direction==="vertical"?(Y(),fe($t,{key:0},[pe("tr",null,[(Y(!0),fe($t,null,Rn(l.row,(d,p)=>(Y(),Ie(v(Fu),{key:`tr1-${p}`,cell:d,tag:"th",type:"label"},null,8,["cell"]))),128))]),pe("tr",null,[(Y(!0),fe($t,null,Rn(l.row,(d,p)=>(Y(),Ie(v(Fu),{key:`tr2-${p}`,cell:d,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(Y(),fe("tr",AK,[(Y(!0),fe($t,null,Rn(l.row,(d,p)=>(Y(),fe($t,{key:`tr3-${p}`},[v(o).border?(Y(),fe($t,{key:0},[ye(v(Fu),{cell:d,tag:"td",type:"label"},null,8,["cell"]),ye(v(Fu),{cell:d,tag:"td",type:"content"},null,8,["cell"])],64)):(Y(),Ie(v(Fu),{key:1,cell:d,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var DK=ct(EK,[["__file","descriptions-row.vue"]]);const OK=lt({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ji,title:{type:String,default:""},extra:{type:String,default:""}}),RK=xe({name:"ElDescriptions"}),IK=xe({...RK,props:OK,setup(i){const o=i,l=Qe("descriptions"),c=$i(),d=Qi();En(B0,o);const p=j(()=>[l.b(),l.m(c.value)]),g=(w,M,C,P=!1)=>(w.props||(w.props={}),M>C&&(w.props.span=C),P&&(w.props.span=M),w),b=()=>{if(!d.default)return[];const w=da(d.default()).filter(O=>{var R;return((R=O==null?void 0:O.type)==null?void 0:R.name)==="ElDescriptionsItem"}),M=[];let C=[],P=o.column,A=0;return w.forEach((O,R)=>{var N;const z=((N=O.props)==null?void 0:N.span)||1;if(R<w.length-1&&(A+=z>P?P:z),R===w.length-1){const T=o.column-A%o.column;C.push(g(O,T,P,!0)),M.push(C);return}z<P?(P-=z,C.push(O)):(C.push(g(O,z,P)),M.push(C),P=o.column,C=[])}),M};return(w,M)=>(Y(),fe("div",{class:Z(v(p))},[w.title||w.extra||w.$slots.title||w.$slots.extra?(Y(),fe("div",{key:0,class:Z(v(l).e("header"))},[pe("div",{class:Z(v(l).e("title"))},[ze(w.$slots,"title",{},()=>[Tn(dt(w.title),1)])],2),pe("div",{class:Z(v(l).e("extra"))},[ze(w.$slots,"extra",{},()=>[Tn(dt(w.extra),1)])],2)],2)):De("v-if",!0),pe("div",{class:Z(v(l).e("body"))},[pe("table",{class:Z([v(l).e("table"),v(l).is("bordered",w.border)])},[pe("tbody",null,[(Y(!0),fe($t,null,Rn(b(),(C,P)=>(Y(),Ie(DK,{key:P,row:C},null,8,["row"]))),128))])],2)],2)],2))}});var FK=ct(IK,[["__file","description.vue"]]);const BK=lt({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),Vk=xe({name:"ElDescriptionsItem",props:BK}),$K=gn(FK,{DescriptionsItem:Vk}),VK=gi(Vk),zK=lt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Ae([String,Array,Object])},zIndex:{type:Ae([String,Number])}}),_K={click:i=>i instanceof MouseEvent},KK="overlay";var HK=xe({name:"ElOverlay",props:zK,emits:_K,setup(i,{slots:o,emit:l}){const c=Qe(KK),d=w=>{l("click",w)},{onClick:p,onMousedown:g,onMouseup:b}=g0(i.customMaskEvent?void 0:d);return()=>i.mask?ye("div",{class:[c.b(),i.overlayClass],style:{zIndex:i.zIndex},onClick:p,onMousedown:g,onMouseup:b},[ze(o,"default")],fo.STYLE|fo.CLASS|fo.PROPS,["onClick","onMouseup","onMousedown"]):jt("div",{class:i.overlayClass,style:{zIndex:i.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[ze(o,"default")])}});const $0=HK,zk=Symbol("dialogInjectionKey"),_k=lt({center:Boolean,alignCenter:Boolean,closeIcon:{type:Xn},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),jK={close:()=>!0},qK=["aria-level"],GK=["aria-label"],WK=["id"],UK=xe({name:"ElDialogContent"}),YK=xe({...UK,props:_k,emits:jK,setup(i){const o=i,{t:l}=Bn(),{Close:c}=e0,{dialogRef:d,headerRef:p,bodyId:g,ns:b,style:w}=Tt(zk),{focusTrapRef:M}=Tt(N0),C=j(()=>[b.b(),b.is("fullscreen",o.fullscreen),b.is("draggable",o.draggable),b.is("align-center",o.alignCenter),{[b.m("center")]:o.center}]),P=rf(M,d),A=j(()=>o.draggable),O=j(()=>o.overflow);return Ix(d,p,A,O),(R,N)=>(Y(),fe("div",{ref:v(P),class:Z(v(C)),style:Ft(v(w)),tabindex:"-1"},[pe("header",{ref_key:"headerRef",ref:p,class:Z([v(b).e("header"),{"show-close":R.showClose}])},[ze(R.$slots,"header",{},()=>[pe("span",{role:"heading","aria-level":R.ariaLevel,class:Z(v(b).e("title"))},dt(R.title),11,qK)]),R.showClose?(Y(),fe("button",{key:0,"aria-label":v(l)("el.dialog.close"),class:Z(v(b).e("headerbtn")),type:"button",onClick:N[0]||(N[0]=z=>R.$emit("close"))},[ye(v(Et),{class:Z(v(b).e("close"))},{default:Te(()=>[(Y(),Ie(kn(R.closeIcon||v(c))))]),_:1},8,["class"])],10,GK)):De("v-if",!0)],2),pe("div",{id:v(g),class:Z(v(b).e("body"))},[ze(R.$slots,"default")],10,WK),R.$slots.footer?(Y(),fe("footer",{key:0,class:Z(v(b).e("footer"))},[ze(R.$slots,"footer")],2)):De("v-if",!0)],6))}});var XK=ct(YK,[["__file","dialog-content.vue"]]);const Kk=lt({..._k,appendToBody:Boolean,appendTo:{type:Ae(String),default:"body"},beforeClose:{type:Ae(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Hk={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[wn]:i=>Ii(i),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},jk=(i,o)=>{var l;const d=pn().emit,{nextZIndex:p}=Su();let g="";const b=hs(),w=hs(),M=ne(!1),C=ne(!1),P=ne(!1),A=ne((l=i.zIndex)!=null?l:p());let O,R;const N=Wc("namespace",Qu),z=j(()=>{const me={},ae=`--${N.value}-dialog`;return i.fullscreen||(i.top&&(me[`${ae}-margin-top`]=i.top),i.width&&(me[`${ae}-width`]=Si(i.width))),me}),T=j(()=>i.alignCenter?{display:"flex"}:{});function _(){d("opened")}function I(){d("closed"),d(wn,!1),i.destroyOnClose&&(P.value=!1)}function K(){d("close")}function B(){R==null||R(),O==null||O(),i.openDelay&&i.openDelay>0?{stop:O}=nl(()=>ee(),i.openDelay):ee()}function G(){O==null||O(),R==null||R(),i.closeDelay&&i.closeDelay>0?{stop:R}=nl(()=>Q(),i.closeDelay):Q()}function $(){function me(ae){ae||(C.value=!0,M.value=!1)}i.beforeClose?i.beforeClose(me):G()}function J(){i.closeOnClickModal&&$()}function ee(){In&&(M.value=!0)}function Q(){M.value=!1}function X(){d("openAutoFocus")}function se(){d("closeAutoFocus")}function de(me){var ae;((ae=me.detail)==null?void 0:ae.focusReason)==="pointer"&&me.preventDefault()}i.lockScroll&&r0(M);function ve(){i.closeOnPressEscape&&$()}return Ue(()=>i.modelValue,me=>{me?(C.value=!1,B(),P.value=!0,A.value=Sx(i.zIndex)?p():A.value++,Kt(()=>{d("open"),o.value&&(o.value.scrollTop=0)})):M.value&&G()}),Ue(()=>i.fullscreen,me=>{o.value&&(me?(g=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=g)}),un(()=>{i.modelValue&&(M.value=!0,P.value=!0,B())}),{afterEnter:_,afterLeave:I,beforeLeave:K,handleClose:$,onModalClick:J,close:G,doClose:Q,onOpenAutoFocus:X,onCloseAutoFocus:se,onCloseRequested:ve,onFocusoutPrevented:de,titleId:b,bodyId:w,closed:C,style:z,overlayDialogStyle:T,rendered:P,visible:M,zIndex:A}},ZK=["aria-label","aria-labelledby","aria-describedby"],JK=xe({name:"ElDialog",inheritAttrs:!1}),QK=xe({...JK,props:Kk,emits:Hk,setup(i,{expose:o}){const l=i,c=Qi();qi({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},j(()=>!!c.title));const d=Qe("dialog"),p=ne(),g=ne(),b=ne(),{visible:w,titleId:M,bodyId:C,style:P,overlayDialogStyle:A,rendered:O,zIndex:R,afterEnter:N,afterLeave:z,beforeLeave:T,handleClose:_,onModalClick:I,onOpenAutoFocus:K,onCloseAutoFocus:B,onCloseRequested:G,onFocusoutPrevented:$}=jk(l,p);En(zk,{dialogRef:p,headerRef:g,bodyId:C,ns:d,rendered:O,style:P});const J=g0(I),ee=j(()=>l.draggable&&!l.fullscreen);return o({visible:w,dialogContentRef:b}),(Q,X)=>(Y(),Ie(mu,{to:Q.appendTo,disabled:Q.appendTo!=="body"?!1:!Q.appendToBody},[ye(Ki,{name:"dialog-fade",onAfterEnter:v(N),onAfterLeave:v(z),onBeforeLeave:v(T),persisted:""},{default:Te(()=>[ln(ye(v($0),{"custom-mask-event":"",mask:Q.modal,"overlay-class":Q.modalClass,"z-index":v(R)},{default:Te(()=>[pe("div",{role:"dialog","aria-modal":"true","aria-label":Q.title||void 0,"aria-labelledby":Q.title?void 0:v(M),"aria-describedby":v(C),class:Z(`${v(d).namespace.value}-overlay-dialog`),style:Ft(v(A)),onClick:X[0]||(X[0]=(...se)=>v(J).onClick&&v(J).onClick(...se)),onMousedown:X[1]||(X[1]=(...se)=>v(J).onMousedown&&v(J).onMousedown(...se)),onMouseup:X[2]||(X[2]=(...se)=>v(J).onMouseup&&v(J).onMouseup(...se))},[ye(v(Yc),{loop:"",trapped:v(w),"focus-start-el":"container",onFocusAfterTrapped:v(K),onFocusAfterReleased:v(B),onFocusoutPrevented:v($),onReleaseRequested:v(G)},{default:Te(()=>[v(O)?(Y(),Ie(XK,An({key:0,ref_key:"dialogContentRef",ref:b},Q.$attrs,{center:Q.center,"align-center":Q.alignCenter,"close-icon":Q.closeIcon,draggable:v(ee),overflow:Q.overflow,fullscreen:Q.fullscreen,"show-close":Q.showClose,title:Q.title,"aria-level":Q.headerAriaLevel,onClose:v(_)}),Nr({header:Te(()=>[Q.$slots.title?ze(Q.$slots,"title",{key:1}):ze(Q.$slots,"header",{key:0,close:v(_),titleId:v(M),titleClass:v(d).e("title")})]),default:Te(()=>[ze(Q.$slots,"default")]),_:2},[Q.$slots.footer?{name:"footer",fn:Te(()=>[ze(Q.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):De("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ZK)]),_:3},8,["mask","overlay-class","z-index"]),[[$n,v(w)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var eH=ct(QK,[["__file","dialog.vue"]]);const tH=gn(eH),nH=lt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Ae(String),default:"solid"}}),iH=xe({name:"ElDivider"}),sH=xe({...iH,props:nH,setup(i){const o=i,l=Qe("divider"),c=j(()=>l.cssVar({"border-style":o.borderStyle}));return(d,p)=>(Y(),fe("div",{class:Z([v(l).b(),v(l).m(d.direction)]),style:Ft(v(c)),role:"separator"},[d.$slots.default&&d.direction!=="vertical"?(Y(),fe("div",{key:0,class:Z([v(l).e("text"),v(l).is(d.contentPosition)])},[ze(d.$slots,"default")],2)):De("v-if",!0)],6))}});var oH=ct(sH,[["__file","divider.vue"]]);const qk=gn(oH),rH=lt({...Kk,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),aH=Hk,lH=["aria-label","aria-labelledby","aria-describedby"],uH=["id","aria-level"],cH=["aria-label"],hH=["id"],dH=xe({name:"ElDrawer",inheritAttrs:!1}),fH=xe({...dH,props:rH,emits:aH,setup(i,{expose:o}){const l=i,c=Qi();qi({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},j(()=>!!c.title));const d=ne(),p=ne(),g=Qe("drawer"),{t:b}=Bn(),{afterEnter:w,afterLeave:M,beforeLeave:C,visible:P,rendered:A,titleId:O,bodyId:R,zIndex:N,onModalClick:z,onOpenAutoFocus:T,onCloseAutoFocus:_,onFocusoutPrevented:I,onCloseRequested:K,handleClose:B}=jk(l,d),G=j(()=>l.direction==="rtl"||l.direction==="ltr"),$=j(()=>Si(l.size));return o({handleClose:B,afterEnter:w,afterLeave:M}),(J,ee)=>(Y(),Ie(mu,{to:"body",disabled:!J.appendToBody},[ye(Ki,{name:v(g).b("fade"),onAfterEnter:v(w),onAfterLeave:v(M),onBeforeLeave:v(C),persisted:""},{default:Te(()=>[ln(ye(v($0),{mask:J.modal,"overlay-class":J.modalClass,"z-index":v(N),onClick:v(z)},{default:Te(()=>[ye(v(Yc),{loop:"",trapped:v(P),"focus-trap-el":d.value,"focus-start-el":p.value,onFocusAfterTrapped:v(T),onFocusAfterReleased:v(_),onFocusoutPrevented:v(I),onReleaseRequested:v(K)},{default:Te(()=>[pe("div",An({ref_key:"drawerRef",ref:d,"aria-modal":"true","aria-label":J.title||void 0,"aria-labelledby":J.title?void 0:v(O),"aria-describedby":v(R)},J.$attrs,{class:[v(g).b(),J.direction,v(P)&&"open"],style:v(G)?"width: "+v($):"height: "+v($),role:"dialog",onClick:ee[1]||(ee[1]=en(()=>{},["stop"]))}),[pe("span",{ref_key:"focusStartRef",ref:p,class:Z(v(g).e("sr-focus")),tabindex:"-1"},null,2),J.withHeader?(Y(),fe("header",{key:0,class:Z(v(g).e("header"))},[J.$slots.title?ze(J.$slots,"title",{key:1},()=>[De(" DEPRECATED SLOT ")]):ze(J.$slots,"header",{key:0,close:v(B),titleId:v(O),titleClass:v(g).e("title")},()=>[J.$slots.title?De("v-if",!0):(Y(),fe("span",{key:0,id:v(O),role:"heading","aria-level":J.headerAriaLevel,class:Z(v(g).e("title"))},dt(J.title),11,uH))]),J.showClose?(Y(),fe("button",{key:2,"aria-label":v(b)("el.drawer.close"),class:Z(v(g).e("close-btn")),type:"button",onClick:ee[0]||(ee[0]=(...Q)=>v(B)&&v(B)(...Q))},[ye(v(Et),{class:Z(v(g).e("close"))},{default:Te(()=>[ye(v(_o))]),_:1},8,["class"])],10,cH)):De("v-if",!0)],2)):De("v-if",!0),v(A)?(Y(),fe("div",{key:1,id:v(R),class:Z(v(g).e("body"))},[ze(J.$slots,"default")],10,hH)):De("v-if",!0),J.$slots.footer?(Y(),fe("div",{key:2,class:Z(v(g).e("footer"))},[ze(J.$slots,"footer")],2)):De("v-if",!0)],16,lH)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[$n,v(P)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var pH=ct(fH,[["__file","drawer.vue"]]);const gH=gn(pH),mH=xe({inheritAttrs:!1});function vH(i,o,l,c,d,p){return ze(i.$slots,"default")}var yH=ct(mH,[["render",vH],["__file","collection.vue"]]);const bH=xe({name:"ElCollectionItem",inheritAttrs:!1});function wH(i,o,l,c,d,p){return ze(i.$slots,"default")}var xH=ct(bH,[["render",wH],["__file","collection-item.vue"]]);const Gk="data-el-collection-item",Wk=i=>{const o=`El${i}Collection`,l=`${o}Item`,c=Symbol(o),d=Symbol(l),p={...yH,name:o,setup(){const b=ne(null),w=new Map;En(c,{itemMap:w,getItems:()=>{const C=v(b);if(!C)return[];const P=Array.from(C.querySelectorAll(`[${Gk}]`));return[...w.values()].sort((O,R)=>P.indexOf(O.ref)-P.indexOf(R.ref))},collectionRef:b})}},g={...xH,name:l,setup(b,{attrs:w}){const M=ne(null),C=Tt(c,void 0);En(d,{collectionItemRef:M}),un(()=>{const P=v(M);P&&C.itemMap.set(P,{ref:P,...w})}),ei(()=>{const P=v(M);C.itemMap.delete(P)})}};return{COLLECTION_INJECTION_KEY:c,COLLECTION_ITEM_INJECTION_KEY:d,ElCollection:p,ElCollectionItem:g}},SH=lt({style:{type:Ae([String,Array,Object])},currentTabId:{type:Ae(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Ae(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:kH,ElCollectionItem:CH,COLLECTION_INJECTION_KEY:V0,COLLECTION_ITEM_INJECTION_KEY:MH}=Wk("RovingFocusGroup"),z0=Symbol("elRovingFocusGroup"),Uk=Symbol("elRovingFocusGroupItem"),PH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},TH=(i,o)=>i,NH=(i,o,l)=>{const c=TH(i.key);return PH[c]},AH=(i,o)=>i.map((l,c)=>i[(c+o)%i.length]),_0=i=>{const{activeElement:o}=document;for(const l of i)if(l===o||(l.focus(),o!==document.activeElement))return},N1="currentTabIdChange",A1="rovingFocusGroup.entryFocus",LH={bubbles:!1,cancelable:!0},EH=xe({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:SH,emits:[N1,"entryFocus"],setup(i,{emit:o}){var l;const c=ne((l=i.currentTabId||i.defaultCurrentTabId)!=null?l:null),d=ne(!1),p=ne(!1),g=ne(null),{getItems:b}=Tt(V0,void 0),w=j(()=>[{outline:"none"},i.style]),M=N=>{o(N1,N)},C=()=>{d.value=!0},P=xi(N=>{var z;(z=i.onMousedown)==null||z.call(i,N)},()=>{p.value=!0}),A=xi(N=>{var z;(z=i.onFocus)==null||z.call(i,N)},N=>{const z=!v(p),{target:T,currentTarget:_}=N;if(T===_&&z&&!v(d)){const I=new Event(A1,LH);if(_==null||_.dispatchEvent(I),!I.defaultPrevented){const K=b().filter(ee=>ee.focusable),B=K.find(ee=>ee.active),G=K.find(ee=>ee.id===v(c)),J=[B,G,...K].filter(Boolean).map(ee=>ee.ref);_0(J)}}p.value=!1}),O=xi(N=>{var z;(z=i.onBlur)==null||z.call(i,N)},()=>{d.value=!1}),R=(...N)=>{o("entryFocus",...N)};En(z0,{currentTabbedId:gu(c),loop:Gn(i,"loop"),tabIndex:j(()=>v(d)?-1:0),rovingFocusGroupRef:g,rovingFocusGroupRootStyle:w,orientation:Gn(i,"orientation"),dir:Gn(i,"dir"),onItemFocus:M,onItemShiftTab:C,onBlur:O,onFocus:A,onMousedown:P}),Ue(()=>i.currentTabId,N=>{c.value=N??null}),ii(g,A1,R)}});function DH(i,o,l,c,d,p){return ze(i.$slots,"default")}var OH=ct(EH,[["render",DH],["__file","roving-focus-group-impl.vue"]]);const RH=xe({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:kH,ElRovingFocusGroupImpl:OH}});function IH(i,o,l,c,d,p){const g=fn("el-roving-focus-group-impl"),b=fn("el-focus-group-collection");return Y(),Ie(b,null,{default:Te(()=>[ye(g,Cr(Xl(i.$attrs)),{default:Te(()=>[ze(i.$slots,"default")]),_:3},16)]),_:3})}var FH=ct(RH,[["render",IH],["__file","roving-focus-group.vue"]]);const BH=xe({components:{ElRovingFocusCollectionItem:CH},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(i,{emit:o}){const{currentTabbedId:l,loop:c,onItemFocus:d,onItemShiftTab:p}=Tt(z0,void 0),{getItems:g}=Tt(V0,void 0),b=hs(),w=ne(null),M=xi(O=>{o("mousedown",O)},O=>{i.focusable?d(v(b)):O.preventDefault()}),C=xi(O=>{o("focus",O)},()=>{d(v(b))}),P=xi(O=>{o("keydown",O)},O=>{const{key:R,shiftKey:N,target:z,currentTarget:T}=O;if(R===Gt.tab&&N){p();return}if(z!==T)return;const _=NH(O);if(_){O.preventDefault();let K=g().filter(B=>B.focusable).map(B=>B.ref);switch(_){case"last":{K.reverse();break}case"prev":case"next":{_==="prev"&&K.reverse();const B=K.indexOf(T);K=c.value?AH(K,B+1):K.slice(B+1);break}}Kt(()=>{_0(K)})}}),A=j(()=>l.value===v(b));return En(Uk,{rovingFocusGroupItemRef:w,tabIndex:j(()=>v(A)?0:-1),handleMousedown:M,handleFocus:C,handleKeydown:P}),{id:b,handleKeydown:P,handleFocus:C,handleMousedown:M}}});function $H(i,o,l,c,d,p){const g=fn("el-roving-focus-collection-item");return Y(),Ie(g,{id:i.id,focusable:i.focusable,active:i.active},{default:Te(()=>[ze(i.$slots,"default")]),_:3},8,["id","focusable","active"])}var VH=ct(BH,[["render",$H],["__file","roving-focus-item.vue"]]);const Yh=lt({trigger:Sc.trigger,effect:{...Yi.effect,default:"light"},type:{type:Ae(String)},placement:{type:Ae(String),default:"bottom"},popperOptions:{type:Ae(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Ae([Number,String]),default:0},maxHeight:{type:Ae([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Ae(Object)},teleported:Yi.teleported}),Yk=lt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Xn}}),zH=lt({onKeydown:{type:Ae(Function)}}),_H=[Gt.down,Gt.pageDown,Gt.home],Xk=[Gt.up,Gt.pageUp,Gt.end],KH=[..._H,...Xk],{ElCollection:HH,ElCollectionItem:jH,COLLECTION_INJECTION_KEY:qH,COLLECTION_ITEM_INJECTION_KEY:GH}=Wk("Dropdown"),vf=Symbol("elDropdown"),{ButtonGroup:WH}=Zi,UH=xe({name:"ElDropdown",components:{ElButton:Zi,ElButtonGroup:WH,ElScrollbar:$r,ElDropdownCollection:HH,ElTooltip:Ss,ElRovingFocusGroup:FH,ElOnlyChild:SS,ElIcon:Et,ArrowDown:Fr},props:Yh,emits:["visible-change","click","command"],setup(i,{emit:o}){const l=pn(),c=Qe("dropdown"),{t:d}=Bn(),p=ne(),g=ne(),b=ne(null),w=ne(null),M=ne(null),C=ne(null),P=ne(!1),A=[Gt.enter,Gt.space,Gt.down],O=j(()=>({maxHeight:Si(i.maxHeight)})),R=j(()=>[c.m(B.value)]),N=j(()=>va(i.trigger)),z=hs().value,T=j(()=>i.id||z);Ue([p,N],([ie,re],[te])=>{var ue,be,Ce;(ue=te==null?void 0:te.$el)!=null&&ue.removeEventListener&&te.$el.removeEventListener("pointerenter",$),(be=ie==null?void 0:ie.$el)!=null&&be.removeEventListener&&ie.$el.removeEventListener("pointerenter",$),(Ce=ie==null?void 0:ie.$el)!=null&&Ce.addEventListener&&re.includes("hover")&&ie.$el.addEventListener("pointerenter",$)},{immediate:!0}),ei(()=>{var ie,re;(re=(ie=p.value)==null?void 0:ie.$el)!=null&&re.removeEventListener&&p.value.$el.removeEventListener("pointerenter",$)});function _(){I()}function I(){var ie;(ie=b.value)==null||ie.onClose()}function K(){var ie;(ie=b.value)==null||ie.onOpen()}const B=$i();function G(...ie){o("command",...ie)}function $(){var ie,re;(re=(ie=p.value)==null?void 0:ie.$el)==null||re.focus()}function J(){}function ee(){const ie=v(w);N.value.includes("hover")&&(ie==null||ie.focus()),C.value=null}function Q(ie){C.value=ie}function X(ie){P.value||(ie.preventDefault(),ie.stopImmediatePropagation())}function se(){o("visible-change",!0)}function de(ie){(ie==null?void 0:ie.type)==="keydown"&&w.value.focus()}function ve(){o("visible-change",!1)}return En(vf,{contentRef:w,role:j(()=>i.role),triggerId:T,isUsingKeyboard:P,onItemEnter:J,onItemLeave:ee}),En("elDropdown",{instance:l,dropdownSize:B,handleClick:_,commandHandler:G,trigger:Gn(i,"trigger"),hideOnClick:Gn(i,"hideOnClick")}),{t:d,ns:c,scrollbar:M,wrapStyle:O,dropdownTriggerKls:R,dropdownSize:B,triggerId:T,triggerKeys:A,currentTabId:C,handleCurrentTabIdChange:Q,handlerMainButtonClick:ie=>{o("click",ie)},handleEntryFocus:X,handleClose:I,handleOpen:K,handleBeforeShowTooltip:se,handleShowTooltip:de,handleBeforeHideTooltip:ve,onFocusAfterTrapped:ie=>{var re,te;ie.preventDefault(),(te=(re=w.value)==null?void 0:re.focus)==null||te.call(re,{preventScroll:!0})},popperRef:b,contentRef:w,triggeringElementRef:p,referenceElementRef:g}}});function YH(i,o,l,c,d,p){var g;const b=fn("el-dropdown-collection"),w=fn("el-roving-focus-group"),M=fn("el-scrollbar"),C=fn("el-only-child"),P=fn("el-tooltip"),A=fn("el-button"),O=fn("arrow-down"),R=fn("el-icon"),N=fn("el-button-group");return Y(),fe("div",{class:Z([i.ns.b(),i.ns.is("disabled",i.disabled)])},[ye(P,{ref:"popperRef",role:i.role,effect:i.effect,"fallback-placements":["bottom","top"],"popper-options":i.popperOptions,"gpu-acceleration":!1,"hide-after":i.trigger==="hover"?i.hideTimeout:0,"manual-mode":!0,placement:i.placement,"popper-class":[i.ns.e("popper"),i.popperClass],"reference-element":(g=i.referenceElementRef)==null?void 0:g.$el,trigger:i.trigger,"trigger-keys":i.triggerKeys,"trigger-target-el":i.contentRef,"show-after":i.trigger==="hover"?i.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":i.triggeringElementRef,"virtual-triggering":i.splitButton,disabled:i.disabled,transition:`${i.ns.namespace.value}-zoom-in-top`,teleported:i.teleported,pure:"",persistent:"",onBeforeShow:i.handleBeforeShowTooltip,onShow:i.handleShowTooltip,onBeforeHide:i.handleBeforeHideTooltip},Nr({content:Te(()=>[ye(M,{ref:"scrollbar","wrap-style":i.wrapStyle,tag:"div","view-class":i.ns.e("list")},{default:Te(()=>[ye(w,{loop:i.loop,"current-tab-id":i.currentTabId,orientation:"horizontal",onCurrentTabIdChange:i.handleCurrentTabIdChange,onEntryFocus:i.handleEntryFocus},{default:Te(()=>[ye(b,null,{default:Te(()=>[ze(i.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[i.splitButton?void 0:{name:"default",fn:Te(()=>[ye(C,{id:i.triggerId,ref:"triggeringElementRef",role:"button",tabindex:i.tabindex},{default:Te(()=>[ze(i.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),i.splitButton?(Y(),Ie(N,{key:0},{default:Te(()=>[ye(A,An({ref:"referenceElementRef"},i.buttonProps,{size:i.dropdownSize,type:i.type,disabled:i.disabled,tabindex:i.tabindex,onClick:i.handlerMainButtonClick}),{default:Te(()=>[ze(i.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ye(A,An({id:i.triggerId,ref:"triggeringElementRef"},i.buttonProps,{role:"button",size:i.dropdownSize,type:i.type,class:i.ns.e("caret-button"),disabled:i.disabled,tabindex:i.tabindex,"aria-label":i.t("el.dropdown.toggleDropdown")}),{default:Te(()=>[ye(R,{class:Z(i.ns.e("icon"))},{default:Te(()=>[ye(O)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):De("v-if",!0)],2)}var XH=ct(UH,[["render",YH],["__file","dropdown.vue"]]);const ZH=xe({name:"DropdownItemImpl",components:{ElIcon:Et},props:Yk,emits:["pointermove","pointerleave","click","clickimpl"],setup(i,{emit:o}){const l=Qe("dropdown"),{role:c}=Tt(vf,void 0),{collectionItemRef:d}=Tt(GH,void 0),{collectionItemRef:p}=Tt(MH,void 0),{rovingFocusGroupItemRef:g,tabIndex:b,handleFocus:w,handleKeydown:M,handleMousedown:C}=Tt(Uk,void 0),P=rf(d,p,g),A=j(()=>c.value==="menu"?"menuitem":c.value==="navigation"?"link":"button"),O=xi(R=>{const{code:N}=R;if(N===Gt.enter||N===Gt.space)return R.preventDefault(),R.stopImmediatePropagation(),o("clickimpl",R),!0},M);return{ns:l,itemRef:P,dataset:{[Gk]:""},role:A,tabIndex:b,handleFocus:w,handleKeydown:O,handleMousedown:C}}}),JH=["aria-disabled","tabindex","role"];function QH(i,o,l,c,d,p){const g=fn("el-icon");return Y(),fe($t,null,[i.divided?(Y(),fe("li",An({key:0,role:"separator",class:i.ns.bem("menu","item","divided")},i.$attrs),null,16)):De("v-if",!0),pe("li",An({ref:i.itemRef},{...i.dataset,...i.$attrs},{"aria-disabled":i.disabled,class:[i.ns.be("menu","item"),i.ns.is("disabled",i.disabled)],tabindex:i.tabIndex,role:i.role,onClick:o[0]||(o[0]=b=>i.$emit("clickimpl",b)),onFocus:o[1]||(o[1]=(...b)=>i.handleFocus&&i.handleFocus(...b)),onKeydown:o[2]||(o[2]=en((...b)=>i.handleKeydown&&i.handleKeydown(...b),["self"])),onMousedown:o[3]||(o[3]=(...b)=>i.handleMousedown&&i.handleMousedown(...b)),onPointermove:o[4]||(o[4]=b=>i.$emit("pointermove",b)),onPointerleave:o[5]||(o[5]=b=>i.$emit("pointerleave",b))}),[i.icon?(Y(),Ie(g,{key:0},{default:Te(()=>[(Y(),Ie(kn(i.icon)))]),_:1})):De("v-if",!0),ze(i.$slots,"default")],16,JH)],64)}var ej=ct(ZH,[["render",QH],["__file","dropdown-item-impl.vue"]]);const Zk=()=>{const i=Tt("elDropdown",{}),o=j(()=>i==null?void 0:i.dropdownSize);return{elDropdown:i,_elDropdownSize:o}},tj=xe({name:"ElDropdownItem",components:{ElDropdownCollectionItem:jH,ElRovingFocusItem:VH,ElDropdownItemImpl:ej},inheritAttrs:!1,props:Yk,emits:["pointermove","pointerleave","click"],setup(i,{emit:o,attrs:l}){const{elDropdown:c}=Zk(),d=pn(),p=ne(null),g=j(()=>{var O,R;return(R=(O=v(p))==null?void 0:O.textContent)!=null?R:""}),{onItemEnter:b,onItemLeave:w}=Tt(vf,void 0),M=xi(O=>(o("pointermove",O),O.defaultPrevented),Cy(O=>{if(i.disabled){w(O);return}const R=O.currentTarget;R===document.activeElement||R.contains(document.activeElement)||(b(O),O.defaultPrevented||R==null||R.focus())})),C=xi(O=>(o("pointerleave",O),O.defaultPrevented),Cy(O=>{w(O)})),P=xi(O=>{if(!i.disabled)return o("click",O),O.type!=="keydown"&&O.defaultPrevented},O=>{var R,N,z;if(i.disabled){O.stopImmediatePropagation();return}(R=c==null?void 0:c.hideOnClick)!=null&&R.value&&((N=c.handleClick)==null||N.call(c)),(z=c.commandHandler)==null||z.call(c,i.command,d,O)}),A=j(()=>({...i,...l}));return{handleClick:P,handlePointerMove:M,handlePointerLeave:C,textContent:g,propsAndAttrs:A}}});function nj(i,o,l,c,d,p){var g;const b=fn("el-dropdown-item-impl"),w=fn("el-roving-focus-item"),M=fn("el-dropdown-collection-item");return Y(),Ie(M,{disabled:i.disabled,"text-value":(g=i.textValue)!=null?g:i.textContent},{default:Te(()=>[ye(w,{focusable:!i.disabled},{default:Te(()=>[ye(b,An(i.propsAndAttrs,{onPointerleave:i.handlePointerLeave,onPointermove:i.handlePointerMove,onClickimpl:i.handleClick}),{default:Te(()=>[ze(i.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Jk=ct(tj,[["render",nj],["__file","dropdown-item.vue"]]);const ij=xe({name:"ElDropdownMenu",props:zH,setup(i){const o=Qe("dropdown"),{_elDropdownSize:l}=Zk(),c=l.value,{focusTrapRef:d,onKeydown:p}=Tt(N0,void 0),{contentRef:g,role:b,triggerId:w}=Tt(vf,void 0),{collectionRef:M,getItems:C}=Tt(qH,void 0),{rovingFocusGroupRef:P,rovingFocusGroupRootStyle:A,tabIndex:O,onBlur:R,onFocus:N,onMousedown:z}=Tt(z0,void 0),{collectionRef:T}=Tt(V0,void 0),_=j(()=>[o.b("menu"),o.bm("menu",c==null?void 0:c.value)]),I=rf(g,M,d,P,T),K=xi(G=>{var $;($=i.onKeydown)==null||$.call(i,G)},G=>{const{currentTarget:$,code:J,target:ee}=G;if($.contains(ee),Gt.tab===J&&G.stopImmediatePropagation(),G.preventDefault(),ee!==v(g)||!KH.includes(J))return;const X=C().filter(se=>!se.disabled).map(se=>se.ref);Xk.includes(J)&&X.reverse(),_0(X)});return{size:c,rovingFocusGroupRootStyle:A,tabIndex:O,dropdownKls:_,role:b,triggerId:w,dropdownListWrapperRef:I,handleKeydown:G=>{K(G),p(G)},onBlur:R,onFocus:N,onMousedown:z}}}),sj=["role","aria-labelledby"];function oj(i,o,l,c,d,p){return Y(),fe("ul",{ref:i.dropdownListWrapperRef,class:Z(i.dropdownKls),style:Ft(i.rovingFocusGroupRootStyle),tabindex:-1,role:i.role,"aria-labelledby":i.triggerId,onBlur:o[0]||(o[0]=(...g)=>i.onBlur&&i.onBlur(...g)),onFocus:o[1]||(o[1]=(...g)=>i.onFocus&&i.onFocus(...g)),onKeydown:o[2]||(o[2]=en((...g)=>i.handleKeydown&&i.handleKeydown(...g),["self"])),onMousedown:o[3]||(o[3]=en((...g)=>i.onMousedown&&i.onMousedown(...g),["self"]))},[ze(i.$slots,"default")],46,sj)}var Qk=ct(ij,[["render",oj],["__file","dropdown-menu.vue"]]);const rj=gn(XH,{DropdownItem:Jk,DropdownMenu:Qk}),aj=gi(Jk),lj=gi(Qk),uj={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},cj=["id"],hj=["stop-color"],dj=["stop-color"],fj=["id"],pj=["stop-color"],gj=["stop-color"],mj=["id"],vj={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},yj={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},bj={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},wj=["fill"],xj=["fill"],Sj={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},kj=["fill"],Cj=["fill"],Mj=["fill"],Pj=["fill"],Tj=["fill"],Nj={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},Aj=["fill","xlink:href"],Lj=["fill","mask"],Ej=["fill"],Dj=xe({name:"ImgEmpty"}),Oj=xe({...Dj,setup(i){const o=Qe("empty"),l=hs();return(c,d)=>(Y(),fe("svg",uj,[pe("defs",null,[pe("linearGradient",{id:`linearGradient-1-${v(l)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[pe("stop",{"stop-color":`var(${v(o).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,hj),pe("stop",{"stop-color":`var(${v(o).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,dj)],8,cj),pe("linearGradient",{id:`linearGradient-2-${v(l)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[pe("stop",{"stop-color":`var(${v(o).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,pj),pe("stop",{"stop-color":`var(${v(o).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,gj)],8,fj),pe("rect",{id:`path-3-${v(l)}`,x:"0",y:"0",width:"17",height:"36"},null,8,mj)]),pe("g",vj,[pe("g",yj,[pe("g",bj,[pe("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${v(o).cssVarBlockName("fill-color-3")})`},null,8,wj),pe("polygon",{id:"Rectangle-Copy-14",fill:`var(${v(o).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,xj),pe("g",Sj,[pe("polygon",{id:"Rectangle-Copy-10",fill:`var(${v(o).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,kj),pe("polygon",{id:"Rectangle-Copy-11",fill:`var(${v(o).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,Cj),pe("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${v(l)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,Mj),pe("polygon",{id:"Rectangle-Copy-13",fill:`var(${v(o).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,Pj)]),pe("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${v(l)})`,x:"13",y:"45",width:"40",height:"36"},null,8,Tj),pe("g",Nj,[pe("use",{id:"Mask",fill:`var(${v(o).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${v(l)}`},null,8,Aj),pe("polygon",{id:"Rectangle-Copy",fill:`var(${v(o).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${v(l)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,Lj)]),pe("polygon",{id:"Rectangle-Copy-18",fill:`var(${v(o).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,Ej)])])])]))}});var Rj=ct(Oj,[["__file","img-empty.vue"]]);const Ij=lt({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),Fj=["src"],Bj={key:1},$j=xe({name:"ElEmpty"}),Vj=xe({...$j,props:Ij,setup(i){const o=i,{t:l}=Bn(),c=Qe("empty"),d=j(()=>o.description||l("el.table.emptyText")),p=j(()=>({width:Si(o.imageSize)}));return(g,b)=>(Y(),fe("div",{class:Z(v(c).b())},[pe("div",{class:Z(v(c).e("image")),style:Ft(v(p))},[g.image?(Y(),fe("img",{key:0,src:g.image,ondragstart:"return false"},null,8,Fj)):ze(g.$slots,"image",{key:1},()=>[ye(Rj)])],6),pe("div",{class:Z(v(c).e("description"))},[g.$slots.description?ze(g.$slots,"description",{key:0}):(Y(),fe("p",Bj,dt(v(d)),1))],2),g.$slots.default?(Y(),fe("div",{key:0,class:Z(v(c).e("bottom"))},[ze(g.$slots,"default")],2)):De("v-if",!0)],2))}});var zj=ct(Vj,[["__file","empty.vue"]]);const eC=gn(zj),_j=lt({urlList:{type:Ae(Array),default:()=>pi([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Ae(String)}}),Kj={close:()=>!0,switch:i=>Yt(i),rotate:i=>Yt(i)},Hj=["src","crossorigin"],jj=xe({name:"ElImageViewer"}),qj=xe({...jj,props:_j,emits:Kj,setup(i,{expose:o,emit:l}){var c;const d=i,p={CONTAIN:{name:"contain",icon:zl(iR)},ORIGINAL:{name:"original",icon:zl(kR)}},{t:g}=Bn(),b=Qe("image-viewer"),{nextZIndex:w}=Su(),M=ne(),C=ne([]),P=iP(),A=ne(!0),O=ne(d.initialIndex),R=oi(p.CONTAIN),N=ne({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),z=ne((c=d.zIndex)!=null?c:w()),T=j(()=>{const{urlList:ue}=d;return ue.length<=1}),_=j(()=>O.value===0),I=j(()=>O.value===d.urlList.length-1),K=j(()=>d.urlList[O.value]),B=j(()=>[b.e("btn"),b.e("prev"),b.is("disabled",!d.infinite&&_.value)]),G=j(()=>[b.e("btn"),b.e("next"),b.is("disabled",!d.infinite&&I.value)]),$=j(()=>{const{scale:ue,deg:be,offsetX:Ce,offsetY:Ne,enableTransition:Be}=N.value;let tt=Ce/ue,Le=Ne/ue;switch(be%360){case 90:case-270:[tt,Le]=[Le,-tt];break;case 180:case-180:[tt,Le]=[-tt,-Le];break;case 270:case-90:[tt,Le]=[-Le,tt];break}const _e={transform:`scale(${ue}) rotate(${be}deg) translate(${tt}px, ${Le}px)`,transition:Be?"transform .3s":""};return R.value.name===p.CONTAIN.name&&(_e.maxWidth=_e.maxHeight="100%"),_e});function J(){Q(),l("close")}function ee(){const ue=Za(Ce=>{switch(Ce.code){case Gt.esc:d.closeOnPressEscape&&J();break;case Gt.space:me();break;case Gt.left:ie();break;case Gt.up:te("zoomIn");break;case Gt.right:re();break;case Gt.down:te("zoomOut");break}}),be=Za(Ce=>{const Ne=Ce.deltaY||Ce.deltaX;te(Ne<0?"zoomIn":"zoomOut",{zoomRate:d.zoomRate,enableTransition:!1})});P.run(()=>{ii(document,"keydown",ue),ii(document,"wheel",be)})}function Q(){P.stop()}function X(){A.value=!1}function se(ue){A.value=!1,ue.target.alt=g("el.image.error")}function de(ue){if(A.value||ue.button!==0||!M.value)return;N.value.enableTransition=!1;const{offsetX:be,offsetY:Ce}=N.value,Ne=ue.pageX,Be=ue.pageY,tt=Za(_e=>{N.value={...N.value,offsetX:be+_e.pageX-Ne,offsetY:Ce+_e.pageY-Be}}),Le=ii(document,"mousemove",tt);ii(document,"mouseup",()=>{Le()}),ue.preventDefault()}function ve(){N.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function me(){if(A.value)return;const ue=tu(p),be=Object.values(p),Ce=R.value.name,Be=(be.findIndex(tt=>tt.name===Ce)+1)%ue.length;R.value=p[ue[Be]],ve()}function ae(ue){const be=d.urlList.length;O.value=(ue+be)%be}function ie(){_.value&&!d.infinite||ae(O.value-1)}function re(){I.value&&!d.infinite||ae(O.value+1)}function te(ue,be={}){if(A.value)return;const{minScale:Ce,maxScale:Ne}=d,{zoomRate:Be,rotateDeg:tt,enableTransition:Le}={zoomRate:d.zoomRate,rotateDeg:90,enableTransition:!0,...be};switch(ue){case"zoomOut":N.value.scale>Ce&&(N.value.scale=Number.parseFloat((N.value.scale/Be).toFixed(3)));break;case"zoomIn":N.value.scale<Ne&&(N.value.scale=Number.parseFloat((N.value.scale*Be).toFixed(3)));break;case"clockwise":N.value.deg+=tt,l("rotate",N.value.deg);break;case"anticlockwise":N.value.deg-=tt,l("rotate",N.value.deg);break}N.value.enableTransition=Le}return Ue(K,()=>{Kt(()=>{const ue=C.value[0];ue!=null&&ue.complete||(A.value=!0)})}),Ue(O,ue=>{ve(),l("switch",ue)}),un(()=>{var ue,be;ee(),(be=(ue=M.value)==null?void 0:ue.focus)==null||be.call(ue)}),o({setActiveItem:ae}),(ue,be)=>(Y(),Ie(mu,{to:"body",disabled:!ue.teleported},[ye(Ki,{name:"viewer-fade",appear:""},{default:Te(()=>[pe("div",{ref_key:"wrapper",ref:M,tabindex:-1,class:Z(v(b).e("wrapper")),style:Ft({zIndex:z.value})},[pe("div",{class:Z(v(b).e("mask")),onClick:be[0]||(be[0]=en(Ce=>ue.hideOnClickModal&&J(),["self"]))},null,2),De(" CLOSE "),pe("span",{class:Z([v(b).e("btn"),v(b).e("close")]),onClick:J},[ye(v(Et),null,{default:Te(()=>[ye(v(_o))]),_:1})],2),De(" ARROW "),v(T)?De("v-if",!0):(Y(),fe($t,{key:0},[pe("span",{class:Z(v(B)),onClick:ie},[ye(v(Et),null,{default:Te(()=>[ye(v(ba))]),_:1})],2),pe("span",{class:Z(v(G)),onClick:re},[ye(v(Et),null,{default:Te(()=>[ye(v(Ts))]),_:1})],2)],64)),De(" ACTIONS "),pe("div",{class:Z([v(b).e("btn"),v(b).e("actions")])},[pe("div",{class:Z(v(b).e("actions__inner"))},[ye(v(Et),{onClick:be[1]||(be[1]=Ce=>te("zoomOut"))},{default:Te(()=>[ye(v(VR))]),_:1}),ye(v(Et),{onClick:be[2]||(be[2]=Ce=>te("zoomIn"))},{default:Te(()=>[ye(v(Ex))]),_:1}),pe("i",{class:Z(v(b).e("actions__divider"))},null,2),ye(v(Et),{onClick:me},{default:Te(()=>[(Y(),Ie(kn(v(R).icon)))]),_:1}),pe("i",{class:Z(v(b).e("actions__divider"))},null,2),ye(v(Et),{onClick:be[3]||(be[3]=Ce=>te("anticlockwise"))},{default:Te(()=>[ye(v(bR))]),_:1}),ye(v(Et),{onClick:be[4]||(be[4]=Ce=>te("clockwise"))},{default:Te(()=>[ye(v(xR))]),_:1})],2)],2),De(" CANVAS "),pe("div",{class:Z(v(b).e("canvas"))},[(Y(!0),fe($t,null,Rn(ue.urlList,(Ce,Ne)=>ln((Y(),fe("img",{ref_for:!0,ref:Be=>C.value[Ne]=Be,key:Ce,src:Ce,style:Ft(v($)),class:Z(v(b).e("img")),crossorigin:ue.crossorigin,onLoad:X,onError:se,onMousedown:de},null,46,Hj)),[[$n,Ne===O.value]])),128))],2),ze(ue.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Gj=ct(qj,[["__file","image-viewer.vue"]]);const tC=gn(Gj),Wj=lt({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Ae([String,Object])},previewSrcList:{type:Ae(Array),default:()=>pi([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Ae(String)}}),Uj={load:i=>i instanceof Event,error:i=>i instanceof Event,switch:i=>Yt(i),close:()=>!0,show:()=>!0},Yj=["src","loading","crossorigin"],Xj={key:0},Zj=xe({name:"ElImage",inheritAttrs:!1}),Jj=xe({...Zj,props:Wj,emits:Uj,setup(i,{emit:o}){const l=i;let c="";const{t:d}=Bn(),p=Qe("image"),g=cl(),b=s0(),w=ne(),M=ne(!1),C=ne(!0),P=ne(!1),A=ne(),O=ne(),R=In&&"loading"in HTMLImageElement.prototype;let N,z;const T=j(()=>[p.e("inner"),K.value&&p.e("preview"),C.value&&p.is("loading")]),_=j(()=>g.style),I=j(()=>{const{fit:re}=l;return In&&re?{objectFit:re}:{}}),K=j(()=>{const{previewSrcList:re}=l;return Array.isArray(re)&&re.length>0}),B=j(()=>{const{previewSrcList:re,initialIndex:te}=l;let ue=te;return te>re.length-1&&(ue=0),ue}),G=j(()=>l.loading==="eager"?!1:!R&&l.loading==="lazy"||l.lazy),$=()=>{In&&(C.value=!0,M.value=!1,w.value=l.src)};function J(re){C.value=!1,M.value=!1,o("load",re)}function ee(re){C.value=!1,M.value=!0,o("error",re)}function Q(){JN(A.value,O.value)&&($(),de())}const X=O2(Q,200,!0);async function se(){var re;if(!In)return;await Kt();const{scrollContainer:te}=l;ko(te)?O.value=te:tn(te)&&te!==""?O.value=(re=document.querySelector(te))!=null?re:void 0:A.value&&(O.value=Ym(A.value)),O.value&&(N=ii(O,"scroll",X),setTimeout(()=>Q(),100))}function de(){!In||!O.value||!X||(N==null||N(),O.value=void 0)}function ve(re){if(re.ctrlKey){if(re.deltaY<0)return re.preventDefault(),!1;if(re.deltaY>0)return re.preventDefault(),!1}}function me(){K.value&&(z=ii("wheel",ve,{passive:!1}),c=document.body.style.overflow,document.body.style.overflow="hidden",P.value=!0,o("show"))}function ae(){z==null||z(),document.body.style.overflow=c,P.value=!1,o("close")}function ie(re){o("switch",re)}return Ue(()=>l.src,()=>{G.value?(C.value=!0,M.value=!1,de(),se()):$()}),un(()=>{G.value?se():$()}),(re,te)=>(Y(),fe("div",{ref_key:"container",ref:A,class:Z([v(p).b(),re.$attrs.class]),style:Ft(v(_))},[M.value?ze(re.$slots,"error",{key:0},()=>[pe("div",{class:Z(v(p).e("error"))},dt(v(d)("el.image.error")),3)]):(Y(),fe($t,{key:1},[w.value!==void 0?(Y(),fe("img",An({key:0},v(b),{src:w.value,loading:re.loading,style:v(I),class:v(T),crossorigin:re.crossorigin,onClick:me,onLoad:J,onError:ee}),null,16,Yj)):De("v-if",!0),C.value?(Y(),fe("div",{key:1,class:Z(v(p).e("wrapper"))},[ze(re.$slots,"placeholder",{},()=>[pe("div",{class:Z(v(p).e("placeholder"))},null,2)])],2)):De("v-if",!0)],64)),v(K)?(Y(),fe($t,{key:2},[P.value?(Y(),Ie(v(tC),{key:0,"z-index":re.zIndex,"initial-index":v(B),infinite:re.infinite,"zoom-rate":re.zoomRate,"min-scale":re.minScale,"max-scale":re.maxScale,"url-list":re.previewSrcList,"hide-on-click-modal":re.hideOnClickModal,teleported:re.previewTeleported,"close-on-press-escape":re.closeOnPressEscape,onClose:ae,onSwitch:ie},{default:Te(()=>[re.$slots.viewer?(Y(),fe("div",Xj,[ze(re.$slots,"viewer")])):De("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):De("v-if",!0)],64)):De("v-if",!0)],6))}});var Qj=ct(Jj,[["__file","image.vue"]]);const e9=gn(Qj),t9=lt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:ji,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:i=>i===null||Yt(i)||["min","max"].includes(i),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:i=>i>=0&&i===Number.parseInt(`${i}`,10)},validateEvent:{type:Boolean,default:!0},...os(["ariaLabel"])}),n9={[si]:(i,o)=>o!==i,blur:i=>i instanceof FocusEvent,focus:i=>i instanceof FocusEvent,[Ns]:i=>Yt(i)||Xi(i),[wn]:i=>Yt(i)||Xi(i)},i9=["aria-label","onKeydown"],s9=["aria-label","onKeydown"],o9=xe({name:"ElInputNumber"}),r9=xe({...o9,props:t9,emits:n9,setup(i,{expose:o,emit:l}){const c=i,{t:d}=Bn(),p=Qe("input-number"),g=ne(),b=Hn({currentValue:c.modelValue,userInput:null}),{formItem:w}=ks(),M=j(()=>Yt(c.modelValue)&&c.modelValue<=c.min),C=j(()=>Yt(c.modelValue)&&c.modelValue>=c.max),P=j(()=>{const me=T(c.step);return Ri(c.precision)?Math.max(T(c.modelValue),me):(me>c.precision,c.precision)}),A=j(()=>c.controls&&c.controlsPosition==="right"),O=$i(),R=Es(),N=j(()=>{if(b.userInput!==null)return b.userInput;let me=b.currentValue;if(Xi(me))return"";if(Yt(me)){if(Number.isNaN(me))return"";Ri(c.precision)||(me=me.toFixed(c.precision))}return me}),z=(me,ae)=>{if(Ri(ae)&&(ae=P.value),ae===0)return Math.round(me);let ie=String(me);const re=ie.indexOf(".");if(re===-1||!ie.replace(".","").split("")[re+ae])return me;const be=ie.length;return ie.charAt(be-1)==="5"&&(ie=`${ie.slice(0,Math.max(0,be-1))}6`),Number.parseFloat(Number(ie).toFixed(ae))},T=me=>{if(Xi(me))return 0;const ae=me.toString(),ie=ae.indexOf(".");let re=0;return ie!==-1&&(re=ae.length-ie-1),re},_=(me,ae=1)=>Yt(me)?z(me+c.step*ae):b.currentValue,I=()=>{if(c.readonly||R.value||C.value)return;const me=Number(N.value)||0,ae=_(me);G(ae),l(Ns,b.currentValue),de()},K=()=>{if(c.readonly||R.value||M.value)return;const me=Number(N.value)||0,ae=_(me,-1);G(ae),l(Ns,b.currentValue),de()},B=(me,ae)=>{const{max:ie,min:re,step:te,precision:ue,stepStrictly:be,valueOnClear:Ce}=c;ie<re&&Hi("InputNumber","min should not be greater than max.");let Ne=Number(me);if(Xi(me)||Number.isNaN(Ne))return null;if(me===""){if(Ce===null)return null;Ne=tn(Ce)?{min:re,max:ie}[Ce]:Ce}return be&&(Ne=z(Math.round(Ne/te)*te,ue)),Ri(ue)||(Ne=z(Ne,ue)),(Ne>ie||Ne<re)&&(Ne=Ne>ie?ie:re,ae&&l(wn,Ne)),Ne},G=(me,ae=!0)=>{var ie;const re=b.currentValue,te=B(me);if(!ae){l(wn,te);return}re===te&&me||(b.userInput=null,l(wn,te),re!==te&&l(si,te,re),c.validateEvent&&((ie=w==null?void 0:w.validate)==null||ie.call(w,"change").catch(ue=>void 0)),b.currentValue=te)},$=me=>{b.userInput=me;const ae=me===""?null:Number(me);l(Ns,ae),G(ae,!1)},J=me=>{const ae=me!==""?Number(me):"";(Yt(ae)&&!Number.isNaN(ae)||me==="")&&G(ae),de(),b.userInput=null},ee=()=>{var me,ae;(ae=(me=g.value)==null?void 0:me.focus)==null||ae.call(me)},Q=()=>{var me,ae;(ae=(me=g.value)==null?void 0:me.blur)==null||ae.call(me)},X=me=>{l("focus",me)},se=me=>{var ae;b.userInput=null,l("blur",me),c.validateEvent&&((ae=w==null?void 0:w.validate)==null||ae.call(w,"blur").catch(ie=>void 0))},de=()=>{b.currentValue!==c.modelValue&&(b.currentValue=c.modelValue)},ve=me=>{document.activeElement===me.target&&me.preventDefault()};return Ue(()=>c.modelValue,(me,ae)=>{const ie=B(me,!0);b.userInput===null&&ie!==ae&&(b.currentValue=ie)},{immediate:!0}),un(()=>{var me;const{min:ae,max:ie,modelValue:re}=c,te=(me=g.value)==null?void 0:me.input;if(te.setAttribute("role","spinbutton"),Number.isFinite(ie)?te.setAttribute("aria-valuemax",String(ie)):te.removeAttribute("aria-valuemax"),Number.isFinite(ae)?te.setAttribute("aria-valuemin",String(ae)):te.removeAttribute("aria-valuemin"),te.setAttribute("aria-valuenow",b.currentValue||b.currentValue===0?String(b.currentValue):""),te.setAttribute("aria-disabled",String(R.value)),!Yt(re)&&re!=null){let ue=Number(re);Number.isNaN(ue)&&(ue=null),l(wn,ue)}te.addEventListener("wheel",ve,{passive:!1})}),Or(()=>{var me,ae;const ie=(me=g.value)==null?void 0:me.input;ie==null||ie.setAttribute("aria-valuenow",`${(ae=b.currentValue)!=null?ae:""}`)}),qi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},j(()=>!!c.label)),o({focus:ee,blur:Q}),(me,ae)=>(Y(),fe("div",{class:Z([v(p).b(),v(p).m(v(O)),v(p).is("disabled",v(R)),v(p).is("without-controls",!me.controls),v(p).is("controls-right",v(A))]),onDragstart:ae[0]||(ae[0]=en(()=>{},["prevent"]))},[me.controls?ln((Y(),fe("span",{key:0,role:"button","aria-label":v(d)("el.inputNumber.decrease"),class:Z([v(p).e("decrease"),v(p).is("disabled",v(M))]),onKeydown:Yn(K,["enter"])},[ze(me.$slots,"decrease-icon",{},()=>[ye(v(Et),null,{default:Te(()=>[v(A)?(Y(),Ie(v(Fr),{key:0})):(Y(),Ie(v(uR),{key:1}))]),_:1})])],42,i9)),[[v(Cd),K]]):De("v-if",!0),me.controls?ln((Y(),fe("span",{key:1,role:"button","aria-label":v(d)("el.inputNumber.increase"),class:Z([v(p).e("increase"),v(p).is("disabled",v(C))]),onKeydown:Yn(I,["enter"])},[ze(me.$slots,"increase-icon",{},()=>[ye(v(Et),null,{default:Te(()=>[v(A)?(Y(),Ie(v(Xm),{key:0})):(Y(),Ie(v(Ax),{key:1}))]),_:1})])],42,s9)),[[v(Cd),I]]):De("v-if",!0),ye(v(bs),{id:me.id,ref_key:"input",ref:g,type:"number",step:me.step,"model-value":v(N),placeholder:me.placeholder,readonly:me.readonly,disabled:v(R),size:v(O),max:me.max,min:me.min,name:me.name,"aria-label":me.label||me.ariaLabel,"validate-event":!1,onKeydown:[Yn(en(I,["prevent"]),["up"]),Yn(en(K,["prevent"]),["down"])],onBlur:se,onFocus:X,onInput:$,onChange:J},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var a9=ct(r9,[["__file","input-number.vue"]]);const nC=gn(a9),l9=lt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Xn}}),u9={click:i=>i instanceof MouseEvent},c9=["href","target"],h9=xe({name:"ElLink"}),d9=xe({...h9,props:l9,emits:u9,setup(i,{emit:o}){const l=i,c=Qe("link"),d=j(()=>[c.b(),c.m(l.type),c.is("disabled",l.disabled),c.is("underline",l.underline&&!l.disabled)]);function p(g){l.disabled||o("click",g)}return(g,b)=>(Y(),fe("a",{class:Z(v(d)),href:g.disabled||!g.href?void 0:g.href,target:g.disabled||!g.href?void 0:g.target,onClick:p},[g.icon?(Y(),Ie(v(Et),{key:0},{default:Te(()=>[(Y(),Ie(kn(g.icon)))]),_:1})):De("v-if",!0),g.$slots.default?(Y(),fe("span",{key:1,class:Z(v(c).e("inner"))},[ze(g.$slots,"default")],2)):De("v-if",!0),g.$slots.icon?ze(g.$slots,"icon",{key:2}):De("v-if",!0)],10,c9))}});var f9=ct(d9,[["__file","link.vue"]]);const p9=gn(f9);let g9=class{constructor(o,l){this.parent=o,this.domNode=l,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(o){o===this.subMenuItems.length?o=0:o<0&&(o=this.subMenuItems.length-1),this.subMenuItems[o].focus(),this.subIndex=o}addListeners(){const o=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,l=>{l.addEventListener("keydown",c=>{let d=!1;switch(c.code){case Gt.down:{this.gotoSubIndex(this.subIndex+1),d=!0;break}case Gt.up:{this.gotoSubIndex(this.subIndex-1),d=!0;break}case Gt.tab:{Ih(o,"mouseleave");break}case Gt.enter:case Gt.space:{d=!0,c.currentTarget.click();break}}return d&&(c.preventDefault(),c.stopPropagation()),!1})})}},m9=class{constructor(o,l){this.domNode=o,this.submenu=null,this.submenu=null,this.init(l)}init(o){this.domNode.setAttribute("tabindex","0");const l=this.domNode.querySelector(`.${o}-menu`);l&&(this.submenu=new g9(this,l)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",o=>{let l=!1;switch(o.code){case Gt.down:{Ih(o.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),l=!0;break}case Gt.up:{Ih(o.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),l=!0;break}case Gt.tab:{Ih(o.currentTarget,"mouseleave");break}case Gt.enter:case Gt.space:{l=!0,o.currentTarget.click();break}}l&&o.preventDefault()})}},v9=class{constructor(o,l){this.domNode=o,this.init(l)}init(o){const l=this.domNode.childNodes;Array.from(l).forEach(c=>{c.nodeType===1&&new m9(c,o)})}};const y9=xe({name:"ElMenuCollapseTransition",setup(){const i=Qe("menu");return{listeners:{onBeforeEnter:l=>l.style.opacity="0.2",onEnter(l,c){mo(l,`${i.namespace.value}-opacity-transition`),l.style.opacity="1",c()},onAfterEnter(l){xs(l,`${i.namespace.value}-opacity-transition`),l.style.opacity=""},onBeforeLeave(l){l.dataset||(l.dataset={}),bo(l,i.m("collapse"))?(xs(l,i.m("collapse")),l.dataset.oldOverflow=l.style.overflow,l.dataset.scrollWidth=l.clientWidth.toString(),mo(l,i.m("collapse"))):(mo(l,i.m("collapse")),l.dataset.oldOverflow=l.style.overflow,l.dataset.scrollWidth=l.clientWidth.toString(),xs(l,i.m("collapse"))),l.style.width=`${l.scrollWidth}px`,l.style.overflow="hidden"},onLeave(l){mo(l,"horizontal-collapse-transition"),l.style.width=`${l.dataset.scrollWidth}px`}}}}});function b9(i,o,l,c,d,p){return Y(),Ie(Ki,An({mode:"out-in"},i.listeners),{default:Te(()=>[ze(i.$slots,"default")]),_:3},16)}var w9=ct(y9,[["render",b9],["__file","menu-collapse-transition.vue"]]);function iC(i,o){const l=j(()=>{let d=i.parent;const p=[o.value];for(;d.type.name!=="ElMenu";)d.props.index&&p.unshift(d.props.index),d=d.parent;return p});return{parentMenu:j(()=>{let d=i.parent;for(;d&&!["ElMenu","ElSubMenu"].includes(d.type.name);)d=d.parent;return d}),indexPath:l}}function x9(i){return j(()=>{const l=i.backgroundColor;return l?new IS(l).shade(20).toString():""})}const sC=(i,o)=>{const l=Qe("menu");return j(()=>l.cssVarBlock({"text-color":i.textColor||"","hover-text-color":i.textColor||"","bg-color":i.backgroundColor||"","hover-bg-color":x9(i).value||"","active-color":i.activeTextColor||"",level:`${o}`}))},S9=lt({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Xn},expandOpenIcon:{type:Xn},collapseCloseIcon:{type:Xn},collapseOpenIcon:{type:Xn}}),Pp="ElSubMenu";var K0=xe({name:Pp,props:S9,setup(i,{slots:o,expose:l}){const c=pn(),{indexPath:d,parentMenu:p}=iC(c,j(()=>i.index)),g=Qe("menu"),b=Qe("sub-menu"),w=Tt("rootMenu");w||Hi(Pp,"can not inject root menu");const M=Tt(`subMenu:${p.value.uid}`);M||Hi(Pp,"can not inject sub menu");const C=ne({}),P=ne({});let A;const O=ne(!1),R=ne(),N=ne(null),z=j(()=>J.value==="horizontal"&&_.value?"bottom-start":"right-start"),T=j(()=>J.value==="horizontal"&&_.value||J.value==="vertical"&&!w.props.collapse?i.expandCloseIcon&&i.expandOpenIcon?G.value?i.expandOpenIcon:i.expandCloseIcon:Fr:i.collapseCloseIcon&&i.collapseOpenIcon?G.value?i.collapseOpenIcon:i.collapseCloseIcon:Ts),_=j(()=>M.level===0),I=j(()=>{const ue=i.teleported;return ue===void 0?_.value:ue}),K=j(()=>w.props.collapse?`${g.namespace.value}-zoom-in-left`:`${g.namespace.value}-zoom-in-top`),B=j(()=>J.value==="horizontal"&&_.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),G=j(()=>w.openedMenus.includes(i.index)),$=j(()=>{let ue=!1;return Object.values(C.value).forEach(be=>{be.active&&(ue=!0)}),Object.values(P.value).forEach(be=>{be.active&&(ue=!0)}),ue}),J=j(()=>w.props.mode),ee=Hn({index:i.index,indexPath:d,active:$}),Q=sC(w.props,M.level+1),X=j(()=>{var ue;return(ue=i.popperOffset)!=null?ue:w.props.popperOffset}),se=j(()=>{var ue;return(ue=i.popperClass)!=null?ue:w.props.popperClass}),de=j(()=>{var ue;return(ue=i.showTimeout)!=null?ue:w.props.showTimeout}),ve=j(()=>{var ue;return(ue=i.hideTimeout)!=null?ue:w.props.hideTimeout}),me=()=>{var ue,be,Ce;return(Ce=(be=(ue=N.value)==null?void 0:ue.popperRef)==null?void 0:be.popperInstanceRef)==null?void 0:Ce.destroy()},ae=ue=>{ue||me()},ie=()=>{w.props.menuTrigger==="hover"&&w.props.mode==="horizontal"||w.props.collapse&&w.props.mode==="vertical"||i.disabled||w.handleSubMenuClick({index:i.index,indexPath:d.value,active:$.value})},re=(ue,be=de.value)=>{var Ce;if(ue.type!=="focus"){if(w.props.menuTrigger==="click"&&w.props.mode==="horizontal"||!w.props.collapse&&w.props.mode==="vertical"||i.disabled){M.mouseInChild.value=!0;return}M.mouseInChild.value=!0,A==null||A(),{stop:A}=nl(()=>{w.openMenu(i.index,d.value)},be),I.value&&((Ce=p.value.vnode.el)==null||Ce.dispatchEvent(new MouseEvent("mouseenter")))}},te=(ue=!1)=>{var be;if(w.props.menuTrigger==="click"&&w.props.mode==="horizontal"||!w.props.collapse&&w.props.mode==="vertical"){M.mouseInChild.value=!1;return}A==null||A(),M.mouseInChild.value=!1,{stop:A}=nl(()=>!O.value&&w.closeMenu(i.index,d.value),ve.value),I.value&&ue&&((be=M.handleMouseleave)==null||be.call(M,!0))};Ue(()=>w.props.collapse,ue=>ae(!!ue));{const ue=Ce=>{P.value[Ce.index]=Ce},be=Ce=>{delete P.value[Ce.index]};En(`subMenu:${c.uid}`,{addSubMenu:ue,removeSubMenu:be,handleMouseleave:te,mouseInChild:O,level:M.level+1})}return l({opened:G}),un(()=>{w.addSubMenu(ee),M.addSubMenu(ee)}),ei(()=>{M.removeSubMenu(ee),w.removeSubMenu(ee)}),()=>{var ue;const be=[(ue=o.title)==null?void 0:ue.call(o),jt(Et,{class:b.e("icon-arrow"),style:{transform:G.value?i.expandCloseIcon&&i.expandOpenIcon||i.collapseCloseIcon&&i.collapseOpenIcon&&w.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>tn(T.value)?jt(c.appContext.components[T.value]):jt(T.value)})],Ce=w.isMenuPopup?jt(Ss,{ref:N,visible:G.value,effect:"light",pure:!0,offset:X.value,showArrow:!1,persistent:!0,popperClass:se.value,placement:z.value,teleported:I.value,fallbackPlacements:B.value,transition:K.value,gpuAcceleration:!1},{content:()=>{var Ne;return jt("div",{class:[g.m(J.value),g.m("popup-container"),se.value],onMouseenter:Be=>re(Be,100),onMouseleave:()=>te(!0),onFocus:Be=>re(Be,100)},[jt("ul",{class:[g.b(),g.m("popup"),g.m(`popup-${z.value}`)],style:Q.value},[(Ne=o.default)==null?void 0:Ne.call(o)])])},default:()=>jt("div",{class:b.e("title"),onClick:ie},be)}):jt($t,{},[jt("div",{class:b.e("title"),ref:R,onClick:ie},be),jt(mf,{},{default:()=>{var Ne;return ln(jt("ul",{role:"menu",class:[g.b(),g.m("inline")],style:Q.value},[(Ne=o.default)==null?void 0:Ne.call(o)]),[[$n,G.value]])}})]);return jt("li",{class:[b.b(),b.is("active",$.value),b.is("opened",G.value),b.is("disabled",i.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:G.value,onMouseenter:re,onMouseleave:()=>te(),onFocus:re},[Ce])}}});const k9=lt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Ae(Array),default:()=>pi([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Xn,default:()=>dR},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),Tp=i=>Array.isArray(i)&&i.every(o=>tn(o)),C9={close:(i,o)=>tn(i)&&Tp(o),open:(i,o)=>tn(i)&&Tp(o),select:(i,o,l,c)=>tn(i)&&Tp(o)&&yn(l)&&(c===void 0||c instanceof Promise)};var M9=xe({name:"ElMenu",props:k9,emits:C9,setup(i,{emit:o,slots:l,expose:c}){const d=pn(),p=d.appContext.config.globalProperties.$router,g=ne(),b=Qe("menu"),w=Qe("sub-menu"),M=ne(-1),C=ne(i.defaultOpeneds&&!i.collapse?i.defaultOpeneds.slice(0):[]),P=ne(i.defaultActive),A=ne({}),O=ne({}),R=j(()=>i.mode==="horizontal"||i.mode==="vertical"&&i.collapse),N=()=>{const ve=P.value&&A.value[P.value];if(!ve||i.mode==="horizontal"||i.collapse)return;ve.indexPath.forEach(ae=>{const ie=O.value[ae];ie&&z(ae,ie.indexPath)})},z=(ve,me)=>{C.value.includes(ve)||(i.uniqueOpened&&(C.value=C.value.filter(ae=>me.includes(ae))),C.value.push(ve),o("open",ve,me))},T=ve=>{const me=C.value.indexOf(ve);me!==-1&&C.value.splice(me,1)},_=(ve,me)=>{T(ve),o("close",ve,me)},I=({index:ve,indexPath:me})=>{C.value.includes(ve)?_(ve,me):z(ve,me)},K=ve=>{(i.mode==="horizontal"||i.collapse)&&(C.value=[]);const{index:me,indexPath:ae}=ve;if(!(Xi(me)||Xi(ae)))if(i.router&&p){const ie=ve.route||me,re=p.push(ie).then(te=>(te||(P.value=me),te));o("select",me,ae,{index:me,indexPath:ae,route:ie},re)}else P.value=me,o("select",me,ae,{index:me,indexPath:ae})},B=ve=>{const me=A.value,ae=me[ve]||P.value&&me[P.value]||me[i.defaultActive];ae?P.value=ae.index:P.value=ve},G=ve=>{const me=getComputedStyle(ve),ae=Number.parseInt(me.marginLeft,10),ie=Number.parseInt(me.marginRight,10);return ve.offsetWidth+ae+ie||0},$=()=>{var ve,me;if(!g.value)return-1;const ae=Array.from((me=(ve=g.value)==null?void 0:ve.childNodes)!=null?me:[]).filter(Be=>Be.nodeName!=="#comment"&&(Be.nodeName!=="#text"||Be.nodeValue)),ie=64,re=getComputedStyle(g.value),te=Number.parseInt(re.paddingLeft,10),ue=Number.parseInt(re.paddingRight,10),be=g.value.clientWidth-te-ue;let Ce=0,Ne=0;return ae.forEach((Be,tt)=>{Ce+=G(Be),Ce<=be-ie&&(Ne=tt+1)}),Ne===ae.length?-1:Ne},J=ve=>O.value[ve].indexPath,ee=(ve,me=33.34)=>{let ae;return()=>{ae&&clearTimeout(ae),ae=setTimeout(()=>{ve()},me)}};let Q=!0;const X=()=>{if(M.value===$())return;const ve=()=>{M.value=-1,Kt(()=>{M.value=$()})};Q?ve():ee(ve)(),Q=!1};Ue(()=>i.defaultActive,ve=>{A.value[ve]||(P.value=""),B(ve)}),Ue(()=>i.collapse,ve=>{ve&&(C.value=[])}),Ue(A.value,N);let se;us(()=>{i.mode==="horizontal"&&i.ellipsis?se=fi(g,X).stop:se==null||se()});const de=ne(!1);{const ve=re=>{O.value[re.index]=re},me=re=>{delete O.value[re.index]};En("rootMenu",Hn({props:i,openedMenus:C,items:A,subMenus:O,activeIndex:P,isMenuPopup:R,addMenuItem:re=>{A.value[re.index]=re},removeMenuItem:re=>{delete A.value[re.index]},addSubMenu:ve,removeSubMenu:me,openMenu:z,closeMenu:_,handleMenuItemClick:K,handleSubMenuClick:I})),En(`subMenu:${d.uid}`,{addSubMenu:ve,removeSubMenu:me,mouseInChild:de,level:0})}return un(()=>{i.mode==="horizontal"&&new v9(d.vnode.el,b.namespace.value)}),c({open:me=>{const{indexPath:ae}=O.value[me];ae.forEach(ie=>z(ie,ae))},close:T,handleResize:X}),()=>{var ve,me;let ae=(me=(ve=l.default)==null?void 0:ve.call(l))!=null?me:[];const ie=[];if(i.mode==="horizontal"&&g.value){const be=da(ae),Ce=M.value===-1?be:be.slice(0,M.value),Ne=M.value===-1?[]:be.slice(M.value);Ne!=null&&Ne.length&&i.ellipsis&&(ae=Ce,ie.push(jt(K0,{index:"sub-menu-more",class:w.e("hide-arrow"),popperOffset:i.popperOffset},{title:()=>jt(Et,{class:w.e("icon-more")},{default:()=>jt(i.ellipsisIcon)}),default:()=>Ne})))}const re=sC(i,0),te=i.closeOnClickOutside?[[Er,()=>{C.value.length&&(de.value||(C.value.forEach(be=>o("close",be,J(be))),C.value=[]))}]]:[],ue=ln(jt("ul",{key:String(i.collapse),role:"menubar",ref:g,style:re.value,class:{[b.b()]:!0,[b.m(i.mode)]:!0,[b.m("collapse")]:i.collapse}},[...ae,...ie]),te);return i.collapseTransition&&i.mode==="vertical"?jt(w9,()=>ue):ue}}});const P9=lt({index:{type:Ae([String,null]),default:null},route:{type:Ae([String,Object])},disabled:Boolean}),T9={click:i=>tn(i.index)&&Array.isArray(i.indexPath)},Np="ElMenuItem",N9=xe({name:Np,components:{ElTooltip:Ss},props:P9,emits:T9,setup(i,{emit:o}){const l=pn(),c=Tt("rootMenu"),d=Qe("menu"),p=Qe("menu-item");c||Hi(Np,"can not inject root menu");const{parentMenu:g,indexPath:b}=iC(l,Gn(i,"index")),w=Tt(`subMenu:${g.value.uid}`);w||Hi(Np,"can not inject sub menu");const M=j(()=>i.index===c.activeIndex),C=Hn({index:i.index,indexPath:b,active:M}),P=()=>{i.disabled||(c.handleMenuItemClick({index:i.index,indexPath:b.value,route:i.route}),o("click",C))};return un(()=>{w.addSubMenu(C),c.addMenuItem(C)}),ei(()=>{w.removeSubMenu(C),c.removeMenuItem(C)}),{parentMenu:g,rootMenu:c,active:M,nsMenu:d,nsMenuItem:p,handleClick:P}}});function A9(i,o,l,c,d,p){const g=fn("el-tooltip");return Y(),fe("li",{class:Z([i.nsMenuItem.b(),i.nsMenuItem.is("active",i.active),i.nsMenuItem.is("disabled",i.disabled)]),role:"menuitem",tabindex:"-1",onClick:o[0]||(o[0]=(...b)=>i.handleClick&&i.handleClick(...b))},[i.parentMenu.type.name==="ElMenu"&&i.rootMenu.props.collapse&&i.$slots.title?(Y(),Ie(g,{key:0,effect:i.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:Te(()=>[ze(i.$slots,"title")]),default:Te(()=>[pe("div",{class:Z(i.nsMenu.be("tooltip","trigger"))},[ze(i.$slots,"default")],2)]),_:3},8,["effect"])):(Y(),fe($t,{key:1},[ze(i.$slots,"default"),ze(i.$slots,"title")],64))],2)}var oC=ct(N9,[["render",A9],["__file","menu-item.vue"]]);const L9={title:String},E9="ElMenuItemGroup",D9=xe({name:E9,props:L9,setup(){return{ns:Qe("menu-item-group")}}});function O9(i,o,l,c,d,p){return Y(),fe("li",{class:Z(i.ns.b())},[pe("div",{class:Z(i.ns.e("title"))},[i.$slots.title?ze(i.$slots,"title",{key:1}):(Y(),fe($t,{key:0},[Tn(dt(i.title),1)],64))],2),pe("ul",null,[ze(i.$slots,"default")])],2)}var rC=ct(D9,[["render",O9],["__file","menu-item-group.vue"]]);const R9=gn(M9,{MenuItem:oC,MenuItemGroup:rC,SubMenu:K0}),I9=gi(oC),F9=gi(rC),B9=gi(K0),$9=lt({icon:{type:Xn,default:()=>F3},title:String,content:{type:String,default:""}}),V9={back:()=>!0},z9=["aria-label"],_9=xe({name:"ElPageHeader"}),K9=xe({..._9,props:$9,emits:V9,setup(i,{emit:o}){const l=Qi(),{t:c}=Bn(),d=Qe("page-header"),p=j(()=>[d.b(),{[d.m("has-breadcrumb")]:!!l.breadcrumb,[d.m("has-extra")]:!!l.extra,[d.is("contentful")]:!!l.default}]);function g(){o("back")}return(b,w)=>(Y(),fe("div",{class:Z(v(p))},[b.$slots.breadcrumb?(Y(),fe("div",{key:0,class:Z(v(d).e("breadcrumb"))},[ze(b.$slots,"breadcrumb")],2)):De("v-if",!0),pe("div",{class:Z(v(d).e("header"))},[pe("div",{class:Z(v(d).e("left"))},[pe("div",{class:Z(v(d).e("back")),role:"button",tabindex:"0",onClick:g},[b.icon||b.$slots.icon?(Y(),fe("div",{key:0,"aria-label":b.title||v(c)("el.pageHeader.title"),class:Z(v(d).e("icon"))},[ze(b.$slots,"icon",{},()=>[b.icon?(Y(),Ie(v(Et),{key:0},{default:Te(()=>[(Y(),Ie(kn(b.icon)))]),_:1})):De("v-if",!0)])],10,z9)):De("v-if",!0),pe("div",{class:Z(v(d).e("title"))},[ze(b.$slots,"title",{},()=>[Tn(dt(b.title||v(c)("el.pageHeader.title")),1)])],2)],2),ye(v(qk),{direction:"vertical"}),pe("div",{class:Z(v(d).e("content"))},[ze(b.$slots,"content",{},()=>[Tn(dt(b.content),1)])],2)],2),b.$slots.extra?(Y(),fe("div",{key:0,class:Z(v(d).e("extra"))},[ze(b.$slots,"extra")],2)):De("v-if",!0)],2),b.$slots.default?(Y(),fe("div",{key:1,class:Z(v(d).e("main"))},[ze(b.$slots,"default")],2)):De("v-if",!0)],2))}});var H9=ct(K9,[["__file","page-header.vue"]]);const j9=gn(H9),aC=Symbol("elPaginationKey"),q9=lt({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Xn}}),G9={click:i=>i instanceof MouseEvent},W9=["disabled","aria-label","aria-disabled"],U9={key:0},Y9=xe({name:"ElPaginationPrev"}),X9=xe({...Y9,props:q9,emits:G9,setup(i){const o=i,{t:l}=Bn(),c=j(()=>o.disabled||o.currentPage<=1);return(d,p)=>(Y(),fe("button",{type:"button",class:"btn-prev",disabled:v(c),"aria-label":d.prevText||v(l)("el.pagination.prev"),"aria-disabled":v(c),onClick:p[0]||(p[0]=g=>d.$emit("click",g))},[d.prevText?(Y(),fe("span",U9,dt(d.prevText),1)):(Y(),Ie(v(Et),{key:1},{default:Te(()=>[(Y(),Ie(kn(d.prevIcon)))]),_:1}))],8,W9))}});var Z9=ct(X9,[["__file","prev.vue"]]);const J9=lt({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Xn}}),Q9=["disabled","aria-label","aria-disabled"],eq={key:0},tq=xe({name:"ElPaginationNext"}),nq=xe({...tq,props:J9,emits:["click"],setup(i){const o=i,{t:l}=Bn(),c=j(()=>o.disabled||o.currentPage===o.pageCount||o.pageCount===0);return(d,p)=>(Y(),fe("button",{type:"button",class:"btn-next",disabled:v(c),"aria-label":d.nextText||v(l)("el.pagination.next"),"aria-disabled":v(c),onClick:p[0]||(p[0]=g=>d.$emit("click",g))},[d.nextText?(Y(),fe("span",eq,dt(d.nextText),1)):(Y(),Ie(v(Et),{key:1},{default:Te(()=>[(Y(),Ie(kn(d.nextIcon)))]),_:1}))],8,Q9))}});var iq=ct(nq,[["__file","next.vue"]]);const lC=Symbol("ElSelectGroup"),Pu=Symbol("ElSelect");function sq(i,o){const l=Tt(Pu),c=Tt(lC,{disabled:!1}),d=j(()=>l.props.multiple?C(l.props.modelValue,i.value):C([l.props.modelValue],i.value)),p=j(()=>{if(l.props.multiple){const O=l.props.modelValue||[];return!d.value&&O.length>=l.props.multipleLimit&&l.props.multipleLimit>0}else return!1}),g=j(()=>i.label||(yn(i.value)?"":i.value)),b=j(()=>i.value||i.label||""),w=j(()=>i.disabled||o.groupDisabled||p.value),M=pn(),C=(O=[],R)=>{if(yn(i.value)){const N=l.props.valueKey;return O&&O.some(z=>Wn(Ni(z,N))===Ni(R,N))}else return O&&O.includes(R)},P=()=>{!i.disabled&&!c.disabled&&(l.states.hoveringIndex=l.optionsArray.indexOf(M.proxy))},A=O=>{const R=new RegExp(Um(O),"i");o.visible=R.test(g.value)||i.created};return Ue(()=>g.value,()=>{!i.created&&!l.props.remote&&l.setSelected()}),Ue(()=>i.value,(O,R)=>{const{remote:N,valueKey:z}=l.props;if(ws(O,R)||(l.onOptionDestroy(R,M.proxy),l.onOptionCreate(M.proxy)),!i.created&&!N){if(z&&yn(O)&&yn(R)&&O[z]===R[z])return;l.setSelected()}}),Ue(()=>c.disabled,()=>{o.groupDisabled=c.disabled},{immediate:!0}),{select:l,currentLabel:g,currentValue:b,itemSelected:d,isDisabled:w,hoverItem:P,updateOption:A}}const oq=xe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(i){const o=Qe("select"),l=hs(),c=j(()=>[o.be("dropdown","item"),o.is("disabled",v(b)),o.is("selected",v(g)),o.is("hovering",v(A))]),d=Hn({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:p,itemSelected:g,isDisabled:b,select:w,hoverItem:M,updateOption:C}=sq(i,d),{visible:P,hover:A}=ss(d),O=pn().proxy;w.onOptionCreate(O),ei(()=>{const N=O.value,{selected:z}=w.states,_=(w.props.multiple?z:[z]).some(I=>I.value===O.value);Kt(()=>{w.states.cachedOptions.get(N)===O&&!_&&w.states.cachedOptions.delete(N)}),w.onOptionDestroy(N,O)});function R(){i.disabled!==!0&&d.groupDisabled!==!0&&w.handleOptionSelect(O)}return{ns:o,id:l,containerKls:c,currentLabel:p,itemSelected:g,isDisabled:b,select:w,hoverItem:M,updateOption:C,visible:P,hover:A,selectOptionClick:R,states:d}}}),rq=["id","aria-disabled","aria-selected"];function aq(i,o,l,c,d,p){return ln((Y(),fe("li",{id:i.id,class:Z(i.containerKls),role:"option","aria-disabled":i.isDisabled||void 0,"aria-selected":i.itemSelected,onMouseenter:o[0]||(o[0]=(...g)=>i.hoverItem&&i.hoverItem(...g)),onClick:o[1]||(o[1]=en((...g)=>i.selectOptionClick&&i.selectOptionClick(...g),["stop"]))},[ze(i.$slots,"default",{},()=>[pe("span",null,dt(i.currentLabel),1)])],42,rq)),[[$n,i.visible]])}var H0=ct(oq,[["render",aq],["__file","option.vue"]]);const lq=xe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const i=Tt(Pu),o=Qe("select"),l=j(()=>i.props.popperClass),c=j(()=>i.props.multiple),d=j(()=>i.props.fitInputWidth),p=ne("");function g(){var b;p.value=`${(b=i.selectRef)==null?void 0:b.offsetWidth}px`}return un(()=>{g(),fi(i.selectRef,g)}),{ns:o,minWidth:p,popperClass:l,isMultiple:c,isFitInputWidth:d}}});function uq(i,o,l,c,d,p){return Y(),fe("div",{class:Z([i.ns.b("dropdown"),i.ns.is("multiple",i.isMultiple),i.popperClass]),style:Ft({[i.isFitInputWidth?"width":"minWidth"]:i.minWidth})},[i.$slots.header?(Y(),fe("div",{key:0,class:Z(i.ns.be("dropdown","header"))},[ze(i.$slots,"header")],2)):De("v-if",!0),ze(i.$slots,"default"),i.$slots.footer?(Y(),fe("div",{key:1,class:Z(i.ns.be("dropdown","footer"))},[ze(i.$slots,"footer")],2)):De("v-if",!0)],6)}var cq=ct(lq,[["render",uq],["__file","select-dropdown.vue"]]);function uC(i){const o=ne(!1);return{handleCompositionStart:()=>{o.value=!0},handleCompositionUpdate:p=>{const g=p.target.value,b=g[g.length-1]||"";o.value=!i0(b)},handleCompositionEnd:p=>{o.value&&(o.value=!1,Xt(i)&&i(p))}}}const hq=11,dq=(i,o)=>{const{t:l}=Bn(),c=hs(),d=Qe("select"),p=Qe("input"),g=Hn({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:i.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),b=ne(null),w=ne(null),M=ne(null),C=ne(null),P=ne(null),A=ne(null),O=ne(null),R=ne(null),N=ne(null),z=ne(null),T=ne(null),_=ne(null),{wrapperRef:I,isFocused:K,handleFocus:B,handleBlur:G}=cf(P,{afterFocus(){i.automaticDropdown&&!$.value&&($.value=!0,g.menuVisibleOnFocus=!0)},beforeBlur(vt){var Pt,on;return((Pt=M.value)==null?void 0:Pt.isFocusInsideContent(vt))||((on=C.value)==null?void 0:on.isFocusInsideContent(vt))},afterBlur(){$.value=!1,g.menuVisibleOnFocus=!1}}),$=ne(!1),J=ne(),{form:ee,formItem:Q}=ks(),{inputId:X}=Go(i,{formItemContext:Q}),{valueOnClear:se,isEmptyValue:de}=hf(i),ve=j(()=>i.disabled||(ee==null?void 0:ee.disabled)),me=j(()=>i.multiple?St(i.modelValue)&&i.modelValue.length>0:!de(i.modelValue)),ae=j(()=>i.clearable&&!ve.value&&g.inputHovering&&me.value),ie=j(()=>i.remote&&i.filterable&&!i.remoteShowSuffix?"":i.suffixIcon),re=j(()=>d.is("reverse",ie.value&&$.value)),te=j(()=>(Q==null?void 0:Q.validateState)||""),ue=j(()=>n0[te.value]),be=j(()=>i.remote?300:0),Ce=j(()=>i.loading?i.loadingText||l("el.select.loading"):i.remote&&!g.inputValue&&g.options.size===0?!1:i.filterable&&g.inputValue&&g.options.size>0&&Ne.value===0?i.noMatchText||l("el.select.noMatch"):g.options.size===0?i.noDataText||l("el.select.noData"):null),Ne=j(()=>Be.value.filter(vt=>vt.visible).length),Be=j(()=>{const vt=Array.from(g.options.values()),Pt=[];return g.optionValues.forEach(on=>{const vi=vt.findIndex(Hs=>Hs.value===on);vi>-1&&Pt.push(vt[vi])}),Pt.length>=vt.length?Pt:vt}),tt=j(()=>Array.from(g.cachedOptions.values())),Le=j(()=>{const vt=Be.value.filter(Pt=>!Pt.created).some(Pt=>Pt.currentLabel===g.inputValue);return i.filterable&&i.allowCreate&&g.inputValue!==""&&!vt}),_e=()=>{i.filterable&&Xt(i.filterMethod)||i.filterable&&i.remote&&Xt(i.remoteMethod)||Be.value.forEach(vt=>{var Pt;(Pt=vt.updateOption)==null||Pt.call(vt,g.inputValue)})},Fe=$i(),gt=j(()=>["small"].includes(Fe.value)?"small":"default"),Ye=j({get(){return $.value&&Ce.value!==!1},set(vt){$.value=vt}}),Ze=j(()=>St(i.modelValue)?i.modelValue.length===0&&!g.inputValue:i.filterable?!g.inputValue:!0),mt=j(()=>{var vt;const Pt=(vt=i.placeholder)!=null?vt:l("el.select.placeholder");return i.multiple||!me.value?Pt:g.selectedLabel}),Me=j(()=>Zp?null:"mouseenter");Ue(()=>i.modelValue,(vt,Pt)=>{i.multiple&&i.filterable&&!i.reserveKeyword&&(g.inputValue="",Ee("")),ot(),!ws(vt,Pt)&&i.validateEvent&&(Q==null||Q.validate("change").catch(on=>void 0))},{flush:"post",deep:!0}),Ue(()=>$.value,vt=>{vt?Ee(g.inputValue):(g.inputValue="",g.previousQuery=null,g.isBeforeHide=!0),o("visible-change",vt)}),Ue(()=>g.options.entries(),()=>{var vt;if(!In)return;const Pt=((vt=b.value)==null?void 0:vt.querySelectorAll("input"))||[];(!i.filterable&&!i.defaultFirstOption&&!Ri(i.modelValue)||!Array.from(Pt).includes(document.activeElement))&&ot(),i.defaultFirstOption&&(i.filterable||i.remote)&&Ne.value&&We()},{flush:"post"}),Ue(()=>g.hoveringIndex,vt=>{Yt(vt)&&vt>-1?J.value=Be.value[vt]||{}:J.value={},Be.value.forEach(Pt=>{Pt.hover=J.value===Pt})}),us(()=>{g.isBeforeHide||_e()});const Ee=vt=>{g.previousQuery!==vt&&(g.previousQuery=vt,i.filterable&&Xt(i.filterMethod)?i.filterMethod(vt):i.filterable&&i.remote&&Xt(i.remoteMethod)&&i.remoteMethod(vt),i.defaultFirstOption&&(i.filterable||i.remote)&&Ne.value?Kt(We):Kt(Je))},We=()=>{const vt=Be.value.filter(vi=>vi.visible&&!vi.disabled&&!vi.states.groupDisabled),Pt=vt.find(vi=>vi.created),on=vt[0];g.hoveringIndex=it(Be.value,Pt||on)},ot=()=>{if(i.multiple)g.selectedLabel="";else{const Pt=He(i.modelValue);g.selectedLabel=Pt.currentLabel,g.selected=Pt;return}const vt=[];St(i.modelValue)&&i.modelValue.forEach(Pt=>{vt.push(He(Pt))}),g.selected=vt},He=vt=>{let Pt;const on=Eh(vt).toLowerCase()==="object",vi=Eh(vt).toLowerCase()==="null",Hs=Eh(vt).toLowerCase()==="undefined";for(let js=g.cachedOptions.size-1;js>=0;js--){const Ds=tt.value[js];if(on?Ni(Ds.value,i.valueKey)===Ni(vt,i.valueKey):Ds.value===vt){Pt={value:vt,currentLabel:Ds.currentLabel,get isDisabled(){return Ds.isDisabled}};break}}if(Pt)return Pt;const Wo=on?vt.label:!vi&&!Hs?vt:"";return{value:vt,currentLabel:Wo}},Je=()=>{i.multiple?g.hoveringIndex=Be.value.findIndex(vt=>g.selected.some(Pt=>ds(Pt)===ds(vt))):g.hoveringIndex=Be.value.findIndex(vt=>ds(vt)===ds(g.selected))},nt=()=>{g.selectionWidth=w.value.getBoundingClientRect().width},rt=()=>{g.calculatorWidth=A.value.getBoundingClientRect().width},ht=()=>{g.collapseItemWidth=T.value.getBoundingClientRect().width},qe=()=>{var vt,Pt;(Pt=(vt=M.value)==null?void 0:vt.updatePopper)==null||Pt.call(vt)},Mt=()=>{var vt,Pt;(Pt=(vt=C.value)==null?void 0:vt.updatePopper)==null||Pt.call(vt)},Nt=()=>{g.inputValue.length>0&&!$.value&&($.value=!0),Ee(g.inputValue)},Ge=vt=>{if(g.inputValue=vt.target.value,i.remote)kt();else return Nt()},kt=Ks(()=>{Nt()},be.value),Ht=vt=>{ws(i.modelValue,vt)||o(si,vt)},bn=vt=>xx(vt,Pt=>!g.disabledOptions.has(Pt)),hn=vt=>{if(i.multiple&&vt.code!==Gt.delete&&vt.target.value.length<=0){const Pt=i.modelValue.slice(),on=bn(Pt);if(on<0)return;const vi=Pt[on];Pt.splice(on,1),o(wn,Pt),Ht(Pt),o("remove-tag",vi)}},Vt=(vt,Pt)=>{const on=g.selected.indexOf(Pt);if(on>-1&&!ve.value){const vi=i.modelValue.slice();vi.splice(on,1),o(wn,vi),Ht(vi),o("remove-tag",Pt.value)}vt.stopPropagation(),mi()},Ke=vt=>{vt.stopPropagation();const Pt=i.multiple?[]:se.value;if(i.multiple)for(const on of g.selected)on.isDisabled&&Pt.push(on.value);o(wn,Pt),Ht(Pt),g.hoveringIndex=-1,$.value=!1,o("clear"),mi()},wt=vt=>{if(i.multiple){const Pt=(i.modelValue||[]).slice(),on=it(Pt,vt.value);on>-1?Pt.splice(on,1):(i.multipleLimit<=0||Pt.length<i.multipleLimit)&&Pt.push(vt.value),o(wn,Pt),Ht(Pt),vt.created&&Ee(""),i.filterable&&!i.reserveKeyword&&(g.inputValue="")}else o(wn,vt.value),Ht(vt.value),$.value=!1;mi(),!$.value&&Kt(()=>{$e(vt)})},it=(vt=[],Pt)=>{if(!yn(Pt))return vt.indexOf(Pt);const on=i.valueKey;let vi=-1;return vt.some((Hs,Wo)=>Wn(Ni(Hs,on))===Ni(Pt,on)?(vi=Wo,!0):!1),vi},$e=vt=>{var Pt,on,vi,Hs,Wo;const Kr=St(vt)?vt[0]:vt;let js=null;if(Kr!=null&&Kr.value){const Ds=Be.value.filter(Hr=>Hr.value===Kr.value);Ds.length>0&&(js=Ds[0].$el)}if(M.value&&js){const Ds=(Hs=(vi=(on=(Pt=M.value)==null?void 0:Pt.popperRef)==null?void 0:on.contentRef)==null?void 0:vi.querySelector)==null?void 0:Hs.call(vi,`.${d.be("dropdown","wrap")}`);Ds&&Px(Ds,js)}(Wo=_.value)==null||Wo.handleScroll()},et=vt=>{g.options.set(vt.value,vt),g.cachedOptions.set(vt.value,vt),vt.disabled&&g.disabledOptions.set(vt.value,vt)},st=(vt,Pt)=>{g.options.get(vt)===Pt&&g.options.delete(vt)},{handleCompositionStart:Ve,handleCompositionUpdate:Lt,handleCompositionEnd:Sn}=uC(vt=>Ge(vt)),zn=j(()=>{var vt,Pt;return(Pt=(vt=M.value)==null?void 0:vt.popperRef)==null?void 0:Pt.contentRef}),ki=()=>{g.isBeforeHide=!1,Kt(()=>$e(g.selected))},mi=()=>{var vt;(vt=P.value)==null||vt.focus()},Ln=()=>{hr()},Un=vt=>{Ke(vt)},hr=vt=>{if($.value=!1,K.value){const Pt=new FocusEvent("focus",vt);Kt(()=>G(Pt))}},_r=()=>{g.inputValue.length>0?g.inputValue="":$.value=!1},La=()=>{ve.value||(Zp&&(g.inputHovering=!0),g.menuVisibleOnFocus?g.menuVisibleOnFocus=!1:$.value=!$.value)},ai=()=>{$.value?Be.value[g.hoveringIndex]&&wt(Be.value[g.hoveringIndex]):La()},ds=vt=>yn(vt.value)?Ni(vt.value,i.valueKey):vt.value,dr=j(()=>Be.value.filter(vt=>vt.visible).every(vt=>vt.disabled)),fr=j(()=>i.multiple?i.collapseTags?g.selected.slice(0,i.maxCollapseTags):g.selected:[]),no=j(()=>i.multiple?i.collapseTags?g.selected.slice(i.maxCollapseTags):[]:[]),Gi=vt=>{if(!$.value){$.value=!0;return}if(!(g.options.size===0||Ne.value===0)&&!dr.value){vt==="next"?(g.hoveringIndex++,g.hoveringIndex===g.options.size&&(g.hoveringIndex=0)):vt==="prev"&&(g.hoveringIndex--,g.hoveringIndex<0&&(g.hoveringIndex=g.options.size-1));const Pt=Be.value[g.hoveringIndex];(Pt.disabled===!0||Pt.states.groupDisabled===!0||!Pt.visible)&&Gi(vt),Kt(()=>$e(J.value))}},io=()=>{if(!w.value)return 0;const vt=window.getComputedStyle(w.value);return Number.parseFloat(vt.gap||"6px")},pr=j(()=>{const vt=io();return{maxWidth:`${T.value&&i.maxCollapseTags===1?g.selectionWidth-g.collapseItemWidth-vt:g.selectionWidth}px`}}),To=j(()=>({maxWidth:`${g.selectionWidth}px`})),ml=j(()=>({width:`${Math.max(g.calculatorWidth,hq)}px`}));return i.multiple&&!St(i.modelValue)&&o(wn,[]),!i.multiple&&St(i.modelValue)&&o(wn,""),fi(w,nt),fi(A,rt),fi(N,qe),fi(I,qe),fi(z,Mt),fi(T,ht),un(()=>{ot()}),{inputId:X,contentId:c,nsSelect:d,nsInput:p,states:g,isFocused:K,expanded:$,optionsArray:Be,hoverOption:J,selectSize:Fe,filteredOptionsCount:Ne,resetCalculatorWidth:rt,updateTooltip:qe,updateTagTooltip:Mt,debouncedOnInputChange:kt,onInput:Ge,deletePrevTag:hn,deleteTag:Vt,deleteSelected:Ke,handleOptionSelect:wt,scrollToOption:$e,hasModelValue:me,shouldShowPlaceholder:Ze,currentPlaceholder:mt,mouseEnterEventName:Me,showClose:ae,iconComponent:ie,iconReverse:re,validateState:te,validateIcon:ue,showNewOption:Le,updateOptions:_e,collapseTagSize:gt,setSelected:ot,selectDisabled:ve,emptyText:Ce,handleCompositionStart:Ve,handleCompositionUpdate:Lt,handleCompositionEnd:Sn,onOptionCreate:et,onOptionDestroy:st,handleMenuEnter:ki,handleFocus:B,focus:mi,blur:Ln,handleBlur:G,handleClearClick:Un,handleClickOutside:hr,handleEsc:_r,toggleMenu:La,selectOption:ai,getValueKey:ds,navigateOptions:Gi,dropdownMenuVisible:Ye,showTagList:fr,collapseTagList:no,tagStyle:pr,collapseTagStyle:To,inputStyle:ml,popperRef:zn,inputRef:P,tooltipRef:M,tagTooltipRef:C,calculatorRef:A,prefixRef:O,suffixRef:R,selectRef:b,wrapperRef:I,selectionRef:w,scrollbarRef:_,menuRef:N,tagMenuRef:z,collapseItemRef:T}};var fq=xe({name:"ElOptions",setup(i,{slots:o}){const l=Tt(Pu);let c=[];return()=>{var d,p;const g=(d=o.default)==null?void 0:d.call(o),b=[];function w(M){St(M)&&M.forEach(C=>{var P,A,O,R;const N=(P=(C==null?void 0:C.type)||{})==null?void 0:P.name;N==="ElOptionGroup"?w(!tn(C.children)&&!St(C.children)&&Xt((A=C.children)==null?void 0:A.default)?(O=C.children)==null?void 0:O.default():C.children):N==="ElOption"?b.push((R=C.props)==null?void 0:R.value):St(C.children)&&w(C.children)})}return g.length&&w((p=g[0])==null?void 0:p.children),ws(b,c)||(c=b,l&&(l.states.optionValues=b)),g}}});const pq=lt({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:ji,effect:{type:Ae(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ae(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Yi.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Xn,default:Ta},fitInputWidth:Boolean,suffixIcon:{type:Xn,default:Fr},tagType:{...gf.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:Ae(String),values:pl,default:"bottom-start"},fallbackPlacements:{type:Ae(Array),default:["bottom-start","top-start","right","left"]},...Cu,...os(["ariaLabel"])}),L1="ElSelect",gq=xe({name:L1,componentName:L1,components:{ElInput:bs,ElSelectMenu:cq,ElOption:H0,ElOptions:fq,ElTag:kc,ElScrollbar:$r,ElTooltip:Ss,ElIcon:Et},directives:{ClickOutside:Er},props:pq,emits:[wn,si,"remove-tag","clear","visible-change","focus","blur"],setup(i,{emit:o}){const l=dq(i,o);return En(Pu,Hn({props:i,states:l.states,optionsArray:l.optionsArray,handleOptionSelect:l.handleOptionSelect,onOptionCreate:l.onOptionCreate,onOptionDestroy:l.onOptionDestroy,selectRef:l.selectRef,setSelected:l.setSelected})),{...l}}}),mq=["id","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],vq=["textContent"],yq={key:1};function bq(i,o,l,c,d,p){const g=fn("el-tag"),b=fn("el-tooltip"),w=fn("el-icon"),M=fn("el-option"),C=fn("el-options"),P=fn("el-scrollbar"),A=fn("el-select-menu"),O=jd("click-outside");return ln((Y(),fe("div",{ref:"selectRef",class:Z([i.nsSelect.b(),i.nsSelect.m(i.selectSize)]),[ju(i.mouseEnterEventName)]:o[16]||(o[16]=R=>i.states.inputHovering=!0),onMouseleave:o[17]||(o[17]=R=>i.states.inputHovering=!1),onClick:o[18]||(o[18]=en((...R)=>i.toggleMenu&&i.toggleMenu(...R),["prevent","stop"]))},[ye(b,{ref:"tooltipRef",visible:i.dropdownMenuVisible,placement:i.placement,teleported:i.teleported,"popper-class":[i.nsSelect.e("popper"),i.popperClass],"popper-options":i.popperOptions,"fallback-placements":i.fallbackPlacements,effect:i.effect,pure:"",trigger:"click",transition:`${i.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:i.persistent,onBeforeShow:i.handleMenuEnter,onHide:o[15]||(o[15]=R=>i.states.isBeforeHide=!1)},{default:Te(()=>{var R;return[pe("div",{ref:"wrapperRef",class:Z([i.nsSelect.e("wrapper"),i.nsSelect.is("focused",i.isFocused),i.nsSelect.is("hovering",i.states.inputHovering),i.nsSelect.is("filterable",i.filterable),i.nsSelect.is("disabled",i.selectDisabled)])},[i.$slots.prefix?(Y(),fe("div",{key:0,ref:"prefixRef",class:Z(i.nsSelect.e("prefix"))},[ze(i.$slots,"prefix")],2)):De("v-if",!0),pe("div",{ref:"selectionRef",class:Z([i.nsSelect.e("selection"),i.nsSelect.is("near",i.multiple&&!i.$slots.prefix&&!!i.states.selected.length)])},[i.multiple?ze(i.$slots,"tag",{key:0},()=>[(Y(!0),fe($t,null,Rn(i.showTagList,N=>(Y(),fe("div",{key:i.getValueKey(N),class:Z(i.nsSelect.e("selected-item"))},[ye(g,{closable:!i.selectDisabled&&!N.isDisabled,size:i.collapseTagSize,type:i.tagType,"disable-transitions":"",style:Ft(i.tagStyle),onClose:z=>i.deleteTag(z,N)},{default:Te(()=>[pe("span",{class:Z(i.nsSelect.e("tags-text"))},[ze(i.$slots,"label",{label:N.currentLabel,value:N.value},()=>[Tn(dt(N.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),i.collapseTags&&i.states.selected.length>i.maxCollapseTags?(Y(),Ie(b,{key:0,ref:"tagTooltipRef",disabled:i.dropdownMenuVisible||!i.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:i.effect,placement:"bottom",teleported:i.teleported},{default:Te(()=>[pe("div",{ref:"collapseItemRef",class:Z(i.nsSelect.e("selected-item"))},[ye(g,{closable:!1,size:i.collapseTagSize,type:i.tagType,"disable-transitions":"",style:Ft(i.collapseTagStyle)},{default:Te(()=>[pe("span",{class:Z(i.nsSelect.e("tags-text"))}," + "+dt(i.states.selected.length-i.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:Te(()=>[pe("div",{ref:"tagMenuRef",class:Z(i.nsSelect.e("selection"))},[(Y(!0),fe($t,null,Rn(i.collapseTagList,N=>(Y(),fe("div",{key:i.getValueKey(N),class:Z(i.nsSelect.e("selected-item"))},[ye(g,{class:"in-tooltip",closable:!i.selectDisabled&&!N.isDisabled,size:i.collapseTagSize,type:i.tagType,"disable-transitions":"",onClose:z=>i.deleteTag(z,N)},{default:Te(()=>[pe("span",{class:Z(i.nsSelect.e("tags-text"))},[ze(i.$slots,"label",{label:N.currentLabel,value:N.value},()=>[Tn(dt(N.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):De("v-if",!0)]):De("v-if",!0),i.selectDisabled?De("v-if",!0):(Y(),fe("div",{key:1,class:Z([i.nsSelect.e("selected-item"),i.nsSelect.e("input-wrapper"),i.nsSelect.is("hidden",!i.filterable)])},[ln(pe("input",{id:i.inputId,ref:"inputRef","onUpdate:modelValue":o[0]||(o[0]=N=>i.states.inputValue=N),type:"text",name:i.name,class:Z([i.nsSelect.e("input"),i.nsSelect.is(i.selectSize)]),disabled:i.selectDisabled,autocomplete:i.autocomplete,style:Ft(i.inputStyle),role:"combobox",readonly:!i.filterable,spellcheck:"false","aria-activedescendant":((R=i.hoverOption)==null?void 0:R.id)||"","aria-controls":i.contentId,"aria-expanded":i.dropdownMenuVisible,"aria-label":i.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:o[1]||(o[1]=(...N)=>i.handleFocus&&i.handleFocus(...N)),onBlur:o[2]||(o[2]=(...N)=>i.handleBlur&&i.handleBlur(...N)),onKeydown:[o[3]||(o[3]=Yn(en(N=>i.navigateOptions("next"),["stop","prevent"]),["down"])),o[4]||(o[4]=Yn(en(N=>i.navigateOptions("prev"),["stop","prevent"]),["up"])),o[5]||(o[5]=Yn(en((...N)=>i.handleEsc&&i.handleEsc(...N),["stop","prevent"]),["esc"])),o[6]||(o[6]=Yn(en((...N)=>i.selectOption&&i.selectOption(...N),["stop","prevent"]),["enter"])),o[7]||(o[7]=Yn(en((...N)=>i.deletePrevTag&&i.deletePrevTag(...N),["stop"]),["delete"]))],onCompositionstart:o[8]||(o[8]=(...N)=>i.handleCompositionStart&&i.handleCompositionStart(...N)),onCompositionupdate:o[9]||(o[9]=(...N)=>i.handleCompositionUpdate&&i.handleCompositionUpdate(...N)),onCompositionend:o[10]||(o[10]=(...N)=>i.handleCompositionEnd&&i.handleCompositionEnd(...N)),onInput:o[11]||(o[11]=(...N)=>i.onInput&&i.onInput(...N)),onClick:o[12]||(o[12]=en((...N)=>i.toggleMenu&&i.toggleMenu(...N),["stop"]))},null,46,mq),[[Am,i.states.inputValue]]),i.filterable?(Y(),fe("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Z(i.nsSelect.e("input-calculator")),textContent:dt(i.states.inputValue)},null,10,vq)):De("v-if",!0)],2)),i.shouldShowPlaceholder?(Y(),fe("div",{key:2,class:Z([i.nsSelect.e("selected-item"),i.nsSelect.e("placeholder"),i.nsSelect.is("transparent",!i.hasModelValue||i.expanded&&!i.states.inputValue)])},[i.hasModelValue?ze(i.$slots,"label",{key:0,label:i.currentPlaceholder,value:i.modelValue},()=>[pe("span",null,dt(i.currentPlaceholder),1)]):(Y(),fe("span",yq,dt(i.currentPlaceholder),1))],2)):De("v-if",!0)],2),pe("div",{ref:"suffixRef",class:Z(i.nsSelect.e("suffix"))},[i.iconComponent&&!i.showClose?(Y(),Ie(w,{key:0,class:Z([i.nsSelect.e("caret"),i.nsSelect.e("icon"),i.iconReverse])},{default:Te(()=>[(Y(),Ie(kn(i.iconComponent)))]),_:1},8,["class"])):De("v-if",!0),i.showClose&&i.clearIcon?(Y(),Ie(w,{key:1,class:Z([i.nsSelect.e("caret"),i.nsSelect.e("icon")]),onClick:i.handleClearClick},{default:Te(()=>[(Y(),Ie(kn(i.clearIcon)))]),_:1},8,["class","onClick"])):De("v-if",!0),i.validateState&&i.validateIcon?(Y(),Ie(w,{key:2,class:Z([i.nsInput.e("icon"),i.nsInput.e("validateIcon")])},{default:Te(()=>[(Y(),Ie(kn(i.validateIcon)))]),_:1},8,["class"])):De("v-if",!0)],2)],2)]}),content:Te(()=>[ye(A,{ref:"menuRef"},{default:Te(()=>[i.$slots.header?(Y(),fe("div",{key:0,class:Z(i.nsSelect.be("dropdown","header")),onClick:o[13]||(o[13]=en(()=>{},["stop"]))},[ze(i.$slots,"header")],2)):De("v-if",!0),ln(ye(P,{id:i.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":i.nsSelect.be("dropdown","wrap"),"view-class":i.nsSelect.be("dropdown","list"),class:Z([i.nsSelect.is("empty",i.filteredOptionsCount===0)]),role:"listbox","aria-label":i.ariaLabel,"aria-orientation":"vertical"},{default:Te(()=>[i.showNewOption?(Y(),Ie(M,{key:0,value:i.states.inputValue,created:!0},null,8,["value"])):De("v-if",!0),ye(C,null,{default:Te(()=>[ze(i.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[$n,i.states.options.size>0&&!i.loading]]),i.$slots.loading&&i.loading?(Y(),fe("div",{key:1,class:Z(i.nsSelect.be("dropdown","loading"))},[ze(i.$slots,"loading")],2)):i.loading||i.filteredOptionsCount===0?(Y(),fe("div",{key:2,class:Z(i.nsSelect.be("dropdown","empty"))},[ze(i.$slots,"empty",{},()=>[pe("span",null,dt(i.emptyText),1)])],2)):De("v-if",!0),i.$slots.footer?(Y(),fe("div",{key:3,class:Z(i.nsSelect.be("dropdown","footer")),onClick:o[14]||(o[14]=en(()=>{},["stop"]))},[ze(i.$slots,"footer")],2)):De("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],16)),[[O,i.handleClickOutside,i.popperRef]])}var wq=ct(gq,[["render",bq],["__file","select.vue"]]);const xq=xe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(i){const o=Qe("select"),l=ne(null),c=pn(),d=ne([]);En(lC,Hn({...ss(i)}));const p=j(()=>d.value.some(M=>M.visible===!0)),g=M=>{var C,P;return((C=M.type)==null?void 0:C.name)==="ElOption"&&!!((P=M.component)!=null&&P.proxy)},b=M=>{const C=va(M),P=[];return C.forEach(A=>{var O,R;g(A)?P.push(A.component.proxy):(O=A.children)!=null&&O.length?P.push(...b(A.children)):(R=A.component)!=null&&R.subTree&&P.push(...b(A.component.subTree))}),P},w=()=>{d.value=b(c.subTree)};return un(()=>{w()}),I2(l,w,{attributes:!0,subtree:!0,childList:!0}),{groupRef:l,visible:p,ns:o}}});function Sq(i,o,l,c,d,p){return ln((Y(),fe("ul",{ref:"groupRef",class:Z(i.ns.be("group","wrap"))},[pe("li",{class:Z(i.ns.be("group","title"))},dt(i.label),3),pe("li",null,[pe("ul",{class:Z(i.ns.b("group"))},[ze(i.$slots,"default")],2)])],2)),[[$n,i.visible]])}var cC=ct(xq,[["render",Sq],["__file","option-group.vue"]]);const ll=gn(wq,{Option:H0,OptionGroup:cC}),Pd=gi(H0),kq=gi(cC),j0=()=>Tt(aC,{}),Cq=lt({pageSize:{type:Number,required:!0},pageSizes:{type:Ae(Array),default:()=>pi([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:ur}}),Mq=xe({name:"ElPaginationSizes"}),Pq=xe({...Mq,props:Cq,emits:["page-size-change"],setup(i,{emit:o}){const l=i,{t:c}=Bn(),d=Qe("pagination"),p=j0(),g=ne(l.pageSize);Ue(()=>l.pageSizes,(M,C)=>{if(!ws(M,C)&&Array.isArray(M)){const P=M.includes(l.pageSize)?l.pageSize:l.pageSizes[0];o("page-size-change",P)}}),Ue(()=>l.pageSize,M=>{g.value=M});const b=j(()=>l.pageSizes);function w(M){var C;M!==g.value&&(g.value=M,(C=p.handleSizeChange)==null||C.call(p,Number(M)))}return(M,C)=>(Y(),fe("span",{class:Z(v(d).e("sizes"))},[ye(v(ll),{"model-value":g.value,disabled:M.disabled,"popper-class":M.popperClass,size:M.size,teleported:M.teleported,"validate-event":!1,onChange:w},{default:Te(()=>[(Y(!0),fe($t,null,Rn(v(b),P=>(Y(),Ie(v(Pd),{key:P,value:P,label:P+v(c)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var Tq=ct(Pq,[["__file","sizes.vue"]]);const Nq=lt({size:{type:String,values:ur}}),Aq=["disabled"],Lq=xe({name:"ElPaginationJumper"}),Eq=xe({...Lq,props:Nq,setup(i){const{t:o}=Bn(),l=Qe("pagination"),{pageCount:c,disabled:d,currentPage:p,changeEvent:g}=j0(),b=ne(),w=j(()=>{var P;return(P=b.value)!=null?P:p==null?void 0:p.value});function M(P){b.value=P?+P:""}function C(P){P=Math.trunc(+P),g==null||g(P),b.value=void 0}return(P,A)=>(Y(),fe("span",{class:Z(v(l).e("jump")),disabled:v(d)},[pe("span",{class:Z([v(l).e("goto")])},dt(v(o)("el.pagination.goto")),3),ye(v(bs),{size:P.size,class:Z([v(l).e("editor"),v(l).is("in-pagination")]),min:1,max:v(c),disabled:v(d),"model-value":v(w),"validate-event":!1,"aria-label":v(o)("el.pagination.page"),type:"number","onUpdate:modelValue":M,onChange:C},null,8,["size","class","max","disabled","model-value","aria-label"]),pe("span",{class:Z([v(l).e("classifier")])},dt(v(o)("el.pagination.pageClassifier")),3)],10,Aq))}});var Dq=ct(Eq,[["__file","jumper.vue"]]);const Oq=lt({total:{type:Number,default:1e3}}),Rq=["disabled"],Iq=xe({name:"ElPaginationTotal"}),Fq=xe({...Iq,props:Oq,setup(i){const{t:o}=Bn(),l=Qe("pagination"),{disabled:c}=j0();return(d,p)=>(Y(),fe("span",{class:Z(v(l).e("total")),disabled:v(c)},dt(v(o)("el.pagination.total",{total:d.total})),11,Rq))}});var Bq=ct(Fq,[["__file","total.vue"]]);const $q=lt({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Vq=["onKeyup"],zq=["aria-current","aria-label","tabindex"],_q=["tabindex","aria-label"],Kq=["aria-current","aria-label","tabindex"],Hq=["tabindex","aria-label"],jq=["aria-current","aria-label","tabindex"],qq=xe({name:"ElPaginationPager"}),Gq=xe({...qq,props:$q,emits:["change"],setup(i,{emit:o}){const l=i,c=Qe("pager"),d=Qe("icon"),{t:p}=Bn(),g=ne(!1),b=ne(!1),w=ne(!1),M=ne(!1),C=ne(!1),P=ne(!1),A=j(()=>{const K=l.pagerCount,B=(K-1)/2,G=Number(l.currentPage),$=Number(l.pageCount);let J=!1,ee=!1;$>K&&(G>K-B&&(J=!0),G<$-B&&(ee=!0));const Q=[];if(J&&!ee){const X=$-(K-2);for(let se=X;se<$;se++)Q.push(se)}else if(!J&&ee)for(let X=2;X<K;X++)Q.push(X);else if(J&&ee){const X=Math.floor(K/2)-1;for(let se=G-X;se<=G+X;se++)Q.push(se)}else for(let X=2;X<$;X++)Q.push(X);return Q}),O=j(()=>["more","btn-quickprev",d.b(),c.is("disabled",l.disabled)]),R=j(()=>["more","btn-quicknext",d.b(),c.is("disabled",l.disabled)]),N=j(()=>l.disabled?-1:0);us(()=>{const K=(l.pagerCount-1)/2;g.value=!1,b.value=!1,l.pageCount>l.pagerCount&&(l.currentPage>l.pagerCount-K&&(g.value=!0),l.currentPage<l.pageCount-K&&(b.value=!0))});function z(K=!1){l.disabled||(K?w.value=!0:M.value=!0)}function T(K=!1){K?C.value=!0:P.value=!0}function _(K){const B=K.target;if(B.tagName.toLowerCase()==="li"&&Array.from(B.classList).includes("number")){const G=Number(B.textContent);G!==l.currentPage&&o("change",G)}else B.tagName.toLowerCase()==="li"&&Array.from(B.classList).includes("more")&&I(K)}function I(K){const B=K.target;if(B.tagName.toLowerCase()==="ul"||l.disabled)return;let G=Number(B.textContent);const $=l.pageCount,J=l.currentPage,ee=l.pagerCount-2;B.className.includes("more")&&(B.className.includes("quickprev")?G=J-ee:B.className.includes("quicknext")&&(G=J+ee)),Number.isNaN(+G)||(G<1&&(G=1),G>$&&(G=$)),G!==J&&o("change",G)}return(K,B)=>(Y(),fe("ul",{class:Z(v(c).b()),onClick:I,onKeyup:Yn(_,["enter"])},[K.pageCount>0?(Y(),fe("li",{key:0,class:Z([[v(c).is("active",K.currentPage===1),v(c).is("disabled",K.disabled)],"number"]),"aria-current":K.currentPage===1,"aria-label":v(p)("el.pagination.currentPage",{pager:1}),tabindex:v(N)}," 1 ",10,zq)):De("v-if",!0),g.value?(Y(),fe("li",{key:1,class:Z(v(O)),tabindex:v(N),"aria-label":v(p)("el.pagination.prevPages",{pager:K.pagerCount-2}),onMouseenter:B[0]||(B[0]=G=>z(!0)),onMouseleave:B[1]||(B[1]=G=>w.value=!1),onFocus:B[2]||(B[2]=G=>T(!0)),onBlur:B[3]||(B[3]=G=>C.value=!1)},[(w.value||C.value)&&!K.disabled?(Y(),Ie(v(nu),{key:0})):(Y(),Ie(v(yb),{key:1}))],42,_q)):De("v-if",!0),(Y(!0),fe($t,null,Rn(v(A),G=>(Y(),fe("li",{key:G,class:Z([[v(c).is("active",K.currentPage===G),v(c).is("disabled",K.disabled)],"number"]),"aria-current":K.currentPage===G,"aria-label":v(p)("el.pagination.currentPage",{pager:G}),tabindex:v(N)},dt(G),11,Kq))),128)),b.value?(Y(),fe("li",{key:2,class:Z(v(R)),tabindex:v(N),"aria-label":v(p)("el.pagination.nextPages",{pager:K.pagerCount-2}),onMouseenter:B[4]||(B[4]=G=>z()),onMouseleave:B[5]||(B[5]=G=>M.value=!1),onFocus:B[6]||(B[6]=G=>T()),onBlur:B[7]||(B[7]=G=>P.value=!1)},[(M.value||P.value)&&!K.disabled?(Y(),Ie(v(iu),{key:0})):(Y(),Ie(v(yb),{key:1}))],42,Hq)):De("v-if",!0),K.pageCount>1?(Y(),fe("li",{key:3,class:Z([[v(c).is("active",K.currentPage===K.pageCount),v(c).is("disabled",K.disabled)],"number"]),"aria-current":K.currentPage===K.pageCount,"aria-label":v(p)("el.pagination.currentPage",{pager:K.pageCount}),tabindex:v(N)},dt(K.pageCount),11,jq)):De("v-if",!0)],42,Vq))}});var Wq=ct(Gq,[["__file","pager.vue"]]);const Ms=i=>typeof i!="number",Uq=lt({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:i=>Yt(i)&&Math.trunc(i)===i&&i>4&&i<22&&i%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Ae(Array),default:()=>pi([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Xn,default:()=>ba},nextText:{type:String,default:""},nextIcon:{type:Xn,default:()=>Ts},teleported:{type:Boolean,default:!0},small:Boolean,size:ji,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Yq={"update:current-page":i=>Yt(i),"update:page-size":i=>Yt(i),"size-change":i=>Yt(i),change:(i,o)=>Yt(i)&&Yt(o),"current-change":i=>Yt(i),"prev-click":i=>Yt(i),"next-click":i=>Yt(i)},E1="ElPagination";var Xq=xe({name:E1,props:Uq,emits:Yq,setup(i,{emit:o,slots:l}){const{t:c}=Bn(),d=Qe("pagination"),p=pn().vnode.props||{},g=j(()=>i.small?"small":i==null?void 0:i.size);qi({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},j(()=>!!i.small));const b="onUpdate:currentPage"in p||"onUpdate:current-page"in p||"onCurrentChange"in p,w="onUpdate:pageSize"in p||"onUpdate:page-size"in p||"onSizeChange"in p,M=j(()=>{if(Ms(i.total)&&Ms(i.pageCount)||!Ms(i.currentPage)&&!b)return!1;if(i.layout.includes("sizes")){if(Ms(i.pageCount)){if(!Ms(i.total)&&!Ms(i.pageSize)&&!w)return!1}else if(!w)return!1}return!0}),C=ne(Ms(i.defaultPageSize)?10:i.defaultPageSize),P=ne(Ms(i.defaultCurrentPage)?1:i.defaultCurrentPage),A=j({get(){return Ms(i.pageSize)?C.value:i.pageSize},set(K){Ms(i.pageSize)&&(C.value=K),w&&(o("update:page-size",K),o("size-change",K))}}),O=j(()=>{let K=0;return Ms(i.pageCount)?Ms(i.total)||(K=Math.max(1,Math.ceil(i.total/A.value))):K=i.pageCount,K}),R=j({get(){return Ms(i.currentPage)?P.value:i.currentPage},set(K){let B=K;K<1?B=1:K>O.value&&(B=O.value),Ms(i.currentPage)&&(P.value=B),b&&(o("update:current-page",B),o("current-change",B))}});Ue(O,K=>{R.value>K&&(R.value=K)}),Ue([R,A],K=>{o("change",...K)},{flush:"post"});function N(K){R.value=K}function z(K){A.value=K;const B=O.value;R.value>B&&(R.value=B)}function T(){i.disabled||(R.value-=1,o("prev-click",R.value))}function _(){i.disabled||(R.value+=1,o("next-click",R.value))}function I(K,B){K&&(K.props||(K.props={}),K.props.class=[K.props.class,B].join(" "))}return En(aC,{pageCount:O,disabled:j(()=>i.disabled),currentPage:R,changeEvent:N,handleSizeChange:z}),()=>{var K,B;if(!M.value)return c("el.pagination.deprecationWarning"),null;if(!i.layout||i.hideOnSinglePage&&O.value<=1)return null;const G=[],$=[],J=jt("div",{class:d.e("rightwrapper")},$),ee={prev:jt(Z9,{disabled:i.disabled,currentPage:R.value,prevText:i.prevText,prevIcon:i.prevIcon,onClick:T}),jumper:jt(Dq,{size:g.value}),pager:jt(Wq,{currentPage:R.value,pageCount:O.value,pagerCount:i.pagerCount,onChange:N,disabled:i.disabled}),next:jt(iq,{disabled:i.disabled,currentPage:R.value,pageCount:O.value,nextText:i.nextText,nextIcon:i.nextIcon,onClick:_}),sizes:jt(Tq,{pageSize:A.value,pageSizes:i.pageSizes,popperClass:i.popperClass,disabled:i.disabled,teleported:i.teleported,size:g.value}),slot:(B=(K=l==null?void 0:l.default)==null?void 0:K.call(l))!=null?B:null,total:jt(Bq,{total:Ms(i.total)?0:i.total})},Q=i.layout.split(",").map(se=>se.trim());let X=!1;return Q.forEach(se=>{if(se==="->"){X=!0;return}X?$.push(ee[se]):G.push(ee[se])}),I(G[0],d.is("first")),I(G[G.length-1],d.is("last")),X&&$.length>0&&(I($[0],d.is("first")),I($[$.length-1],d.is("last")),G.push(J)),jt("div",{class:[d.b(),d.is("background",i.background),d.m(g.value)]},G)}}});const Zq=gn(Xq),Jq=lt({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:gg,default:"primary"},cancelButtonType:{type:String,values:gg,default:"text"},icon:{type:Xn,default:()=>vR},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Yi.teleported,persistent:Yi.persistent,width:{type:[String,Number],default:150}}),Qq={confirm:i=>i instanceof MouseEvent,cancel:i=>i instanceof MouseEvent},eG=xe({name:"ElPopconfirm"}),tG=xe({...eG,props:Jq,emits:Qq,setup(i,{emit:o}){const l=i,{t:c}=Bn(),d=Qe("popconfirm"),p=ne(),g=()=>{var A,O;(O=(A=p.value)==null?void 0:A.onClose)==null||O.call(A)},b=j(()=>({width:Si(l.width)})),w=A=>{o("confirm",A),g()},M=A=>{o("cancel",A),g()},C=j(()=>l.confirmButtonText||c("el.popconfirm.confirmButtonText")),P=j(()=>l.cancelButtonText||c("el.popconfirm.cancelButtonText"));return(A,O)=>(Y(),Ie(v(Ss),An({ref_key:"tooltipRef",ref:p,trigger:"click",effect:"light"},A.$attrs,{"popper-class":`${v(d).namespace.value}-popover`,"popper-style":v(b),teleported:A.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":A.hideAfter,persistent:A.persistent}),{content:Te(()=>[pe("div",{class:Z(v(d).b())},[pe("div",{class:Z(v(d).e("main"))},[!A.hideIcon&&A.icon?(Y(),Ie(v(Et),{key:0,class:Z(v(d).e("icon")),style:Ft({color:A.iconColor})},{default:Te(()=>[(Y(),Ie(kn(A.icon)))]),_:1},8,["class","style"])):De("v-if",!0),Tn(" "+dt(A.title),1)],2),pe("div",{class:Z(v(d).e("action"))},[ye(v(Zi),{size:"small",type:A.cancelButtonType==="text"?"":A.cancelButtonType,text:A.cancelButtonType==="text",onClick:M},{default:Te(()=>[Tn(dt(v(P)),1)]),_:1},8,["type","text"]),ye(v(Zi),{size:"small",type:A.confirmButtonType==="text"?"":A.confirmButtonType,text:A.confirmButtonType==="text",onClick:w},{default:Te(()=>[Tn(dt(v(C)),1)]),_:1},8,["type","text"])],2)],2)]),default:Te(()=>[A.$slots.reference?ze(A.$slots,"reference",{key:0}):De("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var nG=ct(tG,[["__file","popconfirm.vue"]]);const iG=gn(nG),sG=lt({trigger:Sc.trigger,placement:Yh.placement,disabled:Sc.disabled,visible:Yi.visible,transition:Yi.transition,popperOptions:Yh.popperOptions,tabindex:Yh.tabindex,content:Yi.content,popperStyle:Yi.popperStyle,popperClass:Yi.popperClass,enterable:{...Yi.enterable,default:!0},effect:{...Yi.effect,default:"light"},teleported:Yi.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),oG={"update:visible":i=>Ii(i),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},rG="onUpdate:visible",aG=xe({name:"ElPopover"}),lG=xe({...aG,props:sG,emits:oG,setup(i,{expose:o,emit:l}){const c=i,d=j(()=>c[rG]),p=Qe("popover"),g=ne(),b=j(()=>{var z;return(z=v(g))==null?void 0:z.popperRef}),w=j(()=>[{width:Si(c.width)},c.popperStyle]),M=j(()=>[p.b(),c.popperClass,{[p.m("plain")]:!!c.content}]),C=j(()=>c.transition===`${p.namespace.value}-fade-in-linear`),P=()=>{var z;(z=g.value)==null||z.hide()},A=()=>{l("before-enter")},O=()=>{l("before-leave")},R=()=>{l("after-enter")},N=()=>{l("update:visible",!1),l("after-leave")};return o({popperRef:b,hide:P}),(z,T)=>(Y(),Ie(v(Ss),An({ref_key:"tooltipRef",ref:g},z.$attrs,{trigger:z.trigger,placement:z.placement,disabled:z.disabled,visible:z.visible,transition:z.transition,"popper-options":z.popperOptions,tabindex:z.tabindex,content:z.content,offset:z.offset,"show-after":z.showAfter,"hide-after":z.hideAfter,"auto-close":z.autoClose,"show-arrow":z.showArrow,"aria-label":z.title,effect:z.effect,enterable:z.enterable,"popper-class":v(M),"popper-style":v(w),teleported:z.teleported,persistent:z.persistent,"gpu-acceleration":v(C),"onUpdate:visible":v(d),onBeforeShow:A,onBeforeHide:O,onShow:R,onHide:N}),{content:Te(()=>[z.title?(Y(),fe("div",{key:0,class:Z(v(p).e("title")),role:"title"},dt(z.title),3)):De("v-if",!0),ze(z.$slots,"default",{},()=>[Tn(dt(z.content),1)])]),default:Te(()=>[z.$slots.reference?ze(z.$slots,"reference",{key:0}):De("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var uG=ct(lG,[["__file","popover.vue"]]);const D1=(i,o)=>{const l=o.arg||o.value,c=l==null?void 0:l.popperRef;c&&(c.triggerRef=i)};var cG={mounted(i,o){D1(i,o)},updated(i,o){D1(i,o)}};const hG="popover",hC=_R(cG,hG),dG=gn(uG,{directive:hC}),fG=lt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:i=>i>=0&&i<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Ae(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Ae([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Ae(Function),default:i=>`${i}%`}}),pG=["aria-valuenow"],gG={viewBox:"0 0 100 100"},mG=["d","stroke","stroke-linecap","stroke-width"],vG=["d","stroke","opacity","stroke-linecap","stroke-width"],yG={key:0},bG=xe({name:"ElProgress"}),wG=xe({...bG,props:fG,setup(i){const o=i,l={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},c=Qe("progress"),d=j(()=>{const I={width:`${o.percentage}%`,animationDuration:`${o.duration}s`},K=_(o.percentage);return K.includes("gradient")?I.background=K:I.backgroundColor=K,I}),p=j(()=>(o.strokeWidth/o.width*100).toFixed(1)),g=j(()=>["circle","dashboard"].includes(o.type)?Number.parseInt(`${50-Number.parseFloat(p.value)/2}`,10):0),b=j(()=>{const I=g.value,K=o.type==="dashboard";return`
          M 50 50
          m 0 ${K?"":"-"}${I}
          a ${I} ${I} 0 1 1 0 ${K?"-":""}${I*2}
          a ${I} ${I} 0 1 1 0 ${K?"":"-"}${I*2}
          `}),w=j(()=>2*Math.PI*g.value),M=j(()=>o.type==="dashboard"?.75:1),C=j(()=>`${-1*w.value*(1-M.value)/2}px`),P=j(()=>({strokeDasharray:`${w.value*M.value}px, ${w.value}px`,strokeDashoffset:C.value})),A=j(()=>({strokeDasharray:`${w.value*M.value*(o.percentage/100)}px, ${w.value}px`,strokeDashoffset:C.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),O=j(()=>{let I;return o.color?I=_(o.percentage):I=l[o.status]||l.default,I}),R=j(()=>o.status==="warning"?of:o.type==="line"?o.status==="success"?Zm:Ta:o.status==="success"?_c:_o),N=j(()=>o.type==="line"?12+o.strokeWidth*.4:o.width*.111111+2),z=j(()=>o.format(o.percentage));function T(I){const K=100/I.length;return I.map((G,$)=>tn(G)?{color:G,percentage:($+1)*K}:G).sort((G,$)=>G.percentage-$.percentage)}const _=I=>{var K;const{color:B}=o;if(Xt(B))return B(I);if(tn(B))return B;{const G=T(B);for(const $ of G)if($.percentage>I)return $.color;return(K=G[G.length-1])==null?void 0:K.color}};return(I,K)=>(Y(),fe("div",{class:Z([v(c).b(),v(c).m(I.type),v(c).is(I.status),{[v(c).m("without-text")]:!I.showText,[v(c).m("text-inside")]:I.textInside}]),role:"progressbar","aria-valuenow":I.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[I.type==="line"?(Y(),fe("div",{key:0,class:Z(v(c).b("bar"))},[pe("div",{class:Z(v(c).be("bar","outer")),style:Ft({height:`${I.strokeWidth}px`})},[pe("div",{class:Z([v(c).be("bar","inner"),{[v(c).bem("bar","inner","indeterminate")]:I.indeterminate},{[v(c).bem("bar","inner","striped")]:I.striped},{[v(c).bem("bar","inner","striped-flow")]:I.stripedFlow}]),style:Ft(v(d))},[(I.showText||I.$slots.default)&&I.textInside?(Y(),fe("div",{key:0,class:Z(v(c).be("bar","innerText"))},[ze(I.$slots,"default",{percentage:I.percentage},()=>[pe("span",null,dt(v(z)),1)])],2)):De("v-if",!0)],6)],6)],2)):(Y(),fe("div",{key:1,class:Z(v(c).b("circle")),style:Ft({height:`${I.width}px`,width:`${I.width}px`})},[(Y(),fe("svg",gG,[pe("path",{class:Z(v(c).be("circle","track")),d:v(b),stroke:`var(${v(c).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":I.strokeLinecap,"stroke-width":v(p),fill:"none",style:Ft(v(P))},null,14,mG),pe("path",{class:Z(v(c).be("circle","path")),d:v(b),stroke:v(O),fill:"none",opacity:I.percentage?1:0,"stroke-linecap":I.strokeLinecap,"stroke-width":v(p),style:Ft(v(A))},null,14,vG)]))],6)),(I.showText||I.$slots.default)&&!I.textInside?(Y(),fe("div",{key:2,class:Z(v(c).e("text")),style:Ft({fontSize:`${v(N)}px`})},[ze(I.$slots,"default",{percentage:I.percentage},()=>[I.status?(Y(),Ie(v(Et),{key:1},{default:Te(()=>[(Y(),Ie(kn(v(R))))]),_:1})):(Y(),fe("span",yG,dt(v(z)),1))])],6)):De("v-if",!0)],10,pG))}});var xG=ct(wG,[["__file","progress.vue"]]);const dC=gn(xG),SG=lt({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Ae([Array,Object]),default:()=>pi(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Ae([Array,Object]),default:()=>[mh,mh,mh]},voidIcon:{type:Xn,default:()=>DR},disabledVoidIcon:{type:Xn,default:()=>mh},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Ae(Array),default:()=>pi(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:ji,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1},...os(["ariaLabel"])}),kG={[si]:i=>Yt(i),[wn]:i=>Yt(i)},CG=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],MG=["onMousemove","onClick"],PG=xe({name:"ElRate"}),TG=xe({...PG,props:SG,emits:kG,setup(i,{expose:o,emit:l}){const c=i;function d(ae,ie){const re=be=>yn(be),te=Object.keys(ie).map(be=>+be).filter(be=>{const Ce=ie[be];return(re(Ce)?Ce.excluded:!1)?ae<be:ae<=be}).sort((be,Ce)=>be-Ce),ue=ie[te[0]];return re(ue)&&ue.value||ue}const p=Tt(gl,void 0),g=Tt(lr,void 0),b=$i(),w=Qe("rate"),{inputId:M,isLabeledByFormItem:C}=Go(c,{formItemContext:g}),P=ne(c.modelValue),A=ne(-1),O=ne(!0),R=j(()=>[w.b(),w.m(b.value)]),N=j(()=>c.disabled||(p==null?void 0:p.disabled)),z=j(()=>w.cssVarBlock({"void-color":c.voidColor,"disabled-void-color":c.disabledVoidColor,"fill-color":K.value})),T=j(()=>{let ae="";return c.showScore?ae=c.scoreTemplate.replace(/\{\s*value\s*\}/,N.value?`${c.modelValue}`:`${P.value}`):c.showText&&(ae=c.texts[Math.ceil(P.value)-1]),ae}),_=j(()=>c.modelValue*100-Math.floor(c.modelValue)*100),I=j(()=>St(c.colors)?{[c.lowThreshold]:c.colors[0],[c.highThreshold]:{value:c.colors[1],excluded:!0},[c.max]:c.colors[2]}:c.colors),K=j(()=>{const ae=d(P.value,I.value);return yn(ae)?"":ae}),B=j(()=>{let ae="";return N.value?ae=`${_.value}%`:c.allowHalf&&(ae="50%"),{color:K.value,width:ae}}),G=j(()=>{let ae=St(c.icons)?[...c.icons]:{...c.icons};return ae=zl(ae),St(ae)?{[c.lowThreshold]:ae[0],[c.highThreshold]:{value:ae[1],excluded:!0},[c.max]:ae[2]}:ae}),$=j(()=>d(c.modelValue,G.value)),J=j(()=>N.value?tn(c.disabledVoidIcon)?c.disabledVoidIcon:zl(c.disabledVoidIcon):tn(c.voidIcon)?c.voidIcon:zl(c.voidIcon)),ee=j(()=>d(P.value,G.value));function Q(ae){const ie=N.value&&_.value>0&&ae-1<c.modelValue&&ae>c.modelValue,re=c.allowHalf&&O.value&&ae-.5<=P.value&&ae>P.value;return ie||re}function X(ae){c.clearable&&ae===c.modelValue&&(ae=0),l(wn,ae),c.modelValue!==ae&&l("change",ae)}function se(ae){N.value||(c.allowHalf&&O.value?X(P.value):X(ae))}function de(ae){if(N.value)return;let ie=P.value;const re=ae.code;return re===Gt.up||re===Gt.right?(c.allowHalf?ie+=.5:ie+=1,ae.stopPropagation(),ae.preventDefault()):(re===Gt.left||re===Gt.down)&&(c.allowHalf?ie-=.5:ie-=1,ae.stopPropagation(),ae.preventDefault()),ie=ie<0?0:ie,ie=ie>c.max?c.max:ie,l(wn,ie),l("change",ie),ie}function ve(ae,ie){if(!N.value){if(c.allowHalf&&ie){let re=ie.target;bo(re,w.e("item"))&&(re=re.querySelector(`.${w.e("icon")}`)),(re.clientWidth===0||bo(re,w.e("decimal")))&&(re=re.parentNode),O.value=ie.offsetX*2<=re.clientWidth,P.value=O.value?ae-.5:ae}else P.value=ae;A.value=ae}}function me(){N.value||(c.allowHalf&&(O.value=c.modelValue!==Math.floor(c.modelValue)),P.value=c.modelValue,A.value=-1)}return Ue(()=>c.modelValue,ae=>{P.value=ae,O.value=c.modelValue!==Math.floor(c.modelValue)}),c.modelValue||l(wn,0),qi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-rate",ref:"https://element-plus.org/en-US/component/rate.html"},j(()=>!!c.label)),o({setCurrentValue:ve,resetCurrentValue:me}),(ae,ie)=>{var re;return Y(),fe("div",{id:v(M),class:Z([v(R),v(w).is("disabled",v(N))]),role:"slider","aria-label":v(C)?void 0:ae.label||ae.ariaLabel||"rating","aria-labelledby":v(C)?(re=v(g))==null?void 0:re.labelId:void 0,"aria-valuenow":P.value,"aria-valuetext":v(T)||void 0,"aria-valuemin":"0","aria-valuemax":ae.max,tabindex:"0",style:Ft(v(z)),onKeydown:de},[(Y(!0),fe($t,null,Rn(ae.max,(te,ue)=>(Y(),fe("span",{key:ue,class:Z(v(w).e("item")),onMousemove:be=>ve(te,be),onMouseleave:me,onClick:be=>se(te)},[ye(v(Et),{class:Z([v(w).e("icon"),{hover:A.value===te},v(w).is("active",te<=P.value)])},{default:Te(()=>[Q(te)?De("v-if",!0):(Y(),fe($t,{key:0},[ln((Y(),Ie(kn(v(ee)),null,null,512)),[[$n,te<=P.value]]),ln((Y(),Ie(kn(v(J)),null,null,512)),[[$n,!(te<=P.value)]])],64)),Q(te)?(Y(),fe($t,{key:1},[(Y(),Ie(kn(v(J)),{class:Z([v(w).em("decimal","box")])},null,8,["class"])),ye(v(Et),{style:Ft(v(B)),class:Z([v(w).e("icon"),v(w).e("decimal")])},{default:Te(()=>[(Y(),Ie(kn(v($))))]),_:1},8,["style","class"])],64)):De("v-if",!0)]),_:2},1032,["class"])],42,MG))),128)),ae.showText||ae.showScore?(Y(),fe("span",{key:0,class:Z(v(w).e("text")),style:Ft({color:ae.textColor})},dt(v(T)),7)):De("v-if",!0)],46,CG)}}});var NG=ct(TG,[["__file","rate.vue"]]);const AG=gn(NG),Il={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},O1={[Il.success]:j3,[Il.warning]:of,[Il.error]:Jm,[Il.info]:Qm},LG=lt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),EG=xe({name:"ElResult"}),DG=xe({...EG,props:LG,setup(i){const o=i,l=Qe("result"),c=j(()=>{const d=o.icon,p=d&&Il[d]?Il[d]:"icon-info",g=O1[p]||O1["icon-info"];return{class:p,component:g}});return(d,p)=>(Y(),fe("div",{class:Z(v(l).b())},[pe("div",{class:Z(v(l).e("icon"))},[ze(d.$slots,"icon",{},()=>[v(c).component?(Y(),Ie(kn(v(c).component),{key:0,class:Z(v(c).class)},null,8,["class"])):De("v-if",!0)])],2),d.title||d.$slots.title?(Y(),fe("div",{key:0,class:Z(v(l).e("title"))},[ze(d.$slots,"title",{},()=>[pe("p",null,dt(d.title),1)])],2)):De("v-if",!0),d.subTitle||d.$slots["sub-title"]?(Y(),fe("div",{key:1,class:Z(v(l).e("subtitle"))},[ze(d.$slots,"sub-title",{},()=>[pe("p",null,dt(d.subTitle),1)])],2)):De("v-if",!0),d.$slots.extra?(Y(),fe("div",{key:2,class:Z(v(l).e("extra"))},[ze(d.$slots,"extra")],2)):De("v-if",!0)],2))}});var OG=ct(DG,[["__file","result.vue"]]);const RG=gn(OG);var R1=Number.isNaN||function(o){return typeof o=="number"&&o!==o};function IG(i,o){return!!(i===o||R1(i)&&R1(o))}function FG(i,o){if(i.length!==o.length)return!1;for(var l=0;l<i.length;l++)if(!IG(i[l],o[l]))return!1;return!0}function BG(i,o){o===void 0&&(o=FG);var l=null;function c(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];if(l&&l.lastThis===this&&o(d,l.lastArgs))return l.lastResult;var g=i.apply(this,d);return l={lastResult:g,lastArgs:d,lastThis:this},g}return c.clear=function(){l=null},c}const fC=()=>{const o=pn().proxy.$props;return j(()=>{const l=(c,d,p)=>({});return o.perfMode?ef(l):BG(l)})},Fg=50,Td="itemRendered",Nd="scroll",Fl="forward",Ad="backward",vo="auto",yf="smart",Mc="start",tr="center",Pc="end",hu="horizontal",q0="vertical",$G="ltr",Gl="rtl",Tc="negative",G0="positive-ascending",W0="positive-descending",VG={[hu]:"left",[q0]:"top"},zG=20,_G={[hu]:"deltaX",[q0]:"deltaY"},KG=({atEndEdge:i,atStartEdge:o,layout:l},c)=>{let d,p=0;const g=w=>w<0&&o.value||w>0&&i.value;return{hasReachedEdge:g,onWheel:w=>{ol(d);const M=w[_G[l.value]];g(p)&&g(p+M)||(p+=M,B2()||w.preventDefault(),d=ya(()=>{c(p),p=0}))}}},Bg=jo({type:Ae([Number,Function]),required:!0}),$g=jo({type:Number}),Vg=jo({type:Number,default:2}),HG=jo({type:String,values:["ltr","rtl"],default:"ltr"}),zg=jo({type:Number,default:0}),Ld=jo({type:Number,required:!0}),pC=jo({type:String,values:["horizontal","vertical"],default:q0}),gC=lt({className:{type:String,default:""},containerElement:{type:Ae([String,Object]),default:"div"},data:{type:Ae(Array),default:()=>pi([])},direction:HG,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Ae([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),mC=lt({cache:Vg,estimatedItemSize:$g,layout:pC,initScrollOffset:zg,total:Ld,itemSize:Bg,...gC}),_g={type:Number,default:6},vC={type:Number,default:0},yC={type:Number,default:2},el=lt({columnCache:Vg,columnWidth:Bg,estimatedColumnWidth:$g,estimatedRowHeight:$g,initScrollLeft:zg,initScrollTop:zg,itemKey:{type:Ae(Function),default:({columnIndex:i,rowIndex:o})=>`${o}:${i}`},rowCache:Vg,rowHeight:Bg,totalColumn:Ld,totalRow:Ld,hScrollbarSize:_g,vScrollbarSize:_g,scrollbarStartGap:vC,scrollbarEndGap:yC,role:String,...gC}),bC=lt({alwaysOn:Boolean,class:String,layout:pC,total:Ld,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:_g,startGap:vC,endGap:yC,visible:Boolean}),Ga=(i,o)=>i<o?Fl:Ad,Nc=i=>i===$G||i===Gl||i===hu,I1=i=>i===Gl;let Nl=null;function Ed(i=!1){if(Nl===null||i){const o=document.createElement("div"),l=o.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";const c=document.createElement("div"),d=c.style;return d.width="100px",d.height="100px",o.appendChild(c),document.body.appendChild(o),o.scrollLeft>0?Nl=W0:(o.scrollLeft=1,o.scrollLeft===0?Nl=Tc:Nl=G0),document.body.removeChild(o),Nl}return Nl}function jG({move:i,size:o,bar:l},c){const d={},p=`translate${l.axis}(${i}px)`;return d[l.size]=o,d.transform=p,d.msTransform=p,d.webkitTransform=p,c==="horizontal"?d.height="100%":d.width="100%",d}const Kg=xe({name:"ElVirtualScrollBar",props:bC,emits:["scroll","start-move","stop-move"],setup(i,{emit:o}){const l=j(()=>i.startGap+i.endGap),c=Qe("virtual-scrollbar"),d=Qe("scrollbar"),p=ne(),g=ne();let b=null,w=null;const M=Hn({isDragging:!1,traveled:0}),C=j(()=>yS[i.layout]),P=j(()=>i.clientSize-v(l)),A=j(()=>({position:"absolute",width:`${hu===i.layout?P.value:i.scrollbarSize}px`,height:`${hu===i.layout?i.scrollbarSize:P.value}px`,[VG[i.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),O=j(()=>{const G=i.ratio,$=i.clientSize;if(G>=100)return Number.POSITIVE_INFINITY;if(G>=50)return G*$/100;const J=$/3;return Math.floor(Math.min(Math.max(G*$,zG),J))}),R=j(()=>{if(!Number.isFinite(O.value))return{display:"none"};const G=`${O.value}px`;return jG({bar:C.value,size:G,move:M.traveled},i.layout)}),N=j(()=>Math.floor(i.clientSize-O.value-v(l))),z=()=>{window.addEventListener("mousemove",K),window.addEventListener("mouseup",I);const G=v(g);G&&(w=document.onselectstart,document.onselectstart=()=>!1,G.addEventListener("touchmove",K),G.addEventListener("touchend",I))},T=()=>{window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",I),document.onselectstart=w,w=null;const G=v(g);G&&(G.removeEventListener("touchmove",K),G.removeEventListener("touchend",I))},_=G=>{G.stopImmediatePropagation(),!(G.ctrlKey||[1,2].includes(G.button))&&(M.isDragging=!0,M[C.value.axis]=G.currentTarget[C.value.offset]-(G[C.value.client]-G.currentTarget.getBoundingClientRect()[C.value.direction]),o("start-move"),z())},I=()=>{M.isDragging=!1,M[C.value.axis]=0,o("stop-move"),T()},K=G=>{const{isDragging:$}=M;if(!$||!g.value||!p.value)return;const J=M[C.value.axis];if(!J)return;ol(b);const ee=(p.value.getBoundingClientRect()[C.value.direction]-G[C.value.client])*-1,Q=g.value[C.value.offset]-J,X=ee-Q;b=ya(()=>{M.traveled=Math.max(i.startGap,Math.min(X,N.value)),o("scroll",X,N.value)})},B=G=>{const $=Math.abs(G.target.getBoundingClientRect()[C.value.direction]-G[C.value.client]),J=g.value[C.value.offset]/2,ee=$-J;M.traveled=Math.max(0,Math.min(ee,N.value)),o("scroll",ee,N.value)};return Ue(()=>i.scrollFrom,G=>{M.isDragging||(M.traveled=Math.ceil(G*N.value))}),ei(()=>{T()}),()=>jt("div",{role:"presentation",ref:p,class:[c.b(),i.class,(i.alwaysOn||M.isDragging)&&"always-on"],style:A.value,onMousedown:en(B,["stop","prevent"]),onTouchstartPrevent:_},jt("div",{ref:g,class:d.e("thumb"),style:R.value,onMousedown:_},[]))}}),wC=({name:i,getOffset:o,getItemSize:l,getItemOffset:c,getEstimatedTotalSize:d,getStartIndexForOffset:p,getStopIndexForStartIndex:g,initCache:b,clearCache:w,validateProps:M})=>xe({name:i??"ElVirtualList",props:mC,emits:[Td,Nd],setup(C,{emit:P,expose:A}){M(C);const O=pn(),R=Qe("vl"),N=ne(b(C,O)),z=fC(),T=ne(),_=ne(),I=ne(),K=ne({isScrolling:!1,scrollDir:"forward",scrollOffset:Yt(C.initScrollOffset)?C.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:C.scrollbarAlwaysOn}),B=j(()=>{const{total:Ne,cache:Be}=C,{isScrolling:tt,scrollDir:Le,scrollOffset:_e}=v(K);if(Ne===0)return[0,0,0,0];const Fe=p(C,_e,v(N)),gt=g(C,Fe,_e,v(N)),Ye=!tt||Le===Ad?Math.max(1,Be):1,Ze=!tt||Le===Fl?Math.max(1,Be):1;return[Math.max(0,Fe-Ye),Math.max(0,Math.min(Ne-1,gt+Ze)),Fe,gt]}),G=j(()=>d(C,v(N))),$=j(()=>Nc(C.layout)),J=j(()=>[{position:"relative",[`overflow-${$.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:C.direction,height:Yt(C.height)?`${C.height}px`:C.height,width:Yt(C.width)?`${C.width}px`:C.width},C.style]),ee=j(()=>{const Ne=v(G),Be=v($);return{height:Be?"100%":`${Ne}px`,pointerEvents:v(K).isScrolling?"none":void 0,width:Be?`${Ne}px`:"100%"}}),Q=j(()=>$.value?C.width:C.height),{onWheel:X}=KG({atStartEdge:j(()=>K.value.scrollOffset<=0),atEndEdge:j(()=>K.value.scrollOffset>=G.value),layout:j(()=>C.layout)},Ne=>{var Be,tt;(tt=(Be=I.value).onMouseUp)==null||tt.call(Be),ie(Math.min(K.value.scrollOffset+Ne,G.value-Q.value))}),se=()=>{const{total:Ne}=C;if(Ne>0){const[_e,Fe,gt,Ye]=v(B);P(Td,_e,Fe,gt,Ye)}const{scrollDir:Be,scrollOffset:tt,updateRequested:Le}=v(K);P(Nd,Be,tt,Le)},de=Ne=>{const{clientHeight:Be,scrollHeight:tt,scrollTop:Le}=Ne.currentTarget,_e=v(K);if(_e.scrollOffset===Le)return;const Fe=Math.max(0,Math.min(Le,tt-Be));K.value={..._e,isScrolling:!0,scrollDir:Ga(_e.scrollOffset,Fe),scrollOffset:Fe,updateRequested:!1},Kt(ue)},ve=Ne=>{const{clientWidth:Be,scrollLeft:tt,scrollWidth:Le}=Ne.currentTarget,_e=v(K);if(_e.scrollOffset===tt)return;const{direction:Fe}=C;let gt=tt;if(Fe===Gl)switch(Ed()){case Tc:{gt=-tt;break}case W0:{gt=Le-Be-tt;break}}gt=Math.max(0,Math.min(gt,Le-Be)),K.value={..._e,isScrolling:!0,scrollDir:Ga(_e.scrollOffset,gt),scrollOffset:gt,updateRequested:!1},Kt(ue)},me=Ne=>{v($)?ve(Ne):de(Ne),se()},ae=(Ne,Be)=>{const tt=(G.value-Q.value)/Be*Ne;ie(Math.min(G.value-Q.value,tt))},ie=Ne=>{Ne=Math.max(Ne,0),Ne!==v(K).scrollOffset&&(K.value={...v(K),scrollOffset:Ne,scrollDir:Ga(v(K).scrollOffset,Ne),updateRequested:!0},Kt(ue))},re=(Ne,Be=vo)=>{const{scrollOffset:tt}=v(K);Ne=Math.max(0,Math.min(Ne,C.total-1)),ie(o(C,Ne,Be,tt,v(N)))},te=Ne=>{const{direction:Be,itemSize:tt,layout:Le}=C,_e=z.value(w&&tt,w&&Le,w&&Be);let Fe;if(Fn(_e,String(Ne)))Fe=_e[Ne];else{const gt=c(C,Ne,v(N)),Ye=l(C,Ne,v(N)),Ze=v($),mt=Be===Gl,Me=Ze?gt:0;_e[Ne]=Fe={position:"absolute",left:mt?void 0:`${Me}px`,right:mt?`${Me}px`:void 0,top:Ze?0:`${gt}px`,height:Ze?"100%":`${Ye}px`,width:Ze?`${Ye}px`:"100%"}}return Fe},ue=()=>{K.value.isScrolling=!1,Kt(()=>{z.value(-1,null,null)})},be=()=>{const Ne=T.value;Ne&&(Ne.scrollTop=0)};un(()=>{if(!In)return;const{initScrollOffset:Ne}=C,Be=v(T);Yt(Ne)&&Be&&(v($)?Be.scrollLeft=Ne:Be.scrollTop=Ne),se()}),Or(()=>{const{direction:Ne,layout:Be}=C,{scrollOffset:tt,updateRequested:Le}=v(K),_e=v(T);if(Le&&_e)if(Be===hu)if(Ne===Gl)switch(Ed()){case Tc:{_e.scrollLeft=-tt;break}case G0:{_e.scrollLeft=tt;break}default:{const{clientWidth:Fe,scrollWidth:gt}=_e;_e.scrollLeft=gt-Fe-tt;break}}else _e.scrollLeft=tt;else _e.scrollTop=tt});const Ce={ns:R,clientSize:Q,estimatedTotalSize:G,windowStyle:J,windowRef:T,innerRef:_,innerStyle:ee,itemsToRender:B,scrollbarRef:I,states:K,getItemStyle:te,onScroll:me,onScrollbarScroll:ae,onWheel:X,scrollTo:ie,scrollToItem:re,resetScrollTop:be};return A({windowRef:T,innerRef:_,getItemStyleCache:z,scrollTo:ie,scrollToItem:re,resetScrollTop:be,states:K}),Ce},render(C){var P;const{$slots:A,className:O,clientSize:R,containerElement:N,data:z,getItemStyle:T,innerElement:_,itemsToRender:I,innerStyle:K,layout:B,total:G,onScroll:$,onScrollbarScroll:J,onWheel:ee,states:Q,useIsScrolling:X,windowStyle:se,ns:de}=C,[ve,me]=I,ae=kn(N),ie=kn(_),re=[];if(G>0)for(let Ce=ve;Ce<=me;Ce++)re.push((P=A.default)==null?void 0:P.call(A,{data:z,key:Ce,index:Ce,isScrolling:X?Q.isScrolling:void 0,style:T(Ce)}));const te=[jt(ie,{style:K,ref:"innerRef"},tn(ie)?re:{default:()=>re})],ue=jt(Kg,{ref:"scrollbarRef",clientSize:R,layout:B,onScroll:J,ratio:R*100/this.estimatedTotalSize,scrollFrom:Q.scrollOffset/(this.estimatedTotalSize-R),total:G}),be=jt(ae,{class:[de.e("window"),O],style:se,onScroll:$,onWheel:ee,ref:"windowRef",key:0},tn(ae)?[te]:{default:()=>[te]});return jt("div",{key:0,class:[de.e("wrapper"),Q.scrollbarAlwaysOn?"always-on":""]},[be,ue])}}),xC=wC({name:"ElFixedSizeList",getItemOffset:({itemSize:i},o)=>o*i,getItemSize:({itemSize:i})=>i,getEstimatedTotalSize:({total:i,itemSize:o})=>o*i,getOffset:({height:i,total:o,itemSize:l,layout:c,width:d},p,g,b)=>{const w=Nc(c)?d:i,M=Math.max(0,o*l-w),C=Math.min(M,p*l),P=Math.max(0,(p+1)*l-w);switch(g===yf&&(b>=P-w&&b<=C+w?g=vo:g=tr),g){case Mc:return C;case Pc:return P;case tr:{const A=Math.round(P+(C-P)/2);return A<Math.ceil(w/2)?0:A>M+Math.floor(w/2)?M:A}case vo:default:return b>=P&&b<=C?b:b<P?P:C}},getStartIndexForOffset:({total:i,itemSize:o},l)=>Math.max(0,Math.min(i-1,Math.floor(l/o))),getStopIndexForStartIndex:({height:i,total:o,itemSize:l,layout:c,width:d},p,g)=>{const b=p*l,w=Nc(c)?d:i,M=Math.ceil((w+g-b)/l);return Math.max(0,Math.min(o-1,p+M-1))},initCache(){},clearCache:!0,validateProps(){}}),Bl=(i,o,l)=>{const{itemSize:c}=i,{items:d,lastVisitedIndex:p}=l;if(o>p){let g=0;if(p>=0){const b=d[p];g=b.offset+b.size}for(let b=p+1;b<=o;b++){const w=c(b);d[b]={offset:g,size:w},g+=w}l.lastVisitedIndex=o}return d[o]},qG=(i,o,l)=>{const{items:c,lastVisitedIndex:d}=o;return(d>0?c[d].offset:0)>=l?SC(i,o,0,d,l):GG(i,o,Math.max(0,d),l)},SC=(i,o,l,c,d)=>{for(;l<=c;){const p=l+Math.floor((c-l)/2),g=Bl(i,p,o).offset;if(g===d)return p;g<d?l=p+1:g>d&&(c=p-1)}return Math.max(0,l-1)},GG=(i,o,l,c)=>{const{total:d}=i;let p=1;for(;l<d&&Bl(i,l,o).offset<c;)l+=p,p*=2;return SC(i,o,Math.floor(l/2),Math.min(l,d-1),c)},F1=({total:i},{items:o,estimatedItemSize:l,lastVisitedIndex:c})=>{let d=0;if(c>=i&&(c=i-1),c>=0){const b=o[c];d=b.offset+b.size}const g=(i-c-1)*l;return d+g},WG=wC({name:"ElDynamicSizeList",getItemOffset:(i,o,l)=>Bl(i,o,l).offset,getItemSize:(i,o,{items:l})=>l[o].size,getEstimatedTotalSize:F1,getOffset:(i,o,l,c,d)=>{const{height:p,layout:g,width:b}=i,w=Nc(g)?b:p,M=Bl(i,o,d),C=F1(i,d),P=Math.max(0,Math.min(C-w,M.offset)),A=Math.max(0,M.offset-w+M.size);switch(l===yf&&(c>=A-w&&c<=P+w?l=vo:l=tr),l){case Mc:return P;case Pc:return A;case tr:return Math.round(A+(P-A)/2);case vo:default:return c>=A&&c<=P?c:c<A?A:P}},getStartIndexForOffset:(i,o,l)=>qG(i,l,o),getStopIndexForStartIndex:(i,o,l,c)=>{const{height:d,total:p,layout:g,width:b}=i,w=Nc(g)?b:d,M=Bl(i,o,c),C=l+w;let P=M.offset+M.size,A=o;for(;A<p-1&&P<C;)A++,P+=Bl(i,A,c).size;return A},initCache({estimatedItemSize:i=Fg},o){const l={items:{},estimatedItemSize:i,lastVisitedIndex:-1};return l.clearCacheAfterIndex=(c,d=!0)=>{var p,g;l.lastVisitedIndex=Math.min(l.lastVisitedIndex,c-1),(p=o.exposed)==null||p.getItemStyleCache(-1),d&&((g=o.proxy)==null||g.$forceUpdate())},l},clearCache:!1,validateProps:({itemSize:i})=>{}}),UG=({atXEndEdge:i,atXStartEdge:o,atYEndEdge:l,atYStartEdge:c},d)=>{let p=null,g=0,b=0;const w=(C,P)=>{const A=C<=0&&o.value||C>=0&&i.value,O=P<=0&&c.value||P>=0&&l.value;return A&&O};return{hasReachedEdge:w,onWheel:C=>{ol(p);let P=C.deltaX,A=C.deltaY;Math.abs(P)>Math.abs(A)?A=0:P=0,C.shiftKey&&A!==0&&(P=A,A=0),!(w(g,b)&&w(g+P,b+A))&&(g+=P,b+=A,C.preventDefault(),p=ya(()=>{d(g,b),g=0,b=0}))}}},kC=({name:i,clearCache:o,getColumnPosition:l,getColumnStartIndexForOffset:c,getColumnStopIndexForStartIndex:d,getEstimatedTotalHeight:p,getEstimatedTotalWidth:g,getColumnOffset:b,getRowOffset:w,getRowPosition:M,getRowStartIndexForOffset:C,getRowStopIndexForStartIndex:P,initCache:A,injectToInstance:O,validateProps:R})=>xe({name:i??"ElVirtualList",props:el,emits:[Td,Nd],setup(N,{emit:z,expose:T,slots:_}){const I=Qe("vl");R(N);const K=pn(),B=ne(A(N,K));O==null||O(K,B);const G=ne(),$=ne(),J=ne(),ee=ne(null),Q=ne({isScrolling:!1,scrollLeft:Yt(N.initScrollLeft)?N.initScrollLeft:0,scrollTop:Yt(N.initScrollTop)?N.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Fl,yAxisScrollDir:Fl}),X=fC(),se=j(()=>Number.parseInt(`${N.height}`,10)),de=j(()=>Number.parseInt(`${N.width}`,10)),ve=j(()=>{const{totalColumn:He,totalRow:Je,columnCache:nt}=N,{isScrolling:rt,xAxisScrollDir:ht,scrollLeft:qe}=v(Q);if(He===0||Je===0)return[0,0,0,0];const Mt=c(N,qe,v(B)),Nt=d(N,Mt,qe,v(B)),Ge=!rt||ht===Ad?Math.max(1,nt):1,kt=!rt||ht===Fl?Math.max(1,nt):1;return[Math.max(0,Mt-Ge),Math.max(0,Math.min(He-1,Nt+kt)),Mt,Nt]}),me=j(()=>{const{totalColumn:He,totalRow:Je,rowCache:nt}=N,{isScrolling:rt,yAxisScrollDir:ht,scrollTop:qe}=v(Q);if(He===0||Je===0)return[0,0,0,0];const Mt=C(N,qe,v(B)),Nt=P(N,Mt,qe,v(B)),Ge=!rt||ht===Ad?Math.max(1,nt):1,kt=!rt||ht===Fl?Math.max(1,nt):1;return[Math.max(0,Mt-Ge),Math.max(0,Math.min(Je-1,Nt+kt)),Mt,Nt]}),ae=j(()=>p(N,v(B))),ie=j(()=>g(N,v(B))),re=j(()=>{var He;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:N.direction,height:Yt(N.height)?`${N.height}px`:N.height,width:Yt(N.width)?`${N.width}px`:N.width},(He=N.style)!=null?He:{}]}),te=j(()=>{const He=`${v(ie)}px`;return{height:`${v(ae)}px`,pointerEvents:v(Q).isScrolling?"none":void 0,width:He}}),ue=()=>{const{totalColumn:He,totalRow:Je}=N;if(He>0&&Je>0){const[Nt,Ge,kt,Ht]=v(ve),[bn,hn,Vt,Ke]=v(me);z(Td,{columnCacheStart:Nt,columnCacheEnd:Ge,rowCacheStart:bn,rowCacheEnd:hn,columnVisibleStart:kt,columnVisibleEnd:Ht,rowVisibleStart:Vt,rowVisibleEnd:Ke})}const{scrollLeft:nt,scrollTop:rt,updateRequested:ht,xAxisScrollDir:qe,yAxisScrollDir:Mt}=v(Q);z(Nd,{xAxisScrollDir:qe,scrollLeft:nt,yAxisScrollDir:Mt,scrollTop:rt,updateRequested:ht})},be=He=>{const{clientHeight:Je,clientWidth:nt,scrollHeight:rt,scrollLeft:ht,scrollTop:qe,scrollWidth:Mt}=He.currentTarget,Nt=v(Q);if(Nt.scrollTop===qe&&Nt.scrollLeft===ht)return;let Ge=ht;if(I1(N.direction))switch(Ed()){case Tc:Ge=-ht;break;case W0:Ge=Mt-nt-ht;break}Q.value={...Nt,isScrolling:!0,scrollLeft:Ge,scrollTop:Math.max(0,Math.min(qe,rt-Je)),updateRequested:!0,xAxisScrollDir:Ga(Nt.scrollLeft,Ge),yAxisScrollDir:Ga(Nt.scrollTop,qe)},Kt(()=>Fe()),gt(),ue()},Ce=(He,Je)=>{const nt=v(se),rt=(ae.value-nt)/Je*He;tt({scrollTop:Math.min(ae.value-nt,rt)})},Ne=(He,Je)=>{const nt=v(de),rt=(ie.value-nt)/Je*He;tt({scrollLeft:Math.min(ie.value-nt,rt)})},{onWheel:Be}=UG({atXStartEdge:j(()=>Q.value.scrollLeft<=0),atXEndEdge:j(()=>Q.value.scrollLeft>=ie.value-v(de)),atYStartEdge:j(()=>Q.value.scrollTop<=0),atYEndEdge:j(()=>Q.value.scrollTop>=ae.value-v(se))},(He,Je)=>{var nt,rt,ht,qe;(rt=(nt=$.value)==null?void 0:nt.onMouseUp)==null||rt.call(nt),(qe=(ht=J.value)==null?void 0:ht.onMouseUp)==null||qe.call(ht);const Mt=v(de),Nt=v(se);tt({scrollLeft:Math.min(Q.value.scrollLeft+He,ie.value-Mt),scrollTop:Math.min(Q.value.scrollTop+Je,ae.value-Nt)})}),tt=({scrollLeft:He=Q.value.scrollLeft,scrollTop:Je=Q.value.scrollTop})=>{He=Math.max(He,0),Je=Math.max(Je,0);const nt=v(Q);Je===nt.scrollTop&&He===nt.scrollLeft||(Q.value={...nt,xAxisScrollDir:Ga(nt.scrollLeft,He),yAxisScrollDir:Ga(nt.scrollTop,Je),scrollLeft:He,scrollTop:Je,updateRequested:!0},Kt(()=>Fe()),gt(),ue())},Le=(He=0,Je=0,nt=vo)=>{const rt=v(Q);Je=Math.max(0,Math.min(Je,N.totalColumn-1)),He=Math.max(0,Math.min(He,N.totalRow-1));const ht=Mx(I.namespace.value),qe=v(B),Mt=p(N,qe),Nt=g(N,qe);tt({scrollLeft:b(N,Je,nt,rt.scrollLeft,qe,Nt>N.width?ht:0),scrollTop:w(N,He,nt,rt.scrollTop,qe,Mt>N.height?ht:0)})},_e=(He,Je)=>{const{columnWidth:nt,direction:rt,rowHeight:ht}=N,qe=X.value(o&&nt,o&&ht,o&&rt),Mt=`${He},${Je}`;if(Fn(qe,Mt))return qe[Mt];{const[,Nt]=l(N,Je,v(B)),Ge=v(B),kt=I1(rt),[Ht,bn]=M(N,He,Ge),[hn]=l(N,Je,Ge);return qe[Mt]={position:"absolute",left:kt?void 0:`${Nt}px`,right:kt?`${Nt}px`:void 0,top:`${bn}px`,height:`${Ht}px`,width:`${hn}px`},qe[Mt]}},Fe=()=>{Q.value.isScrolling=!1,Kt(()=>{X.value(-1,null,null)})};un(()=>{if(!In)return;const{initScrollLeft:He,initScrollTop:Je}=N,nt=v(G);nt&&(Yt(He)&&(nt.scrollLeft=He),Yt(Je)&&(nt.scrollTop=Je)),ue()});const gt=()=>{const{direction:He}=N,{scrollLeft:Je,scrollTop:nt,updateRequested:rt}=v(Q),ht=v(G);if(rt&&ht){if(He===Gl)switch(Ed()){case Tc:{ht.scrollLeft=-Je;break}case G0:{ht.scrollLeft=Je;break}default:{const{clientWidth:qe,scrollWidth:Mt}=ht;ht.scrollLeft=Mt-qe-Je;break}}else ht.scrollLeft=Math.max(0,Je);ht.scrollTop=Math.max(0,nt)}},{resetAfterColumnIndex:Ye,resetAfterRowIndex:Ze,resetAfter:mt}=K.proxy;T({windowRef:G,innerRef:ee,getItemStyleCache:X,scrollTo:tt,scrollToItem:Le,states:Q,resetAfterColumnIndex:Ye,resetAfterRowIndex:Ze,resetAfter:mt});const Me=()=>{const{scrollbarAlwaysOn:He,scrollbarStartGap:Je,scrollbarEndGap:nt,totalColumn:rt,totalRow:ht}=N,qe=v(de),Mt=v(se),Nt=v(ie),Ge=v(ae),{scrollLeft:kt,scrollTop:Ht}=v(Q),bn=jt(Kg,{ref:$,alwaysOn:He,startGap:Je,endGap:nt,class:I.e("horizontal"),clientSize:qe,layout:"horizontal",onScroll:Ne,ratio:qe*100/Nt,scrollFrom:kt/(Nt-qe),total:ht,visible:!0}),hn=jt(Kg,{ref:J,alwaysOn:He,startGap:Je,endGap:nt,class:I.e("vertical"),clientSize:Mt,layout:"vertical",onScroll:Ce,ratio:Mt*100/Ge,scrollFrom:Ht/(Ge-Mt),total:rt,visible:!0});return{horizontalScrollbar:bn,verticalScrollbar:hn}},Ee=()=>{var He;const[Je,nt]=v(ve),[rt,ht]=v(me),{data:qe,totalColumn:Mt,totalRow:Nt,useIsScrolling:Ge,itemKey:kt}=N,Ht=[];if(Nt>0&&Mt>0)for(let bn=rt;bn<=ht;bn++)for(let hn=Je;hn<=nt;hn++)Ht.push((He=_.default)==null?void 0:He.call(_,{columnIndex:hn,data:qe,key:kt({columnIndex:hn,data:qe,rowIndex:bn}),isScrolling:Ge?v(Q).isScrolling:void 0,style:_e(bn,hn),rowIndex:bn}));return Ht},We=()=>{const He=kn(N.innerElement),Je=Ee();return[jt(He,{style:v(te),ref:ee},tn(He)?Je:{default:()=>Je})]};return()=>{const He=kn(N.containerElement),{horizontalScrollbar:Je,verticalScrollbar:nt}=Me(),rt=We();return jt("div",{key:0,class:I.e("wrapper"),role:N.role},[jt(He,{class:N.className,style:v(re),onScroll:be,onWheel:Be,ref:G},tn(He)?rt:{default:()=>rt}),Je,nt])}}}),YG=kC({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:i},o)=>[i,o*i],getRowPosition:({rowHeight:i},o)=>[i,o*i],getEstimatedTotalHeight:({totalRow:i,rowHeight:o})=>o*i,getEstimatedTotalWidth:({totalColumn:i,columnWidth:o})=>o*i,getColumnOffset:({totalColumn:i,columnWidth:o,width:l},c,d,p,g,b)=>{l=Number(l);const w=Math.max(0,i*o-l),M=Math.min(w,c*o),C=Math.max(0,c*o-l+b+o);switch(d==="smart"&&(p>=C-l&&p<=M+l?d=vo:d=tr),d){case Mc:return M;case Pc:return C;case tr:{const P=Math.round(C+(M-C)/2);return P<Math.ceil(l/2)?0:P>w+Math.floor(l/2)?w:P}case vo:default:return p>=C&&p<=M?p:C>M||p<C?C:M}},getRowOffset:({rowHeight:i,height:o,totalRow:l},c,d,p,g,b)=>{o=Number(o);const w=Math.max(0,l*i-o),M=Math.min(w,c*i),C=Math.max(0,c*i-o+b+i);switch(d===yf&&(p>=C-o&&p<=M+o?d=vo:d=tr),d){case Mc:return M;case Pc:return C;case tr:{const P=Math.round(C+(M-C)/2);return P<Math.ceil(o/2)?0:P>w+Math.floor(o/2)?w:P}case vo:default:return p>=C&&p<=M?p:C>M||p<C?C:M}},getColumnStartIndexForOffset:({columnWidth:i,totalColumn:o},l)=>Math.max(0,Math.min(o-1,Math.floor(l/i))),getColumnStopIndexForStartIndex:({columnWidth:i,totalColumn:o,width:l},c,d)=>{const p=c*i,g=Math.ceil((l+d-p)/i);return Math.max(0,Math.min(o-1,c+g-1))},getRowStartIndexForOffset:({rowHeight:i,totalRow:o},l)=>Math.max(0,Math.min(o-1,Math.floor(l/i))),getRowStopIndexForStartIndex:({rowHeight:i,totalRow:o,height:l},c,d)=>{const p=c*i,g=Math.ceil((l+d-p)/i);return Math.max(0,Math.min(o-1,c+g-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:i,rowHeight:o})=>{}}),{max:Dd,min:CC,floor:MC}=Math,XG={column:"columnWidth",row:"rowHeight"},Hg={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Sr=(i,o,l,c)=>{const[d,p,g]=[l[c],i[XG[c]],l[Hg[c]]];if(o>g){let b=0;if(g>=0){const w=d[g];b=w.offset+w.size}for(let w=g+1;w<=o;w++){const M=p(w);d[w]={offset:b,size:M},b+=M}l[Hg[c]]=o}return d[o]},PC=(i,o,l,c,d,p)=>{for(;l<=c;){const g=l+MC((c-l)/2),b=Sr(i,g,o,p).offset;if(b===d)return g;b<d?l=g+1:c=g-1}return Dd(0,l-1)},ZG=(i,o,l,c,d)=>{const p=d==="column"?i.totalColumn:i.totalRow;let g=1;for(;l<p&&Sr(i,l,o,d).offset<c;)l+=g,g*=2;return PC(i,o,MC(l/2),CC(l,p-1),c,d)},B1=(i,o,l,c)=>{const[d,p]=[o[c],o[Hg[c]]];return(p>0?d[p].offset:0)>=l?PC(i,o,0,p,l,c):ZG(i,o,Dd(0,p),l,c)},TC=({totalRow:i},{estimatedRowHeight:o,lastVisitedRowIndex:l,row:c})=>{let d=0;if(l>=i&&(l=i-1),l>=0){const b=c[l];d=b.offset+b.size}const g=(i-l-1)*o;return d+g},NC=({totalColumn:i},{column:o,estimatedColumnWidth:l,lastVisitedColumnIndex:c})=>{let d=0;if(c>i&&(c=i-1),c>=0){const b=o[c];d=b.offset+b.size}const g=(i-c-1)*l;return d+g},JG={column:NC,row:TC},$1=(i,o,l,c,d,p,g)=>{const[b,w]=[p==="row"?i.height:i.width,JG[p]],M=Sr(i,o,d,p),C=w(i,d),P=Dd(0,CC(C-b,M.offset)),A=Dd(0,M.offset-b+g+M.size);switch(l===yf&&(c>=A-b&&c<=P+b?l=vo:l=tr),l){case Mc:return P;case Pc:return A;case tr:return Math.round(A+(P-A)/2);case vo:default:return c>=A&&c<=P?c:A>P||c<A?A:P}},QG=kC({name:"ElDynamicSizeGrid",getColumnPosition:(i,o,l)=>{const c=Sr(i,o,l,"column");return[c.size,c.offset]},getRowPosition:(i,o,l)=>{const c=Sr(i,o,l,"row");return[c.size,c.offset]},getColumnOffset:(i,o,l,c,d,p)=>$1(i,o,l,c,d,"column",p),getRowOffset:(i,o,l,c,d,p)=>$1(i,o,l,c,d,"row",p),getColumnStartIndexForOffset:(i,o,l)=>B1(i,l,o,"column"),getColumnStopIndexForStartIndex:(i,o,l,c)=>{const d=Sr(i,o,c,"column"),p=l+i.width;let g=d.offset+d.size,b=o;for(;b<i.totalColumn-1&&g<p;)b++,g+=Sr(i,o,c,"column").size;return b},getEstimatedTotalHeight:TC,getEstimatedTotalWidth:NC,getRowStartIndexForOffset:(i,o,l)=>B1(i,l,o,"row"),getRowStopIndexForStartIndex:(i,o,l,c)=>{const{totalRow:d,height:p}=i,g=Sr(i,o,c,"row"),b=l+p;let w=g.size+g.offset,M=o;for(;M<d-1&&w<b;)M++,w+=Sr(i,M,c,"row").size;return M},injectToInstance:(i,o)=>{const l=({columnIndex:p,rowIndex:g},b)=>{var w,M;b=Ri(b)?!0:b,Yt(p)&&(o.value.lastVisitedColumnIndex=Math.min(o.value.lastVisitedColumnIndex,p-1)),Yt(g)&&(o.value.lastVisitedRowIndex=Math.min(o.value.lastVisitedRowIndex,g-1)),(w=i.exposed)==null||w.getItemStyleCache.value(-1,null,null),b&&((M=i.proxy)==null||M.$forceUpdate())},c=(p,g)=>{l({columnIndex:p},g)},d=(p,g)=>{l({rowIndex:p},g)};Object.assign(i.proxy,{resetAfterColumnIndex:c,resetAfterRowIndex:d,resetAfter:l})},initCache:({estimatedColumnWidth:i=Fg,estimatedRowHeight:o=Fg})=>({column:{},estimatedColumnWidth:i,estimatedRowHeight:o,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:i,rowHeight:o})=>{}}),eW=xe({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Qe("select")}}});function tW(i,o,l,c,d,p){return Y(),fe("div",{class:Z(i.ns.be("group","title")),style:Ft([i.style,{lineHeight:`${i.height}px`}])},dt(i.item.label),7)}var nW=ct(eW,[["render",tW],["__file","group-item.vue"]]);function iW(i,{emit:o}){return{hoverItem:()=>{i.disabled||o("hover",i.index)},selectOptionClick:()=>{i.disabled||o("select",i.item,i.index)}}}const AC={label:"label",value:"value",disabled:"disabled",options:"options"};function bf(i){const o=j(()=>({...AC,...i.props}));return{aliasProps:o,getLabel:g=>Ni(g,o.value.label),getValue:g=>Ni(g,o.value.value),getDisabled:g=>Ni(g,o.value.disabled),getOptions:g=>Ni(g,o.value.options)}}const sW=lt({allowCreate:Boolean,autocomplete:{type:Ae(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Xn,default:Ta},effect:{type:Ae(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Ae([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Ae(Array),required:!0},placeholder:{type:String},teleported:Yi.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Ae(Object),default:()=>({})},remote:Boolean,size:ji,props:{type:Ae(Object),default:()=>AC},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:Ae(String),values:pl,default:"bottom-start"},fallbackPlacements:{type:Ae(Array),default:["bottom-start","top-start","right","left"]},tagType:{...gf.type,default:"info"},...Cu,...os(["ariaLabel"])}),oW=lt({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Ae(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),U0=Symbol("ElSelectV2Injection"),rW=xe({props:oW,emits:["select","hover"],setup(i,{emit:o}){const l=Tt(U0),c=Qe("select"),{hoverItem:d,selectOptionClick:p}=iW(i,{emit:o}),{getLabel:g}=bf(l.props);return{ns:c,hoverItem:d,selectOptionClick:p,getLabel:g}}}),aW=["aria-selected"];function lW(i,o,l,c,d,p){return Y(),fe("li",{"aria-selected":i.selected,style:Ft(i.style),class:Z([i.ns.be("dropdown","item"),i.ns.is("selected",i.selected),i.ns.is("disabled",i.disabled),i.ns.is("created",i.created),i.ns.is("hovering",i.hovering)]),onMouseenter:o[0]||(o[0]=(...g)=>i.hoverItem&&i.hoverItem(...g)),onClick:o[1]||(o[1]=en((...g)=>i.selectOptionClick&&i.selectOptionClick(...g),["stop"]))},[ze(i.$slots,"default",{item:i.item,index:i.index,disabled:i.disabled},()=>[pe("span",null,dt(i.getLabel(i.item)),1)])],46,aW)}var uW=ct(rW,[["render",lW],["__file","option-item.vue"]]),cW=xe({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(i,{slots:o,expose:l}){const c=Tt(U0),d=Qe("select"),{getLabel:p,getValue:g,getDisabled:b}=bf(c.props),w=ne([]),M=ne(),C=j(()=>i.data.length);Ue(()=>C.value,()=>{var X,se;(se=(X=c.tooltipRef.value).updatePopper)==null||se.call(X)});const P=j(()=>Ri(c.props.estimatedOptionHeight)),A=j(()=>P.value?{itemSize:c.props.itemHeight}:{estimatedSize:c.props.estimatedOptionHeight,itemSize:X=>w.value[X]}),O=(X=[],se)=>{const{props:{valueKey:de}}=c;return yn(se)?X&&X.some(ve=>Wn(Ni(ve,de))===Ni(se,de)):X.includes(se)},R=(X,se)=>{if(yn(se)){const{valueKey:de}=c.props;return Ni(X,de)===Ni(se,de)}else return X===se},N=(X,se)=>c.props.multiple?O(X,g(se)):R(X,g(se)),z=(X,se)=>{const{disabled:de,multiple:ve,multipleLimit:me}=c.props;return de||!se&&(ve?me>0&&X.length>=me:!1)},T=X=>i.hoveringIndex===X;l({listRef:M,isSized:P,isItemDisabled:z,isItemHovering:T,isItemSelected:N,scrollToItem:X=>{const se=M.value;se&&se.scrollToItem(X)},resetScrollTop:()=>{const X=M.value;X&&X.resetScrollTop()}});const K=X=>{const{index:se,data:de,style:ve}=X,me=v(P),{itemSize:ae,estimatedSize:ie}=v(A),{modelValue:re}=c.props,{onSelect:te,onHover:ue}=c,be=de[se];if(be.type==="Group")return ye(nW,{item:be,style:ve,height:me?ae:ie},null);const Ce=N(re,be),Ne=z(re,Ce),Be=T(se);return ye(uW,An(X,{selected:Ce,disabled:b(be)||Ne,created:!!be.created,hovering:Be,item:be,onSelect:te,onHover:ue}),{default:tt=>{var Le;return((Le=o.default)==null?void 0:Le.call(o,tt))||ye("span",null,[p(be)])}})},{onKeyboardNavigate:B,onKeyboardSelect:G}=c,$=()=>{B("forward")},J=()=>{B("backward")},ee=()=>{c.expanded=!1},Q=X=>{const{code:se}=X,{tab:de,esc:ve,down:me,up:ae,enter:ie}=Gt;switch(se!==de&&(X.preventDefault(),X.stopPropagation()),se){case de:case ve:{ee();break}case me:{$();break}case ae:{J();break}case ie:{G();break}}};return()=>{var X,se,de,ve;const{data:me,width:ae}=i,{height:ie,multiple:re,scrollbarAlwaysOn:te}=c.props,ue=v(P)?xC:WG;return ye("div",{class:[d.b("dropdown"),d.is("multiple",re)],style:{width:`${ae}px`}},[(X=o.header)==null?void 0:X.call(o),((se=o.loading)==null?void 0:se.call(o))||((de=o.empty)==null?void 0:de.call(o))||ye(ue,An({ref:M},v(A),{className:d.be("dropdown","list"),scrollbarAlwaysOn:te,data:me,height:ie,width:ae,total:me.length,onKeydown:Q}),{default:be=>ye(K,be,null)}),(ve=o.footer)==null?void 0:ve.call(o)])}}});function hW(i,o){const{aliasProps:l,getLabel:c,getValue:d}=bf(i),p=ne(0),g=ne(null),b=j(()=>i.allowCreate&&i.filterable);function w(O){const R=N=>c(N)===O;return i.options&&i.options.some(R)||o.createdOptions.some(R)}function M(O){b.value&&(i.multiple&&O.created?p.value++:g.value=O)}function C(O){if(b.value)if(O&&O.length>0){if(w(O))return;const R={[l.value.value]:O,[l.value.label]:O,created:!0,[l.value.disabled]:!1};o.createdOptions.length>=p.value?o.createdOptions[p.value]=R:o.createdOptions.push(R)}else if(i.multiple)o.createdOptions.length=p.value;else{const R=g.value;o.createdOptions.length=0,R&&R.created&&o.createdOptions.push(R)}}function P(O){if(!b.value||!O||!O.created||O.created&&i.reserveKeyword&&o.inputValue===c(O))return;const R=o.createdOptions.findIndex(N=>d(N)===d(O));~R&&(o.createdOptions.splice(R,1),p.value--)}function A(){b.value&&(o.createdOptions.length=0,p.value=0)}return{createNewOption:C,removeNewOption:P,selectNewOption:M,clearAllNewOption:A}}const dW=11,fW=(i,o)=>{const{t:l}=Bn(),c=Qe("select"),d=Qe("input"),{form:p,formItem:g}=ks(),{inputId:b}=Go(i,{formItemContext:g}),{aliasProps:w,getLabel:M,getValue:C,getDisabled:P,getOptions:A}=bf(i),{valueOnClear:O,isEmptyValue:R}=hf(i),N=Hn({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),z=ne(-1),T=ne(null),_=ne(null),I=ne(null),K=ne(null),B=ne(null),G=ne(null),$=ne(null),J=ne(null),ee=ne(null),Q=ne(null),X=ne(null),{wrapperRef:se,isFocused:de,handleFocus:ve,handleBlur:me}=cf(B,{afterFocus(){i.automaticDropdown&&!re.value&&(re.value=!0,N.menuVisibleOnFocus=!0)},beforeBlur(bt){var an,On;return((an=I.value)==null?void 0:an.isFocusInsideContent(bt))||((On=K.value)==null?void 0:On.isFocusInsideContent(bt))},afterBlur(){re.value=!1,N.menuVisibleOnFocus=!1}}),ae=ne([]),ie=ne([]),re=ne(!1),te=j(()=>i.disabled||(p==null?void 0:p.disabled)),ue=j(()=>{const bt=ie.value.length*i.itemHeight;return bt>i.height?i.height:bt}),be=j(()=>i.multiple?St(i.modelValue)&&i.modelValue.length>0:!R(i.modelValue)),Ce=j(()=>i.clearable&&!te.value&&N.inputHovering&&be.value),Ne=j(()=>i.remote&&i.filterable?"":Fr),Be=j(()=>Ne.value&&c.is("reverse",re.value)),tt=j(()=>(g==null?void 0:g.validateState)||""),Le=j(()=>n0[tt.value]),_e=j(()=>i.remote?300:0),Fe=j(()=>i.loading?i.loadingText||l("el.select.loading"):i.remote&&!N.inputValue&&ae.value.length===0?!1:i.filterable&&N.inputValue&&ae.value.length>0&&ie.value.length===0?i.noMatchText||l("el.select.noMatch"):ae.value.length===0?i.noDataText||l("el.select.noData"):null),gt=bt=>{const an=On=>{if(i.filterable&&Xt(i.filterMethod)||i.filterable&&i.remote&&Xt(i.remoteMethod))return!0;const qn=new RegExp(Um(bt),"i");return bt?qn.test(M(On)||""):!0};return i.loading?[]:[...N.createdOptions,...i.options].reduce((On,qn)=>{const Os=A(qn);if(St(Os)){const so=Os.filter(an);so.length>0&&On.push({label:M(qn),type:"Group"},...so)}else(i.remote||an(qn))&&On.push(qn);return On},[])},Ye=()=>{ae.value=gt(""),ie.value=gt(N.inputValue)},Ze=j(()=>{const bt=new Map;return ae.value.forEach((an,On)=>{bt.set(Ln(C(an)),{option:an,index:On})}),bt}),mt=j(()=>{const bt=new Map;return ie.value.forEach((an,On)=>{bt.set(Ln(C(an)),{option:an,index:On})}),bt}),Me=j(()=>ie.value.every(bt=>P(bt))),Ee=$i(),We=j(()=>Ee.value==="small"?"small":"default"),ot=()=>{var bt;z.value=((bt=T.value)==null?void 0:bt.offsetWidth)||200},He=()=>{if(!_.value)return 0;const bt=window.getComputedStyle(_.value);return Number.parseFloat(bt.gap||"6px")},Je=j(()=>{const bt=He();return{maxWidth:`${X.value&&i.maxCollapseTags===1?N.selectionWidth-N.collapseItemWidth-bt:N.selectionWidth}px`}}),nt=j(()=>({maxWidth:`${N.selectionWidth}px`})),rt=j(()=>({width:`${Math.max(N.calculatorWidth,dW)}px`})),ht=j(()=>St(i.modelValue)?i.modelValue.length===0&&!N.inputValue:i.filterable?!N.inputValue:!0),qe=j(()=>{var bt;const an=(bt=i.placeholder)!=null?bt:l("el.select.placeholder");return i.multiple||!be.value?an:N.selectedLabel}),Mt=j(()=>{var bt,an;return(an=(bt=I.value)==null?void 0:bt.popperRef)==null?void 0:an.contentRef}),Nt=j(()=>{if(i.multiple){const bt=i.modelValue.length;if(i.modelValue.length>0&&mt.value.has(i.modelValue[bt-1])){const{index:an}=mt.value.get(i.modelValue[bt-1]);return an}}else if(i.modelValue&&mt.value.has(i.modelValue)){const{index:bt}=mt.value.get(i.modelValue);return bt}return-1}),Ge=j({get(){return re.value&&Fe.value!==!1},set(bt){re.value=bt}}),kt=j(()=>i.multiple?i.collapseTags?N.cachedOptions.slice(0,i.maxCollapseTags):N.cachedOptions:[]),Ht=j(()=>i.multiple?i.collapseTags?N.cachedOptions.slice(i.maxCollapseTags):[]:[]),{createNewOption:bn,removeNewOption:hn,selectNewOption:Vt,clearAllNewOption:Ke}=hW(i,N),{handleCompositionStart:wt,handleCompositionUpdate:it,handleCompositionEnd:$e}=uC(bt=>Hs(bt)),et=()=>{te.value||(N.menuVisibleOnFocus?N.menuVisibleOnFocus=!1:re.value=!re.value)},st=()=>{N.inputValue.length>0&&!re.value&&(re.value=!0),bn(N.inputValue),Lt(N.inputValue)},Ve=Ks(st,_e.value),Lt=bt=>{N.previousQuery!==bt&&(N.previousQuery=bt,i.filterable&&Xt(i.filterMethod)?i.filterMethod(bt):i.filterable&&i.remote&&Xt(i.remoteMethod)&&i.remoteMethod(bt),i.defaultFirstOption&&(i.filterable||i.remote)&&ie.value.length?Kt(Sn):Kt(vi))},Sn=()=>{const bt=ie.value.filter(qn=>!qn.disabled&&qn.type!=="Group"),an=bt.find(qn=>qn.created),On=bt[0];N.hoveringIndex=mi(ie.value,an||On)},zn=bt=>{ws(i.modelValue,bt)||o(si,bt)},ki=bt=>{o(wn,bt),zn(bt),N.previousValue=i.multiple?String(bt):bt},mi=(bt=[],an)=>{if(!yn(an))return bt.indexOf(an);const On=i.valueKey;let qn=-1;return bt.some((Os,so)=>Ni(Os,On)===Ni(an,On)?(qn=so,!0):!1),qn},Ln=bt=>yn(bt)?Ni(bt,i.valueKey):bt,Un=()=>{ot()},hr=()=>{N.selectionWidth=_.value.getBoundingClientRect().width},_r=()=>{N.calculatorWidth=G.value.getBoundingClientRect().width},La=()=>{N.collapseItemWidth=X.value.getBoundingClientRect().width},ai=()=>{var bt,an;(an=(bt=I.value)==null?void 0:bt.updatePopper)==null||an.call(bt)},ds=()=>{var bt,an;(an=(bt=K.value)==null?void 0:bt.updatePopper)==null||an.call(bt)},dr=bt=>{if(i.multiple){let an=i.modelValue.slice();const On=mi(an,C(bt));On>-1?(an=[...an.slice(0,On),...an.slice(On+1)],N.cachedOptions.splice(On,1),hn(bt)):(i.multipleLimit<=0||an.length<i.multipleLimit)&&(an=[...an,C(bt)],N.cachedOptions.push(bt),Vt(bt)),ki(an),bt.created&&Lt(""),i.filterable&&!i.reserveKeyword&&(N.inputValue="")}else N.selectedLabel=M(bt),ki(C(bt)),re.value=!1,Vt(bt),bt.created||Ke();no()},fr=(bt,an)=>{let On=i.modelValue.slice();const qn=mi(On,C(an));qn>-1&&!te.value&&(On=[...i.modelValue.slice(0,qn),...i.modelValue.slice(qn+1)],N.cachedOptions.splice(qn,1),ki(On),o("remove-tag",C(an)),hn(an)),bt.stopPropagation(),no()},no=()=>{var bt;(bt=B.value)==null||bt.focus()},Gi=()=>{var bt;(bt=B.value)==null||bt.blur()},io=()=>{N.inputValue.length>0?N.inputValue="":re.value=!1},pr=bt=>xx(bt,an=>!N.cachedOptions.some(On=>C(On)===an&&P(On))),To=bt=>{if(i.multiple&&bt.code!==Gt.delete&&N.inputValue.length===0){bt.preventDefault();const an=i.modelValue.slice(),On=pr(an);if(On<0)return;const qn=an[On];an.splice(On,1);const Os=N.cachedOptions[On];N.cachedOptions.splice(On,1),hn(Os),ki(an),o("remove-tag",qn)}},ml=()=>{let bt;St(i.modelValue)?bt=[]:bt=O.value,i.multiple?N.cachedOptions=[]:N.selectedLabel="",re.value=!1,ki(bt),o("clear"),Ke(),no()},vt=(bt,an=void 0)=>{const On=ie.value;if(!["forward","backward"].includes(bt)||te.value||On.length<=0||Me.value)return;if(!re.value)return et();an===void 0&&(an=N.hoveringIndex);let qn=-1;bt==="forward"?(qn=an+1,qn>=On.length&&(qn=0)):bt==="backward"&&(qn=an-1,(qn<0||qn>=On.length)&&(qn=On.length-1));const Os=On[qn];if(P(Os)||Os.type==="Group")return vt(bt,qn);N.hoveringIndex=qn,js(qn)},Pt=()=>{if(re.value)~N.hoveringIndex&&ie.value[N.hoveringIndex]&&dr(ie.value[N.hoveringIndex]);else return et()},on=bt=>{N.hoveringIndex=bt},vi=()=>{i.multiple?N.hoveringIndex=ie.value.findIndex(bt=>i.modelValue.some(an=>Ln(an)===Ln(bt))):N.hoveringIndex=ie.value.findIndex(bt=>Ln(bt)===Ln(i.modelValue))},Hs=bt=>{if(N.inputValue=bt.target.value,i.remote)Ve();else return st()},Wo=bt=>{if(re.value=!1,de.value){const an=new FocusEvent("focus",bt);me(an)}},Kr=()=>(N.isBeforeHide=!1,Kt(()=>{~Nt.value&&js(N.hoveringIndex)})),js=bt=>{ee.value.scrollToItem(bt)},Ds=bt=>{const an=Ln(bt);if(Ze.value.has(an)){const{option:On}=Ze.value.get(an);return On}return{[w.value.value]:bt,[w.value.label]:bt}},Hr=()=>{if(i.multiple)if(i.modelValue.length>0){N.cachedOptions.length=0,N.previousValue=i.modelValue.toString();for(const bt of i.modelValue){const an=Ds(bt);N.cachedOptions.push(an)}}else N.cachedOptions=[],N.previousValue=void 0;else if(be.value){N.previousValue=i.modelValue;const bt=ie.value,an=bt.findIndex(On=>Ln(C(On))===Ln(i.modelValue));~an?N.selectedLabel=M(bt[an]):N.selectedLabel=Ln(i.modelValue)}else N.selectedLabel="",N.previousValue=void 0;Ke(),ot()};return Ue(re,bt=>{bt?Lt(""):(N.inputValue="",N.previousQuery=null,N.isBeforeHide=!0,bn("")),o("visible-change",bt)}),Ue(()=>i.modelValue,(bt,an)=>{var On;(!bt||i.multiple&&bt.toString()!==N.previousValue||!i.multiple&&Ln(bt)!==Ln(N.previousValue))&&Hr(),!ws(bt,an)&&i.validateEvent&&((On=g==null?void 0:g.validate)==null||On.call(g,"change").catch(qn=>void 0))},{deep:!0}),Ue(()=>i.options,()=>{const bt=B.value;(!bt||bt&&document.activeElement!==bt)&&Hr()},{deep:!0,flush:"post"}),Ue(()=>ie.value,()=>ee.value&&Kt(ee.value.resetScrollTop)),us(()=>{N.isBeforeHide||Ye()}),us(()=>{const{valueKey:bt,options:an}=i,On=new Map;for(const qn of an){const Os=C(qn);let so=Os;if(yn(so)&&(so=Ni(Os,bt)),On.get(so))break;On.set(so,!0)}}),un(()=>{Hr()}),fi(T,Un),fi(_,hr),fi(G,_r),fi(ee,ai),fi(se,ai),fi(Q,ds),fi(X,La),{inputId:b,collapseTagSize:We,currentPlaceholder:qe,expanded:re,emptyText:Fe,popupHeight:ue,debounce:_e,allOptions:ae,filteredOptions:ie,iconComponent:Ne,iconReverse:Be,tagStyle:Je,collapseTagStyle:nt,inputStyle:rt,popperSize:z,dropdownMenuVisible:Ge,hasModelValue:be,shouldShowPlaceholder:ht,selectDisabled:te,selectSize:Ee,showClearBtn:Ce,states:N,isFocused:de,nsSelect:c,nsInput:d,calculatorRef:G,inputRef:B,menuRef:ee,tagMenuRef:Q,tooltipRef:I,tagTooltipRef:K,selectRef:T,wrapperRef:se,selectionRef:_,prefixRef:$,suffixRef:J,collapseItemRef:X,popperRef:Mt,validateState:tt,validateIcon:Le,showTagList:kt,collapseTagList:Ht,debouncedOnInputChange:Ve,deleteTag:fr,getLabel:M,getValue:C,getDisabled:P,getValueKey:Ln,handleBlur:me,handleClear:ml,handleClickOutside:Wo,handleDel:To,handleEsc:io,handleFocus:ve,focus:no,blur:Gi,handleMenuEnter:Kr,handleResize:Un,resetSelectionWidth:hr,resetCalculatorWidth:_r,updateTooltip:ai,updateTagTooltip:ds,updateOptions:Ye,toggleMenu:et,scrollTo:js,onInput:Hs,onKeyboardNavigate:vt,onKeyboardSelect:Pt,onSelect:dr,onHover:on,handleCompositionStart:wt,handleCompositionEnd:$e,handleCompositionUpdate:it}},pW=xe({name:"ElSelectV2",components:{ElSelectMenu:cW,ElTag:kc,ElTooltip:Ss,ElIcon:Et},directives:{ClickOutside:Er},props:sW,emits:[wn,si,"remove-tag","clear","visible-change","focus","blur"],setup(i,{emit:o}){const l=j(()=>{const{modelValue:d,multiple:p}=i,g=p?[]:void 0;return St(d)?p?d:g:p?g:d}),c=fW(Hn({...ss(i),modelValue:l}),o);return En(U0,{props:Hn({...ss(i),height:c.popupHeight,modelValue:l}),tooltipRef:c.tooltipRef,onSelect:c.onSelect,onHover:c.onHover,onKeyboardNavigate:c.onKeyboardNavigate,onKeyboardSelect:c.onKeyboardSelect}),{...c,modelValue:l}}}),gW=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],mW=["textContent"],vW={key:1};function yW(i,o,l,c,d,p){const g=fn("el-tag"),b=fn("el-tooltip"),w=fn("el-icon"),M=fn("el-select-menu"),C=jd("click-outside");return ln((Y(),fe("div",{ref:"selectRef",class:Z([i.nsSelect.b(),i.nsSelect.m(i.selectSize)]),onMouseenter:o[15]||(o[15]=P=>i.states.inputHovering=!0),onMouseleave:o[16]||(o[16]=P=>i.states.inputHovering=!1)},[ye(b,{ref:"tooltipRef",visible:i.dropdownMenuVisible,teleported:i.teleported,"popper-class":[i.nsSelect.e("popper"),i.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":i.popperOptions,"fallback-placements":i.fallbackPlacements,effect:i.effect,placement:i.placement,pure:"",transition:`${i.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:i.persistent,onBeforeShow:i.handleMenuEnter,onHide:o[14]||(o[14]=P=>i.states.isBeforeHide=!1)},{default:Te(()=>[pe("div",{ref:"wrapperRef",class:Z([i.nsSelect.e("wrapper"),i.nsSelect.is("focused",i.isFocused),i.nsSelect.is("hovering",i.states.inputHovering),i.nsSelect.is("filterable",i.filterable),i.nsSelect.is("disabled",i.selectDisabled)]),onClick:o[13]||(o[13]=en((...P)=>i.toggleMenu&&i.toggleMenu(...P),["prevent","stop"]))},[i.$slots.prefix?(Y(),fe("div",{key:0,ref:"prefixRef",class:Z(i.nsSelect.e("prefix"))},[ze(i.$slots,"prefix")],2)):De("v-if",!0),pe("div",{ref:"selectionRef",class:Z([i.nsSelect.e("selection"),i.nsSelect.is("near",i.multiple&&!i.$slots.prefix&&!!i.modelValue.length)])},[i.multiple?ze(i.$slots,"tag",{key:0},()=>[(Y(!0),fe($t,null,Rn(i.showTagList,P=>(Y(),fe("div",{key:i.getValueKey(i.getValue(P)),class:Z(i.nsSelect.e("selected-item"))},[ye(g,{closable:!i.selectDisabled&&!i.getDisabled(P),size:i.collapseTagSize,type:i.tagType,"disable-transitions":"",style:Ft(i.tagStyle),onClose:A=>i.deleteTag(A,P)},{default:Te(()=>[pe("span",{class:Z(i.nsSelect.e("tags-text"))},[ze(i.$slots,"label",{label:i.getLabel(P),value:i.getValue(P)},()=>[Tn(dt(i.getLabel(P)),1)])],2)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),i.collapseTags&&i.modelValue.length>i.maxCollapseTags?(Y(),Ie(b,{key:0,ref:"tagTooltipRef",disabled:i.dropdownMenuVisible||!i.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:i.effect,placement:"bottom",teleported:i.teleported},{default:Te(()=>[pe("div",{ref:"collapseItemRef",class:Z(i.nsSelect.e("selected-item"))},[ye(g,{closable:!1,size:i.collapseTagSize,type:i.tagType,style:Ft(i.collapseTagStyle),"disable-transitions":""},{default:Te(()=>[pe("span",{class:Z(i.nsSelect.e("tags-text"))}," + "+dt(i.modelValue.length-i.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:Te(()=>[pe("div",{ref:"tagMenuRef",class:Z(i.nsSelect.e("selection"))},[(Y(!0),fe($t,null,Rn(i.collapseTagList,P=>(Y(),fe("div",{key:i.getValueKey(i.getValue(P)),class:Z(i.nsSelect.e("selected-item"))},[ye(g,{class:"in-tooltip",closable:!i.selectDisabled&&!i.getDisabled(P),size:i.collapseTagSize,type:i.tagType,"disable-transitions":"",onClose:A=>i.deleteTag(A,P)},{default:Te(()=>[pe("span",{class:Z(i.nsSelect.e("tags-text"))},[ze(i.$slots,"label",{label:i.getLabel(P),value:i.getValue(P)},()=>[Tn(dt(i.getLabel(P)),1)])],2)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):De("v-if",!0)]):De("v-if",!0),i.selectDisabled?De("v-if",!0):(Y(),fe("div",{key:1,class:Z([i.nsSelect.e("selected-item"),i.nsSelect.e("input-wrapper"),i.nsSelect.is("hidden",!i.filterable)])},[ln(pe("input",{id:i.inputId,ref:"inputRef","onUpdate:modelValue":o[0]||(o[0]=P=>i.states.inputValue=P),style:Ft(i.inputStyle),autocomplete:i.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":i.expanded,"aria-label":i.ariaLabel,class:Z([i.nsSelect.e("input"),i.nsSelect.is(i.selectSize)]),disabled:i.selectDisabled,role:"combobox",readonly:!i.filterable,spellcheck:"false",type:"text",name:i.name,onFocus:o[1]||(o[1]=(...P)=>i.handleFocus&&i.handleFocus(...P)),onBlur:o[2]||(o[2]=(...P)=>i.handleBlur&&i.handleBlur(...P)),onInput:o[3]||(o[3]=(...P)=>i.onInput&&i.onInput(...P)),onCompositionstart:o[4]||(o[4]=(...P)=>i.handleCompositionStart&&i.handleCompositionStart(...P)),onCompositionupdate:o[5]||(o[5]=(...P)=>i.handleCompositionUpdate&&i.handleCompositionUpdate(...P)),onCompositionend:o[6]||(o[6]=(...P)=>i.handleCompositionEnd&&i.handleCompositionEnd(...P)),onKeydown:[o[7]||(o[7]=Yn(en(P=>i.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),o[8]||(o[8]=Yn(en(P=>i.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),o[9]||(o[9]=Yn(en((...P)=>i.onKeyboardSelect&&i.onKeyboardSelect(...P),["stop","prevent"]),["enter"])),o[10]||(o[10]=Yn(en((...P)=>i.handleEsc&&i.handleEsc(...P),["stop","prevent"]),["esc"])),o[11]||(o[11]=Yn(en((...P)=>i.handleDel&&i.handleDel(...P),["stop"]),["delete"]))],onClick:o[12]||(o[12]=en((...P)=>i.toggleMenu&&i.toggleMenu(...P),["stop"]))},null,46,gW),[[Am,i.states.inputValue]]),i.filterable?(Y(),fe("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Z(i.nsSelect.e("input-calculator")),textContent:dt(i.states.inputValue)},null,10,mW)):De("v-if",!0)],2)),i.shouldShowPlaceholder?(Y(),fe("div",{key:2,class:Z([i.nsSelect.e("selected-item"),i.nsSelect.e("placeholder"),i.nsSelect.is("transparent",!i.hasModelValue||i.expanded&&!i.states.inputValue)])},[i.hasModelValue?ze(i.$slots,"label",{key:0,label:i.currentPlaceholder,value:i.modelValue},()=>[pe("span",null,dt(i.currentPlaceholder),1)]):(Y(),fe("span",vW,dt(i.currentPlaceholder),1))],2)):De("v-if",!0)],2),pe("div",{ref:"suffixRef",class:Z(i.nsSelect.e("suffix"))},[i.iconComponent?ln((Y(),Ie(w,{key:0,class:Z([i.nsSelect.e("caret"),i.nsInput.e("icon"),i.iconReverse])},{default:Te(()=>[(Y(),Ie(kn(i.iconComponent)))]),_:1},8,["class"])),[[$n,!i.showClearBtn]]):De("v-if",!0),i.showClearBtn&&i.clearIcon?(Y(),Ie(w,{key:1,class:Z([i.nsSelect.e("caret"),i.nsInput.e("icon")]),onClick:en(i.handleClear,["prevent","stop"])},{default:Te(()=>[(Y(),Ie(kn(i.clearIcon)))]),_:1},8,["class","onClick"])):De("v-if",!0),i.validateState&&i.validateIcon?(Y(),Ie(w,{key:2,class:Z([i.nsInput.e("icon"),i.nsInput.e("validateIcon")])},{default:Te(()=>[(Y(),Ie(kn(i.validateIcon)))]),_:1},8,["class"])):De("v-if",!0)],2)],2)]),content:Te(()=>[ye(M,{ref:"menuRef",data:i.filteredOptions,width:i.popperSize,"hovering-index":i.states.hoveringIndex,"scrollbar-always-on":i.scrollbarAlwaysOn},Nr({default:Te(P=>[ze(i.$slots,"default",Cr(Xl(P)))]),_:2},[i.$slots.header?{name:"header",fn:Te(()=>[pe("div",{class:Z(i.nsSelect.be("dropdown","header"))},[ze(i.$slots,"header")],2)])}:void 0,i.$slots.loading&&i.loading?{name:"loading",fn:Te(()=>[pe("div",{class:Z(i.nsSelect.be("dropdown","loading"))},[ze(i.$slots,"loading")],2)])}:i.loading||i.filteredOptions.length===0?{name:"empty",fn:Te(()=>[pe("div",{class:Z(i.nsSelect.be("dropdown","empty"))},[ze(i.$slots,"empty",{},()=>[pe("span",null,dt(i.emptyText),1)])],2)])}:void 0,i.$slots.footer?{name:"footer",fn:Te(()=>[pe("div",{class:Z(i.nsSelect.be("dropdown","footer"))},[ze(i.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow"])],34)),[[C,i.handleClickOutside,i.popperRef]])}var Xh=ct(pW,[["render",yW],["__file","select.vue"]]);Xh.install=i=>{i.component(Xh.name,Xh)};const bW=Xh,wW=bW,xW=lt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),SW=lt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),kW=xe({name:"ElSkeletonItem"}),CW=xe({...kW,props:SW,setup(i){const o=Qe("skeleton");return(l,c)=>(Y(),fe("div",{class:Z([v(o).e("item"),v(o).e(l.variant)])},[l.variant==="image"?(Y(),Ie(v(pR),{key:0})):De("v-if",!0)],2))}});var Od=ct(CW,[["__file","skeleton-item.vue"]]);const MW=xe({name:"ElSkeleton"}),PW=xe({...MW,props:xW,setup(i,{expose:o}){const l=i,c=Qe("skeleton"),d=aF(Gn(l,"loading"),l.throttle);return o({uiLoading:d}),(p,g)=>v(d)?(Y(),fe("div",An({key:0,class:[v(c).b(),v(c).is("animated",p.animated)]},p.$attrs),[(Y(!0),fe($t,null,Rn(p.count,b=>(Y(),fe($t,{key:b},[p.loading?ze(p.$slots,"template",{key:b},()=>[ye(Od,{class:Z(v(c).is("first")),variant:"p"},null,8,["class"]),(Y(!0),fe($t,null,Rn(p.rows,w=>(Y(),Ie(Od,{key:w,class:Z([v(c).e("paragraph"),v(c).is("last",w===p.rows&&p.rows>1)]),variant:"p"},null,8,["class"]))),128))]):De("v-if",!0)],64))),128))],16)):ze(p.$slots,"default",Cr(An({key:1},p.$attrs)))}});var TW=ct(PW,[["__file","skeleton.vue"]]);const NW=gn(TW,{SkeletonItem:Od}),AW=gi(Od),LC=Symbol("sliderContextKey"),LW=lt({modelValue:{type:Ae([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:ji,inputSize:ji,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Ae(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Ae(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:pl,default:"top"},marks:{type:Ae(Object)},validateEvent:{type:Boolean,default:!0},...os(["ariaLabel"])}),Ap=i=>Yt(i)||St(i)&&i.every(Yt),EW={[wn]:Ap,[Ns]:Ap,[si]:Ap},DW=(i,o,l)=>{const c=ne();return un(async()=>{i.range?(Array.isArray(i.modelValue)?(o.firstValue=Math.max(i.min,i.modelValue[0]),o.secondValue=Math.min(i.max,i.modelValue[1])):(o.firstValue=i.min,o.secondValue=i.max),o.oldValue=[o.firstValue,o.secondValue]):(typeof i.modelValue!="number"||Number.isNaN(i.modelValue)?o.firstValue=i.min:o.firstValue=Math.min(i.max,Math.max(i.min,i.modelValue)),o.oldValue=o.firstValue),ii(window,"resize",l),await Kt(),l()}),{sliderWrapper:c}},OW=i=>j(()=>i.marks?Object.keys(i.marks).map(Number.parseFloat).sort((l,c)=>l-c).filter(l=>l<=i.max&&l>=i.min).map(l=>({point:l,position:(l-i.min)*100/(i.max-i.min),mark:i.marks[l]})):[]),RW=(i,o,l)=>{const{form:c,formItem:d}=ks(),p=oi(),g=ne(),b=ne(),w={firstButton:g,secondButton:b},M=j(()=>i.disabled||(c==null?void 0:c.disabled)||!1),C=j(()=>Math.min(o.firstValue,o.secondValue)),P=j(()=>Math.max(o.firstValue,o.secondValue)),A=j(()=>i.range?`${100*(P.value-C.value)/(i.max-i.min)}%`:`${100*(o.firstValue-i.min)/(i.max-i.min)}%`),O=j(()=>i.range?`${100*(C.value-i.min)/(i.max-i.min)}%`:"0%"),R=j(()=>i.vertical?{height:i.height}:{}),N=j(()=>i.vertical?{height:A.value,bottom:O.value}:{width:A.value,left:O.value}),z=()=>{p.value&&(o.sliderSize=p.value[`client${i.vertical?"Height":"Width"}`])},T=X=>{const se=i.min+X*(i.max-i.min)/100;if(!i.range)return g;let de;return Math.abs(C.value-se)<Math.abs(P.value-se)?de=o.firstValue<o.secondValue?"firstButton":"secondButton":de=o.firstValue>o.secondValue?"firstButton":"secondButton",w[de]},_=X=>{const se=T(X);return se.value.setPosition(X),se},I=X=>{o.firstValue=X,B(i.range?[C.value,P.value]:X)},K=X=>{o.secondValue=X,i.range&&B([C.value,P.value])},B=X=>{l(wn,X),l(Ns,X)},G=async()=>{await Kt(),l(si,i.range?[C.value,P.value]:i.modelValue)},$=X=>{var se,de,ve,me,ae,ie;if(M.value||o.dragging)return;z();let re=0;if(i.vertical){const te=(ve=(de=(se=X.touches)==null?void 0:se.item(0))==null?void 0:de.clientY)!=null?ve:X.clientY;re=(p.value.getBoundingClientRect().bottom-te)/o.sliderSize*100}else{const te=(ie=(ae=(me=X.touches)==null?void 0:me.item(0))==null?void 0:ae.clientX)!=null?ie:X.clientX,ue=p.value.getBoundingClientRect().left;re=(te-ue)/o.sliderSize*100}if(!(re<0||re>100))return _(re)};return{elFormItem:d,slider:p,firstButton:g,secondButton:b,sliderDisabled:M,minValue:C,maxValue:P,runwayStyle:R,barStyle:N,resetSize:z,setPosition:_,emitChange:G,onSliderWrapperPrevent:X=>{var se,de;((se=w.firstButton.value)!=null&&se.dragging||(de=w.secondButton.value)!=null&&de.dragging)&&X.preventDefault()},onSliderClick:X=>{$(X)&&G()},onSliderDown:async X=>{const se=$(X);se&&(await Kt(),se.value.onButtonDown(X))},setFirstValue:I,setSecondValue:K}},{left:IW,down:FW,right:BW,up:$W,home:VW,end:zW,pageUp:_W,pageDown:KW}=Gt,HW=(i,o,l)=>{const c=ne(),d=ne(!1),p=j(()=>o.value instanceof Function),g=j(()=>p.value&&o.value(i.modelValue)||i.modelValue),b=Ks(()=>{l.value&&(d.value=!0)},50),w=Ks(()=>{l.value&&(d.value=!1)},50);return{tooltip:c,tooltipVisible:d,formatValue:g,displayTooltip:b,hideTooltip:w}},jW=(i,o,l)=>{const{disabled:c,min:d,max:p,step:g,showTooltip:b,precision:w,sliderSize:M,formatTooltip:C,emitChange:P,resetSize:A,updateDragging:O}=Tt(LC),{tooltip:R,tooltipVisible:N,formatValue:z,displayTooltip:T,hideTooltip:_}=HW(i,C,b),I=ne(),K=j(()=>`${(i.modelValue-d.value)/(p.value-d.value)*100}%`),B=j(()=>i.vertical?{bottom:K.value}:{left:K.value}),G=()=>{o.hovering=!0,T()},$=()=>{o.hovering=!1,o.dragging||_()},J=Ce=>{c.value||(Ce.preventDefault(),re(Ce),window.addEventListener("mousemove",te),window.addEventListener("touchmove",te),window.addEventListener("mouseup",ue),window.addEventListener("touchend",ue),window.addEventListener("contextmenu",ue),I.value.focus())},ee=Ce=>{c.value||(o.newPosition=Number.parseFloat(K.value)+Ce/(p.value-d.value)*100,be(o.newPosition),P())},Q=()=>{ee(-g.value)},X=()=>{ee(g.value)},se=()=>{ee(-g.value*4)},de=()=>{ee(g.value*4)},ve=()=>{c.value||(be(0),P())},me=()=>{c.value||(be(100),P())},ae=Ce=>{let Ne=!0;[IW,FW].includes(Ce.key)?Q():[BW,$W].includes(Ce.key)?X():Ce.key===VW?ve():Ce.key===zW?me():Ce.key===KW?se():Ce.key===_W?de():Ne=!1,Ne&&Ce.preventDefault()},ie=Ce=>{let Ne,Be;return Ce.type.startsWith("touch")?(Be=Ce.touches[0].clientY,Ne=Ce.touches[0].clientX):(Be=Ce.clientY,Ne=Ce.clientX),{clientX:Ne,clientY:Be}},re=Ce=>{o.dragging=!0,o.isClick=!0;const{clientX:Ne,clientY:Be}=ie(Ce);i.vertical?o.startY=Be:o.startX=Ne,o.startPosition=Number.parseFloat(K.value),o.newPosition=o.startPosition},te=Ce=>{if(o.dragging){o.isClick=!1,T(),A();let Ne;const{clientX:Be,clientY:tt}=ie(Ce);i.vertical?(o.currentY=tt,Ne=(o.startY-o.currentY)/M.value*100):(o.currentX=Be,Ne=(o.currentX-o.startX)/M.value*100),o.newPosition=o.startPosition+Ne,be(o.newPosition)}},ue=()=>{o.dragging&&(setTimeout(()=>{o.dragging=!1,o.hovering||_(),o.isClick||be(o.newPosition),P()},0),window.removeEventListener("mousemove",te),window.removeEventListener("touchmove",te),window.removeEventListener("mouseup",ue),window.removeEventListener("touchend",ue),window.removeEventListener("contextmenu",ue))},be=async Ce=>{if(Ce===null||Number.isNaN(+Ce))return;Ce<0?Ce=0:Ce>100&&(Ce=100);const Ne=100/((p.value-d.value)/g.value);let tt=Math.round(Ce/Ne)*Ne*(p.value-d.value)*.01+d.value;tt=Number.parseFloat(tt.toFixed(w.value)),tt!==i.modelValue&&l(wn,tt),!o.dragging&&i.modelValue!==o.oldValue&&(o.oldValue=i.modelValue),await Kt(),o.dragging&&T(),R.value.updatePopper()};return Ue(()=>o.dragging,Ce=>{O(Ce)}),{disabled:c,button:I,tooltip:R,tooltipVisible:N,showTooltip:b,wrapperStyle:B,formatValue:z,handleMouseEnter:G,handleMouseLeave:$,onButtonDown:J,onKeyDown:ae,setPosition:be}},qW=(i,o,l,c)=>({stops:j(()=>{if(!i.showStops||i.min>i.max)return[];if(i.step===0)return[];const g=(i.max-i.min)/i.step,b=100*i.step/(i.max-i.min),w=Array.from({length:g-1}).map((M,C)=>(C+1)*b);return i.range?w.filter(M=>M<100*(l.value-i.min)/(i.max-i.min)||M>100*(c.value-i.min)/(i.max-i.min)):w.filter(M=>M>100*(o.firstValue-i.min)/(i.max-i.min))}),getStopStyle:g=>i.vertical?{bottom:`${g}%`}:{left:`${g}%`}}),GW=(i,o,l,c,d,p)=>{const g=M=>{d(wn,M),d(Ns,M)},b=()=>i.range?![l.value,c.value].every((M,C)=>M===o.oldValue[C]):i.modelValue!==o.oldValue,w=()=>{var M,C;i.min>i.max&&Hi("Slider","min should not be greater than max.");const P=i.modelValue;i.range&&Array.isArray(P)?P[1]<i.min?g([i.min,i.min]):P[0]>i.max?g([i.max,i.max]):P[0]<i.min?g([i.min,P[1]]):P[1]>i.max?g([P[0],i.max]):(o.firstValue=P[0],o.secondValue=P[1],b()&&(i.validateEvent&&((M=p==null?void 0:p.validate)==null||M.call(p,"change").catch(A=>void 0)),o.oldValue=P.slice())):!i.range&&typeof P=="number"&&!Number.isNaN(P)&&(P<i.min?g(i.min):P>i.max?g(i.max):(o.firstValue=P,b()&&(i.validateEvent&&((C=p==null?void 0:p.validate)==null||C.call(p,"change").catch(A=>void 0)),o.oldValue=P)))};w(),Ue(()=>o.dragging,M=>{M||w()}),Ue(()=>i.modelValue,(M,C)=>{o.dragging||Array.isArray(M)&&Array.isArray(C)&&M.every((P,A)=>P===C[A])&&o.firstValue===M[0]&&o.secondValue===M[1]||w()},{deep:!0}),Ue(()=>[i.min,i.max],()=>{w()})},WW=lt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:pl,default:"top"}}),UW={[wn]:i=>Yt(i)},YW=["tabindex"],XW=xe({name:"ElSliderButton"}),ZW=xe({...XW,props:WW,emits:UW,setup(i,{expose:o,emit:l}){const c=i,d=Qe("slider"),p=Hn({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:c.modelValue}),{disabled:g,button:b,tooltip:w,showTooltip:M,tooltipVisible:C,wrapperStyle:P,formatValue:A,handleMouseEnter:O,handleMouseLeave:R,onButtonDown:N,onKeyDown:z,setPosition:T}=jW(c,p,l),{hovering:_,dragging:I}=ss(p);return o({onButtonDown:N,onKeyDown:z,setPosition:T,hovering:_,dragging:I}),(K,B)=>(Y(),fe("div",{ref_key:"button",ref:b,class:Z([v(d).e("button-wrapper"),{hover:v(_),dragging:v(I)}]),style:Ft(v(P)),tabindex:v(g)?-1:0,onMouseenter:B[0]||(B[0]=(...G)=>v(O)&&v(O)(...G)),onMouseleave:B[1]||(B[1]=(...G)=>v(R)&&v(R)(...G)),onMousedown:B[2]||(B[2]=(...G)=>v(N)&&v(N)(...G)),onTouchstart:B[3]||(B[3]=(...G)=>v(N)&&v(N)(...G)),onFocus:B[4]||(B[4]=(...G)=>v(O)&&v(O)(...G)),onBlur:B[5]||(B[5]=(...G)=>v(R)&&v(R)(...G)),onKeydown:B[6]||(B[6]=(...G)=>v(z)&&v(z)(...G))},[ye(v(Ss),{ref_key:"tooltip",ref:w,visible:v(C),placement:K.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":K.tooltipClass,disabled:!v(M),persistent:""},{content:Te(()=>[pe("span",null,dt(v(A)),1)]),default:Te(()=>[pe("div",{class:Z([v(d).e("button"),{hover:v(_),dragging:v(I)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,YW))}});var V1=ct(ZW,[["__file","button.vue"]]);const JW=lt({mark:{type:Ae([String,Object]),default:void 0}});var QW=xe({name:"ElSliderMarker",props:JW,setup(i){const o=Qe("slider"),l=j(()=>tn(i.mark)?i.mark:i.mark.label),c=j(()=>tn(i.mark)?void 0:i.mark.style);return()=>jt("div",{class:o.e("marks-text"),style:c.value},l.value)}});const eU=["id","role","aria-label","aria-labelledby"],tU={key:1},nU=xe({name:"ElSlider"}),iU=xe({...nU,props:LW,emits:EW,setup(i,{expose:o,emit:l}){const c=i,d=Qe("slider"),{t:p}=Bn(),g=Hn({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:b,slider:w,firstButton:M,secondButton:C,sliderDisabled:P,minValue:A,maxValue:O,runwayStyle:R,barStyle:N,resetSize:z,emitChange:T,onSliderWrapperPrevent:_,onSliderClick:I,onSliderDown:K,setFirstValue:B,setSecondValue:G}=RW(c,g,l),{stops:$,getStopStyle:J}=qW(c,g,A,O),{inputId:ee,isLabeledByFormItem:Q}=Go(c,{formItemContext:b}),X=$i(),se=j(()=>c.inputSize||X.value),de=j(()=>c.label||c.ariaLabel||p("el.slider.defaultLabel",{min:c.min,max:c.max})),ve=j(()=>c.range?c.rangeStartLabel||p("el.slider.defaultRangeStartLabel"):de.value),me=j(()=>c.formatValueText?c.formatValueText(Ce.value):`${Ce.value}`),ae=j(()=>c.rangeEndLabel||p("el.slider.defaultRangeEndLabel")),ie=j(()=>c.formatValueText?c.formatValueText(Ne.value):`${Ne.value}`),re=j(()=>[d.b(),d.m(X.value),d.is("vertical",c.vertical),{[d.m("with-input")]:c.showInput}]),te=OW(c);GW(c,g,A,O,l,b);const ue=j(()=>{const Le=[c.min,c.max,c.step].map(_e=>{const Fe=`${_e}`.split(".")[1];return Fe?Fe.length:0});return Math.max.apply(null,Le)}),{sliderWrapper:be}=DW(c,g,z),{firstValue:Ce,secondValue:Ne,sliderSize:Be}=ss(g),tt=Le=>{g.dragging=Le};return En(LC,{...ss(c),sliderSize:Be,disabled:P,precision:ue,emitChange:T,resetSize:z,updateDragging:tt}),qi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-slider",ref:"https://element-plus.org/en-US/component/slider.html"},j(()=>!!c.label)),o({onSliderClick:I}),(Le,_e)=>{var Fe,gt;return Y(),fe("div",{id:Le.range?v(ee):void 0,ref_key:"sliderWrapper",ref:be,class:Z(v(re)),role:Le.range?"group":void 0,"aria-label":Le.range&&!v(Q)?v(de):void 0,"aria-labelledby":Le.range&&v(Q)?(Fe=v(b))==null?void 0:Fe.labelId:void 0,onTouchstart:_e[2]||(_e[2]=(...Ye)=>v(_)&&v(_)(...Ye)),onTouchmove:_e[3]||(_e[3]=(...Ye)=>v(_)&&v(_)(...Ye))},[pe("div",{ref_key:"slider",ref:w,class:Z([v(d).e("runway"),{"show-input":Le.showInput&&!Le.range},v(d).is("disabled",v(P))]),style:Ft(v(R)),onMousedown:_e[0]||(_e[0]=(...Ye)=>v(K)&&v(K)(...Ye)),onTouchstart:_e[1]||(_e[1]=(...Ye)=>v(K)&&v(K)(...Ye))},[pe("div",{class:Z(v(d).e("bar")),style:Ft(v(N))},null,6),ye(V1,{id:Le.range?void 0:v(ee),ref_key:"firstButton",ref:M,"model-value":v(Ce),vertical:Le.vertical,"tooltip-class":Le.tooltipClass,placement:Le.placement,role:"slider","aria-label":Le.range||!v(Q)?v(ve):void 0,"aria-labelledby":!Le.range&&v(Q)?(gt=v(b))==null?void 0:gt.labelId:void 0,"aria-valuemin":Le.min,"aria-valuemax":Le.range?v(Ne):Le.max,"aria-valuenow":v(Ce),"aria-valuetext":v(me),"aria-orientation":Le.vertical?"vertical":"horizontal","aria-disabled":v(P),"onUpdate:modelValue":v(B)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Le.range?(Y(),Ie(V1,{key:0,ref_key:"secondButton",ref:C,"model-value":v(Ne),vertical:Le.vertical,"tooltip-class":Le.tooltipClass,placement:Le.placement,role:"slider","aria-label":v(ae),"aria-valuemin":v(Ce),"aria-valuemax":Le.max,"aria-valuenow":v(Ne),"aria-valuetext":v(ie),"aria-orientation":Le.vertical?"vertical":"horizontal","aria-disabled":v(P),"onUpdate:modelValue":v(G)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):De("v-if",!0),Le.showStops?(Y(),fe("div",tU,[(Y(!0),fe($t,null,Rn(v($),(Ye,Ze)=>(Y(),fe("div",{key:Ze,class:Z(v(d).e("stop")),style:Ft(v(J)(Ye))},null,6))),128))])):De("v-if",!0),v(te).length>0?(Y(),fe($t,{key:2},[pe("div",null,[(Y(!0),fe($t,null,Rn(v(te),(Ye,Ze)=>(Y(),fe("div",{key:Ze,style:Ft(v(J)(Ye.position)),class:Z([v(d).e("stop"),v(d).e("marks-stop")])},null,6))),128))]),pe("div",{class:Z(v(d).e("marks"))},[(Y(!0),fe($t,null,Rn(v(te),(Ye,Ze)=>(Y(),Ie(v(QW),{key:Ze,mark:Ye.mark,style:Ft(v(J)(Ye.position))},null,8,["mark","style"]))),128))],2)],64)):De("v-if",!0)],38),Le.showInput&&!Le.range?(Y(),Ie(v(nC),{key:0,ref:"input","model-value":v(Ce),class:Z(v(d).e("input")),step:Le.step,disabled:v(P),controls:Le.showInputControls,min:Le.min,max:Le.max,debounce:Le.debounce,size:v(se),"onUpdate:modelValue":v(B),onChange:v(T)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):De("v-if",!0)],42,eU)}}});var sU=ct(iU,[["__file","slider.vue"]]);const oU=gn(sU),rU=lt({prefixCls:{type:String}}),z1=xe({name:"ElSpaceItem",props:rU,setup(i,{slots:o}){const l=Qe("space"),c=j(()=>`${i.prefixCls||l.b()}__item`);return()=>jt("div",{class:c.value},ze(o,"default"))}}),_1={small:8,default:12,large:16};function aU(i){const o=Qe("space"),l=j(()=>[o.b(),o.m(i.direction),i.class]),c=ne(0),d=ne(0),p=j(()=>{const b=i.wrap||i.fill?{flexWrap:"wrap"}:{},w={alignItems:i.alignment},M={rowGap:`${d.value}px`,columnGap:`${c.value}px`};return[b,w,M,i.style]}),g=j(()=>i.fill?{flexGrow:1,minWidth:`${i.fillRatio}%`}:{});return us(()=>{const{size:b="small",wrap:w,direction:M,fill:C}=i;if(St(b)){const[P=0,A=0]=b;c.value=P,d.value=A}else{let P;Yt(b)?P=b:P=_1[b||"small"]||_1.small,(w||C)&&M==="horizontal"?c.value=d.value=P:M==="horizontal"?(c.value=P,d.value=0):(d.value=P,c.value=0)}}),{classes:l,containerStyle:p,itemStyle:g}}const lU=lt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Ae([String,Object,Array]),default:""},style:{type:Ae([String,Array,Object]),default:""},alignment:{type:Ae(String),default:"center"},prefixCls:{type:String},spacer:{type:Ae([Object,String,Number,Array]),default:null,validator:i=>li(i)||Yt(i)||tn(i)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:ur,validator:i=>Yt(i)||St(i)&&i.length===2&&i.every(Yt)}}),uU=xe({name:"ElSpace",props:lU,setup(i,{slots:o}){const{classes:l,containerStyle:c,itemStyle:d}=aU(i);function p(g,b="",w=[]){const{prefixCls:M}=i;return g.forEach((C,P)=>{og(C)?St(C.children)&&C.children.forEach((A,O)=>{og(A)&&St(A.children)?p(A.children,`${b+O}-`,w):w.push(ye(z1,{style:d.value,prefixCls:M,key:`nested-${b+O}`},{default:()=>[A]},fo.PROPS|fo.STYLE,["style","prefixCls"]))}):jR(C)&&w.push(ye(z1,{style:d.value,prefixCls:M,key:`LoopKey${b+P}`},{default:()=>[C]},fo.PROPS|fo.STYLE,["style","prefixCls"]))}),w}return()=>{var g;const{spacer:b,direction:w}=i,M=ze(o,"default",{key:0},()=>[]);if(((g=M.children)!=null?g:[]).length===0)return null;if(St(M.children)){let C=p(M.children);if(b){const P=C.length-1;C=C.reduce((A,O,R)=>{const N=[...A,O];return R!==P&&N.push(ye("span",{style:[d.value,w==="vertical"?"width: 100%":null],key:R},[li(b)?b:Tn(b,fo.TEXT)],fo.STYLE)),N},[])}return ye("div",{class:l.value,style:c.value},C,fo.STYLE|fo.CLASS)}return M.children}}}),cU=gn(uU),hU=lt({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:Ae([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Ae([String,Object,Array])}}),dU=xe({name:"ElStatistic"}),fU=xe({...dU,props:hU,setup(i,{expose:o}){const l=i,c=Qe("statistic"),d=j(()=>{const{value:p,formatter:g,precision:b,decimalSeparator:w,groupSeparator:M}=l;if(Xt(g))return g(p);if(!Yt(p))return p;let[C,P=""]=String(p).split(".");return P=P.padEnd(b,"0").slice(0,b>0?b:0),C=C.replace(/\B(?=(\d{3})+(?!\d))/g,M),[C,P].join(P?w:"")});return o({displayValue:d}),(p,g)=>(Y(),fe("div",{class:Z(v(c).b())},[p.$slots.title||p.title?(Y(),fe("div",{key:0,class:Z(v(c).e("head"))},[ze(p.$slots,"title",{},()=>[Tn(dt(p.title),1)])],2)):De("v-if",!0),pe("div",{class:Z(v(c).e("content"))},[p.$slots.prefix||p.prefix?(Y(),fe("div",{key:0,class:Z(v(c).e("prefix"))},[ze(p.$slots,"prefix",{},()=>[pe("span",null,dt(p.prefix),1)])],2)):De("v-if",!0),pe("span",{class:Z(v(c).e("number")),style:Ft(p.valueStyle)},dt(v(d)),7),p.$slots.suffix||p.suffix?(Y(),fe("div",{key:1,class:Z(v(c).e("suffix"))},[ze(p.$slots,"suffix",{},()=>[pe("span",null,dt(p.suffix),1)])],2)):De("v-if",!0)],2)],2))}});var pU=ct(fU,[["__file","statistic.vue"]]);const EC=gn(pU),gU=lt({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:Ae([Number,Object]),default:0},valueStyle:{type:Ae([String,Object,Array])}}),mU={finish:()=>!0,[si]:i=>Yt(i)},vU=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],K1=i=>Yt(i)?new Date(i).getTime():i.valueOf(),H1=(i,o)=>{let l=i;const c=/\[([^\]]*)]/g;return vU.reduce((p,[g,b])=>{const w=new RegExp(`${g}+(?![^\\[\\]]*\\])`,"g");if(w.test(p)){const M=Math.floor(l/b);return l-=M*b,p.replace(w,C=>String(M).padStart(C.length,"0"))}return p},o).replace(c,"$1")},yU=xe({name:"ElCountdown"}),bU=xe({...yU,props:gU,emits:mU,setup(i,{expose:o,emit:l}){const c=i;let d;const p=ne(K1(c.value)-Date.now()),g=j(()=>H1(p.value,c.format)),b=C=>H1(C,c.format),w=()=>{d&&(ol(d),d=void 0)},M=()=>{const C=K1(c.value),P=()=>{let A=C-Date.now();l("change",A),A<=0?(A=0,w(),l("finish")):d=ya(P),p.value=A};d=ya(P)};return Ue(()=>[c.value,c.format],()=>{w(),M()},{immediate:!0}),ei(()=>{w()}),o({displayValue:g}),(C,P)=>(Y(),Ie(v(EC),{value:p.value,title:C.title,prefix:C.prefix,suffix:C.suffix,"value-style":C.valueStyle,formatter:b},Nr({_:2},[Rn(C.$slots,(A,O)=>({name:O,fn:Te(()=>[ze(C.$slots,O)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var wU=ct(bU,[["__file","countdown.vue"]]);const xU=gn(wU),SU=lt({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),kU={[si]:(i,o)=>[i,o].every(Yt)},CU=xe({name:"ElSteps"}),MU=xe({...CU,props:SU,emits:kU,setup(i,{emit:o}){const l=i,c=Qe("steps"),{children:d,addChild:p,removeChild:g}=C0(pn(),"ElStep");return Ue(d,()=>{d.value.forEach((b,w)=>{b.setIndex(w)})}),En("ElSteps",{props:l,steps:d,addStep:p,removeStep:g}),Ue(()=>l.active,(b,w)=>{o(si,b,w)}),(b,w)=>(Y(),fe("div",{class:Z([v(c).b(),v(c).m(b.simple?"simple":b.direction)])},[ze(b.$slots,"default")],2))}});var PU=ct(MU,[["__file","steps.vue"]]);const TU=lt({title:{type:String,default:""},icon:{type:Xn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),NU=xe({name:"ElStep"}),AU=xe({...NU,props:TU,setup(i){const o=i,l=Qe("step"),c=ne(-1),d=ne({}),p=ne(""),g=Tt("ElSteps"),b=pn();un(()=>{Ue([()=>g.props.active,()=>g.props.processStatus,()=>g.props.finishStatus],([G])=>{K(G)},{immediate:!0})}),ei(()=>{g.removeStep(B.uid)});const w=j(()=>o.status||p.value),M=j(()=>{const G=g.steps.value[c.value-1];return G?G.currentStatus:"wait"}),C=j(()=>g.props.alignCenter),P=j(()=>g.props.direction==="vertical"),A=j(()=>g.props.simple),O=j(()=>g.steps.value.length),R=j(()=>{var G;return((G=g.steps.value[O.value-1])==null?void 0:G.uid)===(b==null?void 0:b.uid)}),N=j(()=>A.value?"":g.props.space),z=j(()=>[l.b(),l.is(A.value?"simple":g.props.direction),l.is("flex",R.value&&!N.value&&!C.value),l.is("center",C.value&&!P.value&&!A.value)]),T=j(()=>{const G={flexBasis:Yt(N.value)?`${N.value}px`:N.value?N.value:`${100/(O.value-(C.value?0:1))}%`};return P.value||R.value&&(G.maxWidth=`${100/O.value}%`),G}),_=G=>{c.value=G},I=G=>{const $=G==="wait",J={transitionDelay:`${$?"-":""}${150*c.value}ms`},ee=G===g.props.processStatus||$?0:100;J.borderWidth=ee&&!A.value?"1px":0,J[g.props.direction==="vertical"?"height":"width"]=`${ee}%`,d.value=J},K=G=>{G>c.value?p.value=g.props.finishStatus:G===c.value&&M.value!=="error"?p.value=g.props.processStatus:p.value="wait";const $=g.steps.value[c.value-1];$&&$.calcProgress(p.value)},B=Hn({uid:b.uid,currentStatus:w,setIndex:_,calcProgress:I});return g.addStep(B),(G,$)=>(Y(),fe("div",{style:Ft(v(T)),class:Z(v(z))},[De(" icon & line "),pe("div",{class:Z([v(l).e("head"),v(l).is(v(w))])},[v(A)?De("v-if",!0):(Y(),fe("div",{key:0,class:Z(v(l).e("line"))},[pe("i",{class:Z(v(l).e("line-inner")),style:Ft(d.value)},null,6)],2)),pe("div",{class:Z([v(l).e("icon"),v(l).is(G.icon||G.$slots.icon?"icon":"text")])},[ze(G.$slots,"icon",{},()=>[G.icon?(Y(),Ie(v(Et),{key:0,class:Z(v(l).e("icon-inner"))},{default:Te(()=>[(Y(),Ie(kn(G.icon)))]),_:1},8,["class"])):v(w)==="success"?(Y(),Ie(v(Et),{key:1,class:Z([v(l).e("icon-inner"),v(l).is("status")])},{default:Te(()=>[ye(v(_c))]),_:1},8,["class"])):v(w)==="error"?(Y(),Ie(v(Et),{key:2,class:Z([v(l).e("icon-inner"),v(l).is("status")])},{default:Te(()=>[ye(v(_o))]),_:1},8,["class"])):v(A)?De("v-if",!0):(Y(),fe("div",{key:3,class:Z(v(l).e("icon-inner"))},dt(c.value+1),3))])],2)],2),De(" title & description "),pe("div",{class:Z(v(l).e("main"))},[pe("div",{class:Z([v(l).e("title"),v(l).is(v(w))])},[ze(G.$slots,"title",{},()=>[Tn(dt(G.title),1)])],2),v(A)?(Y(),fe("div",{key:0,class:Z(v(l).e("arrow"))},null,2)):(Y(),fe("div",{key:1,class:Z([v(l).e("description"),v(l).is(v(w))])},[ze(G.$slots,"description",{},()=>[Tn(dt(G.description),1)])],2))],2)],6))}});var DC=ct(AU,[["__file","item.vue"]]);const LU=gn(PU,{Step:DC}),EU=gi(DC),DU=lt({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:Rx},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:Xn},activeActionIcon:{type:Xn},activeIcon:{type:Xn},inactiveIcon:{type:Xn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Ae(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...os(["ariaLabel"])}),OU={[wn]:i=>Ii(i)||tn(i)||Yt(i),[si]:i=>Ii(i)||tn(i)||Yt(i),[Ns]:i=>Ii(i)||tn(i)||Yt(i)},RU=["onClick"],IU=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],FU=["aria-hidden"],BU=["aria-hidden"],$U=["aria-hidden"],OC="ElSwitch",VU=xe({name:OC}),zU=xe({...VU,props:DU,emits:OU,setup(i,{expose:o,emit:l}){const c=i,{formItem:d}=ks(),p=$i(),g=Qe("switch"),{inputId:b}=Go(c,{formItemContext:d}),w=Es(j(()=>c.loading)),M=ne(c.modelValue!==!1),C=ne(),P=ne(),A=j(()=>[g.b(),g.m(p.value),g.is("disabled",w.value),g.is("checked",T.value)]),O=j(()=>[g.e("label"),g.em("label","left"),g.is("active",!T.value)]),R=j(()=>[g.e("label"),g.em("label","right"),g.is("active",T.value)]),N=j(()=>({width:Si(c.width)}));Ue(()=>c.modelValue,()=>{M.value=!0});const z=j(()=>M.value?c.modelValue:!1),T=j(()=>z.value===c.activeValue);[c.activeValue,c.inactiveValue].includes(z.value)||(l(wn,c.inactiveValue),l(si,c.inactiveValue),l(Ns,c.inactiveValue)),Ue(T,B=>{var G;C.value.checked=B,c.validateEvent&&((G=d==null?void 0:d.validate)==null||G.call(d,"change").catch($=>void 0))});const _=()=>{const B=T.value?c.inactiveValue:c.activeValue;l(wn,B),l(si,B),l(Ns,B),Kt(()=>{C.value.checked=T.value})},I=()=>{if(w.value)return;const{beforeChange:B}=c;if(!B){_();return}const G=B();[rc(G),Ii(G)].includes(!0)||Hi(OC,"beforeChange must return type `Promise<boolean>` or `boolean`"),rc(G)?G.then(J=>{J&&_()}).catch(J=>{}):G&&_()},K=()=>{var B,G;(G=(B=C.value)==null?void 0:B.focus)==null||G.call(B)};return un(()=>{C.value.checked=T.value}),qi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},j(()=>!!c.label)),o({focus:K,checked:T}),(B,G)=>(Y(),fe("div",{class:Z(v(A)),onClick:en(I,["prevent"])},[pe("input",{id:v(b),ref_key:"input",ref:C,class:Z(v(g).e("input")),type:"checkbox",role:"switch","aria-checked":v(T),"aria-disabled":v(w),"aria-label":B.label||B.ariaLabel,name:B.name,"true-value":B.activeValue,"false-value":B.inactiveValue,disabled:v(w),tabindex:B.tabindex,onChange:_,onKeydown:Yn(I,["enter"])},null,42,IU),!B.inlinePrompt&&(B.inactiveIcon||B.inactiveText)?(Y(),fe("span",{key:0,class:Z(v(O))},[B.inactiveIcon?(Y(),Ie(v(Et),{key:0},{default:Te(()=>[(Y(),Ie(kn(B.inactiveIcon)))]),_:1})):De("v-if",!0),!B.inactiveIcon&&B.inactiveText?(Y(),fe("span",{key:1,"aria-hidden":v(T)},dt(B.inactiveText),9,FU)):De("v-if",!0)],2)):De("v-if",!0),pe("span",{ref_key:"core",ref:P,class:Z(v(g).e("core")),style:Ft(v(N))},[B.inlinePrompt?(Y(),fe("div",{key:0,class:Z(v(g).e("inner"))},[B.activeIcon||B.inactiveIcon?(Y(),Ie(v(Et),{key:0,class:Z(v(g).is("icon"))},{default:Te(()=>[(Y(),Ie(kn(v(T)?B.activeIcon:B.inactiveIcon)))]),_:1},8,["class"])):B.activeText||B.inactiveText?(Y(),fe("span",{key:1,class:Z(v(g).is("text")),"aria-hidden":!v(T)},dt(v(T)?B.activeText:B.inactiveText),11,BU)):De("v-if",!0)],2)):De("v-if",!0),pe("div",{class:Z(v(g).e("action"))},[B.loading?(Y(),Ie(v(Et),{key:0,class:Z(v(g).is("loading"))},{default:Te(()=>[ye(v(Na))]),_:1},8,["class"])):v(T)?ze(B.$slots,"active-action",{key:1},()=>[B.activeActionIcon?(Y(),Ie(v(Et),{key:0},{default:Te(()=>[(Y(),Ie(kn(B.activeActionIcon)))]),_:1})):De("v-if",!0)]):v(T)?De("v-if",!0):ze(B.$slots,"inactive-action",{key:2},()=>[B.inactiveActionIcon?(Y(),Ie(v(Et),{key:0},{default:Te(()=>[(Y(),Ie(kn(B.inactiveActionIcon)))]),_:1})):De("v-if",!0)])],2)],6),!B.inlinePrompt&&(B.activeIcon||B.activeText)?(Y(),fe("span",{key:1,class:Z(v(R))},[B.activeIcon?(Y(),Ie(v(Et),{key:0},{default:Te(()=>[(Y(),Ie(kn(B.activeIcon)))]),_:1})):De("v-if",!0),!B.activeIcon&&B.activeText?(Y(),fe("span",{key:1,"aria-hidden":!v(T)},dt(B.activeText),9,$U)):De("v-if",!0)],2)):De("v-if",!0)],10,RU))}});var _U=ct(zU,[["__file","switch.vue"]]);const KU=gn(_U),Lp=function(i){var o;return(o=i.target)==null?void 0:o.closest("td")},HU=function(i,o,l,c,d){if(!o&&!c&&(!d||Array.isArray(d)&&!d.length))return i;typeof l=="string"?l=l==="descending"?-1:1:l=l&&l<0?-1:1;const p=c?null:function(b,w){return d?(Array.isArray(d)||(d=[d]),d.map(M=>typeof M=="string"?Ni(b,M):M(b,w,i))):(o!=="$key"&&yn(b)&&"$value"in b&&(b=b.$value),[yn(b)?Ni(b,o):b])},g=function(b,w){if(c)return c(b.value,w.value);for(let M=0,C=b.key.length;M<C;M++){if(b.key[M]<w.key[M])return-1;if(b.key[M]>w.key[M])return 1}return 0};return i.map((b,w)=>({value:b,index:w,key:p?p(b,w):null})).sort((b,w)=>{let M=g(b,w);return M||(M=b.index-w.index),M*+l}).map(b=>b.value)},RC=function(i,o){let l=null;return i.columns.forEach(c=>{c.id===o&&(l=c)}),l},jU=function(i,o){let l=null;for(let c=0;c<i.columns.length;c++){const d=i.columns[c];if(d.columnKey===o){l=d;break}}return l||Hi("ElTable",`No column matching with column-key: ${o}`),l},j1=function(i,o,l){const c=(o.className||"").match(new RegExp(`${l}-table_[^\\s]+`,"gm"));return c?RC(i,c[0]):null},ls=(i,o)=>{if(!i)throw new Error("Row is required when get row identity");if(typeof o=="string"){if(!o.includes("."))return`${i[o]}`;const l=o.split(".");let c=i;for(const d of l)c=c[d];return`${c}`}else if(typeof o=="function")return o.call(null,i)},Wa=function(i,o){const l={};return(i||[]).forEach((c,d)=>{l[ls(c,o)]={row:c,index:d}}),l};function qU(i,o){const l={};let c;for(c in i)l[c]=i[c];for(c in o)if(Fn(o,c)){const d=o[c];typeof d<"u"&&(l[c]=d)}return l}function Y0(i){return i===""||i!==void 0&&(i=Number.parseInt(i,10),Number.isNaN(i)&&(i="")),i}function IC(i){return i===""||i!==void 0&&(i=Y0(i),Number.isNaN(i)&&(i=80)),i}function GU(i){return typeof i=="number"?i:typeof i=="string"?/^\d+(?:px)?$/.test(i)?Number.parseInt(i,10):i:null}function WU(...i){return i.length===0?o=>o:i.length===1?i[0]:i.reduce((o,l)=>(...c)=>o(l(...c)))}function sc(i,o,l){let c=!1;const d=i.indexOf(o),p=d!==-1,g=b=>{b==="add"?i.push(o):i.splice(d,1),c=!0,St(o.children)&&o.children.forEach(w=>{sc(i,w,l??!p)})};return Ii(l)?l&&!p?g("add"):!l&&p&&g("remove"):g(p?"remove":"add"),c}function UU(i,o,l="children",c="hasChildren"){const d=g=>!(Array.isArray(g)&&g.length);function p(g,b,w){o(g,b,w),b.forEach(M=>{if(M[c]){o(M,null,w+1);return}const C=M[l];d(C)||p(M,C,w+1)})}i.forEach(g=>{if(g[c]){o(g,null,0);return}const b=g[l];d(b)||p(g,b,0)})}let ho=null;function YU(i,o,l,c){if((ho==null?void 0:ho.trigger)===l)return;ho==null||ho();const d=c==null?void 0:c.refs.tableWrapper,p=d==null?void 0:d.dataset.prefix,g={strategy:"fixed",...i.popperOptions},b=ye(Ss,{content:o,virtualTriggering:!0,virtualRef:l,appendTo:d,placement:"top",transition:"none",offset:0,hideAfter:0,...i,popperOptions:g,onHide:()=>{ho==null||ho()}});b.appContext={...c.appContext,...c};const w=document.createElement("div");ga(b,w),b.component.exposed.onOpen();const M=d==null?void 0:d.querySelector(`.${p}-scrollbar__wrap`);ho=()=>{ga(null,w),M==null||M.removeEventListener("scroll",ho),ho=null},ho.trigger=l,M==null||M.addEventListener("scroll",ho)}function FC(i){return i.children?a3(i.children,FC):[i]}function q1(i,o){return i+o.colSpan}const BC=(i,o,l,c)=>{let d=0,p=i;const g=l.states.columns.value;if(c){const w=FC(c[i]);d=g.slice(0,g.indexOf(w[0])).reduce(q1,0),p=d+w.reduce(q1,0)-1}else d=i;let b;switch(o){case"left":p<l.states.fixedLeafColumnsLength.value&&(b="left");break;case"right":d>=g.length-l.states.rightFixedLeafColumnsLength.value&&(b="right");break;default:p<l.states.fixedLeafColumnsLength.value?b="left":d>=g.length-l.states.rightFixedLeafColumnsLength.value&&(b="right")}return b?{direction:b,start:d,after:p}:{}},X0=(i,o,l,c,d,p=0)=>{const g=[],{direction:b,start:w,after:M}=BC(o,l,c,d);if(b){const C=b==="left";g.push(`${i}-fixed-column--${b}`),C&&M+p===c.states.fixedLeafColumnsLength.value-1?g.push("is-last-column"):!C&&w-p===c.states.columns.value.length-c.states.rightFixedLeafColumnsLength.value&&g.push("is-first-column")}return g};function G1(i,o){return i+(o.realWidth===null||Number.isNaN(o.realWidth)?Number(o.width):o.realWidth)}const Z0=(i,o,l,c)=>{const{direction:d,start:p=0,after:g=0}=BC(i,o,l,c);if(!d)return;const b={},w=d==="left",M=l.states.columns.value;return w?b.left=M.slice(0,p).reduce(G1,0):b.right=M.slice(g+1).reverse().reduce(G1,0),b},du=(i,o)=>{i&&(Number.isNaN(i[o])||(i[o]=`${i[o]}px`))};function XU(i){const o=pn(),l=ne(!1),c=ne([]);return{updateExpandRows:()=>{const w=i.data.value||[],M=i.rowKey.value;if(l.value)c.value=w.slice();else if(M){const C=Wa(c.value,M);c.value=w.reduce((P,A)=>{const O=ls(A,M);return C[O]&&P.push(A),P},[])}else c.value=[]},toggleRowExpansion:(w,M)=>{sc(c.value,w,M)&&o.emit("expand-change",w,c.value.slice())},setExpandRowKeys:w=>{o.store.assertRowKey();const M=i.data.value||[],C=i.rowKey.value,P=Wa(M,C);c.value=w.reduce((A,O)=>{const R=P[O];return R&&A.push(R.row),A},[])},isRowExpanded:w=>{const M=i.rowKey.value;return M?!!Wa(c.value,M)[ls(w,M)]:c.value.includes(w)},states:{expandRows:c,defaultExpandAll:l}}}function ZU(i){const o=pn(),l=ne(null),c=ne(null),d=M=>{o.store.assertRowKey(),l.value=M,g(M)},p=()=>{l.value=null},g=M=>{const{data:C,rowKey:P}=i;let A=null;P.value&&(A=(v(C)||[]).find(O=>ls(O,P.value)===M)),c.value=A,o.emit("current-change",c.value,null)};return{setCurrentRowKey:d,restoreCurrentRowKey:p,setCurrentRowByKey:g,updateCurrentRow:M=>{const C=c.value;if(M&&M!==C){c.value=M,o.emit("current-change",c.value,C);return}!M&&C&&(c.value=null,o.emit("current-change",null,C))},updateCurrentRowData:()=>{const M=i.rowKey.value,C=i.data.value||[],P=c.value;if(!C.includes(P)&&P){if(M){const A=ls(P,M);g(A)}else c.value=null;c.value===null&&o.emit("current-change",null,P)}else l.value&&(g(l.value),p())},states:{_currentRowKey:l,currentRow:c}}}function JU(i){const o=ne([]),l=ne({}),c=ne(16),d=ne(!1),p=ne({}),g=ne("hasChildren"),b=ne("children"),w=pn(),M=j(()=>{if(!i.rowKey.value)return{};const T=i.data.value||[];return P(T)}),C=j(()=>{const T=i.rowKey.value,_=Object.keys(p.value),I={};return _.length&&_.forEach(K=>{if(p.value[K].length){const B={children:[]};p.value[K].forEach(G=>{const $=ls(G,T);B.children.push($),G[g.value]&&!I[$]&&(I[$]={children:[]})}),I[K]=B}}),I}),P=T=>{const _=i.rowKey.value,I={};return UU(T,(K,B,G)=>{const $=ls(K,_);Array.isArray(B)?I[$]={children:B.map(J=>ls(J,_)),level:G}:d.value&&(I[$]={children:[],lazy:!0,level:G})},b.value,g.value),I},A=(T=!1,_=(I=>(I=w.store)==null?void 0:I.states.defaultExpandAll.value)())=>{var I;const K=M.value,B=C.value,G=Object.keys(K),$={};if(G.length){const J=v(l),ee=[],Q=(se,de)=>{if(T)return o.value?_||o.value.includes(de):!!(_||se!=null&&se.expanded);{const ve=_||o.value&&o.value.includes(de);return!!(se!=null&&se.expanded||ve)}};G.forEach(se=>{const de=J[se],ve={...K[se]};if(ve.expanded=Q(de,se),ve.lazy){const{loaded:me=!1,loading:ae=!1}=de||{};ve.loaded=!!me,ve.loading=!!ae,ee.push(se)}$[se]=ve});const X=Object.keys(B);d.value&&X.length&&ee.length&&X.forEach(se=>{const de=J[se],ve=B[se].children;if(ee.includes(se)){if($[se].children.length!==0)throw new Error("[ElTable]children must be an empty array.");$[se].children=ve}else{const{loaded:me=!1,loading:ae=!1}=de||{};$[se]={lazy:!0,loaded:!!me,loading:!!ae,expanded:Q(de,se),children:ve,level:""}}})}l.value=$,(I=w.store)==null||I.updateTableScrollY()};Ue(()=>o.value,()=>{A(!0)}),Ue(()=>M.value,()=>{A()}),Ue(()=>C.value,()=>{A()});const O=T=>{o.value=T,A()},R=(T,_)=>{w.store.assertRowKey();const I=i.rowKey.value,K=ls(T,I),B=K&&l.value[K];if(K&&B&&"expanded"in B){const G=B.expanded;_=typeof _>"u"?!B.expanded:_,l.value[K].expanded=_,G!==_&&w.emit("expand-change",T,_),w.store.updateTableScrollY()}},N=T=>{w.store.assertRowKey();const _=i.rowKey.value,I=ls(T,_),K=l.value[I];d.value&&K&&"loaded"in K&&!K.loaded?z(T,I,K):R(T,void 0)},z=(T,_,I)=>{const{load:K}=w.props;K&&!l.value[_].loaded&&(l.value[_].loading=!0,K(T,I,B=>{if(!Array.isArray(B))throw new TypeError("[ElTable] data must be an array");l.value[_].loading=!1,l.value[_].loaded=!0,l.value[_].expanded=!0,B.length&&(p.value[_]=B),w.emit("expand-change",T,!0)}))};return{loadData:z,loadOrToggle:N,toggleTreeExpansion:R,updateTreeExpandKeys:O,updateTreeData:A,normalize:P,states:{expandRowKeys:o,treeData:l,indent:c,lazy:d,lazyTreeNodeMap:p,lazyColumnIdentifier:g,childrenColumnName:b}}}const QU=(i,o)=>{const l=o.sortingColumn;return!l||typeof l.sortable=="string"?i:HU(i,o.sortProp,o.sortOrder,l.sortMethod,l.sortBy)},Zh=i=>{const o=[];return i.forEach(l=>{l.children&&l.children.length>0?o.push.apply(o,Zh(l.children)):o.push(l)}),o};function eY(){var i;const o=pn(),{size:l}=ss((i=o.proxy)==null?void 0:i.$props),c=ne(null),d=ne([]),p=ne([]),g=ne(!1),b=ne([]),w=ne([]),M=ne([]),C=ne([]),P=ne([]),A=ne([]),O=ne([]),R=ne([]),N=[],z=ne(0),T=ne(0),_=ne(0),I=ne(!1),K=ne([]),B=ne(!1),G=ne(!1),$=ne(null),J=ne({}),ee=ne(null),Q=ne(null),X=ne(null),se=ne(null),de=ne(null);Ue(d,()=>o.state&&ie(!1),{deep:!0});const ve=()=>{if(!c.value)throw new Error("[ElTable] prop row-key is required")},me=Vt=>{var Ke;(Ke=Vt.children)==null||Ke.forEach(wt=>{wt.fixed=Vt.fixed,me(wt)})},ae=()=>{b.value.forEach($e=>{me($e)}),C.value=b.value.filter($e=>$e.fixed===!0||$e.fixed==="left"),P.value=b.value.filter($e=>$e.fixed==="right"),C.value.length>0&&b.value[0]&&b.value[0].type==="selection"&&!b.value[0].fixed&&(b.value[0].fixed=!0,C.value.unshift(b.value[0]));const Vt=b.value.filter($e=>!$e.fixed);w.value=[].concat(C.value).concat(Vt).concat(P.value);const Ke=Zh(Vt),wt=Zh(C.value),it=Zh(P.value);z.value=Ke.length,T.value=wt.length,_.value=it.length,M.value=[].concat(wt).concat(Ke).concat(it),g.value=C.value.length>0||P.value.length>0},ie=(Vt,Ke=!1)=>{Vt&&ae(),Ke?o.state.doLayout():o.state.debouncedUpdateLayout()},re=Vt=>K.value.includes(Vt),te=()=>{I.value=!1;const Vt=K.value;K.value=[],Vt.length&&o.emit("selection-change",[])},ue=()=>{let Vt;if(c.value){Vt=[];const Ke=Wa(K.value,c.value),wt=Wa(d.value,c.value);for(const it in Ke)Fn(Ke,it)&&!wt[it]&&Vt.push(Ke[it].row)}else Vt=K.value.filter(Ke=>!d.value.includes(Ke));if(Vt.length){const Ke=K.value.filter(wt=>!Vt.includes(wt));K.value=Ke,o.emit("selection-change",Ke.slice())}},be=()=>(K.value||[]).slice(),Ce=(Vt,Ke=void 0,wt=!0)=>{if(sc(K.value,Vt,Ke)){const $e=(K.value||[]).slice();wt&&o.emit("select",$e,Vt),o.emit("selection-change",$e)}},Ne=()=>{var Vt,Ke;const wt=G.value?!I.value:!(I.value||K.value.length);I.value=wt;let it=!1,$e=0;const et=(Ke=(Vt=o==null?void 0:o.store)==null?void 0:Vt.states)==null?void 0:Ke.rowKey.value;d.value.forEach((st,Ve)=>{const Lt=Ve+$e;$.value?$.value.call(null,st,Lt)&&sc(K.value,st,wt)&&(it=!0):sc(K.value,st,wt)&&(it=!0),$e+=Le(ls(st,et))}),it&&o.emit("selection-change",K.value?K.value.slice():[]),o.emit("select-all",(K.value||[]).slice())},Be=()=>{const Vt=Wa(K.value,c.value);d.value.forEach(Ke=>{const wt=ls(Ke,c.value),it=Vt[wt];it&&(K.value[it.index]=Ke)})},tt=()=>{var Vt,Ke,wt;if(((Vt=d.value)==null?void 0:Vt.length)===0){I.value=!1;return}let it;c.value&&(it=Wa(K.value,c.value));const $e=function(Lt){return it?!!it[ls(Lt,c.value)]:K.value.includes(Lt)};let et=!0,st=0,Ve=0;for(let Lt=0,Sn=(d.value||[]).length;Lt<Sn;Lt++){const zn=(wt=(Ke=o==null?void 0:o.store)==null?void 0:Ke.states)==null?void 0:wt.rowKey.value,ki=Lt+Ve,mi=d.value[Lt],Ln=$.value&&$.value.call(null,mi,ki);if($e(mi))st++;else if(!$.value||Ln){et=!1;break}Ve+=Le(ls(mi,zn))}st===0&&(et=!1),I.value=et},Le=Vt=>{var Ke;if(!o||!o.store)return 0;const{treeData:wt}=o.store.states;let it=0;const $e=(Ke=wt.value[Vt])==null?void 0:Ke.children;return $e&&(it+=$e.length,$e.forEach(et=>{it+=Le(et)})),it},_e=(Vt,Ke)=>{Array.isArray(Vt)||(Vt=[Vt]);const wt={};return Vt.forEach(it=>{J.value[it.id]=Ke,wt[it.columnKey||it.id]=Ke}),wt},Fe=(Vt,Ke,wt)=>{Q.value&&Q.value!==Vt&&(Q.value.order=null),Q.value=Vt,X.value=Ke,se.value=wt},gt=()=>{let Vt=v(p);Object.keys(J.value).forEach(Ke=>{const wt=J.value[Ke];if(!wt||wt.length===0)return;const it=RC({columns:M.value},Ke);it&&it.filterMethod&&(Vt=Vt.filter($e=>wt.some(et=>it.filterMethod.call(null,et,$e,it))))}),ee.value=Vt},Ye=()=>{d.value=QU(ee.value,{sortingColumn:Q.value,sortProp:X.value,sortOrder:se.value})},Ze=(Vt=void 0)=>{Vt&&Vt.filter||gt(),Ye()},mt=Vt=>{const{tableHeaderRef:Ke}=o.refs;if(!Ke)return;const wt=Object.assign({},Ke.filterPanels),it=Object.keys(wt);if(it.length)if(typeof Vt=="string"&&(Vt=[Vt]),Array.isArray(Vt)){const $e=Vt.map(et=>jU({columns:M.value},et));it.forEach(et=>{const st=$e.find(Ve=>Ve.id===et);st&&(st.filteredValue=[])}),o.store.commit("filterChange",{column:$e,values:[],silent:!0,multi:!0})}else it.forEach($e=>{const et=M.value.find(st=>st.id===$e);et&&(et.filteredValue=[])}),J.value={},o.store.commit("filterChange",{column:{},values:[],silent:!0})},Me=()=>{Q.value&&(Fe(null,null,null),o.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ee,toggleRowExpansion:We,updateExpandRows:ot,states:He,isRowExpanded:Je}=XU({data:d,rowKey:c}),{updateTreeExpandKeys:nt,toggleTreeExpansion:rt,updateTreeData:ht,loadOrToggle:qe,states:Mt}=JU({data:d,rowKey:c}),{updateCurrentRowData:Nt,updateCurrentRow:Ge,setCurrentRowKey:kt,states:Ht}=ZU({data:d,rowKey:c});return{assertRowKey:ve,updateColumns:ae,scheduleLayout:ie,isSelected:re,clearSelection:te,cleanSelection:ue,getSelectionRows:be,toggleRowSelection:Ce,_toggleAllSelection:Ne,toggleAllSelection:null,updateSelectionByRowKey:Be,updateAllSelected:tt,updateFilters:_e,updateCurrentRow:Ge,updateSort:Fe,execFilter:gt,execSort:Ye,execQuery:Ze,clearFilter:mt,clearSort:Me,toggleRowExpansion:We,setExpandRowKeysAdapter:Vt=>{Ee(Vt),nt(Vt)},setCurrentRowKey:kt,toggleRowExpansionAdapter:(Vt,Ke)=>{M.value.some(({type:it})=>it==="expand")?We(Vt,Ke):rt(Vt,Ke)},isRowExpanded:Je,updateExpandRows:ot,updateCurrentRowData:Nt,loadOrToggle:qe,updateTreeData:ht,states:{tableSize:l,rowKey:c,data:d,_data:p,isComplex:g,_columns:b,originColumns:w,columns:M,fixedColumns:C,rightFixedColumns:P,leafColumns:A,fixedLeafColumns:O,rightFixedLeafColumns:R,updateOrderFns:N,leafColumnsLength:z,fixedLeafColumnsLength:T,rightFixedLeafColumnsLength:_,isAllSelected:I,selection:K,reserveSelection:B,selectOnIndeterminate:G,selectable:$,filters:J,filteredData:ee,sortingColumn:Q,sortProp:X,sortOrder:se,hoverRow:de,...He,...Mt,...Ht}}}function jg(i,o){return i.map(l=>{var c;return l.id===o.id?o:((c=l.children)!=null&&c.length&&(l.children=jg(l.children,o)),l)})}function qg(i){i.forEach(o=>{var l,c;o.no=(l=o.getColumnIndex)==null?void 0:l.call(o),(c=o.children)!=null&&c.length&&qg(o.children)}),i.sort((o,l)=>o.no-l.no)}function tY(){const i=pn(),o=eY();return{ns:Qe("table"),...o,mutations:{setData(g,b){const w=v(g._data)!==b;g.data.value=b,g._data.value=b,i.store.execQuery(),i.store.updateCurrentRowData(),i.store.updateExpandRows(),i.store.updateTreeData(i.store.states.defaultExpandAll.value),v(g.reserveSelection)?(i.store.assertRowKey(),i.store.updateSelectionByRowKey()):w?i.store.clearSelection():i.store.cleanSelection(),i.store.updateAllSelected(),i.$ready&&i.store.scheduleLayout()},insertColumn(g,b,w,M){const C=v(g._columns);let P=[];w?(w&&!w.children&&(w.children=[]),w.children.push(b),P=jg(C,w)):(C.push(b),P=C),qg(P),g._columns.value=P,g.updateOrderFns.push(M),b.type==="selection"&&(g.selectable.value=b.selectable,g.reserveSelection.value=b.reserveSelection),i.$ready&&(i.store.updateColumns(),i.store.scheduleLayout())},updateColumnOrder(g,b){var w;((w=b.getColumnIndex)==null?void 0:w.call(b))!==b.no&&(qg(g._columns.value),i.$ready&&i.store.updateColumns())},removeColumn(g,b,w,M){const C=v(g._columns)||[];if(w)w.children.splice(w.children.findIndex(A=>A.id===b.id),1),Kt(()=>{var A;((A=w.children)==null?void 0:A.length)===0&&delete w.children}),g._columns.value=jg(C,w);else{const A=C.indexOf(b);A>-1&&(C.splice(A,1),g._columns.value=C)}const P=g.updateOrderFns.indexOf(M);P>-1&&g.updateOrderFns.splice(P,1),i.$ready&&(i.store.updateColumns(),i.store.scheduleLayout())},sort(g,b){const{prop:w,order:M,init:C}=b;if(w){const P=v(g.columns).find(A=>A.property===w);P&&(P.order=M,i.store.updateSort(P,w,M),i.store.commit("changeSortCondition",{init:C}))}},changeSortCondition(g,b){const{sortingColumn:w,sortProp:M,sortOrder:C}=g,P=v(w),A=v(M),O=v(C);O===null&&(g.sortingColumn.value=null,g.sortProp.value=null);const R={filter:!0};i.store.execQuery(R),(!b||!(b.silent||b.init))&&i.emit("sort-change",{column:P,prop:A,order:O}),i.store.updateTableScrollY()},filterChange(g,b){const{column:w,values:M,silent:C}=b,P=i.store.updateFilters(w,M);i.store.execQuery(),C||i.emit("filter-change",P),i.store.updateTableScrollY()},toggleAllSelection(){i.store.toggleAllSelection()},rowSelectedChanged(g,b){i.store.toggleRowSelection(b),i.store.updateAllSelected()},setHoverRow(g,b){g.hoverRow.value=b},setCurrentRow(g,b){i.store.updateCurrentRow(b)}},commit:function(g,...b){const w=i.store.mutations;if(w[g])w[g].apply(i,[i.store.states].concat(b));else throw new Error(`Action not found: ${g}`)},updateTableScrollY:function(){Kt(()=>i.layout.updateScrollY.apply(i.layout))}}}const oc={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function nY(i,o){if(!i)throw new Error("Table is required.");const l=tY();return l.toggleAllSelection=Ks(l._toggleAllSelection,10),Object.keys(oc).forEach(c=>{$C(VC(o,c),c,l)}),iY(l,o),l}function iY(i,o){Object.keys(oc).forEach(l=>{Ue(()=>VC(o,l),c=>{$C(c,l,i)})})}function $C(i,o,l){let c=i,d=oc[o];typeof oc[o]=="object"&&(d=d.key,c=c||oc[o].default),l.states[d].value=c}function VC(i,o){if(o.includes(".")){const l=o.split(".");let c=i;return l.forEach(d=>{c=c[d]}),c}else return i[o]}class sY{constructor(o){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ne(null),this.scrollX=ne(!1),this.scrollY=ne(!1),this.bodyWidth=ne(null),this.fixedWidth=ne(null),this.rightFixedWidth=ne(null),this.gutterWidth=0;for(const l in o)Fn(o,l)&&(ri(this[l])?this[l].value=o[l]:this[l]=o[l]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const l=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(l!=null&&l.wrapRef)){let c=!0;const d=this.scrollY.value;return c=l.wrapRef.scrollHeight>l.wrapRef.clientHeight,this.scrollY.value=c,d!==c}return!1}setHeight(o,l="height"){if(!In)return;const c=this.table.vnode.el;if(o=GU(o),this.height.value=Number(o),!c&&(o||o===0))return Kt(()=>this.setHeight(o,l));typeof o=="number"?(c.style[l]=`${o}px`,this.updateElsHeight()):typeof o=="string"&&(c.style[l]=o,this.updateElsHeight())}setMaxHeight(o){this.setHeight(o,"max-height")}getFlattenColumns(){const o=[];return this.table.store.states.columns.value.forEach(c=>{c.isColumnGroup?o.push.apply(o,c.columns):o.push(c)}),o}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(o){if(!o)return!0;let l=o;for(;l.tagName!=="DIV";){if(getComputedStyle(l).display==="none")return!0;l=l.parentElement}return!1}updateColumnsWidth(){if(!In)return;const o=this.fit,l=this.table.vnode.el.clientWidth;let c=0;const d=this.getFlattenColumns(),p=d.filter(w=>typeof w.width!="number");if(d.forEach(w=>{typeof w.width=="number"&&w.realWidth&&(w.realWidth=null)}),p.length>0&&o){if(d.forEach(w=>{c+=Number(w.width||w.minWidth||80)}),c<=l){this.scrollX.value=!1;const w=l-c;if(p.length===1)p[0].realWidth=Number(p[0].minWidth||80)+w;else{const M=p.reduce((A,O)=>A+Number(O.minWidth||80),0),C=w/M;let P=0;p.forEach((A,O)=>{if(O===0)return;const R=Math.floor(Number(A.minWidth||80)*C);P+=R,A.realWidth=Number(A.minWidth||80)+R}),p[0].realWidth=Number(p[0].minWidth||80)+w-P}}else this.scrollX.value=!0,p.forEach(w=>{w.realWidth=Number(w.minWidth)});this.bodyWidth.value=Math.max(c,l),this.table.state.resizeState.value.width=this.bodyWidth.value}else d.forEach(w=>{!w.width&&!w.minWidth?w.realWidth=80:w.realWidth=Number(w.width||w.minWidth),c+=w.realWidth}),this.scrollX.value=c>l,this.bodyWidth.value=c;const g=this.store.states.fixedColumns.value;if(g.length>0){let w=0;g.forEach(M=>{w+=Number(M.realWidth||M.width)}),this.fixedWidth.value=w}const b=this.store.states.rightFixedColumns.value;if(b.length>0){let w=0;b.forEach(M=>{w+=Number(M.realWidth||M.width)}),this.rightFixedWidth.value=w}this.notifyObservers("columns")}addObserver(o){this.observers.push(o)}removeObserver(o){const l=this.observers.indexOf(o);l!==-1&&this.observers.splice(l,1)}notifyObservers(o){this.observers.forEach(c=>{var d,p;switch(o){case"columns":(d=c.state)==null||d.onColumnsChange(this);break;case"scrollable":(p=c.state)==null||p.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${o}.`)}})}}const{CheckboxGroup:oY}=Po,rY=xe({name:"ElTableFilterPanel",components:{ElCheckbox:Po,ElCheckboxGroup:oY,ElScrollbar:$r,ElTooltip:Ss,ElIcon:Et,ArrowDown:Fr,ArrowUp:Xm},directives:{ClickOutside:Er},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(i){const o=pn(),{t:l}=Bn(),c=Qe("table-filter"),d=o==null?void 0:o.parent;d.filterPanels.value[i.column.id]||(d.filterPanels.value[i.column.id]=o);const p=ne(!1),g=ne(null),b=j(()=>i.column&&i.column.filters),w=j(()=>i.column.filterClassName?`${c.b()} ${i.column.filterClassName}`:c.b()),M=j({get:()=>{var B;return(((B=i.column)==null?void 0:B.filteredValue)||[])[0]},set:B=>{C.value&&(typeof B<"u"&&B!==null?C.value.splice(0,1,B):C.value.splice(0,1))}}),C=j({get(){return i.column?i.column.filteredValue||[]:[]},set(B){i.column&&i.upDataColumn("filteredValue",B)}}),P=j(()=>i.column?i.column.filterMultiple:!0),A=B=>B.value===M.value,O=()=>{p.value=!1},R=B=>{B.stopPropagation(),p.value=!p.value},N=()=>{p.value=!1},z=()=>{I(C.value),O()},T=()=>{C.value=[],I(C.value),O()},_=B=>{M.value=B,I(typeof B<"u"&&B!==null?C.value:[]),O()},I=B=>{i.store.commit("filterChange",{column:i.column,values:B}),i.store.updateAllSelected()};Ue(p,B=>{i.column&&i.upDataColumn("filterOpened",B)},{immediate:!0});const K=j(()=>{var B,G;return(G=(B=g.value)==null?void 0:B.popperRef)==null?void 0:G.contentRef});return{tooltipVisible:p,multiple:P,filterClassName:w,filteredValue:C,filterValue:M,filters:b,handleConfirm:z,handleReset:T,handleSelect:_,isActive:A,t:l,ns:c,showFilterPanel:R,hideFilterPanel:N,popperPaneRef:K,tooltip:g}}}),aY={key:0},lY=["disabled"],uY=["label","onClick"];function cY(i,o,l,c,d,p){const g=fn("el-checkbox"),b=fn("el-checkbox-group"),w=fn("el-scrollbar"),M=fn("arrow-up"),C=fn("arrow-down"),P=fn("el-icon"),A=fn("el-tooltip"),O=jd("click-outside");return Y(),Ie(A,{ref:"tooltip",visible:i.tooltipVisible,offset:0,placement:i.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":i.filterClassName,persistent:""},{content:Te(()=>[i.multiple?(Y(),fe("div",aY,[pe("div",{class:Z(i.ns.e("content"))},[ye(w,{"wrap-class":i.ns.e("wrap")},{default:Te(()=>[ye(b,{modelValue:i.filteredValue,"onUpdate:modelValue":o[0]||(o[0]=R=>i.filteredValue=R),class:Z(i.ns.e("checkbox-group"))},{default:Te(()=>[(Y(!0),fe($t,null,Rn(i.filters,R=>(Y(),Ie(g,{key:R.value,value:R.value},{default:Te(()=>[Tn(dt(R.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),pe("div",{class:Z(i.ns.e("bottom"))},[pe("button",{class:Z({[i.ns.is("disabled")]:i.filteredValue.length===0}),disabled:i.filteredValue.length===0,type:"button",onClick:o[1]||(o[1]=(...R)=>i.handleConfirm&&i.handleConfirm(...R))},dt(i.t("el.table.confirmFilter")),11,lY),pe("button",{type:"button",onClick:o[2]||(o[2]=(...R)=>i.handleReset&&i.handleReset(...R))},dt(i.t("el.table.resetFilter")),1)],2)])):(Y(),fe("ul",{key:1,class:Z(i.ns.e("list"))},[pe("li",{class:Z([i.ns.e("list-item"),{[i.ns.is("active")]:i.filterValue===void 0||i.filterValue===null}]),onClick:o[3]||(o[3]=R=>i.handleSelect(null))},dt(i.t("el.table.clearFilter")),3),(Y(!0),fe($t,null,Rn(i.filters,R=>(Y(),fe("li",{key:R.value,class:Z([i.ns.e("list-item"),i.ns.is("active",i.isActive(R))]),label:R.value,onClick:N=>i.handleSelect(R.value)},dt(R.text),11,uY))),128))],2))]),default:Te(()=>[ln((Y(),fe("span",{class:Z([`${i.ns.namespace.value}-table__column-filter-trigger`,`${i.ns.namespace.value}-none-outline`]),onClick:o[4]||(o[4]=(...R)=>i.showFilterPanel&&i.showFilterPanel(...R))},[ye(P,null,{default:Te(()=>[i.column.filterOpened?(Y(),Ie(M,{key:0})):(Y(),Ie(C,{key:1}))]),_:1})],2)),[[O,i.hideFilterPanel,i.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var hY=ct(rY,[["render",cY],["__file","filter-panel.vue"]]);function zC(i){const o=pn();Gd(()=>{l.value.addObserver(o)}),un(()=>{c(l.value),d(l.value)}),Or(()=>{c(l.value),d(l.value)}),Ma(()=>{l.value.removeObserver(o)});const l=j(()=>{const p=i.layout;if(!p)throw new Error("Can not find table layout.");return p}),c=p=>{var g;const b=((g=i.vnode.el)==null?void 0:g.querySelectorAll("colgroup > col"))||[];if(!b.length)return;const w=p.getFlattenColumns(),M={};w.forEach(C=>{M[C.id]=C});for(let C=0,P=b.length;C<P;C++){const A=b[C],O=A.getAttribute("name"),R=M[O];R&&A.setAttribute("width",R.realWidth||R.width)}},d=p=>{var g,b;const w=((g=i.vnode.el)==null?void 0:g.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let C=0,P=w.length;C<P;C++)w[C].setAttribute("width",p.scrollY.value?p.gutterWidth:"0");const M=((b=i.vnode.el)==null?void 0:b.querySelectorAll("th.gutter"))||[];for(let C=0,P=M.length;C<P;C++){const A=M[C];A.style.width=p.scrollY.value?`${p.gutterWidth}px`:"0",A.style.display=p.scrollY.value?"":"none"}};return{tableLayout:l.value,onColumnsChange:c,onScrollableChange:d}}const cr=Symbol("ElTable");function dY(i,o){const l=pn(),c=Tt(cr),d=N=>{N.stopPropagation()},p=(N,z)=>{!z.filters&&z.sortable?R(N,z,!1):z.filterable&&!z.sortable&&d(N),c==null||c.emit("header-click",z,N)},g=(N,z)=>{c==null||c.emit("header-contextmenu",z,N)},b=ne(null),w=ne(!1),M=ne({}),C=(N,z)=>{if(In&&!(z.children&&z.children.length>0)&&b.value&&i.border){w.value=!0;const T=c;o("set-drag-visible",!0);const I=(T==null?void 0:T.vnode.el).getBoundingClientRect().left,K=l.vnode.el.querySelector(`th.${z.id}`),B=K.getBoundingClientRect(),G=B.left-I+30;mo(K,"noclick"),M.value={startMouseLeft:N.clientX,startLeft:B.right-I,startColumnLeft:B.left-I,tableLeft:I};const $=T==null?void 0:T.refs.resizeProxy;$.style.left=`${M.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const J=Q=>{const X=Q.clientX-M.value.startMouseLeft,se=M.value.startLeft+X;$.style.left=`${Math.max(G,se)}px`},ee=()=>{if(w.value){const{startColumnLeft:Q,startLeft:X}=M.value,de=Number.parseInt($.style.left,10)-Q;z.width=z.realWidth=de,T==null||T.emit("header-dragend",z.width,X-Q,z,N),requestAnimationFrame(()=>{i.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",w.value=!1,b.value=null,M.value={},o("set-drag-visible",!1)}document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",ee),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{xs(K,"noclick")},0)};document.addEventListener("mousemove",J),document.addEventListener("mouseup",ee)}},P=(N,z)=>{if(z.children&&z.children.length>0)return;const T=N.target;if(!ko(T))return;const _=T==null?void 0:T.closest("th");if(!(!z||!z.resizable)&&!w.value&&i.border){const I=_.getBoundingClientRect(),K=document.body.style;I.width>12&&I.right-N.pageX<8?(K.cursor="col-resize",bo(_,"is-sortable")&&(_.style.cursor="col-resize"),b.value=z):w.value||(K.cursor="",bo(_,"is-sortable")&&(_.style.cursor="pointer"),b.value=null)}},A=()=>{In&&(document.body.style.cursor="")},O=({order:N,sortOrders:z})=>{if(N==="")return z[0];const T=z.indexOf(N||null);return z[T>z.length-2?0:T+1]},R=(N,z,T)=>{var _;N.stopPropagation();const I=z.order===T?null:T||O(z),K=(_=N.target)==null?void 0:_.closest("th");if(K&&bo(K,"noclick")){xs(K,"noclick");return}if(!z.sortable)return;const B=i.store.states;let G=B.sortProp.value,$;const J=B.sortingColumn.value;(J!==z||J===z&&J.order===null)&&(J&&(J.order=null),B.sortingColumn.value=z,G=z.property),I?$=z.order=I:$=z.order=null,B.sortProp.value=G,B.sortOrder.value=$,c==null||c.store.commit("changeSortCondition")};return{handleHeaderClick:p,handleHeaderContextMenu:g,handleMouseDown:C,handleMouseMove:P,handleMouseOut:A,handleSortClick:R,handleFilterClick:d}}function fY(i){const o=Tt(cr),l=Qe("table");return{getHeaderRowStyle:b=>{const w=o==null?void 0:o.props.headerRowStyle;return typeof w=="function"?w.call(null,{rowIndex:b}):w},getHeaderRowClass:b=>{const w=[],M=o==null?void 0:o.props.headerRowClassName;return typeof M=="string"?w.push(M):typeof M=="function"&&w.push(M.call(null,{rowIndex:b})),w.join(" ")},getHeaderCellStyle:(b,w,M,C)=>{var P;let A=(P=o==null?void 0:o.props.headerCellStyle)!=null?P:{};typeof A=="function"&&(A=A.call(null,{rowIndex:b,columnIndex:w,row:M,column:C}));const O=Z0(w,C.fixed,i.store,M);return du(O,"left"),du(O,"right"),Object.assign({},A,O)},getHeaderCellClass:(b,w,M,C)=>{const P=X0(l.b(),w,C.fixed,i.store,M),A=[C.id,C.order,C.headerAlign,C.className,C.labelClassName,...P];C.children||A.push("is-leaf"),C.sortable&&A.push("is-sortable");const O=o==null?void 0:o.props.headerCellClassName;return typeof O=="string"?A.push(O):typeof O=="function"&&A.push(O.call(null,{rowIndex:b,columnIndex:w,row:M,column:C})),A.push(l.e("cell")),A.filter(R=>!!R).join(" ")}}}const _C=i=>{const o=[];return i.forEach(l=>{l.children?(o.push(l),o.push.apply(o,_C(l.children))):o.push(l)}),o},KC=i=>{let o=1;const l=(p,g)=>{if(g&&(p.level=g.level+1,o<p.level&&(o=p.level)),p.children){let b=0;p.children.forEach(w=>{l(w,p),b+=w.colSpan}),p.colSpan=b}else p.colSpan=1};i.forEach(p=>{p.level=1,l(p,void 0)});const c=[];for(let p=0;p<o;p++)c.push([]);return _C(i).forEach(p=>{p.children?(p.rowSpan=1,p.children.forEach(g=>g.isSubColumn=!0)):p.rowSpan=o-p.level+1,c[p.level-1].push(p)}),c};function pY(i){const o=Tt(cr),l=j(()=>KC(i.store.states.originColumns.value));return{isGroup:j(()=>{const p=l.value.length>1;return p&&o&&(o.state.isGroup.value=!0),p}),toggleAllSelection:p=>{p.stopPropagation(),o==null||o.store.commit("toggleAllSelection")},columnRows:l}}var gY=xe({name:"ElTableHeader",components:{ElCheckbox:Po},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(i,{emit:o}){const l=pn(),c=Tt(cr),d=Qe("table"),p=ne({}),{onColumnsChange:g,onScrollableChange:b}=zC(c);un(async()=>{await Kt(),await Kt();const{prop:G,order:$}=i.defaultSort;c==null||c.store.commit("sort",{prop:G,order:$,init:!0})});const{handleHeaderClick:w,handleHeaderContextMenu:M,handleMouseDown:C,handleMouseMove:P,handleMouseOut:A,handleSortClick:O,handleFilterClick:R}=dY(i,o),{getHeaderRowStyle:N,getHeaderRowClass:z,getHeaderCellStyle:T,getHeaderCellClass:_}=fY(i),{isGroup:I,toggleAllSelection:K,columnRows:B}=pY(i);return l.state={onColumnsChange:g,onScrollableChange:b},l.filterPanels=p,{ns:d,filterPanels:p,onColumnsChange:g,onScrollableChange:b,columnRows:B,getHeaderRowClass:z,getHeaderRowStyle:N,getHeaderCellClass:_,getHeaderCellStyle:T,handleHeaderClick:w,handleHeaderContextMenu:M,handleMouseDown:C,handleMouseMove:P,handleMouseOut:A,handleSortClick:O,handleFilterClick:R,isGroup:I,toggleAllSelection:K}},render(){const{ns:i,isGroup:o,columnRows:l,getHeaderCellStyle:c,getHeaderCellClass:d,getHeaderRowClass:p,getHeaderRowStyle:g,handleHeaderClick:b,handleHeaderContextMenu:w,handleMouseDown:M,handleMouseMove:C,handleSortClick:P,handleMouseOut:A,store:O,$parent:R}=this;let N=1;return jt("thead",{class:{[i.is("group")]:o}},l.map((z,T)=>jt("tr",{class:p(T),key:T,style:g(T)},z.map((_,I)=>(_.rowSpan>N&&(N=_.rowSpan),jt("th",{class:d(T,I,z,_),colspan:_.colSpan,key:`${_.id}-thead`,rowspan:_.rowSpan,style:c(T,I,z,_),onClick:K=>{K.currentTarget.classList.contains("noclick")||b(K,_)},onContextmenu:K=>w(K,_),onMousedown:K=>M(K,_),onMousemove:K=>C(K,_),onMouseout:A},[jt("div",{class:["cell",_.filteredValue&&_.filteredValue.length>0?"highlight":""]},[_.renderHeader?_.renderHeader({column:_,$index:I,store:O,_self:R}):_.label,_.sortable&&jt("span",{onClick:K=>P(K,_),class:"caret-wrapper"},[jt("i",{onClick:K=>P(K,_,"ascending"),class:"sort-caret ascending"}),jt("i",{onClick:K=>P(K,_,"descending"),class:"sort-caret descending"})]),_.filterable&&jt(hY,{store:O,placement:_.filterPlacement||"bottom-start",column:_,upDataColumn:(K,B)=>{_[K]=B}})])]))))))}});function Ep(i,o,l=.01){return i-o>l}function mY(i){const o=Tt(cr),l=ne(""),c=ne(jt("div")),d=(R,N,z)=>{var T;const _=o,I=Lp(R);let K;const B=(T=_==null?void 0:_.vnode.el)==null?void 0:T.dataset.prefix;I&&(K=j1({columns:i.store.states.columns.value},I,B),K&&(_==null||_.emit(`cell-${z}`,N,K,I,R))),_==null||_.emit(`row-${z}`,N,K,R)},p=(R,N)=>{d(R,N,"dblclick")},g=(R,N)=>{i.store.commit("setCurrentRow",N),d(R,N,"click")},b=(R,N)=>{d(R,N,"contextmenu")},w=Ks(R=>{i.store.commit("setHoverRow",R)},30),M=Ks(()=>{i.store.commit("setHoverRow",null)},30),C=R=>{const N=window.getComputedStyle(R,null),z=Number.parseInt(N.paddingLeft,10)||0,T=Number.parseInt(N.paddingRight,10)||0,_=Number.parseInt(N.paddingTop,10)||0,I=Number.parseInt(N.paddingBottom,10)||0;return{left:z,right:T,top:_,bottom:I}},P=(R,N,z)=>{let T=N.target.parentNode;for(;R>1&&(T=T==null?void 0:T.nextSibling,!(!T||T.nodeName!=="TR"));)z(T,"hover-row hover-fixed-row"),R--};return{handleDoubleClick:p,handleClick:g,handleContextMenu:b,handleMouseEnter:w,handleMouseLeave:M,handleCellMouseEnter:(R,N,z)=>{var T;const _=o,I=Lp(R),K=(T=_==null?void 0:_.vnode.el)==null?void 0:T.dataset.prefix;if(I){const te=j1({columns:i.store.states.columns.value},I,K);I.rowSpan>1&&P(I.rowSpan,R,mo);const ue=_.hoverState={cell:I,column:te,row:N};_==null||_.emit("cell-mouse-enter",ue.row,ue.column,ue.cell,R)}if(!z)return;const B=R.target.querySelector(".cell");if(!(bo(B,`${K}-tooltip`)&&B.childNodes.length))return;const G=document.createRange();G.setStart(B,0),G.setEnd(B,B.childNodes.length);let{width:$,height:J}=G.getBoundingClientRect();const ee=$-Math.floor($),{width:Q,height:X}=B.getBoundingClientRect();ee<.001&&($=Math.floor($)),J-Math.floor(J)<.001&&(J=Math.floor(J));const{top:de,left:ve,right:me,bottom:ae}=C(B),ie=ve+me,re=de+ae;(Ep($+ie,Q)||Ep(J+re,X)||Ep(B.scrollWidth,Q))&&YU(z,I.innerText||I.textContent,I,_)},handleCellMouseLeave:R=>{const N=Lp(R);if(!N)return;N.rowSpan>1&&P(N.rowSpan,R,xs);const z=o==null?void 0:o.hoverState;o==null||o.emit("cell-mouse-leave",z==null?void 0:z.row,z==null?void 0:z.column,z==null?void 0:z.cell,R)},tooltipContent:l,tooltipTrigger:c}}function vY(i){const o=Tt(cr),l=Qe("table");return{getRowStyle:(M,C)=>{const P=o==null?void 0:o.props.rowStyle;return typeof P=="function"?P.call(null,{row:M,rowIndex:C}):P||null},getRowClass:(M,C)=>{const P=[l.e("row")];o!=null&&o.props.highlightCurrentRow&&M===i.store.states.currentRow.value&&P.push("current-row"),i.stripe&&C%2===1&&P.push(l.em("row","striped"));const A=o==null?void 0:o.props.rowClassName;return typeof A=="string"?P.push(A):typeof A=="function"&&P.push(A.call(null,{row:M,rowIndex:C})),P},getCellStyle:(M,C,P,A)=>{const O=o==null?void 0:o.props.cellStyle;let R=O??{};typeof O=="function"&&(R=O.call(null,{rowIndex:M,columnIndex:C,row:P,column:A}));const N=Z0(C,i==null?void 0:i.fixed,i.store);return du(N,"left"),du(N,"right"),Object.assign({},R,N)},getCellClass:(M,C,P,A,O)=>{const R=X0(l.b(),C,i==null?void 0:i.fixed,i.store,void 0,O),N=[A.id,A.align,A.className,...R],z=o==null?void 0:o.props.cellClassName;return typeof z=="string"?N.push(z):typeof z=="function"&&N.push(z.call(null,{rowIndex:M,columnIndex:C,row:P,column:A})),N.push(l.e("cell")),N.filter(T=>!!T).join(" ")},getSpan:(M,C,P,A)=>{let O=1,R=1;const N=o==null?void 0:o.props.spanMethod;if(typeof N=="function"){const z=N({row:M,column:C,rowIndex:P,columnIndex:A});Array.isArray(z)?(O=z[0],R=z[1]):typeof z=="object"&&(O=z.rowspan,R=z.colspan)}return{rowspan:O,colspan:R}},getColspanRealWidth:(M,C,P)=>{if(C<1)return M[P].realWidth;const A=M.map(({realWidth:O,width:R})=>O||R).slice(P,P+C);return Number(A.reduce((O,R)=>Number(O)+Number(R),-1))}}}function yY(i){const o=Tt(cr),l=Qe("table"),{handleDoubleClick:c,handleClick:d,handleContextMenu:p,handleMouseEnter:g,handleMouseLeave:b,handleCellMouseEnter:w,handleCellMouseLeave:M,tooltipContent:C,tooltipTrigger:P}=mY(i),{getRowStyle:A,getRowClass:O,getCellStyle:R,getCellClass:N,getSpan:z,getColspanRealWidth:T}=vY(i),_=j(()=>i.store.states.columns.value.findIndex(({type:$})=>$==="default")),I=($,J)=>{const ee=o.props.rowKey;return ee?ls($,ee):J},K=($,J,ee,Q=!1)=>{const{tooltipEffect:X,tooltipOptions:se,store:de}=i,{indent:ve,columns:me}=de.states,ae=O($,J);let ie=!0;return ee&&(ae.push(l.em("row",`level-${ee.level}`)),ie=ee.display),jt("tr",{style:[ie?null:{display:"none"},A($,J)],class:ae,key:I($,J),onDblclick:te=>c(te,$),onClick:te=>d(te,$),onContextmenu:te=>p(te,$),onMouseenter:()=>g(J),onMouseleave:b},me.value.map((te,ue)=>{const{rowspan:be,colspan:Ce}=z($,te,J,ue);if(!be||!Ce)return null;const Ne=Object.assign({},te);Ne.realWidth=T(me.value,Ce,ue);const Be={store:i.store,_self:i.context||o,column:Ne,row:$,$index:J,cellIndex:ue,expanded:Q};ue===_.value&&ee&&(Be.treeNode={indent:ee.level*ve.value,level:ee.level},typeof ee.expanded=="boolean"&&(Be.treeNode.expanded=ee.expanded,"loading"in ee&&(Be.treeNode.loading=ee.loading),"noLazyChildren"in ee&&(Be.treeNode.noLazyChildren=ee.noLazyChildren)));const tt=`${I($,J)},${ue}`,Le=Ne.columnKey||Ne.rawColumnKey||"",_e=B(ue,te,Be),Fe=te.showOverflowTooltip&&h3({effect:X},se,te.showOverflowTooltip);return jt("td",{style:R(J,ue,$,te),class:N(J,ue,$,te,Ce-1),key:`${Le}${tt}`,rowspan:be,colspan:Ce,onMouseenter:gt=>w(gt,$,Fe),onMouseleave:M},[_e])}))},B=($,J,ee)=>J.renderCell(ee);return{wrappedRowRender:($,J)=>{const ee=i.store,{isRowExpanded:Q,assertRowKey:X}=ee,{treeData:se,lazyTreeNodeMap:de,childrenColumnName:ve,rowKey:me}=ee.states,ae=ee.states.columns.value;if(ae.some(({type:re})=>re==="expand")){const re=Q($),te=K($,J,void 0,re),ue=o.renderExpanded;return re?ue?[[te,jt("tr",{key:`expanded-row__${te.key}`},[jt("td",{colspan:ae.length,class:`${l.e("cell")} ${l.e("expanded-cell")}`},[ue({row:$,$index:J,store:ee,expanded:re})])])]]:(console.error("[Element Error]renderExpanded is required."),te):[[te]]}else if(Object.keys(se.value).length){X();const re=ls($,me.value);let te=se.value[re],ue=null;te&&(ue={expanded:te.expanded,level:te.level,display:!0},typeof te.lazy=="boolean"&&(typeof te.loaded=="boolean"&&te.loaded&&(ue.noLazyChildren=!(te.children&&te.children.length)),ue.loading=te.loading));const be=[K($,J,ue)];if(te){let Ce=0;const Ne=(tt,Le)=>{tt&&tt.length&&Le&&tt.forEach(_e=>{const Fe={display:Le.display&&Le.expanded,level:Le.level+1,expanded:!1,noLazyChildren:!1,loading:!1},gt=ls(_e,me.value);if(gt==null)throw new Error("For nested data item, row-key is required.");if(te={...se.value[gt]},te&&(Fe.expanded=te.expanded,te.level=te.level||Fe.level,te.display=!!(te.expanded&&Fe.display),typeof te.lazy=="boolean"&&(typeof te.loaded=="boolean"&&te.loaded&&(Fe.noLazyChildren=!(te.children&&te.children.length)),Fe.loading=te.loading)),Ce++,be.push(K(_e,J+Ce,Fe)),te){const Ye=de.value[gt]||_e[ve.value];Ne(Ye,te)}})};te.display=!0;const Be=de.value[re]||$[ve.value];Ne(Be,te)}return be}else return K($,J,void 0)},tooltipContent:C,tooltipTrigger:P}}const bY={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var wY=xe({name:"ElTableBody",props:bY,setup(i){const o=pn(),l=Tt(cr),c=Qe("table"),{wrappedRowRender:d,tooltipContent:p,tooltipTrigger:g}=yY(i),{onColumnsChange:b,onScrollableChange:w}=zC(l),M=[];return Ue(i.store.states.hoverRow,(C,P)=>{var A;const O=o==null?void 0:o.vnode.el,R=Array.from((O==null?void 0:O.children)||[]).filter(T=>T==null?void 0:T.classList.contains(`${c.e("row")}`));let N=C;const z=(A=R[N])==null?void 0:A.childNodes;if(z!=null&&z.length){let T=0;Array.from(z).reduce((I,K,B)=>{var G,$;return((G=z[B])==null?void 0:G.colSpan)>1&&(T=($=z[B])==null?void 0:$.colSpan),K.nodeName!=="TD"&&T===0&&I.push(B),T>0&&T--,I},[]).forEach(I=>{var K;for(N=C;N>0;){const B=(K=R[N-1])==null?void 0:K.childNodes;if(B[I]&&B[I].nodeName==="TD"&&B[I].rowSpan>1){mo(B[I],"hover-cell"),M.push(B[I]);break}N--}})}else M.forEach(T=>xs(T,"hover-cell")),M.length=0;!i.store.states.isComplex.value||!In||ya(()=>{const T=R[P],_=R[C];T&&!T.classList.contains("hover-fixed-row")&&xs(T,"hover-row"),_&&mo(_,"hover-row")})}),Ma(()=>{var C;(C=ho)==null||C()}),{ns:c,onColumnsChange:b,onScrollableChange:w,wrappedRowRender:d,tooltipContent:p,tooltipTrigger:g}},render(){const{wrappedRowRender:i,store:o}=this,l=o.states.data.value||[];return jt("tbody",{tabIndex:-1},[l.reduce((c,d)=>c.concat(i(d,c.length)),[])])}});function xY(){const i=Tt(cr),o=i==null?void 0:i.store,l=j(()=>o.states.fixedLeafColumnsLength.value),c=j(()=>o.states.rightFixedColumns.value.length),d=j(()=>o.states.columns.value.length),p=j(()=>o.states.fixedColumns.value.length),g=j(()=>o.states.rightFixedColumns.value.length);return{leftFixedLeafCount:l,rightFixedLeafCount:c,columnsCount:d,leftFixedCount:p,rightFixedCount:g,columns:o.states.columns}}function SY(i){const{columns:o}=xY(),l=Qe("table");return{getCellClasses:(p,g)=>{const b=p[g],w=[l.e("cell"),b.id,b.align,b.labelClassName,...X0(l.b(),g,b.fixed,i.store)];return b.className&&w.push(b.className),b.children||w.push(l.is("leaf")),w},getCellStyles:(p,g)=>{const b=Z0(g,p.fixed,i.store);return du(b,"left"),du(b,"right"),b},columns:o}}var kY=xe({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(i){const{getCellClasses:o,getCellStyles:l,columns:c}=SY(i);return{ns:Qe("table"),getCellClasses:o,getCellStyles:l,columns:c}},render(){const{columns:i,getCellStyles:o,getCellClasses:l,summaryMethod:c,sumText:d}=this,p=this.store.states.data.value;let g=[];return c?g=c({columns:i,data:p}):i.forEach((b,w)=>{if(w===0){g[w]=d;return}const M=p.map(O=>Number(O[b.property])),C=[];let P=!0;M.forEach(O=>{if(!Number.isNaN(+O)){P=!1;const R=`${O}`.split(".")[1];C.push(R?R.length:0)}});const A=Math.max.apply(null,C);P?g[w]="":g[w]=M.reduce((O,R)=>{const N=Number(R);return Number.isNaN(+N)?O:Number.parseFloat((O+R).toFixed(Math.min(A,20)))},0)}),jt(jt("tfoot",[jt("tr",{},[...i.map((b,w)=>jt("td",{key:w,colspan:b.colSpan,rowspan:b.rowSpan,class:l(i,w),style:o(b,w)},[jt("div",{class:["cell",b.labelClassName]},[g[w]])]))])]))}});function CY(i){return{setCurrentRow:C=>{i.commit("setCurrentRow",C)},getSelectionRows:()=>i.getSelectionRows(),toggleRowSelection:(C,P)=>{i.toggleRowSelection(C,P,!1),i.updateAllSelected()},clearSelection:()=>{i.clearSelection()},clearFilter:C=>{i.clearFilter(C)},toggleAllSelection:()=>{i.commit("toggleAllSelection")},toggleRowExpansion:(C,P)=>{i.toggleRowExpansionAdapter(C,P)},clearSort:()=>{i.clearSort()},sort:(C,P)=>{i.commit("sort",{prop:C,order:P})}}}function MY(i,o,l,c){const d=ne(!1),p=ne(null),g=ne(!1),b=te=>{g.value=te},w=ne({width:null,height:null,headerHeight:null}),M=ne(!1),C={display:"inline-block",verticalAlign:"middle"},P=ne(),A=ne(0),O=ne(0),R=ne(0),N=ne(0),z=ne(0);us(()=>{o.setHeight(i.height)}),us(()=>{o.setMaxHeight(i.maxHeight)}),Ue(()=>[i.currentRowKey,l.states.rowKey],([te,ue])=>{!v(ue)||!v(te)||l.setCurrentRowKey(`${te}`)},{immediate:!0}),Ue(()=>i.data,te=>{c.store.commit("setData",te)},{immediate:!0,deep:!0}),us(()=>{i.expandRowKeys&&l.setExpandRowKeysAdapter(i.expandRowKeys)});const T=()=>{c.store.commit("setHoverRow",null),c.hoverState&&(c.hoverState=null)},_=(te,ue)=>{const{pixelX:be,pixelY:Ce}=ue;Math.abs(be)>=Math.abs(Ce)&&(c.refs.bodyWrapper.scrollLeft+=ue.pixelX/5)},I=j(()=>i.height||i.maxHeight||l.states.fixedColumns.value.length>0||l.states.rightFixedColumns.value.length>0),K=j(()=>({width:o.bodyWidth.value?`${o.bodyWidth.value}px`:""})),B=()=>{I.value&&o.updateElsHeight(),o.updateColumnsWidth(),requestAnimationFrame(ee)};un(async()=>{await Kt(),l.updateColumns(),Q(),requestAnimationFrame(B);const te=c.vnode.el,ue=c.refs.headerWrapper;i.flexible&&te&&te.parentElement&&(te.parentElement.style.minWidth="0"),w.value={width:P.value=te.offsetWidth,height:te.offsetHeight,headerHeight:i.showHeader&&ue?ue.offsetHeight:null},l.states.columns.value.forEach(be=>{be.filteredValue&&be.filteredValue.length&&c.store.commit("filterChange",{column:be,values:be.filteredValue,silent:!0})}),c.$ready=!0});const G=(te,ue)=>{if(!te)return;const be=Array.from(te.classList).filter(Ce=>!Ce.startsWith("is-scrolling-"));be.push(o.scrollX.value?ue:"is-scrolling-none"),te.className=be.join(" ")},$=te=>{const{tableWrapper:ue}=c.refs;G(ue,te)},J=te=>{const{tableWrapper:ue}=c.refs;return!!(ue&&ue.classList.contains(te))},ee=function(){if(!c.refs.scrollBarRef)return;if(!o.scrollX.value){const Le="is-scrolling-none";J(Le)||$(Le);return}const te=c.refs.scrollBarRef.wrapRef;if(!te)return;const{scrollLeft:ue,offsetWidth:be,scrollWidth:Ce}=te,{headerWrapper:Ne,footerWrapper:Be}=c.refs;Ne&&(Ne.scrollLeft=ue),Be&&(Be.scrollLeft=ue);const tt=Ce-be-1;ue>=tt?$("is-scrolling-right"):$(ue===0?"is-scrolling-left":"is-scrolling-middle")},Q=()=>{c.refs.scrollBarRef&&(c.refs.scrollBarRef.wrapRef&&ii(c.refs.scrollBarRef.wrapRef,"scroll",ee,{passive:!0}),i.fit?fi(c.vnode.el,X):ii(window,"resize",X),fi(c.refs.bodyWrapper,()=>{var te,ue;X(),(ue=(te=c.refs)==null?void 0:te.scrollBarRef)==null||ue.update()}))},X=()=>{var te,ue,be,Ce;const Ne=c.vnode.el;if(!c.$ready||!Ne)return;let Be=!1;const{width:tt,height:Le,headerHeight:_e}=w.value,Fe=P.value=Ne.offsetWidth;tt!==Fe&&(Be=!0);const gt=Ne.offsetHeight;(i.height||I.value)&&Le!==gt&&(Be=!0);const Ye=i.tableLayout==="fixed"?c.refs.headerWrapper:(te=c.refs.tableHeaderRef)==null?void 0:te.$el;i.showHeader&&(Ye==null?void 0:Ye.offsetHeight)!==_e&&(Be=!0),A.value=((ue=c.refs.tableWrapper)==null?void 0:ue.scrollHeight)||0,R.value=(Ye==null?void 0:Ye.scrollHeight)||0,N.value=((be=c.refs.footerWrapper)==null?void 0:be.offsetHeight)||0,z.value=((Ce=c.refs.appendWrapper)==null?void 0:Ce.offsetHeight)||0,O.value=A.value-R.value-N.value-z.value,Be&&(w.value={width:Fe,height:gt,headerHeight:i.showHeader&&(Ye==null?void 0:Ye.offsetHeight)||0},B())},se=$i(),de=j(()=>{const{bodyWidth:te,scrollY:ue,gutterWidth:be}=o;return te.value?`${te.value-(ue.value?be:0)}px`:""}),ve=j(()=>i.maxHeight?"fixed":i.tableLayout),me=j(()=>{if(i.data&&i.data.length)return null;let te="100%";i.height&&O.value&&(te=`${O.value}px`);const ue=P.value;return{width:ue?`${ue}px`:"",height:te}}),ae=j(()=>i.height?{height:Number.isNaN(Number(i.height))?i.height:`${i.height}px`}:i.maxHeight?{maxHeight:Number.isNaN(Number(i.maxHeight))?i.maxHeight:`${i.maxHeight}px`}:{}),ie=j(()=>i.height?{height:"100%"}:i.maxHeight?Number.isNaN(Number(i.maxHeight))?{maxHeight:`calc(${i.maxHeight} - ${R.value+N.value}px)`}:{maxHeight:`${i.maxHeight-R.value-N.value}px`}:{});return{isHidden:d,renderExpanded:p,setDragVisible:b,isGroup:M,handleMouseLeave:T,handleHeaderFooterMousewheel:_,tableSize:se,emptyBlockStyle:me,handleFixedMousewheel:(te,ue)=>{const be=c.refs.bodyWrapper;if(Math.abs(ue.spinY)>0){const Ce=be.scrollTop;ue.pixelY<0&&Ce!==0&&te.preventDefault(),ue.pixelY>0&&be.scrollHeight-be.clientHeight>Ce&&te.preventDefault(),be.scrollTop+=Math.ceil(ue.pixelY/5)}else be.scrollLeft+=Math.ceil(ue.pixelX/5)},resizeProxyVisible:g,bodyWidth:de,resizeState:w,doLayout:B,tableBodyStyles:K,tableLayout:ve,scrollbarViewStyle:C,tableInnerStyle:ae,scrollbarStyle:ie}}function PY(i){const o=ne(),l=()=>{const d=i.vnode.el.querySelector(".hidden-columns"),p={childList:!0,subtree:!0},g=i.store.states.updateOrderFns;o.value=new MutationObserver(()=>{g.forEach(b=>b())}),o.value.observe(d,p)};un(()=>{l()}),Ma(()=>{var c;(c=o.value)==null||c.disconnect()})}var TY={data:{type:Array,default:()=>[]},size:ji,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function HC(i){const o=i.tableLayout==="auto";let l=i.columns||[];o&&l.every(d=>d.width===void 0)&&(l=[]);const c=d=>{const p={key:`${i.tableLayout}_${d.id}`,style:{},name:void 0};return o?p.style={width:`${d.width}px`}:p.name=d.id,p};return jt("colgroup",{},l.map(d=>jt("col",c(d))))}HC.props=["columns","tableLayout"];const NY=()=>{const i=ne(),o=(p,g)=>{const b=i.value;b&&b.scrollTo(p,g)},l=(p,g)=>{const b=i.value;b&&Yt(g)&&["Top","Left"].includes(p)&&b[`setScroll${p}`](g)};return{scrollBarRef:i,scrollTo:o,setScrollTop:p=>l("Top",p),setScrollLeft:p=>l("Left",p)}};let AY=1;const LY=xe({name:"ElTable",directives:{Mousewheel:g8},components:{TableHeader:gY,TableBody:wY,TableFooter:kY,ElScrollbar:$r,hColgroup:HC},props:TY,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(i){const{t:o}=Bn(),l=Qe("table"),c=pn();En(cr,c);const d=nY(c,i);c.store=d;const p=new sY({store:c.store,table:c,fit:i.fit,showHeader:i.showHeader});c.layout=p;const g=j(()=>(d.states.data.value||[]).length===0),{setCurrentRow:b,getSelectionRows:w,toggleRowSelection:M,clearSelection:C,clearFilter:P,toggleAllSelection:A,toggleRowExpansion:O,clearSort:R,sort:N}=CY(d),{isHidden:z,renderExpanded:T,setDragVisible:_,isGroup:I,handleMouseLeave:K,handleHeaderFooterMousewheel:B,tableSize:G,emptyBlockStyle:$,handleFixedMousewheel:J,resizeProxyVisible:ee,bodyWidth:Q,resizeState:X,doLayout:se,tableBodyStyles:de,tableLayout:ve,scrollbarViewStyle:me,tableInnerStyle:ae,scrollbarStyle:ie}=MY(i,p,d,c),{scrollBarRef:re,scrollTo:te,setScrollLeft:ue,setScrollTop:be}=NY(),Ce=Ks(se,50),Ne=`${l.namespace.value}-table_${AY++}`;c.tableId=Ne,c.state={isGroup:I,resizeState:X,doLayout:se,debouncedUpdateLayout:Ce};const Be=j(()=>i.sumText||o("el.table.sumText")),tt=j(()=>i.emptyText||o("el.table.emptyText")),Le=j(()=>KC(d.states.originColumns.value)[0]);return PY(c),{ns:l,layout:p,store:d,columns:Le,handleHeaderFooterMousewheel:B,handleMouseLeave:K,tableId:Ne,tableSize:G,isHidden:z,isEmpty:g,renderExpanded:T,resizeProxyVisible:ee,resizeState:X,isGroup:I,bodyWidth:Q,tableBodyStyles:de,emptyBlockStyle:$,debouncedUpdateLayout:Ce,handleFixedMousewheel:J,setCurrentRow:b,getSelectionRows:w,toggleRowSelection:M,clearSelection:C,clearFilter:P,toggleAllSelection:A,toggleRowExpansion:O,clearSort:R,doLayout:se,sort:N,t:o,setDragVisible:_,context:c,computedSumText:Be,computedEmptyText:tt,tableLayout:ve,scrollbarViewStyle:me,tableInnerStyle:ae,scrollbarStyle:ie,scrollBarRef:re,scrollTo:te,setScrollLeft:ue,setScrollTop:be}}}),EY=["data-prefix"],DY={ref:"hiddenColumns",class:"hidden-columns"};function OY(i,o,l,c,d,p){const g=fn("hColgroup"),b=fn("table-header"),w=fn("table-body"),M=fn("table-footer"),C=fn("el-scrollbar"),P=jd("mousewheel");return Y(),fe("div",{ref:"tableWrapper",class:Z([{[i.ns.m("fit")]:i.fit,[i.ns.m("striped")]:i.stripe,[i.ns.m("border")]:i.border||i.isGroup,[i.ns.m("hidden")]:i.isHidden,[i.ns.m("group")]:i.isGroup,[i.ns.m("fluid-height")]:i.maxHeight,[i.ns.m("scrollable-x")]:i.layout.scrollX.value,[i.ns.m("scrollable-y")]:i.layout.scrollY.value,[i.ns.m("enable-row-hover")]:!i.store.states.isComplex.value,[i.ns.m("enable-row-transition")]:(i.store.states.data.value||[]).length!==0&&(i.store.states.data.value||[]).length<100,"has-footer":i.showSummary},i.ns.m(i.tableSize),i.className,i.ns.b(),i.ns.m(`layout-${i.tableLayout}`)]),style:Ft(i.style),"data-prefix":i.ns.namespace.value,onMouseleave:o[0]||(o[0]=(...A)=>i.handleMouseLeave&&i.handleMouseLeave(...A))},[pe("div",{class:Z(i.ns.e("inner-wrapper")),style:Ft(i.tableInnerStyle)},[pe("div",DY,[ze(i.$slots,"default")],512),i.showHeader&&i.tableLayout==="fixed"?ln((Y(),fe("div",{key:0,ref:"headerWrapper",class:Z(i.ns.e("header-wrapper"))},[pe("table",{ref:"tableHeader",class:Z(i.ns.e("header")),style:Ft(i.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ye(g,{columns:i.store.states.columns.value,"table-layout":i.tableLayout},null,8,["columns","table-layout"]),ye(b,{ref:"tableHeaderRef",border:i.border,"default-sort":i.defaultSort,store:i.store,onSetDragVisible:i.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[P,i.handleHeaderFooterMousewheel]]):De("v-if",!0),pe("div",{ref:"bodyWrapper",class:Z(i.ns.e("body-wrapper"))},[ye(C,{ref:"scrollBarRef","view-style":i.scrollbarViewStyle,"wrap-style":i.scrollbarStyle,always:i.scrollbarAlwaysOn},{default:Te(()=>[pe("table",{ref:"tableBody",class:Z(i.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Ft({width:i.bodyWidth,tableLayout:i.tableLayout})},[ye(g,{columns:i.store.states.columns.value,"table-layout":i.tableLayout},null,8,["columns","table-layout"]),i.showHeader&&i.tableLayout==="auto"?(Y(),Ie(b,{key:0,ref:"tableHeaderRef",class:Z(i.ns.e("body-header")),border:i.border,"default-sort":i.defaultSort,store:i.store,onSetDragVisible:i.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):De("v-if",!0),ye(w,{context:i.context,highlight:i.highlightCurrentRow,"row-class-name":i.rowClassName,"tooltip-effect":i.tooltipEffect,"tooltip-options":i.tooltipOptions,"row-style":i.rowStyle,store:i.store,stripe:i.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),i.showSummary&&i.tableLayout==="auto"?(Y(),Ie(M,{key:1,class:Z(i.ns.e("body-footer")),border:i.border,"default-sort":i.defaultSort,store:i.store,"sum-text":i.computedSumText,"summary-method":i.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):De("v-if",!0)],6),i.isEmpty?(Y(),fe("div",{key:0,ref:"emptyBlock",style:Ft(i.emptyBlockStyle),class:Z(i.ns.e("empty-block"))},[pe("span",{class:Z(i.ns.e("empty-text"))},[ze(i.$slots,"empty",{},()=>[Tn(dt(i.computedEmptyText),1)])],2)],6)):De("v-if",!0),i.$slots.append?(Y(),fe("div",{key:1,ref:"appendWrapper",class:Z(i.ns.e("append-wrapper"))},[ze(i.$slots,"append")],2)):De("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),i.showSummary&&i.tableLayout==="fixed"?ln((Y(),fe("div",{key:1,ref:"footerWrapper",class:Z(i.ns.e("footer-wrapper"))},[pe("table",{class:Z(i.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Ft(i.tableBodyStyles)},[ye(g,{columns:i.store.states.columns.value,"table-layout":i.tableLayout},null,8,["columns","table-layout"]),ye(M,{border:i.border,"default-sort":i.defaultSort,store:i.store,"sum-text":i.computedSumText,"summary-method":i.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[$n,!i.isEmpty],[P,i.handleHeaderFooterMousewheel]]):De("v-if",!0),i.border||i.isGroup?(Y(),fe("div",{key:2,class:Z(i.ns.e("border-left-patch"))},null,2)):De("v-if",!0)],6),ln(pe("div",{ref:"resizeProxy",class:Z(i.ns.e("column-resize-proxy"))},null,2),[[$n,i.resizeProxyVisible]])],46,EY)}var RY=ct(LY,[["render",OY],["__file","table.vue"]]);const IY={selection:"table-column--selection",expand:"table__expand-column"},FY={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},BY=i=>IY[i]||"",$Y={selection:{renderHeader({store:i,column:o}){function l(){return i.states.data.value&&i.states.data.value.length===0}return jt(Po,{disabled:l(),size:i.states.tableSize.value,indeterminate:i.states.selection.value.length>0&&!i.states.isAllSelected.value,"onUpdate:modelValue":i.toggleAllSelection,modelValue:i.states.isAllSelected.value,ariaLabel:o.label})},renderCell({row:i,column:o,store:l,$index:c}){return jt(Po,{disabled:o.selectable?!o.selectable.call(null,i,c):!1,size:l.states.tableSize.value,onChange:()=>{l.commit("rowSelectedChanged",i)},onClick:d=>d.stopPropagation(),modelValue:l.isSelected(i),ariaLabel:o.label})},sortable:!1,resizable:!1},index:{renderHeader({column:i}){return i.label||"#"},renderCell({column:i,$index:o}){let l=o+1;const c=i.index;return typeof c=="number"?l=o+c:typeof c=="function"&&(l=c(o)),jt("div",{},[l])},sortable:!1},expand:{renderHeader({column:i}){return i.label||""},renderCell({row:i,store:o,expanded:l}){const{ns:c}=o,d=[c.e("expand-icon")];return l&&d.push(c.em("expand-icon","expanded")),jt("div",{class:d,onClick:function(g){g.stopPropagation(),o.toggleRowExpansion(i)}},{default:()=>[jt(Et,null,{default:()=>[jt(Ts)]})]})},sortable:!1,resizable:!1}};function VY({row:i,column:o,$index:l}){var c;const d=o.property,p=d&&Bh(i,d).value;return o&&o.formatter?o.formatter(i,o,p,l):((c=p==null?void 0:p.toString)==null?void 0:c.call(p))||""}function zY({row:i,treeNode:o,store:l},c=!1){const{ns:d}=l;if(!o)return c?[jt("span",{class:d.e("placeholder")})]:null;const p=[],g=function(b){b.stopPropagation(),!o.loading&&l.loadOrToggle(i)};if(o.indent&&p.push(jt("span",{class:d.e("indent"),style:{"padding-left":`${o.indent}px`}})),typeof o.expanded=="boolean"&&!o.noLazyChildren){const b=[d.e("expand-icon"),o.expanded?d.em("expand-icon","expanded"):""];let w=Ts;o.loading&&(w=Na),p.push(jt("div",{class:b,onClick:g},{default:()=>[jt(Et,{class:{[d.is("loading")]:o.loading}},{default:()=>[jt(w)]})]}))}else p.push(jt("span",{class:d.e("placeholder")}));return p}function W1(i,o){return i.reduce((l,c)=>(l[c]=c,l),o)}function _Y(i,o){const l=pn();return{registerComplexWatchers:()=>{const p=["fixed"],g={realWidth:"width",realMinWidth:"minWidth"},b=W1(p,g);Object.keys(b).forEach(w=>{const M=g[w];Fn(o,M)&&Ue(()=>o[M],C=>{let P=C;M==="width"&&w==="realWidth"&&(P=Y0(C)),M==="minWidth"&&w==="realMinWidth"&&(P=IC(C)),l.columnConfig.value[M]=P,l.columnConfig.value[w]=P;const A=M==="fixed";i.value.store.scheduleLayout(A)})})},registerNormalWatchers:()=>{const p=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],g={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},b=W1(p,g);Object.keys(b).forEach(w=>{const M=g[w];Fn(o,M)&&Ue(()=>o[M],C=>{l.columnConfig.value[w]=C})})}}}function KY(i,o,l){const c=pn(),d=ne(""),p=ne(!1),g=ne(),b=ne(),w=Qe("table");us(()=>{g.value=i.align?`is-${i.align}`:null,g.value}),us(()=>{b.value=i.headerAlign?`is-${i.headerAlign}`:g.value,b.value});const M=j(()=>{let K=c.vnode.vParent||c.parent;for(;K&&!K.tableId&&!K.columnId;)K=K.vnode.vParent||K.parent;return K}),C=j(()=>{const{store:K}=c.parent;if(!K)return!1;const{treeData:B}=K.states,G=B.value;return G&&Object.keys(G).length>0}),P=ne(Y0(i.width)),A=ne(IC(i.minWidth)),O=K=>(P.value&&(K.width=P.value),A.value&&(K.minWidth=A.value),!P.value&&A.value&&(K.width=void 0),K.minWidth||(K.minWidth=80),K.realWidth=Number(K.width===void 0?K.minWidth:K.width),K),R=K=>{const B=K.type,G=$Y[B]||{};Object.keys(G).forEach(J=>{const ee=G[J];J!=="className"&&ee!==void 0&&(K[J]=ee)});const $=BY(B);if($){const J=`${v(w.namespace)}-${$}`;K.className=K.className?`${K.className} ${J}`:J}return K},N=K=>{Array.isArray(K)?K.forEach(G=>B(G)):B(K);function B(G){var $;(($=G==null?void 0:G.type)==null?void 0:$.name)==="ElTableColumn"&&(G.vParent=c)}};return{columnId:d,realAlign:g,isSubColumn:p,realHeaderAlign:b,columnOrTableParent:M,setColumnWidth:O,setColumnForcedProps:R,setColumnRenders:K=>{i.renderHeader||K.type!=="selection"&&(K.renderHeader=G=>(c.columnConfig.value.label,ze(o,"header",G,()=>[K.label])));let B=K.renderCell;return K.type==="expand"?(K.renderCell=G=>jt("div",{class:"cell"},[B(G)]),l.value.renderExpanded=G=>o.default?o.default(G):o.default):(B=B||VY,K.renderCell=G=>{let $=null;if(o.default){const de=o.default(G);$=de.some(ve=>ve.type!==rs)?de:B(G)}else $=B(G);const{columns:J}=l.value.store.states,ee=J.value.findIndex(de=>de.type==="default"),Q=C.value&&G.cellIndex===ee,X=zY(G,Q),se={class:"cell",style:{}};return K.showOverflowTooltip&&(se.class=`${se.class} ${v(w.namespace)}-tooltip`,se.style={width:`${(G.column.realWidth||Number(G.column.width))-1}px`}),N($),jt("div",se,[X,$])}),K},getPropsData:(...K)=>K.reduce((B,G)=>(Array.isArray(G)&&G.forEach($=>{B[$]=i[$]}),B),{}),getColumnElIndex:(K,B)=>Array.prototype.indexOf.call(K,B),updateColumnOrder:()=>{l.value.store.commit("updateColumnOrder",c.columnConfig.value)}}}var HY={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:i=>i.every(o=>["ascending","descending",null].includes(o))}};let jY=1;var jC=xe({name:"ElTableColumn",components:{ElCheckbox:Po},props:HY,setup(i,{slots:o}){const l=pn(),c=ne({}),d=j(()=>{let I=l.parent;for(;I&&!I.tableId;)I=I.parent;return I}),{registerNormalWatchers:p,registerComplexWatchers:g}=_Y(d,i),{columnId:b,isSubColumn:w,realHeaderAlign:M,columnOrTableParent:C,setColumnWidth:P,setColumnForcedProps:A,setColumnRenders:O,getPropsData:R,getColumnElIndex:N,realAlign:z,updateColumnOrder:T}=KY(i,o,d),_=C.value;b.value=`${_.tableId||_.columnId}_column_${jY++}`,Gd(()=>{w.value=d.value!==_;const I=i.type||"default",K=i.sortable===""?!0:i.sortable,B=Ri(i.showOverflowTooltip)?_.props.showOverflowTooltip:i.showOverflowTooltip,G={...FY[I],id:b.value,type:I,property:i.prop||i.property,align:z,headerAlign:M,showOverflowTooltip:B,filterable:i.filters||i.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:K,index:i.index,rawColumnKey:l.vnode.key};let X=R(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);X=qU(G,X),X=WU(O,P,A)(X),c.value=X,p(),g()}),un(()=>{var I;const K=C.value,B=w.value?K.vnode.el.children:(I=K.refs.hiddenColumns)==null?void 0:I.children,G=()=>N(B||[],l.vnode.el);c.value.getColumnIndex=G,G()>-1&&d.value.store.commit("insertColumn",c.value,w.value?K.columnConfig.value:null,T)}),ei(()=>{c.value.getColumnIndex()>-1&&d.value.store.commit("removeColumn",c.value,w.value?_.columnConfig.value:null,T)}),l.columnId=b.value,l.columnConfig=c},render(){var i,o,l;try{const c=(o=(i=this.$slots).default)==null?void 0:o.call(i,{row:{},column:{},$index:-1}),d=[];if(Array.isArray(c))for(const g of c)((l=g.type)==null?void 0:l.name)==="ElTableColumn"||g.shapeFlag&2?d.push(g):g.type===$t&&Array.isArray(g.children)&&g.children.forEach(b=>{(b==null?void 0:b.patchFlag)!==1024&&!tn(b==null?void 0:b.children)&&d.push(b)});return jt("div",d)}catch{return jt("div",[])}}});const qY=gn(RY,{TableColumn:jC}),GY=gi(jC);var Ac=(i=>(i.ASC="asc",i.DESC="desc",i))(Ac||{}),Lc=(i=>(i.CENTER="center",i.RIGHT="right",i))(Lc||{}),qC=(i=>(i.LEFT="left",i.RIGHT="right",i))(qC||{});const Gg={asc:"desc",desc:"asc"},Ec=Symbol("placeholder"),WY=(i,o,l)=>{var c;const d={flexGrow:0,flexShrink:0,...l?{}:{flexGrow:i.flexGrow||0,flexShrink:i.flexShrink||1}};l||(d.flexShrink=1);const p={...(c=i.style)!=null?c:{},...d,flexBasis:"auto",width:i.width};return o||(i.maxWidth&&(p.maxWidth=i.maxWidth),i.minWidth&&(p.minWidth=i.minWidth)),p};function UY(i,o,l){const c=j(()=>v(o).filter(N=>!N.hidden)),d=j(()=>v(c).filter(N=>N.fixed==="left"||N.fixed===!0)),p=j(()=>v(c).filter(N=>N.fixed==="right")),g=j(()=>v(c).filter(N=>!N.fixed)),b=j(()=>{const N=[];return v(d).forEach(z=>{N.push({...z,placeholderSign:Ec})}),v(g).forEach(z=>{N.push(z)}),v(p).forEach(z=>{N.push({...z,placeholderSign:Ec})}),N}),w=j(()=>v(d).length||v(p).length),M=j(()=>v(o).reduce((z,T)=>(z[T.key]=WY(T,v(l),i.fixed),z),{})),C=j(()=>v(c).reduce((N,z)=>N+z.width,0)),P=N=>v(o).find(z=>z.key===N),A=N=>v(M)[N],O=(N,z)=>{N.width=z};function R(N){var z;const{key:T}=N.currentTarget.dataset;if(!T)return;const{sortState:_,sortBy:I}=i;let K=Ac.ASC;yn(_)?K=Gg[_[T]]:K=Gg[I.order],(z=i.onColumnSort)==null||z.call(i,{column:P(T),key:T,order:K})}return{columns:o,columnsStyles:M,columnsTotalWidth:C,fixedColumnsOnLeft:d,fixedColumnsOnRight:p,hasFixedColumns:w,mainColumns:b,normalColumns:g,visibleColumns:c,getColumn:P,getColumnStyle:A,updateColumnWidth:O,onColumnSorted:R}}const YY=(i,{mainTableRef:o,leftTableRef:l,rightTableRef:c,onMaybeEndReached:d})=>{const p=ne({scrollLeft:0,scrollTop:0});function g(O){var R,N,z;const{scrollTop:T}=O;(R=o.value)==null||R.scrollTo(O),(N=l.value)==null||N.scrollToTop(T),(z=c.value)==null||z.scrollToTop(T)}function b(O){p.value=O,g(O)}function w(O){p.value.scrollTop=O,g(v(p))}function M(O){var R,N;p.value.scrollLeft=O,(N=(R=o.value)==null?void 0:R.scrollTo)==null||N.call(R,v(p))}function C(O){var R;b(O),(R=i.onScroll)==null||R.call(i,O)}function P({scrollTop:O}){const{scrollTop:R}=v(p);O!==R&&w(O)}function A(O,R="auto"){var N;(N=o.value)==null||N.scrollToRow(O,R)}return Ue(()=>v(p).scrollTop,(O,R)=>{O>R&&d()}),{scrollPos:p,scrollTo:b,scrollToLeft:M,scrollToTop:w,scrollToRow:A,onScroll:C,onVerticalScroll:P}},XY=(i,{mainTableRef:o,leftTableRef:l,rightTableRef:c,tableInstance:d,ns:p,isScrolling:g})=>{const b=pn(),{emit:w}=b,M=oi(!1),C=ne(i.defaultExpandedRowKeys||[]),P=ne(-1),A=oi(null),O=ne({}),R=ne({}),N=oi({}),z=oi({}),T=oi({}),_=j(()=>Yt(i.estimatedRowHeight));function I(Q){var X;(X=i.onRowsRendered)==null||X.call(i,Q),Q.rowCacheEnd>v(P)&&(P.value=Q.rowCacheEnd)}function K({hovered:Q,rowKey:X}){if(g.value)return;d.vnode.el.querySelectorAll(`[rowkey="${String(X)}"]`).forEach(ve=>{Q?ve.classList.add(p.is("hovered")):ve.classList.remove(p.is("hovered"))})}function B({expanded:Q,rowData:X,rowIndex:se,rowKey:de}){var ve,me;const ae=[...v(C)],ie=ae.indexOf(de);Q?ie===-1&&ae.push(de):ie>-1&&ae.splice(ie,1),C.value=ae,w("update:expandedRowKeys",ae),(ve=i.onRowExpand)==null||ve.call(i,{expanded:Q,rowData:X,rowIndex:se,rowKey:de}),(me=i.onExpandedRowsChange)==null||me.call(i,ae)}const G=Ks(()=>{var Q,X,se,de;M.value=!0,O.value={...v(O),...v(R)},$(v(A),!1),R.value={},A.value=null,(Q=o.value)==null||Q.forceUpdate(),(X=l.value)==null||X.forceUpdate(),(se=c.value)==null||se.forceUpdate(),(de=b.proxy)==null||de.$forceUpdate(),M.value=!1},0);function $(Q,X=!1){v(_)&&[o,l,c].forEach(se=>{const de=v(se);de&&de.resetAfterRowIndex(Q,X)})}function J(Q,X,se){const de=v(A);(de===null||de>se)&&(A.value=se),R.value[Q]=X}function ee({rowKey:Q,height:X,rowIndex:se},de){de?de===qC.RIGHT?T.value[Q]=X:N.value[Q]=X:z.value[Q]=X;const ve=Math.max(...[N,T,z].map(me=>me.value[Q]||0));v(O)[Q]!==ve&&(J(Q,ve,se),G())}return{expandedRowKeys:C,lastRenderedRowIndex:P,isDynamic:_,isResetting:M,rowHeights:O,resetAfterIndex:$,onRowExpanded:B,onRowHovered:K,onRowsRendered:I,onRowHeightChange:ee}},ZY=(i,{expandedRowKeys:o,lastRenderedRowIndex:l,resetAfterIndex:c})=>{const d=ne({}),p=j(()=>{const b={},{data:w,rowKey:M}=i,C=v(o);if(!C||!C.length)return w;const P=[],A=new Set;C.forEach(R=>A.add(R));let O=w.slice();for(O.forEach(R=>b[R[M]]=0);O.length>0;){const R=O.shift();P.push(R),A.has(R[M])&&Array.isArray(R.children)&&R.children.length>0&&(O=[...R.children,...O],R.children.forEach(N=>b[N[M]]=b[R[M]]+1))}return d.value=b,P}),g=j(()=>{const{data:b,expandColumnKey:w}=i;return w?v(p):b});return Ue(g,(b,w)=>{b!==w&&(l.value=-1,c(0,!0))}),{data:g,depthMap:d}},JY=(i,o)=>i+o,Jh=i=>St(i)?i.reduce(JY,0):i,ul=(i,o,l={})=>Xt(i)?i(o):i??l,ua=i=>(["width","maxWidth","minWidth","height"].forEach(o=>{i[o]=Si(i[o])}),i),GC=i=>li(i)?o=>jt(i,o):i,QY=(i,{columnsTotalWidth:o,data:l,fixedColumnsOnLeft:c,fixedColumnsOnRight:d})=>{const p=j(()=>{const{fixed:I,width:K,vScrollbarSize:B}=i,G=K-B;return I?Math.max(Math.round(v(o)),G):G}),g=j(()=>v(p)+i.vScrollbarSize),b=j(()=>{const{height:I=0,maxHeight:K=0,footerHeight:B,hScrollbarSize:G}=i;if(K>0){const $=v(R),J=v(w),Q=v(O)+$+J+G;return Math.min(Q,K-B)}return I-B}),w=j(()=>{const{rowHeight:I,estimatedRowHeight:K}=i,B=v(l);return Yt(K)?B.length*K:B.length*I}),M=j(()=>{const{maxHeight:I}=i,K=v(b);if(Yt(I)&&I>0)return K;const B=v(w)+v(O)+v(R);return Math.min(K,B)}),C=I=>I.width,P=j(()=>Jh(v(c).map(C))),A=j(()=>Jh(v(d).map(C))),O=j(()=>Jh(i.headerHeight)),R=j(()=>{var I;return(((I=i.fixedData)==null?void 0:I.length)||0)*i.rowHeight}),N=j(()=>v(b)-v(O)-v(R)),z=j(()=>{const{style:I={},height:K,width:B}=i;return ua({...I,height:K,width:B})}),T=j(()=>ua({height:i.footerHeight})),_=j(()=>({top:Si(v(O)),bottom:Si(i.footerHeight),width:Si(i.width)}));return{bodyWidth:p,fixedTableHeight:M,mainTableHeight:b,leftTableWidth:P,rightTableWidth:A,headerWidth:g,rowsHeight:w,windowHeight:N,footerHeight:T,emptyStyle:_,rootStyle:z,headerHeight:O}},e7=i=>{const o=ne(),l=ne(0),c=ne(0);let d;return un(()=>{d=fi(o,([p])=>{const{width:g,height:b}=p.contentRect,{paddingLeft:w,paddingRight:M,paddingTop:C,paddingBottom:P}=getComputedStyle(p.target),A=Number.parseInt(w)||0,O=Number.parseInt(M)||0,R=Number.parseInt(C)||0,N=Number.parseInt(P)||0;l.value=g-A-O,c.value=b-R-N}).stop}),ei(()=>{d==null||d()}),Ue([l,c],([p,g])=>{var b;(b=i.onResize)==null||b.call(i,{width:p,height:g})}),{sizer:o,width:l,height:c}};function t7(i){const o=ne(),l=ne(),c=ne(),{columns:d,columnsStyles:p,columnsTotalWidth:g,fixedColumnsOnLeft:b,fixedColumnsOnRight:w,hasFixedColumns:M,mainColumns:C,onColumnSorted:P}=UY(i,Gn(i,"columns"),Gn(i,"fixed")),{scrollTo:A,scrollToLeft:O,scrollToTop:R,scrollToRow:N,onScroll:z,onVerticalScroll:T,scrollPos:_}=YY(i,{mainTableRef:o,leftTableRef:l,rightTableRef:c,onMaybeEndReached:Me}),I=Qe("table-v2"),K=pn(),B=oi(!1),{expandedRowKeys:G,lastRenderedRowIndex:$,isDynamic:J,isResetting:ee,rowHeights:Q,resetAfterIndex:X,onRowExpanded:se,onRowHeightChange:de,onRowHovered:ve,onRowsRendered:me}=XY(i,{mainTableRef:o,leftTableRef:l,rightTableRef:c,tableInstance:K,ns:I,isScrolling:B}),{data:ae,depthMap:ie}=ZY(i,{expandedRowKeys:G,lastRenderedRowIndex:$,resetAfterIndex:X}),{bodyWidth:re,fixedTableHeight:te,mainTableHeight:ue,leftTableWidth:be,rightTableWidth:Ce,headerWidth:Ne,rowsHeight:Be,windowHeight:tt,footerHeight:Le,emptyStyle:_e,rootStyle:Fe,headerHeight:gt}=QY(i,{columnsTotalWidth:g,data:ae,fixedColumnsOnLeft:b,fixedColumnsOnRight:w}),Ye=ne(),Ze=j(()=>{const Ee=v(ae).length===0;return St(i.fixedData)?i.fixedData.length===0&&Ee:Ee});function mt(Ee){const{estimatedRowHeight:We,rowHeight:ot,rowKey:He}=i;return We?v(Q)[v(ae)[Ee][He]]||We:ot}function Me(){const{onEndReached:Ee}=i;if(!Ee)return;const{scrollTop:We}=v(_),ot=v(Be),He=v(tt),Je=ot-(We+He)+i.hScrollbarSize;v($)>=0&&ot===We+v(ue)-v(gt)&&Ee(Je)}return Ue(()=>i.expandedRowKeys,Ee=>G.value=Ee,{deep:!0}),{columns:d,containerRef:Ye,mainTableRef:o,leftTableRef:l,rightTableRef:c,isDynamic:J,isResetting:ee,isScrolling:B,hasFixedColumns:M,columnsStyles:p,columnsTotalWidth:g,data:ae,expandedRowKeys:G,depthMap:ie,fixedColumnsOnLeft:b,fixedColumnsOnRight:w,mainColumns:C,bodyWidth:re,emptyStyle:_e,rootStyle:Fe,headerWidth:Ne,footerHeight:Le,mainTableHeight:ue,fixedTableHeight:te,leftTableWidth:be,rightTableWidth:Ce,showEmpty:Ze,getRowHeight:mt,onColumnSorted:P,onRowHovered:ve,onRowExpanded:se,onRowsRendered:me,onRowHeightChange:de,scrollTo:A,scrollToLeft:O,scrollToTop:R,scrollToRow:N,onScroll:z,onVerticalScroll:T}}const J0=Symbol("tableV2"),WC=String,Xc={type:Ae(Array),required:!0},Q0={type:Ae(Array)},UC={...Q0,required:!0},n7=String,U1={type:Ae(Array),default:()=>pi([])},Ka={type:Number,required:!0},YC={type:Ae([String,Number,Symbol]),default:"id"},Y1={type:Ae(Object)},Ua=lt({class:String,columns:Xc,columnsStyles:{type:Ae(Object),required:!0},depth:Number,expandColumnKey:n7,estimatedRowHeight:{...el.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Ae(Function)},onRowHover:{type:Ae(Function)},onRowHeightChange:{type:Ae(Function)},rowData:{type:Ae(Object),required:!0},rowEventHandlers:{type:Ae(Object)},rowIndex:{type:Number,required:!0},rowKey:YC,style:{type:Ae(Object)}}),Dp={type:Number,required:!0},ev=lt({class:String,columns:Xc,fixedHeaderData:{type:Ae(Array)},headerData:{type:Ae(Array),required:!0},headerHeight:{type:Ae([Number,Array]),default:50},rowWidth:Dp,rowHeight:{type:Number,default:50},height:Dp,width:Dp}),Qh=lt({columns:Xc,data:UC,fixedData:Q0,estimatedRowHeight:Ua.estimatedRowHeight,width:Ka,height:Ka,headerWidth:Ka,headerHeight:ev.headerHeight,bodyWidth:Ka,rowHeight:Ka,cache:mC.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:el.scrollbarAlwaysOn,scrollbarStartGap:el.scrollbarStartGap,scrollbarEndGap:el.scrollbarEndGap,class:WC,style:Y1,containerStyle:Y1,getRowHeight:{type:Ae(Function),required:!0},rowKey:Ua.rowKey,onRowsRendered:{type:Ae(Function)},onScroll:{type:Ae(Function)}}),i7=lt({cache:Qh.cache,estimatedRowHeight:Ua.estimatedRowHeight,rowKey:YC,headerClass:{type:Ae([String,Function])},headerProps:{type:Ae([Object,Function])},headerCellProps:{type:Ae([Object,Function])},headerHeight:ev.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Ae([String,Function])},rowProps:{type:Ae([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Ae([Object,Function])},columns:Xc,data:UC,dataGetter:{type:Ae(Function)},fixedData:Q0,expandColumnKey:Ua.expandColumnKey,expandedRowKeys:U1,defaultExpandedRowKeys:U1,class:WC,fixed:Boolean,style:{type:Ae(Object)},width:Ka,height:Ka,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:el.hScrollbarSize,vScrollbarSize:el.vScrollbarSize,scrollbarAlwaysOn:bC.alwaysOn,sortBy:{type:Ae(Object),default:()=>({})},sortState:{type:Ae(Object),default:void 0},onColumnSort:{type:Ae(Function)},onExpandedRowsChange:{type:Ae(Function)},onEndReached:{type:Ae(Function)},onRowExpand:Ua.onRowExpand,onScroll:Qh.onScroll,onRowsRendered:Qh.onRowsRendered,rowEventHandlers:Ua.rowEventHandlers}),tv=(i,{slots:o})=>{var l;const{cellData:c,style:d}=i,p=((l=c==null?void 0:c.toString)==null?void 0:l.call(c))||"",g=ze(o,"default",i,()=>[p]);return ye("div",{class:i.class,title:p,style:d},[g])};tv.displayName="ElTableV2Cell";tv.inheritAttrs=!1;const nv=(i,{slots:o})=>ze(o,"default",i,()=>{var l,c;return[ye("div",{class:i.class,title:(l=i.column)==null?void 0:l.title},[(c=i.column)==null?void 0:c.title])]});nv.displayName="ElTableV2HeaderCell";nv.inheritAttrs=!1;const s7=lt({class:String,columns:Xc,columnsStyles:{type:Ae(Object),required:!0},headerIndex:Number,style:{type:Ae(Object)}}),o7=xe({name:"ElTableV2HeaderRow",props:s7,setup(i,{slots:o}){return()=>{const{columns:l,columnsStyles:c,headerIndex:d,style:p}=i;let g=l.map((b,w)=>o.cell({columns:l,column:b,columnIndex:w,headerIndex:d,style:c[b.key]}));return o.header&&(g=o.header({cells:g.map(b=>St(b)&&b.length===1?b[0]:b),columns:l,headerIndex:d})),ye("div",{class:i.class,style:p,role:"row"},[g])}}}),r7="ElTableV2Header",a7=xe({name:r7,props:ev,setup(i,{slots:o,expose:l}){const c=Qe("table-v2"),d=ne(),p=j(()=>ua({width:i.width,height:i.height})),g=j(()=>ua({width:i.rowWidth,height:i.height})),b=j(()=>va(v(i.headerHeight))),w=P=>{const A=v(d);Kt(()=>{A!=null&&A.scroll&&A.scroll({left:P})})},M=()=>{const P=c.e("fixed-header-row"),{columns:A,fixedHeaderData:O,rowHeight:R}=i;return O==null?void 0:O.map((N,z)=>{var T;const _=ua({height:R,width:"100%"});return(T=o.fixed)==null?void 0:T.call(o,{class:P,columns:A,rowData:N,rowIndex:-(z+1),style:_})})},C=()=>{const P=c.e("dynamic-header-row"),{columns:A}=i;return v(b).map((O,R)=>{var N;const z=ua({width:"100%",height:O});return(N=o.dynamic)==null?void 0:N.call(o,{class:P,columns:A,headerIndex:R,style:z})})};return l({scrollToLeft:w}),()=>{if(!(i.height<=0))return ye("div",{ref:d,class:i.class,style:v(p),role:"rowgroup"},[ye("div",{style:v(g),class:c.e("header")},[C(),M()])])}}}),l7=i=>{const{isScrolling:o}=Tt(J0),l=ne(!1),c=ne(),d=j(()=>Yt(i.estimatedRowHeight)&&i.rowIndex>=0),p=(w=!1)=>{const M=v(c);if(!M)return;const{columns:C,onRowHeightChange:P,rowKey:A,rowIndex:O,style:R}=i,{height:N}=M.getBoundingClientRect();l.value=!0,Kt(()=>{if(w||N!==Number.parseInt(R.height)){const z=C[0],T=(z==null?void 0:z.placeholderSign)===Ec;P==null||P({rowKey:A,height:N,rowIndex:O},z&&!T&&z.fixed)}})},g=j(()=>{const{rowData:w,rowIndex:M,rowKey:C,onRowHover:P}=i,A=i.rowEventHandlers||{},O={};return Object.entries(A).forEach(([R,N])=>{Xt(N)&&(O[R]=z=>{N({event:z,rowData:w,rowIndex:M,rowKey:C})})}),P&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:R,hovered:N})=>{const z=O[R];O[R]=T=>{P({event:T,hovered:N,rowData:w,rowIndex:M,rowKey:C}),z==null||z(T)}}),O}),b=w=>{const{onRowExpand:M,rowData:C,rowIndex:P,rowKey:A}=i;M==null||M({expanded:w,rowData:C,rowIndex:P,rowKey:A})};return un(()=>{v(d)&&p(!0)}),{isScrolling:o,measurable:d,measured:l,rowRef:c,eventHandlers:g,onExpand:b}},u7="ElTableV2TableRow",c7=xe({name:u7,props:Ua,setup(i,{expose:o,slots:l,attrs:c}){const{eventHandlers:d,isScrolling:p,measurable:g,measured:b,rowRef:w,onExpand:M}=l7(i);return o({onExpand:M}),()=>{const{columns:C,columnsStyles:P,expandColumnKey:A,depth:O,rowData:R,rowIndex:N,style:z}=i;let T=C.map((_,I)=>{const K=St(R.children)&&R.children.length>0&&_.key===A;return l.cell({column:_,columns:C,columnIndex:I,depth:O,style:P[_.key],rowData:R,rowIndex:N,isScrolling:v(p),expandIconProps:K?{rowData:R,rowIndex:N,onExpand:M}:void 0})});if(l.row&&(T=l.row({cells:T.map(_=>St(_)&&_.length===1?_[0]:_),style:z,columns:C,depth:O,rowData:R,rowIndex:N,isScrolling:v(p)})),v(g)){const{height:_,...I}=z||{},K=v(b);return ye("div",An({ref:w,class:i.class,style:K?z:I,role:"row"},c,v(d)),[T])}return ye("div",An(c,{ref:w,class:i.class,style:z,role:"row"},v(d)),[T])}}}),h7=i=>{const{sortOrder:o}=i;return ye(Et,{size:14,class:i.class},{default:()=>[o===Ac.ASC?ye(AR,null,null):ye(TR,null,null)]})},d7=i=>{const{expanded:o,expandable:l,onExpand:c,style:d,size:p}=i,g={onClick:l?()=>c(!o):void 0,class:i.class};return ye(Et,An(g,{size:p,style:d}),{default:()=>[ye(Ts,null,null)]})},f7="ElTableV2Grid",p7=i=>{const o=ne(),l=ne(),c=j(()=>{const{data:N,rowHeight:z,estimatedRowHeight:T}=i;if(!T)return N.length*z}),d=j(()=>{const{fixedData:N,rowHeight:z}=i;return((N==null?void 0:N.length)||0)*z}),p=j(()=>Jh(i.headerHeight)),g=j(()=>{const{height:N}=i;return Math.max(0,N-v(p)-v(d))}),b=j(()=>v(p)+v(d)>0),w=({data:N,rowIndex:z})=>N[z][i.rowKey];function M({rowCacheStart:N,rowCacheEnd:z,rowVisibleStart:T,rowVisibleEnd:_}){var I;(I=i.onRowsRendered)==null||I.call(i,{rowCacheStart:N,rowCacheEnd:z,rowVisibleStart:T,rowVisibleEnd:_})}function C(N,z){var T;(T=l.value)==null||T.resetAfterRowIndex(N,z)}function P(N,z){const T=v(o),_=v(l);yn(N)?(T==null||T.scrollToLeft(N.scrollLeft),_==null||_.scrollTo(N)):(T==null||T.scrollToLeft(N),_==null||_.scrollTo({scrollLeft:N,scrollTop:z}))}function A(N){var z;(z=v(l))==null||z.scrollTo({scrollTop:N})}function O(N,z){var T;(T=v(l))==null||T.scrollToItem(N,1,z)}function R(){var N,z;(N=v(l))==null||N.$forceUpdate(),(z=v(o))==null||z.$forceUpdate()}return{bodyRef:l,forceUpdate:R,fixedRowHeight:d,gridHeight:g,hasHeader:b,headerHeight:p,headerRef:o,totalHeight:c,itemKey:w,onItemRendered:M,resetAfterRowIndex:C,scrollTo:P,scrollToTop:A,scrollToRow:O}},iv=xe({name:f7,props:Qh,setup(i,{slots:o,expose:l}){const{ns:c}=Tt(J0),{bodyRef:d,fixedRowHeight:p,gridHeight:g,hasHeader:b,headerRef:w,headerHeight:M,totalHeight:C,forceUpdate:P,itemKey:A,onItemRendered:O,resetAfterRowIndex:R,scrollTo:N,scrollToTop:z,scrollToRow:T}=p7(i);l({forceUpdate:P,totalHeight:C,scrollTo:N,scrollToTop:z,scrollToRow:T,resetAfterRowIndex:R});const _=()=>i.bodyWidth;return()=>{const{cache:I,columns:K,data:B,fixedData:G,useIsScrolling:$,scrollbarAlwaysOn:J,scrollbarEndGap:ee,scrollbarStartGap:Q,style:X,rowHeight:se,bodyWidth:de,estimatedRowHeight:ve,headerWidth:me,height:ae,width:ie,getRowHeight:re,onScroll:te}=i,ue=Yt(ve),be=ue?QG:YG,Ce=v(M);return ye("div",{role:"table",class:[c.e("table"),i.class],style:X},[ye(be,{ref:d,data:B,useIsScrolling:$,itemKey:A,columnCache:0,columnWidth:ue?_:de,totalColumn:1,totalRow:B.length,rowCache:I,rowHeight:ue?re:se,width:ie,height:v(g),class:c.e("body"),role:"rowgroup",scrollbarStartGap:Q,scrollbarEndGap:ee,scrollbarAlwaysOn:J,onScroll:te,onItemRendered:O,perfMode:!1},{default:Ne=>{var Be;const tt=B[Ne.rowIndex];return(Be=o.row)==null?void 0:Be.call(o,{...Ne,columns:K,rowData:tt})}}),v(b)&&ye(a7,{ref:w,class:c.e("header-wrapper"),columns:K,headerData:B,headerHeight:i.headerHeight,fixedHeaderData:G,rowWidth:me,rowHeight:se,width:ie,height:Math.min(Ce+v(p),ae)},{dynamic:o.header,fixed:o.row})])}}});function g7(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!li(i)}const m7=(i,{slots:o})=>{const{mainTableRef:l,...c}=i;return ye(iv,An({ref:l},c),g7(o)?o:{default:()=>[o]})};function v7(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!li(i)}const y7=(i,{slots:o})=>{if(!i.columns.length)return;const{leftTableRef:l,...c}=i;return ye(iv,An({ref:l},c),v7(o)?o:{default:()=>[o]})};function b7(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!li(i)}const w7=(i,{slots:o})=>{if(!i.columns.length)return;const{rightTableRef:l,...c}=i;return ye(iv,An({ref:l},c),b7(o)?o:{default:()=>[o]})};function x7(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!li(i)}const S7=(i,{slots:o})=>{const{columns:l,columnsStyles:c,depthMap:d,expandColumnKey:p,expandedRowKeys:g,estimatedRowHeight:b,hasFixedColumns:w,rowData:M,rowIndex:C,style:P,isScrolling:A,rowProps:O,rowClass:R,rowKey:N,rowEventHandlers:z,ns:T,onRowHovered:_,onRowExpanded:I}=i,K=ul(R,{columns:l,rowData:M,rowIndex:C},""),B=ul(O,{columns:l,rowData:M,rowIndex:C}),G=M[N],$=d[G]||0,J=!!p,ee=C<0,Q=[T.e("row"),K,{[T.e(`row-depth-${$}`)]:J&&C>=0,[T.is("expanded")]:J&&g.includes(G),[T.is("fixed")]:!$&&ee,[T.is("customized")]:!!o.row}],X=w?_:void 0,se={...B,columns:l,columnsStyles:c,class:Q,depth:$,expandColumnKey:p,estimatedRowHeight:ee?void 0:b,isScrolling:A,rowIndex:C,rowData:M,rowKey:G,rowEventHandlers:z,style:P};return ye(c7,An(se,{onRowExpand:I,onMouseenter:me=>{X==null||X({hovered:!0,rowKey:G,event:me,rowData:M,rowIndex:C})},onMouseleave:me=>{X==null||X({hovered:!1,rowKey:G,event:me,rowData:M,rowIndex:C})},rowkey:G}),x7(o)?o:{default:()=>[o]})},Wg=({columns:i,column:o,columnIndex:l,depth:c,expandIconProps:d,isScrolling:p,rowData:g,rowIndex:b,style:w,expandedRowKeys:M,ns:C,cellProps:P,expandColumnKey:A,indentSize:O,iconSize:R,rowKey:N},{slots:z})=>{const T=ua(w);if(o.placeholderSign===Ec)return ye("div",{class:C.em("row-cell","placeholder"),style:T},null);const{cellRenderer:_,dataKey:I,dataGetter:K}=o,B=Xt(K)?K({columns:i,column:o,columnIndex:l,rowData:g,rowIndex:b}):Ni(g,I??""),G=ul(P,{cellData:B,columns:i,column:o,columnIndex:l,rowIndex:b,rowData:g}),$={class:C.e("cell-text"),columns:i,column:o,columnIndex:l,cellData:B,isScrolling:p,rowData:g,rowIndex:b},J=GC(_),ee=J?J($):ze(z,"default",$,()=>[ye(tv,$,null)]),Q=[C.e("row-cell"),o.class,o.align===Lc.CENTER&&C.is("align-center"),o.align===Lc.RIGHT&&C.is("align-right")],X=b>=0&&A&&o.key===A,se=b>=0&&M.includes(g[N]);let de;const ve=`margin-inline-start: ${c*O}px;`;return X&&(yn(d)?de=ye(d7,An(d,{class:[C.e("expand-icon"),C.is("expanded",se)],size:R,expanded:se,style:ve,expandable:!0}),null):de=ye("div",{style:[ve,`width: ${R}px; height: ${R}px;`].join(" ")},null)),ye("div",An({class:Q,style:T},G,{role:"cell"}),[de,ee])};Wg.inheritAttrs=!1;function k7(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!li(i)}const C7=({columns:i,columnsStyles:o,headerIndex:l,style:c,headerClass:d,headerProps:p,ns:g},{slots:b})=>{const w={columns:i,headerIndex:l},M=[g.e("header-row"),ul(d,w,""),{[g.is("customized")]:!!b.header}],C={...ul(p,w),columnsStyles:o,class:M,columns:i,headerIndex:l,style:c};return ye(o7,C,k7(b)?b:{default:()=>[b]})},X1=(i,{slots:o})=>{const{column:l,ns:c,style:d,onColumnSorted:p}=i,g=ua(d);if(l.placeholderSign===Ec)return ye("div",{class:c.em("header-row-cell","placeholder"),style:g},null);const{headerCellRenderer:b,headerClass:w,sortable:M}=l,C={...i,class:c.e("header-cell-text")},P=GC(b),A=P?P(C):ze(o,"default",C,()=>[ye(nv,C,null)]),{sortBy:O,sortState:R,headerCellProps:N}=i;let z,T;if(R){const K=R[l.key];z=!!Gg[K],T=z?K:Ac.ASC}else z=l.key===O.key,T=z?O.order:Ac.ASC;const _=[c.e("header-cell"),ul(w,i,""),l.align===Lc.CENTER&&c.is("align-center"),l.align===Lc.RIGHT&&c.is("align-right"),M&&c.is("sortable")],I={...ul(N,i),onClick:l.sortable?p:void 0,class:_,style:g,"data-key":l.key};return ye("div",An(I,{role:"columnheader"}),[A,M&&ye(h7,{class:[c.e("sort-icon"),z&&c.is("sorting")],sortOrder:T},null)])},XC=(i,{slots:o})=>{var l;return ye("div",{class:i.class,style:i.style},[(l=o.default)==null?void 0:l.call(o)])};XC.displayName="ElTableV2Footer";const ZC=(i,{slots:o})=>{const l=ze(o,"default",{},()=>[ye(eC,null,null)]);return ye("div",{class:i.class,style:i.style},[l])};ZC.displayName="ElTableV2Empty";const JC=(i,{slots:o})=>{var l;return ye("div",{class:i.class,style:i.style},[(l=o.default)==null?void 0:l.call(o)])};JC.displayName="ElTableV2Overlay";function Bu(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!li(i)}const M7="ElTableV2",P7=xe({name:M7,props:i7,setup(i,{slots:o,expose:l}){const c=Qe("table-v2"),{columnsStyles:d,fixedColumnsOnLeft:p,fixedColumnsOnRight:g,mainColumns:b,mainTableHeight:w,fixedTableHeight:M,leftTableWidth:C,rightTableWidth:P,data:A,depthMap:O,expandedRowKeys:R,hasFixedColumns:N,mainTableRef:z,leftTableRef:T,rightTableRef:_,isDynamic:I,isResetting:K,isScrolling:B,bodyWidth:G,emptyStyle:$,rootStyle:J,headerWidth:ee,footerHeight:Q,showEmpty:X,scrollTo:se,scrollToLeft:de,scrollToTop:ve,scrollToRow:me,getRowHeight:ae,onColumnSorted:ie,onRowHeightChange:re,onRowHovered:te,onRowExpanded:ue,onRowsRendered:be,onScroll:Ce,onVerticalScroll:Ne}=t7(i);return l({scrollTo:se,scrollToLeft:de,scrollToTop:ve,scrollToRow:me}),En(J0,{ns:c,isResetting:K,isScrolling:B}),()=>{const{cache:Be,cellProps:tt,estimatedRowHeight:Le,expandColumnKey:_e,fixedData:Fe,headerHeight:gt,headerClass:Ye,headerProps:Ze,headerCellProps:mt,sortBy:Me,sortState:Ee,rowHeight:We,rowClass:ot,rowEventHandlers:He,rowKey:Je,rowProps:nt,scrollbarAlwaysOn:rt,indentSize:ht,iconSize:qe,useIsScrolling:Mt,vScrollbarSize:Nt,width:Ge}=i,kt=v(A),Ht={cache:Be,class:c.e("main"),columns:v(b),data:kt,fixedData:Fe,estimatedRowHeight:Le,bodyWidth:v(G)+Nt,headerHeight:gt,headerWidth:v(ee),height:v(w),mainTableRef:z,rowKey:Je,rowHeight:We,scrollbarAlwaysOn:rt,scrollbarStartGap:2,scrollbarEndGap:Nt,useIsScrolling:Mt,width:Ge,getRowHeight:ae,onRowsRendered:be,onScroll:Ce},bn=v(C),hn=v(M),Vt={cache:Be,class:c.e("left"),columns:v(p),data:kt,estimatedRowHeight:Le,leftTableRef:T,rowHeight:We,bodyWidth:bn,headerWidth:bn,headerHeight:gt,height:hn,rowKey:Je,scrollbarAlwaysOn:rt,scrollbarStartGap:2,scrollbarEndGap:Nt,useIsScrolling:Mt,width:bn,getRowHeight:ae,onScroll:Ne},wt=v(P)+Nt,it={cache:Be,class:c.e("right"),columns:v(g),data:kt,estimatedRowHeight:Le,rightTableRef:_,rowHeight:We,bodyWidth:wt,headerWidth:wt,headerHeight:gt,height:hn,rowKey:Je,scrollbarAlwaysOn:rt,scrollbarStartGap:2,scrollbarEndGap:Nt,width:wt,style:`--${v(c.namespace)}-table-scrollbar-size: ${Nt}px`,useIsScrolling:Mt,getRowHeight:ae,onScroll:Ne},$e=v(d),et={ns:c,depthMap:v(O),columnsStyles:$e,expandColumnKey:_e,expandedRowKeys:v(R),estimatedRowHeight:Le,hasFixedColumns:v(N),rowProps:nt,rowClass:ot,rowKey:Je,rowEventHandlers:He,onRowHovered:te,onRowExpanded:ue,onRowHeightChange:re},st={cellProps:tt,expandColumnKey:_e,indentSize:ht,iconSize:qe,rowKey:Je,expandedRowKeys:v(R),ns:c},Ve={ns:c,headerClass:Ye,headerProps:Ze,columnsStyles:$e},Lt={ns:c,sortBy:Me,sortState:Ee,headerCellProps:mt,onColumnSorted:ie},Sn={row:mi=>ye(S7,An(mi,et),{row:o.row,cell:Ln=>{let Un;return o.cell?ye(Wg,An(Ln,st,{style:$e[Ln.column.key]}),Bu(Un=o.cell(Ln))?Un:{default:()=>[Un]}):ye(Wg,An(Ln,st,{style:$e[Ln.column.key]}),null)}}),header:mi=>ye(C7,An(mi,Ve),{header:o.header,cell:Ln=>{let Un;return o["header-cell"]?ye(X1,An(Ln,Lt,{style:$e[Ln.column.key]}),Bu(Un=o["header-cell"](Ln))?Un:{default:()=>[Un]}):ye(X1,An(Ln,Lt,{style:$e[Ln.column.key]}),null)}})},zn=[i.class,c.b(),c.e("root"),{[c.is("dynamic")]:v(I)}],ki={class:c.e("footer"),style:v(Q)};return ye("div",{class:zn,style:v(J)},[ye(m7,Ht,Bu(Sn)?Sn:{default:()=>[Sn]}),ye(y7,Vt,Bu(Sn)?Sn:{default:()=>[Sn]}),ye(w7,it,Bu(Sn)?Sn:{default:()=>[Sn]}),o.footer&&ye(XC,ki,{default:o.footer}),v(X)&&ye(ZC,{class:c.e("empty"),style:v($)},{default:o.empty}),o.overlay&&ye(JC,{class:c.e("overlay")},{default:o.overlay})])}}}),T7=lt({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Ae(Function)}}),N7=xe({name:"ElAutoResizer",props:T7,setup(i,{slots:o}){const l=Qe("auto-resizer"),{height:c,width:d,sizer:p}=e7(i),g={width:"100%",height:"100%"};return()=>{var b;return ye("div",{ref:p,class:l.b(),style:g},[(b=o.default)==null?void 0:b.call(o,{height:c.value,width:d.value})])}}}),A7=gn(P7),L7=gn(N7),wf=Symbol("tabsRootContextKey"),E7=lt({tabs:{type:Ae(Array),default:()=>pi([])}}),QC="ElTabBar",D7=xe({name:QC}),O7=xe({...D7,props:E7,setup(i,{expose:o}){const l=i,c=pn(),d=Tt(wf);d||Hi(QC,"<el-tabs><el-tab-bar /></el-tabs>");const p=Qe("tabs"),g=ne(),b=ne(),w=()=>{let C=0,P=0;const A=["top","bottom"].includes(d.props.tabPosition)?"width":"height",O=A==="width"?"x":"y",R=O==="x"?"left":"top";return l.tabs.every(N=>{var z,T;const _=(T=(z=c.parent)==null?void 0:z.refs)==null?void 0:T[`tab-${N.uid}`];if(!_)return!1;if(!N.active)return!0;C=_[`offset${Qo(R)}`],P=_[`client${Qo(A)}`];const I=window.getComputedStyle(_);return A==="width"&&(l.tabs.length>1&&(P-=Number.parseFloat(I.paddingLeft)+Number.parseFloat(I.paddingRight)),C+=Number.parseFloat(I.paddingLeft)),!1}),{[A]:`${P}px`,transform:`translate${Qo(O)}(${C}px)`}},M=()=>b.value=w();return Ue(()=>l.tabs,async()=>{await Kt(),M()},{immediate:!0}),fi(g,()=>M()),o({ref:g,update:M}),(C,P)=>(Y(),fe("div",{ref_key:"barRef",ref:g,class:Z([v(p).e("active-bar"),v(p).is(v(d).props.tabPosition)]),style:Ft(b.value)},null,6))}});var R7=ct(O7,[["__file","tab-bar.vue"]]);const I7=lt({panes:{type:Ae(Array),default:()=>pi([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),F7={tabClick:(i,o,l)=>l instanceof Event,tabRemove:(i,o)=>o instanceof Event},Z1="ElTabNav",B7=xe({name:Z1,props:I7,emits:F7,setup(i,{expose:o,emit:l}){const c=pn(),d=Tt(wf);d||Hi(Z1,"<el-tabs><tab-nav /></el-tabs>");const p=Qe("tabs"),g=$N(),b=XN(),w=ne(),M=ne(),C=ne(),P=ne(),A=ne(!1),O=ne(0),R=ne(!1),N=ne(!0),z=j(()=>["top","bottom"].includes(d.props.tabPosition)?"width":"height"),T=j(()=>({transform:`translate${z.value==="width"?"X":"Y"}(-${O.value}px)`})),_=()=>{if(!w.value)return;const ee=w.value[`offset${Qo(z.value)}`],Q=O.value;if(!Q)return;const X=Q>ee?Q-ee:0;O.value=X},I=()=>{if(!w.value||!M.value)return;const ee=M.value[`offset${Qo(z.value)}`],Q=w.value[`offset${Qo(z.value)}`],X=O.value;if(ee-X<=Q)return;const se=ee-X>Q*2?X+Q:ee-Q;O.value=se},K=async()=>{const ee=M.value;if(!A.value||!C.value||!w.value||!ee)return;await Kt();const Q=C.value.querySelector(".is-active");if(!Q)return;const X=w.value,se=["top","bottom"].includes(d.props.tabPosition),de=Q.getBoundingClientRect(),ve=X.getBoundingClientRect(),me=se?ee.offsetWidth-ve.width:ee.offsetHeight-ve.height,ae=O.value;let ie=ae;se?(de.left<ve.left&&(ie=ae-(ve.left-de.left)),de.right>ve.right&&(ie=ae+de.right-ve.right)):(de.top<ve.top&&(ie=ae-(ve.top-de.top)),de.bottom>ve.bottom&&(ie=ae+(de.bottom-ve.bottom))),ie=Math.max(ie,0),O.value=Math.min(ie,me)},B=()=>{var ee;if(!M.value||!w.value)return;i.stretch&&((ee=P.value)==null||ee.update());const Q=M.value[`offset${Qo(z.value)}`],X=w.value[`offset${Qo(z.value)}`],se=O.value;X<Q?(A.value=A.value||{},A.value.prev=se,A.value.next=se+X<Q,Q-se<X&&(O.value=Q-X)):(A.value=!1,se>0&&(O.value=0))},G=ee=>{const Q=ee.code,{up:X,down:se,left:de,right:ve}=Gt;if(![X,se,de,ve].includes(Q))return;const me=Array.from(ee.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),ae=me.indexOf(ee.target);let ie;Q===de||Q===X?ae===0?ie=me.length-1:ie=ae-1:ae<me.length-1?ie=ae+1:ie=0,me[ie].focus({preventScroll:!0}),me[ie].click(),$()},$=()=>{N.value&&(R.value=!0)},J=()=>R.value=!1;return Ue(g,ee=>{ee==="hidden"?N.value=!1:ee==="visible"&&setTimeout(()=>N.value=!0,50)}),Ue(b,ee=>{ee?setTimeout(()=>N.value=!0,50):N.value=!1}),fi(C,B),un(()=>setTimeout(()=>K(),0)),Or(()=>B()),o({scrollToActiveTab:K,removeFocus:J}),Ue(()=>i.panes,()=>c.update(),{flush:"post",deep:!0}),()=>{const ee=A.value?[ye("span",{class:[p.e("nav-prev"),p.is("disabled",!A.value.prev)],onClick:_},[ye(Et,null,{default:()=>[ye(ba,null,null)]})]),ye("span",{class:[p.e("nav-next"),p.is("disabled",!A.value.next)],onClick:I},[ye(Et,null,{default:()=>[ye(Ts,null,null)]})])]:null,Q=i.panes.map((X,se)=>{var de,ve,me,ae;const ie=X.uid,re=X.props.disabled,te=(ve=(de=X.props.name)!=null?de:X.index)!=null?ve:`${se}`,ue=!re&&(X.isClosable||i.editable);X.index=`${se}`;const be=ue?ye(Et,{class:"is-icon-close",onClick:Be=>l("tabRemove",X,Be)},{default:()=>[ye(_o,null,null)]}):null,Ce=((ae=(me=X.slots).label)==null?void 0:ae.call(me))||X.props.label,Ne=!re&&X.active?0:-1;return ye("div",{ref:`tab-${ie}`,class:[p.e("item"),p.is(d.props.tabPosition),p.is("active",X.active),p.is("disabled",re),p.is("closable",ue),p.is("focus",R.value)],id:`tab-${te}`,key:`tab-${ie}`,"aria-controls":`pane-${te}`,role:"tab","aria-selected":X.active,tabindex:Ne,onFocus:()=>$(),onBlur:()=>J(),onClick:Be=>{J(),l("tabClick",X,te,Be)},onKeydown:Be=>{ue&&(Be.code===Gt.delete||Be.code===Gt.backspace)&&l("tabRemove",X,Be)}},[Ce,be])});return ye("div",{ref:C,class:[p.e("nav-wrap"),p.is("scrollable",!!A.value),p.is(d.props.tabPosition)]},[ee,ye("div",{class:p.e("nav-scroll"),ref:w},[ye("div",{class:[p.e("nav"),p.is(d.props.tabPosition),p.is("stretch",i.stretch&&["top","bottom"].includes(d.props.tabPosition))],ref:M,style:T.value,role:"tablist",onKeydown:G},[i.type?null:ye(R7,{ref:P,tabs:[...i.panes]},null),Q])])])}}}),$7=lt({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ae(Function),default:()=>!0},stretch:Boolean}),Op=i=>tn(i)||Yt(i),V7={[wn]:i=>Op(i),tabClick:(i,o)=>o instanceof Event,tabChange:i=>Op(i),edit:(i,o)=>["remove","add"].includes(o),tabRemove:i=>Op(i),tabAdd:()=>!0},z7=xe({name:"ElTabs",props:$7,emits:V7,setup(i,{emit:o,slots:l,expose:c}){var d;const p=Qe("tabs"),{children:g,addChild:b,removeChild:w}=C0(pn(),"ElTabPane"),M=ne(),C=ne((d=i.modelValue)!=null?d:"0"),P=async(N,z=!1)=>{var T,_,I;if(!(C.value===N||Ri(N)))try{await((T=i.beforeLeave)==null?void 0:T.call(i,N,C.value))!==!1&&(C.value=N,z&&(o(wn,N),o("tabChange",N)),(I=(_=M.value)==null?void 0:_.removeFocus)==null||I.call(_))}catch{}},A=(N,z,T)=>{N.props.disabled||(P(z,!0),o("tabClick",N,T))},O=(N,z)=>{N.props.disabled||Ri(N.props.name)||(z.stopPropagation(),o("edit",N.props.name,"remove"),o("tabRemove",N.props.name))},R=()=>{o("edit",void 0,"add"),o("tabAdd")};return Ue(()=>i.modelValue,N=>P(N)),Ue(C,async()=>{var N;await Kt(),(N=M.value)==null||N.scrollToActiveTab()}),En(wf,{props:i,currentName:C,registerPane:b,unregisterPane:w}),c({currentName:C}),()=>{const N=l["add-icon"],z=i.editable||i.addable?ye("span",{class:p.e("new-tab"),tabindex:"0",onClick:R,onKeydown:I=>{I.code===Gt.enter&&R()}},[N?ze(l,"add-icon"):ye(Et,{class:p.is("icon-plus")},{default:()=>[ye(Ax,null,null)]})]):null,T=ye("div",{class:[p.e("header"),p.is(i.tabPosition)]},[z,ye(B7,{ref:M,currentName:C.value,editable:i.editable,type:i.type,panes:g.value,stretch:i.stretch,onTabClick:A,onTabRemove:O},null)]),_=ye("div",{class:p.e("content")},[ze(l,"default")]);return ye("div",{class:[p.b(),p.m(i.tabPosition),{[p.m("card")]:i.type==="card",[p.m("border-card")]:i.type==="border-card"}]},[...i.tabPosition!=="bottom"?[T,_]:[_,T]])}}}),_7=lt({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),K7=["id","aria-hidden","aria-labelledby"],eM="ElTabPane",H7=xe({name:eM}),j7=xe({...H7,props:_7,setup(i){const o=i,l=pn(),c=Qi(),d=Tt(wf);d||Hi(eM,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const p=Qe("tab-pane"),g=ne(),b=j(()=>o.closable||d.props.closable),w=Ty(()=>{var O;return d.currentName.value===((O=o.name)!=null?O:g.value)}),M=ne(w.value),C=j(()=>{var O;return(O=o.name)!=null?O:g.value}),P=Ty(()=>!o.lazy||M.value||w.value);Ue(w,O=>{O&&(M.value=!0)});const A=Hn({uid:l.uid,slots:c,props:o,paneName:C,active:w,index:g,isClosable:b});return un(()=>{d.registerPane(A)}),Ma(()=>{d.unregisterPane(A.uid)}),(O,R)=>v(P)?ln((Y(),fe("div",{key:0,id:`pane-${v(C)}`,class:Z(v(p).b()),role:"tabpanel","aria-hidden":!v(w),"aria-labelledby":`tab-${v(C)}`},[ze(O.$slots,"default")],10,K7)),[[$n,v(w)]]):De("v-if",!0)}});var tM=ct(j7,[["__file","tab-pane.vue"]]);const q7=gn(z7,{TabPane:tM}),G7=gi(tM),W7=lt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:ur,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),U7=xe({name:"ElText"}),Y7=xe({...U7,props:W7,setup(i){const o=i,l=$i(),c=Qe("text"),d=j(()=>[c.b(),c.m(o.type),c.m(l.value),c.is("truncated",o.truncated),c.is("line-clamp",!Ri(o.lineClamp))]);return(p,g)=>(Y(),Ie(kn(p.tag),{class:Z(v(d)),style:Ft({"-webkit-line-clamp":p.lineClamp})},{default:Te(()=>[ze(p.$slots,"default")]),_:3},8,["class","style"]))}});var X7=ct(Y7,[["__file","text.vue"]]);const Z7=gn(X7),J7=lt({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:ji,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Ae([String,Object]),default:()=>Nx},clearIcon:{type:Ae([String,Object]),default:()=>Ta},...Cu}),kr=i=>{const o=(i||"").split(":");if(o.length>=2){let l=Number.parseInt(o[0],10);const c=Number.parseInt(o[1],10),d=i.toUpperCase();return d.includes("AM")&&l===12?l=0:d.includes("PM")&&l!==12&&(l+=12),{hours:l,minutes:c}}return null},Rp=(i,o)=>{const l=kr(i);if(!l)return-1;const c=kr(o);if(!c)return-1;const d=l.minutes+l.hours*60,p=c.minutes+c.hours*60;return d===p?0:d>p?1:-1},J1=i=>`${i}`.padStart(2,"0"),Ol=i=>`${J1(i.hours)}:${J1(i.minutes)}`,Q7=(i,o)=>{const l=kr(i);if(!l)return"";const c=kr(o);if(!c)return"";const d={hours:l.hours,minutes:l.minutes};return d.minutes+=c.minutes,d.hours+=c.hours,d.hours+=Math.floor(d.minutes/60),d.minutes=d.minutes%60,Ol(d)},eX=xe({name:"ElTimeSelect"}),tX=xe({...eX,props:J7,emits:["change","blur","focus","update:modelValue"],setup(i,{expose:o}){const l=i;vn.extend(E0);const{Option:c}=ll,d=Qe("input"),p=ne(),g=Es(),{lang:b}=Bn(),w=j(()=>l.modelValue),M=j(()=>{const T=kr(l.start);return T?Ol(T):null}),C=j(()=>{const T=kr(l.end);return T?Ol(T):null}),P=j(()=>{const T=kr(l.step);return T?Ol(T):null}),A=j(()=>{const T=kr(l.minTime||"");return T?Ol(T):null}),O=j(()=>{const T=kr(l.maxTime||"");return T?Ol(T):null}),R=j(()=>{const T=[];if(l.start&&l.end&&l.step){let _=M.value,I;for(;_&&C.value&&Rp(_,C.value)<=0;)I=vn(_,"HH:mm").locale(b.value).format(l.format),T.push({value:I,disabled:Rp(_,A.value||"-1:-1")<=0||Rp(_,O.value||"100:100")>=0}),_=Q7(_,P.value)}return T});return o({blur:()=>{var T,_;(_=(T=p.value)==null?void 0:T.blur)==null||_.call(T)},focus:()=>{var T,_;(_=(T=p.value)==null?void 0:T.focus)==null||_.call(T)}}),(T,_)=>(Y(),Ie(v(ll),{ref_key:"select",ref:p,"model-value":v(w),disabled:v(g),clearable:T.clearable,"clear-icon":T.clearIcon,size:T.size,effect:T.effect,placeholder:T.placeholder,"default-first-option":"",filterable:T.editable,"empty-values":T.emptyValues,"value-on-clear":T.valueOnClear,"onUpdate:modelValue":_[0]||(_[0]=I=>T.$emit("update:modelValue",I)),onChange:_[1]||(_[1]=I=>T.$emit("change",I)),onBlur:_[2]||(_[2]=I=>T.$emit("blur",I)),onFocus:_[3]||(_[3]=I=>T.$emit("focus",I))},{prefix:Te(()=>[T.prefixIcon?(Y(),Ie(v(Et),{key:0,class:Z(v(d).e("prefix-icon"))},{default:Te(()=>[(Y(),Ie(kn(T.prefixIcon)))]),_:1},8,["class"])):De("v-if",!0)]),default:Te(()=>[(Y(!0),fe($t,null,Rn(v(R),I=>(Y(),Ie(v(c),{key:I.value,label:I.value,value:I.value,disabled:I.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var ed=ct(tX,[["__file","time-select.vue"]]);ed.install=i=>{i.component(ed.name,ed)};const nX=ed,iX=nX,sX=xe({name:"ElTimeline",setup(i,{slots:o}){const l=Qe("timeline");return En("timeline",o),()=>jt("ul",{class:[l.b()]},[ze(o,"default")])}}),oX=lt({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Xn},hollow:{type:Boolean,default:!1}}),rX=xe({name:"ElTimelineItem"}),aX=xe({...rX,props:oX,setup(i){const o=i,l=Qe("timeline-item"),c=j(()=>[l.e("node"),l.em("node",o.size||""),l.em("node",o.type||""),l.is("hollow",o.hollow)]);return(d,p)=>(Y(),fe("li",{class:Z([v(l).b(),{[v(l).e("center")]:d.center}])},[pe("div",{class:Z(v(l).e("tail"))},null,2),d.$slots.dot?De("v-if",!0):(Y(),fe("div",{key:0,class:Z(v(c)),style:Ft({backgroundColor:d.color})},[d.icon?(Y(),Ie(v(Et),{key:0,class:Z(v(l).e("icon"))},{default:Te(()=>[(Y(),Ie(kn(d.icon)))]),_:1},8,["class"])):De("v-if",!0)],6)),d.$slots.dot?(Y(),fe("div",{key:1,class:Z(v(l).e("dot"))},[ze(d.$slots,"dot")],2)):De("v-if",!0),pe("div",{class:Z(v(l).e("wrapper"))},[!d.hideTimestamp&&d.placement==="top"?(Y(),fe("div",{key:0,class:Z([v(l).e("timestamp"),v(l).is("top")])},dt(d.timestamp),3)):De("v-if",!0),pe("div",{class:Z(v(l).e("content"))},[ze(d.$slots,"default")],2),!d.hideTimestamp&&d.placement==="bottom"?(Y(),fe("div",{key:1,class:Z([v(l).e("timestamp"),v(l).is("bottom")])},dt(d.timestamp),3)):De("v-if",!0)],2)],2))}});var nM=ct(aX,[["__file","timeline-item.vue"]]);const lX=gn(sX,{TimelineItem:nM}),uX=gi(nM),iM=lt({nowrap:Boolean});var sM=(i=>(i.top="top",i.bottom="bottom",i.left="left",i.right="right",i))(sM||{});const cX=Object.values(sM),sv=lt({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Ae(Object),default:null}}),hX=lt({side:{type:Ae(String),values:cX,required:!0}}),dX=["absolute","fixed"],fX=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],ov=lt({arrowPadding:{type:Ae(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:Ae(String),values:fX,default:"bottom"},reference:{type:Ae(Object),default:null},offset:{type:Number,default:8},strategy:{type:Ae(String),values:dX,default:"absolute"},showArrow:{type:Boolean,default:!1},...os(["ariaLabel"])}),rv=lt({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Ae(Function)},"onUpdate:open":{type:Ae(Function)}}),Al={type:Ae(Function)},av=lt({onBlur:Al,onClick:Al,onFocus:Al,onMouseDown:Al,onMouseEnter:Al,onMouseLeave:Al}),pX=lt({...rv,...sv,...av,...ov,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Ae(Object),default:null},teleported:Boolean,to:{type:Ae(String),default:"body"}}),xf=Symbol("tooltipV2"),oM=Symbol("tooltipV2Content"),Ip="tooltip_v2.open",gX=xe({name:"ElTooltipV2Root"}),mX=xe({...gX,props:rv,setup(i,{expose:o}){const l=i,c=ne(l.defaultOpen),d=ne(null),p=j({get:()=>sl(l.open)?c.value:l.open,set:z=>{var T;c.value=z,(T=l["onUpdate:open"])==null||T.call(l,z)}}),g=j(()=>Yt(l.delayDuration)&&l.delayDuration>0),{start:b,stop:w}=nl(()=>{p.value=!0},j(()=>l.delayDuration),{immediate:!1}),M=Qe("tooltip-v2"),C=hs(),P=()=>{w(),p.value=!0},A=()=>{v(g)?b():P()},O=P,R=()=>{w(),p.value=!1};return Ue(p,z=>{var T;z&&(document.dispatchEvent(new CustomEvent(Ip)),O()),(T=l.onOpenChange)==null||T.call(l,z)}),un(()=>{document.addEventListener(Ip,R)}),ei(()=>{w(),document.removeEventListener(Ip,R)}),En(xf,{contentId:C,triggerRef:d,ns:M,onClose:R,onDelayOpen:A,onOpen:O}),o({onOpen:O,onClose:R}),(z,T)=>ze(z.$slots,"default",{open:v(p)})}});var vX=ct(mX,[["__file","root.vue"]]);const yX=xe({name:"ElTooltipV2Arrow"}),bX=xe({...yX,props:{...sv,...hX},setup(i){const o=i,{ns:l}=Tt(xf),{arrowRef:c}=Tt(oM),d=j(()=>{const{style:p,width:g,height:b}=o,w=l.namespace.value;return{[`--${w}-tooltip-v2-arrow-width`]:`${g}px`,[`--${w}-tooltip-v2-arrow-height`]:`${b}px`,[`--${w}-tooltip-v2-arrow-border-width`]:`${g/2}px`,[`--${w}-tooltip-v2-arrow-cover-width`]:g/2-1,...p||{}}});return(p,g)=>(Y(),fe("span",{ref_key:"arrowRef",ref:c,style:Ft(v(d)),class:Z(v(l).e("arrow"))},null,6))}});var Q1=ct(bX,[["__file","arrow.vue"]]);const wX=lt({style:{type:Ae([String,Object,Array]),default:()=>({})}}),xX=xe({name:"ElVisuallyHidden"}),SX=xe({...xX,props:wX,setup(i){const o=i,l=j(()=>[o.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(c,d)=>(Y(),fe("span",An(c.$attrs,{style:v(l)}),[ze(c.$slots,"default")],16))}});var kX=ct(SX,[["__file","visual-hidden.vue"]]);const CX=["data-side"],MX=xe({name:"ElTooltipV2Content"}),PX=xe({...MX,props:{...ov,...iM},setup(i){const o=i,{triggerRef:l,contentId:c}=Tt(xf),d=ne(o.placement),p=ne(o.strategy),g=ne(null),{referenceRef:b,contentRef:w,middlewareData:M,x:C,y:P,update:A}=JF({placement:d,strategy:p,middleware:j(()=>{const I=[cS(o.offset)];return o.showArrow&&I.push(QF({arrowRef:g})),I})}),O=Su().nextZIndex(),R=Qe("tooltip-v2"),N=j(()=>d.value.split("-")[0]),z=j(()=>({position:v(p),top:`${v(P)||0}px`,left:`${v(C)||0}px`,zIndex:O})),T=j(()=>{if(!o.showArrow)return{};const{arrow:I}=v(M);return{[`--${R.namespace.value}-tooltip-v2-arrow-x`]:`${I==null?void 0:I.x}px`||"",[`--${R.namespace.value}-tooltip-v2-arrow-y`]:`${I==null?void 0:I.y}px`||""}}),_=j(()=>[R.e("content"),R.is("dark",o.effect==="dark"),R.is(v(p)),o.contentClass]);return Ue(g,()=>A()),Ue(()=>o.placement,I=>d.value=I),un(()=>{Ue(()=>o.reference||l.value,I=>{b.value=I||void 0},{immediate:!0})}),En(oM,{arrowRef:g}),(I,K)=>(Y(),fe("div",{ref_key:"contentRef",ref:w,style:Ft(v(z)),"data-tooltip-v2-root":""},[I.nowrap?De("v-if",!0):(Y(),fe("div",{key:0,"data-side":v(N),class:Z(v(_))},[ze(I.$slots,"default",{contentStyle:v(z),contentClass:v(_)}),ye(v(kX),{id:v(c),role:"tooltip"},{default:Te(()=>[I.ariaLabel?(Y(),fe($t,{key:0},[Tn(dt(I.ariaLabel),1)],64)):ze(I.$slots,"default",{key:1})]),_:3},8,["id"]),ze(I.$slots,"arrow",{style:Ft(v(T)),side:v(N)})],10,CX))],4))}});var ew=ct(PX,[["__file","content.vue"]]);const TX=lt({setRef:{type:Ae(Function),required:!0},onlyChild:Boolean});var NX=xe({props:TX,setup(i,{slots:o}){const l=ne(),c=rf(l,d=>{d?i.setRef(d.nextElementSibling):i.setRef(null)});return()=>{var d;const[p]=((d=o.default)==null?void 0:d.call(o))||[],g=i.onlyChild?GR(p.children):p.children;return ye($t,{ref:c},[g])}}});const AX=xe({name:"ElTooltipV2Trigger"}),LX=xe({...AX,props:{...iM,...av},setup(i){const o=i,{onClose:l,onOpen:c,onDelayOpen:d,triggerRef:p,contentId:g}=Tt(xf);let b=!1;const w=_=>{p.value=_},M=()=>{b=!1},C=xi(o.onMouseEnter,d),P=xi(o.onMouseLeave,l),A=xi(o.onMouseDown,()=>{l(),b=!0,document.addEventListener("mouseup",M,{once:!0})}),O=xi(o.onFocus,()=>{b||c()}),R=xi(o.onBlur,l),N=xi(o.onClick,_=>{_.detail===0&&l()}),z={blur:R,click:N,focus:O,mousedown:A,mouseenter:C,mouseleave:P},T=(_,I,K)=>{_&&Object.entries(I).forEach(([B,G])=>{_[K](B,G)})};return Ue(p,(_,I)=>{T(_,z,"addEventListener"),T(I,z,"removeEventListener"),_&&_.setAttribute("aria-describedby",g.value)}),ei(()=>{T(p.value,z,"removeEventListener"),document.removeEventListener("mouseup",M)}),(_,I)=>_.nowrap?(Y(),Ie(v(NX),{key:0,"set-ref":w,"only-child":""},{default:Te(()=>[ze(_.$slots,"default")]),_:3})):(Y(),fe("button",An({key:1,ref_key:"triggerRef",ref:p},_.$attrs),[ze(_.$slots,"default")],16))}});var EX=ct(LX,[["__file","trigger.vue"]]);const DX=xe({name:"ElTooltipV2"}),OX=xe({...DX,props:pX,setup(i){const l=ss(i),c=Hn(er(l,Object.keys(sv))),d=Hn(er(l,Object.keys(ov))),p=Hn(er(l,Object.keys(rv))),g=Hn(er(l,Object.keys(av)));return(b,w)=>(Y(),Ie(vX,Cr(Xl(p)),{default:Te(({open:M})=>[ye(EX,An(g,{nowrap:""}),{default:Te(()=>[ze(b.$slots,"trigger")]),_:3},16),(Y(),Ie(mu,{to:b.to,disabled:!b.teleported},[b.fullTransition?(Y(),Ie(Ki,Cr(An({key:0},b.transitionProps)),{default:Te(()=>[b.alwaysOn||M?(Y(),Ie(ew,Cr(An({key:0},d)),{arrow:Te(({style:C,side:P})=>[b.showArrow?(Y(),Ie(Q1,An({key:0},c,{style:C,side:P}),null,16,["style","side"])):De("v-if",!0)]),default:Te(()=>[ze(b.$slots,"default")]),_:3},16)):De("v-if",!0)]),_:2},1040)):(Y(),fe($t,{key:1},[b.alwaysOn||M?(Y(),Ie(ew,Cr(An({key:0},d)),{arrow:Te(({style:C,side:P})=>[b.showArrow?(Y(),Ie(Q1,An({key:0},c,{style:C,side:P}),null,16,["style","side"])):De("v-if",!0)]),default:Te(()=>[ze(b.$slots,"default")]),_:3},16)):De("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var RX=ct(OX,[["__file","tooltip.vue"]]);const IX=gn(RX),rM="left-check-change",aM="right-check-change",Rl=lt({data:{type:Ae(Array),default:()=>[]},titles:{type:Ae(Array),default:()=>[]},buttonTexts:{type:Ae(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Ae(Function)},leftDefaultChecked:{type:Ae(Array),default:()=>[]},rightDefaultChecked:{type:Ae(Array),default:()=>[]},renderContent:{type:Ae(Function)},modelValue:{type:Ae(Array),default:()=>[]},format:{type:Ae(Object),default:()=>({})},filterable:Boolean,props:{type:Ae(Object),default:()=>pi({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),Ug=(i,o)=>[i,o].every(St)||St(i)&&Xi(o),FX={[si]:(i,o,l)=>[i,l].every(St)&&["left","right"].includes(o),[wn]:i=>St(i),[rM]:Ug,[aM]:Ug},Yg="checked-change",BX=lt({data:Rl.data,optionRender:{type:Ae(Function)},placeholder:String,title:String,filterable:Boolean,format:Rl.format,filterMethod:Rl.filterMethod,defaultChecked:Rl.leftDefaultChecked,props:Rl.props}),$X={[Yg]:Ug},Zc=i=>{const o={label:"label",key:"key",disabled:"disabled"};return j(()=>({...o,...i.props}))},VX=(i,o,l)=>{const c=Zc(i),d=j(()=>i.data.filter(C=>Xt(i.filterMethod)?i.filterMethod(o.query,C):String(C[c.value.label]||C[c.value.key]).toLowerCase().includes(o.query.toLowerCase()))),p=j(()=>d.value.filter(C=>!C[c.value.disabled])),g=j(()=>{const C=o.checked.length,P=i.data.length,{noChecked:A,hasChecked:O}=i.format;return A&&O?C>0?O.replace(/\${checked}/g,C.toString()).replace(/\${total}/g,P.toString()):A.replace(/\${total}/g,P.toString()):`${C}/${P}`}),b=j(()=>{const C=o.checked.length;return C>0&&C<p.value.length}),w=()=>{const C=p.value.map(P=>P[c.value.key]);o.allChecked=C.length>0&&C.every(P=>o.checked.includes(P))},M=C=>{o.checked=C?p.value.map(P=>P[c.value.key]):[]};return Ue(()=>o.checked,(C,P)=>{if(w(),o.checkChangeByUser){const A=C.concat(P).filter(O=>!C.includes(O)||!P.includes(O));l(Yg,C,A)}else l(Yg,C),o.checkChangeByUser=!0}),Ue(p,()=>{w()}),Ue(()=>i.data,()=>{const C=[],P=d.value.map(A=>A[c.value.key]);o.checked.forEach(A=>{P.includes(A)&&C.push(A)}),o.checkChangeByUser=!1,o.checked=C}),Ue(()=>i.defaultChecked,(C,P)=>{if(P&&C.length===P.length&&C.every(R=>P.includes(R)))return;const A=[],O=p.value.map(R=>R[c.value.key]);C.forEach(R=>{O.includes(R)&&A.push(R)}),o.checkChangeByUser=!1,o.checked=A},{immediate:!0}),{filteredData:d,checkableData:p,checkedSummary:g,isIndeterminate:b,updateAllChecked:w,handleAllCheckedChange:M}},zX=(i,o)=>({onSourceCheckedChange:(d,p)=>{i.leftChecked=d,p&&o(rM,d,p)},onTargetCheckedChange:(d,p)=>{i.rightChecked=d,p&&o(aM,d,p)}}),_X=i=>{const o=Zc(i),l=j(()=>i.data.reduce((p,g)=>(p[g[o.value.key]]=g)&&p,{})),c=j(()=>i.data.filter(p=>!i.modelValue.includes(p[o.value.key]))),d=j(()=>i.targetOrder==="original"?i.data.filter(p=>i.modelValue.includes(p[o.value.key])):i.modelValue.reduce((p,g)=>{const b=l.value[g];return b&&p.push(b),p},[]));return{sourceData:c,targetData:d}},KX=(i,o,l)=>{const c=Zc(i),d=(b,w,M)=>{l(wn,b),l(si,b,w,M)};return{addToLeft:()=>{const b=i.modelValue.slice();o.rightChecked.forEach(w=>{const M=b.indexOf(w);M>-1&&b.splice(M,1)}),d(b,"left",o.rightChecked)},addToRight:()=>{let b=i.modelValue.slice();const w=i.data.filter(M=>{const C=M[c.value.key];return o.leftChecked.includes(C)&&!i.modelValue.includes(C)}).map(M=>M[c.value.key]);b=i.targetOrder==="unshift"?w.concat(b):b.concat(w),i.targetOrder==="original"&&(b=i.data.filter(M=>b.includes(M[c.value.key])).map(M=>M[c.value.key])),d(b,"right",o.leftChecked)}}},HX=xe({name:"ElTransferPanel"}),jX=xe({...HX,props:BX,emits:$X,setup(i,{expose:o,emit:l}){const c=i,d=Qi(),p=({option:I})=>I,{t:g}=Bn(),b=Qe("transfer"),w=Hn({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),M=Zc(c),{filteredData:C,checkedSummary:P,isIndeterminate:A,handleAllCheckedChange:O}=VX(c,w,l),R=j(()=>!go(w.query)&&go(C.value)),N=j(()=>!go(d.default()[0].children)),{checked:z,allChecked:T,query:_}=ss(w);return o({query:_}),(I,K)=>(Y(),fe("div",{class:Z(v(b).b("panel"))},[pe("p",{class:Z(v(b).be("panel","header"))},[ye(v(Po),{modelValue:v(T),"onUpdate:modelValue":K[0]||(K[0]=B=>ri(T)?T.value=B:null),indeterminate:v(A),"validate-event":!1,onChange:v(O)},{default:Te(()=>[Tn(dt(I.title)+" ",1),pe("span",null,dt(v(P)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),pe("div",{class:Z([v(b).be("panel","body"),v(b).is("with-footer",v(N))])},[I.filterable?(Y(),Ie(v(bs),{key:0,modelValue:v(_),"onUpdate:modelValue":K[1]||(K[1]=B=>ri(_)?_.value=B:null),class:Z(v(b).be("panel","filter")),size:"default",placeholder:I.placeholder,"prefix-icon":v(MR),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):De("v-if",!0),ln(ye(v(hk),{modelValue:v(z),"onUpdate:modelValue":K[2]||(K[2]=B=>ri(z)?z.value=B:null),"validate-event":!1,class:Z([v(b).is("filterable",I.filterable),v(b).be("panel","list")])},{default:Te(()=>[(Y(!0),fe($t,null,Rn(v(C),B=>(Y(),Ie(v(Po),{key:B[v(M).key],class:Z(v(b).be("panel","item")),value:B[v(M).key],disabled:B[v(M).disabled],"validate-event":!1},{default:Te(()=>{var G;return[ye(p,{option:(G=I.optionRender)==null?void 0:G.call(I,B)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[$n,!v(R)&&!v(go)(I.data)]]),ln(pe("p",{class:Z(v(b).be("panel","empty"))},dt(v(R)?v(g)("el.transfer.noMatch"):v(g)("el.transfer.noData")),3),[[$n,v(R)||v(go)(I.data)]])],2),v(N)?(Y(),fe("p",{key:0,class:Z(v(b).be("panel","footer"))},[ze(I.$slots,"default")],2)):De("v-if",!0)],2))}});var tw=ct(jX,[["__file","transfer-panel.vue"]]);const qX={key:0},GX={key:0},WX=xe({name:"ElTransfer"}),UX=xe({...WX,props:Rl,emits:FX,setup(i,{expose:o,emit:l}){const c=i,d=Qi(),{t:p}=Bn(),g=Qe("transfer"),{formItem:b}=ks(),w=Hn({leftChecked:[],rightChecked:[]}),M=Zc(c),{sourceData:C,targetData:P}=_X(c),{onSourceCheckedChange:A,onTargetCheckedChange:O}=zX(w,l),{addToLeft:R,addToRight:N}=KX(c,w,l),z=ne(),T=ne(),_=J=>{switch(J){case"left":z.value.query="";break;case"right":T.value.query="";break}},I=j(()=>c.buttonTexts.length===2),K=j(()=>c.titles[0]||p("el.transfer.titles.0")),B=j(()=>c.titles[1]||p("el.transfer.titles.1")),G=j(()=>c.filterPlaceholder||p("el.transfer.filterPlaceholder"));Ue(()=>c.modelValue,()=>{var J;c.validateEvent&&((J=b==null?void 0:b.validate)==null||J.call(b,"change").catch(ee=>void 0))});const $=j(()=>J=>c.renderContent?c.renderContent(jt,J):d.default?d.default({option:J}):jt("span",J[M.value.label]||J[M.value.key]));return o({clearQuery:_,leftPanel:z,rightPanel:T}),(J,ee)=>(Y(),fe("div",{class:Z(v(g).b())},[ye(tw,{ref_key:"leftPanel",ref:z,data:v(C),"option-render":v($),placeholder:v(G),title:v(K),filterable:J.filterable,format:J.format,"filter-method":J.filterMethod,"default-checked":J.leftDefaultChecked,props:c.props,onCheckedChange:v(A)},{default:Te(()=>[ze(J.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),pe("div",{class:Z(v(g).e("buttons"))},[ye(v(Zi),{type:"primary",class:Z([v(g).e("button"),v(g).is("with-texts",v(I))]),disabled:v(go)(w.rightChecked),onClick:v(R)},{default:Te(()=>[ye(v(Et),null,{default:Te(()=>[ye(v(ba))]),_:1}),v(Ri)(J.buttonTexts[0])?De("v-if",!0):(Y(),fe("span",qX,dt(J.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ye(v(Zi),{type:"primary",class:Z([v(g).e("button"),v(g).is("with-texts",v(I))]),disabled:v(go)(w.leftChecked),onClick:v(N)},{default:Te(()=>[v(Ri)(J.buttonTexts[1])?De("v-if",!0):(Y(),fe("span",GX,dt(J.buttonTexts[1]),1)),ye(v(Et),null,{default:Te(()=>[ye(v(Ts))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ye(tw,{ref_key:"rightPanel",ref:T,data:v(P),"option-render":v($),placeholder:v(G),filterable:J.filterable,format:J.format,"filter-method":J.filterMethod,title:v(B),"default-checked":J.rightDefaultChecked,props:c.props,onCheckedChange:v(O)},{default:Te(()=>[ze(J.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var YX=ct(UX,[["__file","transfer.vue"]]);const XX=gn(YX),Wl="$treeNodeId",nw=function(i,o){!o||o[Wl]||Object.defineProperty(o,Wl,{value:i.id,enumerable:!1,configurable:!1,writable:!1})},lv=function(i,o){return i?o[i]:o[Wl]},Xg=(i,o,l)=>{const c=i.value.currentNode;l();const d=i.value.currentNode;c!==d&&o("current-change",d?d.data:null,d)},Zg=i=>{let o=!0,l=!0,c=!0;for(let d=0,p=i.length;d<p;d++){const g=i[d];(g.checked!==!0||g.indeterminate)&&(o=!1,g.disabled||(c=!1)),(g.checked!==!1||g.indeterminate)&&(l=!1)}return{all:o,none:l,allWithoutDisable:c,half:!o&&!l}},_u=function(i){if(i.childNodes.length===0||i.loading)return;const{all:o,none:l,half:c}=Zg(i.childNodes);o?(i.checked=!0,i.indeterminate=!1):c?(i.checked=!1,i.indeterminate=!0):l&&(i.checked=!1,i.indeterminate=!1);const d=i.parent;!d||d.level===0||i.store.checkStrictly||_u(d)},Ah=function(i,o){const l=i.store.props,c=i.data||{},d=l[o];if(typeof d=="function")return d(c,i);if(typeof d=="string")return c[d];if(typeof d>"u"){const p=c[o];return p===void 0?"":p}};let ZX=0,Jg=class td{constructor(o){this.id=ZX++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const l in o)Fn(o,l)&&(this[l]=o[l]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const o=this.store;if(!o)throw new Error("[Node]store is required!");o.registerNode(this);const l=o.props;if(l&&typeof l.isLeaf<"u"){const p=Ah(this,"isLeaf");typeof p=="boolean"&&(this.isLeafByUser=p)}if(o.lazy!==!0&&this.data?(this.setData(this.data),o.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&o.lazy&&o.defaultExpandAll&&this.expand(),Array.isArray(this.data)||nw(this,this.data),!this.data)return;const c=o.defaultExpandedKeys,d=o.key;d&&c&&c.includes(this.key)&&this.expand(null,o.autoExpandParent),d&&o.currentNodeKey!==void 0&&this.key===o.currentNodeKey&&(o.currentNode=this,o.currentNode.isCurrent=!0),o.lazy&&o._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(o){Array.isArray(o)||nw(this,o),this.data=o,this.childNodes=[];let l;this.level===0&&Array.isArray(this.data)?l=this.data:l=Ah(this,"children")||[];for(let c=0,d=l.length;c<d;c++)this.insertChild({data:l[c]})}get label(){return Ah(this,"label")}get key(){const o=this.store.key;return this.data?this.data[o]:null}get disabled(){return Ah(this,"disabled")}get nextSibling(){const o=this.parent;if(o){const l=o.childNodes.indexOf(this);if(l>-1)return o.childNodes[l+1]}return null}get previousSibling(){const o=this.parent;if(o){const l=o.childNodes.indexOf(this);if(l>-1)return l>0?o.childNodes[l-1]:null}return null}contains(o,l=!0){return(this.childNodes||[]).some(c=>c===o||l&&c.contains(o))}remove(){const o=this.parent;o&&o.removeChild(this)}insertChild(o,l,c){if(!o)throw new Error("InsertChild error: child is required.");if(!(o instanceof td)){if(!c){const d=this.getChildren(!0);d.includes(o.data)||(typeof l>"u"||l<0?d.push(o.data):d.splice(l,0,o.data))}Object.assign(o,{parent:this,store:this.store}),o=Hn(new td(o)),o instanceof td&&o.initialize()}o.level=this.level+1,typeof l>"u"||l<0?this.childNodes.push(o):this.childNodes.splice(l,0,o),this.updateLeafState()}insertBefore(o,l){let c;l&&(c=this.childNodes.indexOf(l)),this.insertChild(o,c)}insertAfter(o,l){let c;l&&(c=this.childNodes.indexOf(l),c!==-1&&(c+=1)),this.insertChild(o,c)}removeChild(o){const l=this.getChildren()||[],c=l.indexOf(o.data);c>-1&&l.splice(c,1);const d=this.childNodes.indexOf(o);d>-1&&(this.store&&this.store.deregisterNode(o),o.parent=null,this.childNodes.splice(d,1)),this.updateLeafState()}removeChildByData(o){let l=null;for(let c=0;c<this.childNodes.length;c++)if(this.childNodes[c].data===o){l=this.childNodes[c];break}l&&this.removeChild(l)}expand(o,l){const c=()=>{if(l){let d=this.parent;for(;d.level>0;)d.expanded=!0,d=d.parent}this.expanded=!0,o&&o(),this.childNodes.forEach(d=>{d.canFocus=!0})};this.shouldLoadData()?this.loadData(d=>{Array.isArray(d)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||_u(this),c())}):c()}doCreateChildren(o,l={}){o.forEach(c=>{this.insertChild(Object.assign({data:c},l),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(o=>{o.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const o=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!o||o.length===0;return}this.isLeaf=!1}setChecked(o,l,c,d){if(this.indeterminate=o==="half",this.checked=o===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:g,allWithoutDisable:b}=Zg(this.childNodes);!this.isLeaf&&!g&&b&&(this.checked=!1,o=!1);const w=()=>{if(l){const M=this.childNodes;for(let A=0,O=M.length;A<O;A++){const R=M[A];d=d||o!==!1;const N=R.disabled?R.checked:d;R.setChecked(N,l,!0,d)}const{half:C,all:P}=Zg(M);P||(this.checked=P,this.indeterminate=C)}};if(this.shouldLoadData()){this.loadData(()=>{w(),_u(this)},{checked:o!==!1});return}else w()}const p=this.parent;!p||p.level===0||c||_u(p)}getChildren(o=!1){if(this.level===0)return this.data;const l=this.data;if(!l)return null;const c=this.store.props;let d="children";return c&&(d=c.children||"children"),l[d]===void 0&&(l[d]=null),o&&!l[d]&&(l[d]=[]),l[d]}updateChildren(){const o=this.getChildren()||[],l=this.childNodes.map(p=>p.data),c={},d=[];o.forEach((p,g)=>{const b=p[Wl];!!b&&l.findIndex(M=>M[Wl]===b)>=0?c[b]={index:g,data:p}:d.push({index:g,data:p})}),this.store.lazy||l.forEach(p=>{c[p[Wl]]||this.removeChildByData(p)}),d.forEach(({index:p,data:g})=>{this.insertChild({data:g},p)}),this.updateLeafState()}loadData(o,l={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(l).length)){this.loading=!0;const c=p=>{this.childNodes=[],this.doCreateChildren(p,l),this.loaded=!0,this.loading=!1,this.updateLeafState(),o&&o.call(this,p)},d=()=>{this.loading=!1};this.store.load(this,c,d)}else o&&o.call(this)}eachNode(o){const l=[this];for(;l.length;){const c=l.shift();l.unshift(...c.childNodes),o(c)}}reInitChecked(){this.store.checkStrictly||_u(this)}};class JX{constructor(o){this.currentNode=null,this.currentNodeKey=null;for(const l in o)Fn(o,l)&&(this[l]=o[l]);this.nodesMap={}}initialize(){if(this.root=new Jg({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const o=this.load;o(this.root,l=>{this.root.doCreateChildren(l),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(o){const l=this.filterNodeMethod,c=this.lazy,d=function(p){const g=p.root?p.root.childNodes:p.childNodes;if(g.forEach(b=>{b.visible=l.call(b,o,b.data,b),d(b)}),!p.visible&&g.length){let b=!0;b=!g.some(w=>w.visible),p.root?p.root.visible=b===!1:p.visible=b===!1}o&&p.visible&&!p.isLeaf&&(!c||p.loaded)&&p.expand()};d(this)}setData(o){o!==this.root.data?(this.root.setData(o),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(o){if(o instanceof Jg)return o;const l=yn(o)?lv(this.key,o):o;return this.nodesMap[l]||null}insertBefore(o,l){const c=this.getNode(l);c.parent.insertBefore({data:o},c)}insertAfter(o,l){const c=this.getNode(l);c.parent.insertAfter({data:o},c)}remove(o){const l=this.getNode(o);l&&l.parent&&(l===this.currentNode&&(this.currentNode=null),l.parent.removeChild(l))}append(o,l){const c=sl(l)?this.root:this.getNode(l);c&&c.insertChild({data:o})}_initDefaultCheckedNodes(){const o=this.defaultCheckedKeys||[],l=this.nodesMap;o.forEach(c=>{const d=l[c];d&&d.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(o){(this.defaultCheckedKeys||[]).includes(o.key)&&o.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(o){o!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=o,this._initDefaultCheckedNodes())}registerNode(o){const l=this.key;!o||!o.data||(l?o.key!==void 0&&(this.nodesMap[o.key]=o):this.nodesMap[o.id]=o)}deregisterNode(o){!this.key||!o||!o.data||(o.childNodes.forEach(c=>{this.deregisterNode(c)}),delete this.nodesMap[o.key])}getCheckedNodes(o=!1,l=!1){const c=[],d=function(p){(p.root?p.root.childNodes:p.childNodes).forEach(b=>{(b.checked||l&&b.indeterminate)&&(!o||o&&b.isLeaf)&&c.push(b.data),d(b)})};return d(this),c}getCheckedKeys(o=!1){return this.getCheckedNodes(o).map(l=>(l||{})[this.key])}getHalfCheckedNodes(){const o=[],l=function(c){(c.root?c.root.childNodes:c.childNodes).forEach(p=>{p.indeterminate&&o.push(p.data),l(p)})};return l(this),o}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(o=>(o||{})[this.key])}_getAllNodes(){const o=[],l=this.nodesMap;for(const c in l)Fn(l,c)&&o.push(l[c]);return o}updateChildren(o,l){const c=this.nodesMap[o];if(!c)return;const d=c.childNodes;for(let p=d.length-1;p>=0;p--){const g=d[p];this.remove(g.data)}for(let p=0,g=l.length;p<g;p++){const b=l[p];this.append(b,c.data)}}_setCheckedKeys(o,l=!1,c){const d=this._getAllNodes().sort((w,M)=>w.level-M.level),p=Object.create(null),g=Object.keys(c);d.forEach(w=>w.setChecked(!1,!1));const b=w=>{w.childNodes.forEach(M=>{var C;p[M.data[o]]=!0,(C=M.childNodes)!=null&&C.length&&b(M)})};for(let w=0,M=d.length;w<M;w++){const C=d[w],P=C.data[o].toString();if(!g.includes(P)){C.checked&&!p[P]&&C.setChecked(!1,!1);continue}if(C.childNodes.length&&b(C),C.isLeaf||this.checkStrictly){C.setChecked(!0,!1);continue}if(C.setChecked(!0,!0),l){C.setChecked(!1,!1);const O=function(R){R.childNodes.forEach(z=>{z.isLeaf||z.setChecked(!1,!1),O(z)})};O(C)}}}setCheckedNodes(o,l=!1){const c=this.key,d={};o.forEach(p=>{d[(p||{})[c]]=!0}),this._setCheckedKeys(c,l,d)}setCheckedKeys(o,l=!1){this.defaultCheckedKeys=o;const c=this.key,d={};o.forEach(p=>{d[p]=!0}),this._setCheckedKeys(c,l,d)}setDefaultExpandedKeys(o){o=o||[],this.defaultExpandedKeys=o,o.forEach(l=>{const c=this.getNode(l);c&&c.expand(null,this.autoExpandParent)})}setChecked(o,l,c){const d=this.getNode(o);d&&d.setChecked(!!l,c)}getCurrentNode(){return this.currentNode}setCurrentNode(o){const l=this.currentNode;l&&(l.isCurrent=!1),this.currentNode=o,this.currentNode.isCurrent=!0}setUserCurrentNode(o,l=!0){const c=o[this.key],d=this.nodesMap[c];this.setCurrentNode(d),l&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(o,l=!0){if(o==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const c=this.getNode(o);c&&(this.setCurrentNode(c),l&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const QX=xe({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(i){const o=Qe("tree"),l=Tt("NodeInstance"),c=Tt("RootTree");return()=>{const d=i.node,{data:p,store:g}=d;return i.renderContent?i.renderContent(jt,{_self:l,node:d,data:p,store:g}):ze(c.ctx.slots,"default",{node:d,data:p},()=>[jt("span",{class:o.be("node","label")},[d.label])])}}});var eZ=ct(QX,[["__file","tree-node-content.vue"]]);function lM(i){const o=Tt("TreeNodeMap",null),l={treeNodeExpand:c=>{i.node!==c&&i.node.collapse()},children:[]};return o&&o.children.push(l),En("TreeNodeMap",l),{broadcastExpanded:c=>{if(i.accordion)for(const d of l.children)d.treeNodeExpand(c)}}}const uM=Symbol("dragEvents");function tZ({props:i,ctx:o,el$:l,dropIndicator$:c,store:d}){const p=Qe("tree"),g=ne({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return En(uM,{treeNodeDragStart:({event:C,treeNode:P})=>{if(typeof i.allowDrag=="function"&&!i.allowDrag(P.node))return C.preventDefault(),!1;C.dataTransfer.effectAllowed="move";try{C.dataTransfer.setData("text/plain","")}catch{}g.value.draggingNode=P,o.emit("node-drag-start",P.node,C)},treeNodeDragOver:({event:C,treeNode:P})=>{const A=P,O=g.value.dropNode;O&&O.node.id!==A.node.id&&xs(O.$el,p.is("drop-inner"));const R=g.value.draggingNode;if(!R||!A)return;let N=!0,z=!0,T=!0,_=!0;typeof i.allowDrop=="function"&&(N=i.allowDrop(R.node,A.node,"prev"),_=z=i.allowDrop(R.node,A.node,"inner"),T=i.allowDrop(R.node,A.node,"next")),C.dataTransfer.dropEffect=z||N||T?"move":"none",(N||z||T)&&(O==null?void 0:O.node.id)!==A.node.id&&(O&&o.emit("node-drag-leave",R.node,O.node,C),o.emit("node-drag-enter",R.node,A.node,C)),N||z||T?g.value.dropNode=A:g.value.dropNode=null,A.node.nextSibling===R.node&&(T=!1),A.node.previousSibling===R.node&&(N=!1),A.node.contains(R.node,!1)&&(z=!1),(R.node===A.node||R.node.contains(A.node))&&(N=!1,z=!1,T=!1);const I=A.$el.querySelector(`.${p.be("node","content")}`).getBoundingClientRect(),K=l.value.getBoundingClientRect();let B;const G=N?z?.25:T?.45:1:-1,$=T?z?.75:N?.55:0:1;let J=-9999;const ee=C.clientY-I.top;ee<I.height*G?B="before":ee>I.height*$?B="after":z?B="inner":B="none";const Q=A.$el.querySelector(`.${p.be("node","expand-icon")}`).getBoundingClientRect(),X=c.value;B==="before"?J=Q.top-K.top:B==="after"&&(J=Q.bottom-K.top),X.style.top=`${J}px`,X.style.left=`${Q.right-K.left}px`,B==="inner"?mo(A.$el,p.is("drop-inner")):xs(A.$el,p.is("drop-inner")),g.value.showDropIndicator=B==="before"||B==="after",g.value.allowDrop=g.value.showDropIndicator||_,g.value.dropType=B,o.emit("node-drag-over",R.node,A.node,C)},treeNodeDragEnd:C=>{const{draggingNode:P,dropType:A,dropNode:O}=g.value;if(C.preventDefault(),C.dataTransfer.dropEffect="move",P&&O){const R={data:P.node.data};A!=="none"&&P.node.remove(),A==="before"?O.node.parent.insertBefore(R,O.node):A==="after"?O.node.parent.insertAfter(R,O.node):A==="inner"&&O.node.insertChild(R),A!=="none"&&(d.value.registerNode(R),d.value.key&&P.node.eachNode(N=>{var z;(z=d.value.nodesMap[N.data[d.value.key]])==null||z.setChecked(N.checked,!d.value.checkStrictly)})),xs(O.$el,p.is("drop-inner")),o.emit("node-drag-end",P.node,O.node,A,C),A!=="none"&&o.emit("node-drop",P.node,O.node,A,C)}P&&!O&&o.emit("node-drag-end",P.node,null,A,C),g.value.showDropIndicator=!1,g.value.draggingNode=null,g.value.dropNode=null,g.value.allowDrop=!0}}),{dragState:g}}const nZ=xe({name:"ElTreeNode",components:{ElCollapseTransition:mf,ElCheckbox:Po,NodeContent:eZ,ElIcon:Et,Loading:Na},props:{node:{type:Jg,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(i,o){const l=Qe("tree"),{broadcastExpanded:c}=lM(i),d=Tt("RootTree"),p=ne(!1),g=ne(!1),b=ne(null),w=ne(null),M=ne(null),C=Tt(uM),P=pn();En("NodeInstance",P),i.node.expanded&&(p.value=!0,g.value=!0);const A=d.props.props.children||"children";Ue(()=>{const ee=i.node.data[A];return ee&&[...ee]},()=>{i.node.updateChildren()}),Ue(()=>i.node.indeterminate,ee=>{N(i.node.checked,ee)}),Ue(()=>i.node.checked,ee=>{N(ee,i.node.indeterminate)}),Ue(()=>i.node.childNodes.length,()=>i.node.reInitChecked()),Ue(()=>i.node.expanded,ee=>{Kt(()=>p.value=ee),ee&&(g.value=!0)});const O=ee=>lv(d.props.nodeKey,ee.data),R=ee=>{const Q=i.props.class;if(!Q)return{};let X;if(Xt(Q)){const{data:se}=ee;X=Q(se,ee)}else X=Q;return tn(X)?{[X]:!0}:X},N=(ee,Q)=>{(b.value!==ee||w.value!==Q)&&d.ctx.emit("check-change",i.node.data,ee,Q),b.value=ee,w.value=Q},z=ee=>{Xg(d.store,d.ctx.emit,()=>d.store.value.setCurrentNode(i.node)),d.currentNode.value=i.node,d.props.expandOnClickNode&&_(),d.props.checkOnClickNode&&!i.node.disabled&&I(null,{target:{checked:!i.node.checked}}),d.ctx.emit("node-click",i.node.data,i.node,P,ee)},T=ee=>{d.instance.vnode.props.onNodeContextmenu&&(ee.stopPropagation(),ee.preventDefault()),d.ctx.emit("node-contextmenu",ee,i.node.data,i.node,P)},_=()=>{i.node.isLeaf||(p.value?(d.ctx.emit("node-collapse",i.node.data,i.node,P),i.node.collapse()):(i.node.expand(),o.emit("node-expand",i.node.data,i.node,P)))},I=(ee,Q)=>{i.node.setChecked(Q.target.checked,!d.props.checkStrictly),Kt(()=>{const X=d.store.value;d.ctx.emit("check",i.node.data,{checkedNodes:X.getCheckedNodes(),checkedKeys:X.getCheckedKeys(),halfCheckedNodes:X.getHalfCheckedNodes(),halfCheckedKeys:X.getHalfCheckedKeys()})})};return{ns:l,node$:M,tree:d,expanded:p,childNodeRendered:g,oldChecked:b,oldIndeterminate:w,getNodeKey:O,getNodeClass:R,handleSelectChange:N,handleClick:z,handleContextMenu:T,handleExpandIconClick:_,handleCheckChange:I,handleChildNodeExpand:(ee,Q,X)=>{c(Q),d.ctx.emit("node-expand",ee,Q,X)},handleDragStart:ee=>{d.props.draggable&&C.treeNodeDragStart({event:ee,treeNode:i})},handleDragOver:ee=>{ee.preventDefault(),d.props.draggable&&C.treeNodeDragOver({event:ee,treeNode:{$el:M.value,node:i.node}})},handleDrop:ee=>{ee.preventDefault()},handleDragEnd:ee=>{d.props.draggable&&C.treeNodeDragEnd(ee)},CaretRight:Tx}}}),iZ=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],sZ=["aria-expanded"];function oZ(i,o,l,c,d,p){const g=fn("el-icon"),b=fn("el-checkbox"),w=fn("loading"),M=fn("node-content"),C=fn("el-tree-node"),P=fn("el-collapse-transition");return ln((Y(),fe("div",{ref:"node$",class:Z([i.ns.b("node"),i.ns.is("expanded",i.expanded),i.ns.is("current",i.node.isCurrent),i.ns.is("hidden",!i.node.visible),i.ns.is("focusable",!i.node.disabled),i.ns.is("checked",!i.node.disabled&&i.node.checked),i.getNodeClass(i.node)]),role:"treeitem",tabindex:"-1","aria-expanded":i.expanded,"aria-disabled":i.node.disabled,"aria-checked":i.node.checked,draggable:i.tree.props.draggable,"data-key":i.getNodeKey(i.node),onClick:o[1]||(o[1]=en((...A)=>i.handleClick&&i.handleClick(...A),["stop"])),onContextmenu:o[2]||(o[2]=(...A)=>i.handleContextMenu&&i.handleContextMenu(...A)),onDragstart:o[3]||(o[3]=en((...A)=>i.handleDragStart&&i.handleDragStart(...A),["stop"])),onDragover:o[4]||(o[4]=en((...A)=>i.handleDragOver&&i.handleDragOver(...A),["stop"])),onDragend:o[5]||(o[5]=en((...A)=>i.handleDragEnd&&i.handleDragEnd(...A),["stop"])),onDrop:o[6]||(o[6]=en((...A)=>i.handleDrop&&i.handleDrop(...A),["stop"]))},[pe("div",{class:Z(i.ns.be("node","content")),style:Ft({paddingLeft:(i.node.level-1)*i.tree.props.indent+"px"})},[i.tree.props.icon||i.CaretRight?(Y(),Ie(g,{key:0,class:Z([i.ns.be("node","expand-icon"),i.ns.is("leaf",i.node.isLeaf),{expanded:!i.node.isLeaf&&i.expanded}]),onClick:en(i.handleExpandIconClick,["stop"])},{default:Te(()=>[(Y(),Ie(kn(i.tree.props.icon||i.CaretRight)))]),_:1},8,["class","onClick"])):De("v-if",!0),i.showCheckbox?(Y(),Ie(b,{key:1,"model-value":i.node.checked,indeterminate:i.node.indeterminate,disabled:!!i.node.disabled,onClick:o[0]||(o[0]=en(()=>{},["stop"])),onChange:i.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):De("v-if",!0),i.node.loading?(Y(),Ie(g,{key:2,class:Z([i.ns.be("node","loading-icon"),i.ns.is("loading")])},{default:Te(()=>[ye(w)]),_:1},8,["class"])):De("v-if",!0),ye(M,{node:i.node,"render-content":i.renderContent},null,8,["node","render-content"])],6),ye(P,null,{default:Te(()=>[!i.renderAfterExpand||i.childNodeRendered?ln((Y(),fe("div",{key:0,class:Z(i.ns.be("node","children")),role:"group","aria-expanded":i.expanded},[(Y(!0),fe($t,null,Rn(i.node.childNodes,A=>(Y(),Ie(C,{key:i.getNodeKey(A),"render-content":i.renderContent,"render-after-expand":i.renderAfterExpand,"show-checkbox":i.showCheckbox,node:A,accordion:i.accordion,props:i.props,onNodeExpand:i.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,sZ)),[[$n,i.expanded]]):De("v-if",!0)]),_:1})],42,iZ)),[[$n,i.node.visible]])}var rZ=ct(nZ,[["render",oZ],["__file","tree-node.vue"]]);function aZ({el$:i},o){const l=Qe("tree"),c=oi([]),d=oi([]);un(()=>{g()}),Or(()=>{c.value=Array.from(i.value.querySelectorAll("[role=treeitem]")),d.value=Array.from(i.value.querySelectorAll("input[type=checkbox]"))}),Ue(d,b=>{b.forEach(w=>{w.setAttribute("tabindex","-1")})}),ii(i,"keydown",b=>{const w=b.target;if(!w.className.includes(l.b("node")))return;const M=b.code;c.value=Array.from(i.value.querySelectorAll(`.${l.is("focusable")}[role=treeitem]`));const C=c.value.indexOf(w);let P;if([Gt.up,Gt.down].includes(M)){if(b.preventDefault(),M===Gt.up){P=C===-1?0:C!==0?C-1:c.value.length-1;const O=P;for(;!o.value.getNode(c.value[P].dataset.key).canFocus;){if(P--,P===O){P=-1;break}P<0&&(P=c.value.length-1)}}else{P=C===-1?0:C<c.value.length-1?C+1:0;const O=P;for(;!o.value.getNode(c.value[P].dataset.key).canFocus;){if(P++,P===O){P=-1;break}P>=c.value.length&&(P=0)}}P!==-1&&c.value[P].focus()}[Gt.left,Gt.right].includes(M)&&(b.preventDefault(),w.click());const A=w.querySelector('[type="checkbox"]');[Gt.enter,Gt.space].includes(M)&&A&&(b.preventDefault(),A.click())});const g=()=>{var b;c.value=Array.from(i.value.querySelectorAll(`.${l.is("focusable")}[role=treeitem]`)),d.value=Array.from(i.value.querySelectorAll("input[type=checkbox]"));const w=i.value.querySelectorAll(`.${l.is("checked")}[role=treeitem]`);if(w.length){w[0].setAttribute("tabindex","0");return}(b=c.value[0])==null||b.setAttribute("tabindex","0")}}const lZ=xe({name:"ElTree",components:{ElTreeNode:rZ},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Xn}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(i,o){const{t:l}=Bn(),c=Qe("tree"),d=Tt(Pu,null),p=ne(new JX({key:i.nodeKey,data:i.data,lazy:i.lazy,props:i.props,load:i.load,currentNodeKey:i.currentNodeKey,checkStrictly:i.checkStrictly,checkDescendants:i.checkDescendants,defaultCheckedKeys:i.defaultCheckedKeys,defaultExpandedKeys:i.defaultExpandedKeys,autoExpandParent:i.autoExpandParent,defaultExpandAll:i.defaultExpandAll,filterNodeMethod:i.filterNodeMethod}));p.value.initialize();const g=ne(p.value.root),b=ne(null),w=ne(null),M=ne(null),{broadcastExpanded:C}=lM(i),{dragState:P}=tZ({props:i,ctx:o,el$:w,dropIndicator$:M,store:p});aZ({el$:w},p);const A=j(()=>{const{childNodes:re}=g.value,te=d?d.hasFilteredOptions!==0:!1;return(!re||re.length===0||re.every(({visible:ue})=>!ue))&&!te});Ue(()=>i.currentNodeKey,re=>{p.value.setCurrentNodeKey(re)}),Ue(()=>i.defaultCheckedKeys,re=>{p.value.setDefaultCheckedKey(re)}),Ue(()=>i.defaultExpandedKeys,re=>{p.value.setDefaultExpandedKeys(re)}),Ue(()=>i.data,re=>{p.value.setData(re)},{deep:!0}),Ue(()=>i.checkStrictly,re=>{p.value.checkStrictly=re});const O=re=>{if(!i.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");p.value.filter(re)},R=re=>lv(i.nodeKey,re.data),N=re=>{if(!i.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const te=p.value.getNode(re);if(!te)return[];const ue=[te.data];let be=te.parent;for(;be&&be!==g.value;)ue.push(be.data),be=be.parent;return ue.reverse()},z=(re,te)=>p.value.getCheckedNodes(re,te),T=re=>p.value.getCheckedKeys(re),_=()=>{const re=p.value.getCurrentNode();return re?re.data:null},I=()=>{if(!i.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const re=_();return re?re[i.nodeKey]:null},K=(re,te)=>{if(!i.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");p.value.setCheckedNodes(re,te)},B=(re,te)=>{if(!i.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");p.value.setCheckedKeys(re,te)},G=(re,te,ue)=>{p.value.setChecked(re,te,ue)},$=()=>p.value.getHalfCheckedNodes(),J=()=>p.value.getHalfCheckedKeys(),ee=(re,te=!0)=>{if(!i.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Xg(p,o.emit,()=>p.value.setUserCurrentNode(re,te))},Q=(re,te=!0)=>{if(!i.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Xg(p,o.emit,()=>p.value.setCurrentNodeKey(re,te))},X=re=>p.value.getNode(re),se=re=>{p.value.remove(re)},de=(re,te)=>{p.value.append(re,te)},ve=(re,te)=>{p.value.insertBefore(re,te)},me=(re,te)=>{p.value.insertAfter(re,te)},ae=(re,te,ue)=>{C(te),o.emit("node-expand",re,te,ue)},ie=(re,te)=>{if(!i.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");p.value.updateChildren(re,te)};return En("RootTree",{ctx:o,props:i,store:p,root:g,currentNode:b,instance:pn()}),En(lr,void 0),{ns:c,store:p,root:g,currentNode:b,dragState:P,el$:w,dropIndicator$:M,isEmpty:A,filter:O,getNodeKey:R,getNodePath:N,getCheckedNodes:z,getCheckedKeys:T,getCurrentNode:_,getCurrentKey:I,setCheckedNodes:K,setCheckedKeys:B,setChecked:G,getHalfCheckedNodes:$,getHalfCheckedKeys:J,setCurrentNode:ee,setCurrentKey:Q,t:l,getNode:X,remove:se,append:de,insertBefore:ve,insertAfter:me,handleNodeExpand:ae,updateKeyChildren:ie}}});function uZ(i,o,l,c,d,p){const g=fn("el-tree-node");return Y(),fe("div",{ref:"el$",class:Z([i.ns.b(),i.ns.is("dragging",!!i.dragState.draggingNode),i.ns.is("drop-not-allow",!i.dragState.allowDrop),i.ns.is("drop-inner",i.dragState.dropType==="inner"),{[i.ns.m("highlight-current")]:i.highlightCurrent}]),role:"tree"},[(Y(!0),fe($t,null,Rn(i.root.childNodes,b=>(Y(),Ie(g,{key:i.getNodeKey(b),node:b,props:i.props,accordion:i.accordion,"render-after-expand":i.renderAfterExpand,"show-checkbox":i.showCheckbox,"render-content":i.renderContent,onNodeExpand:i.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),i.isEmpty?(Y(),fe("div",{key:0,class:Z(i.ns.e("empty-block"))},[ze(i.$slots,"empty",{},()=>{var b;return[pe("span",{class:Z(i.ns.e("empty-text"))},dt((b=i.emptyText)!=null?b:i.t("el.tree.emptyText")),3)]})],2)):De("v-if",!0),ln(pe("div",{ref:"dropIndicator$",class:Z(i.ns.e("drop-indicator"))},null,2),[[$n,i.dragState.showDropIndicator]])],2)}var nd=ct(lZ,[["render",uZ],["__file","tree.vue"]]);nd.install=i=>{i.component(nd.name,nd)};const Rd=nd,cZ=Rd,hZ=(i,{attrs:o,emit:l},{select:c,tree:d,key:p})=>{const g=Qe("tree-select");return Ue(()=>i.data,()=>{i.filterable&&Kt(()=>{var w,M;(M=d.value)==null||M.filter((w=c.value)==null?void 0:w.states.inputValue)})},{flush:"post"}),{...er(ss(i),Object.keys(ll.props)),...o,"onUpdate:modelValue":w=>l(wn,w),valueKey:p,popperClass:j(()=>{const w=[g.e("popper")];return i.popperClass&&w.push(i.popperClass),w.join(" ")}),filterMethod:(w="")=>{var M;i.filterMethod?i.filterMethod(w):i.remoteMethod?i.remoteMethod(w):(M=d.value)==null||M.filter(w)}}},dZ=xe({extends:Pd,setup(i,o){const l=Pd.setup(i,o);delete l.selectOptionClick;const c=pn().proxy;return Kt(()=>{l.select.states.cachedOptions.get(c.value)||l.select.onOptionCreate(c)}),l},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function Qg(i){return i||i===0}function uv(i){return Array.isArray(i)&&i.length}function $u(i){return Array.isArray(i)?i:Qg(i)?[i]:[]}function id(i,o,l,c,d){for(let p=0;p<i.length;p++){const g=i[p];if(o(g,p,i,d))return c?c(g,p,i,d):g;{const b=l(g);if(uv(b)){const w=id(b,o,l,c,g);if(w)return w}}}}function em(i,o,l,c){for(let d=0;d<i.length;d++){const p=i[d];o(p,d,i,c);const g=l(p);uv(g)&&em(g,o,l,p)}}const fZ=(i,{attrs:o,slots:l,emit:c},{select:d,tree:p,key:g})=>{Ue(()=>i.modelValue,()=>{i.showCheckbox&&Kt(()=>{const P=p.value;P&&!ws(P.getCheckedKeys(),$u(i.modelValue))&&P.setCheckedKeys($u(i.modelValue))})},{immediate:!0,deep:!0});const b=j(()=>({value:g.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...i.props})),w=(P,A)=>{var O;const R=b.value[P];return Xt(R)?R(A,(O=p.value)==null?void 0:O.getNode(w("value",A))):A[R]},M=$u(i.modelValue).map(P=>id(i.data||[],A=>w("value",A)===P,A=>w("children",A),(A,O,R,N)=>N&&w("value",N))).filter(P=>Qg(P)),C=j(()=>{if(!i.renderAfterExpand&&!i.lazy)return[];const P=[];return em(i.data.concat(i.cacheData),A=>{const O=w("value",A);P.push({value:O,currentLabel:w("label",A),isDisabled:w("disabled",A)})},A=>w("children",A)),P});return{...er(ss(i),Object.keys(Rd.props)),...o,nodeKey:g,expandOnClickNode:j(()=>!i.checkStrictly&&i.expandOnClickNode),defaultExpandedKeys:j(()=>i.defaultExpandedKeys?i.defaultExpandedKeys.concat(M):M),renderContent:(P,{node:A,data:O,store:R})=>P(dZ,{value:w("value",O),label:w("label",O),disabled:w("disabled",O)},i.renderContent?()=>i.renderContent(P,{node:A,data:O,store:R}):l.default?()=>l.default({node:A,data:O,store:R}):void 0),filterNodeMethod:(P,A,O)=>i.filterNodeMethod?i.filterNodeMethod(P,A,O):P?new RegExp(Um(P),"i").test(w("label",A)||""):!0,onNodeClick:(P,A,O)=>{var R,N,z,T;if((R=o.onNodeClick)==null||R.call(o,P,A,O),!(i.showCheckbox&&i.checkOnClickNode)){if(!i.showCheckbox&&(i.checkStrictly||A.isLeaf)){if(!w("disabled",P)){const _=(N=d.value)==null?void 0:N.states.options.get(w("value",P));(z=d.value)==null||z.handleOptionSelect(_)}}else i.expandOnClickNode&&O.proxy.handleExpandIconClick();(T=d.value)==null||T.focus()}},onCheck:(P,A)=>{var O;if(!i.showCheckbox)return;const R=w("value",P),N={};em([p.value.store.root],I=>N[I.key]=I,I=>I.childNodes);const z=A.checkedKeys,T=i.multiple?$u(i.modelValue).filter(I=>!(I in N)&&!z.includes(I)):[],_=T.concat(z);if(i.checkStrictly)c(wn,i.multiple?_:_.includes(R)?R:void 0);else if(i.multiple)c(wn,T.concat(p.value.getCheckedKeys(!0)));else{const I=id([P],G=>!uv(w("children",G))&&!w("disabled",G),G=>w("children",G)),K=I?w("value",I):void 0,B=Qg(i.modelValue)&&!!id([P],G=>w("value",G)===i.modelValue,G=>w("children",G));c(wn,K===i.modelValue||B?void 0:K)}Kt(()=>{var I;const K=$u(i.modelValue);p.value.setCheckedKeys(K),(I=o.onCheck)==null||I.call(o,P,{checkedKeys:p.value.getCheckedKeys(),checkedNodes:p.value.getCheckedNodes(),halfCheckedKeys:p.value.getHalfCheckedKeys(),halfCheckedNodes:p.value.getHalfCheckedNodes()})}),(O=d.value)==null||O.focus()},cacheOptions:C}};var pZ=xe({props:{data:{type:Array,default:()=>[]}},setup(i){const o=Tt(Pu);return Ue(()=>i.data,()=>{var l;i.data.forEach(d=>{o.states.cachedOptions.has(d.value)||o.states.cachedOptions.set(d.value,d)});const c=((l=o.selectRef)==null?void 0:l.querySelectorAll("input"))||[];Array.from(c).includes(document.activeElement)||o.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const gZ=xe({name:"ElTreeSelect",inheritAttrs:!1,props:{...ll.props,...Rd.props,cacheData:{type:Array,default:()=>[]}},setup(i,o){const{slots:l,expose:c}=o,d=ne(),p=ne(),g=j(()=>i.nodeKey||i.valueKey||"value"),b=hZ(i,o,{select:d,tree:p,key:g}),{cacheOptions:w,...M}=fZ(i,o,{select:d,tree:p,key:g}),C=Hn({});return c(C),un(()=>{Object.assign(C,{...er(p.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...er(d.value,["focus","blur"])})}),()=>jt(ll,Hn({...b,ref:P=>d.value=P}),{...l,default:()=>[jt(pZ,{data:w.value}),jt(Rd,Hn({...M,ref:P=>p.value=P}))]})}});var sd=ct(gZ,[["__file","tree-select.vue"]]);sd.install=i=>{i.component(sd.name,sd)};const mZ=sd,vZ=mZ,cv=Symbol(),yZ={key:-1,level:-1,data:{}};var Ku=(i=>(i.KEY="id",i.LABEL="label",i.CHILDREN="children",i.DISABLED="disabled",i))(Ku||{}),tm=(i=>(i.ADD="add",i.DELETE="delete",i))(tm||{});const cM={type:Number,default:26},bZ=lt({data:{type:Ae(Array),default:()=>pi([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Ae(Object),default:()=>pi({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Ae(Array),default:()=>pi([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Ae(Array),default:()=>pi([])},indent:{type:Number,default:16},itemSize:cM,icon:{type:Xn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Ae([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Ae(Function)},perfMode:{type:Boolean,default:!0}}),wZ=lt({node:{type:Ae(Object),default:()=>pi(yZ)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:cM}),xZ=lt({node:{type:Ae(Object),required:!0}}),hM="node-click",dM="node-expand",fM="node-collapse",pM="current-change",gM="check",mM="check-change",vM="node-contextmenu",SZ={[hM]:(i,o,l)=>i&&o&&l,[dM]:(i,o)=>i&&o,[fM]:(i,o)=>i&&o,[pM]:(i,o)=>i&&o,[gM]:(i,o)=>i&&o,[mM]:(i,o)=>i&&typeof o=="boolean",[vM]:(i,o,l)=>i&&o&&l},kZ={click:(i,o)=>!!(i&&o),toggle:i=>!!i,check:(i,o)=>i&&typeof o=="boolean"};function CZ(i,o){const l=ne(new Set),c=ne(new Set),{emit:d}=pn();Ue([()=>o.value,()=>i.defaultCheckedKeys],()=>Kt(()=>{_(i.defaultCheckedKeys)}),{immediate:!0});const p=()=>{if(!o.value||!i.showCheckbox||i.checkStrictly)return;const{levelTreeNodeMap:I,maxLevel:K}=o.value,B=l.value,G=new Set;for(let $=K-1;$>=1;--$){const J=I.get($);J&&J.forEach(ee=>{const Q=ee.children;if(Q){let X=!0,se=!1;for(const de of Q){const ve=de.key;if(B.has(ve))se=!0;else if(G.has(ve)){X=!1,se=!0;break}else X=!1}X?B.add(ee.key):se?(G.add(ee.key),B.delete(ee.key)):(B.delete(ee.key),G.delete(ee.key))}})}c.value=G},g=I=>l.value.has(I.key),b=I=>c.value.has(I.key),w=(I,K,B=!0)=>{const G=l.value,$=(J,ee)=>{G[ee?tm.ADD:tm.DELETE](J.key);const Q=J.children;!i.checkStrictly&&Q&&Q.forEach(X=>{X.disabled||$(X,ee)})};$(I,K),p(),B&&M(I,K)},M=(I,K)=>{const{checkedNodes:B,checkedKeys:G}=R(),{halfCheckedNodes:$,halfCheckedKeys:J}=N();d(gM,I.data,{checkedKeys:G,checkedNodes:B,halfCheckedKeys:J,halfCheckedNodes:$}),d(mM,I.data,K)};function C(I=!1){return R(I).checkedKeys}function P(I=!1){return R(I).checkedNodes}function A(){return N().halfCheckedKeys}function O(){return N().halfCheckedNodes}function R(I=!1){const K=[],B=[];if(o!=null&&o.value&&i.showCheckbox){const{treeNodeMap:G}=o.value;l.value.forEach($=>{const J=G.get($);J&&(!I||I&&J.isLeaf)&&(B.push($),K.push(J.data))})}return{checkedKeys:B,checkedNodes:K}}function N(){const I=[],K=[];if(o!=null&&o.value&&i.showCheckbox){const{treeNodeMap:B}=o.value;c.value.forEach(G=>{const $=B.get(G);$&&(K.push(G),I.push($.data))})}return{halfCheckedNodes:I,halfCheckedKeys:K}}function z(I){l.value.clear(),c.value.clear(),Kt(()=>{_(I)})}function T(I,K){if(o!=null&&o.value&&i.showCheckbox){const B=o.value.treeNodeMap.get(I);B&&w(B,K,!1)}}function _(I){if(o!=null&&o.value){const{treeNodeMap:K}=o.value;if(i.showCheckbox&&K&&I)for(const B of I){const G=K.get(B);G&&!g(G)&&w(G,!0,!1)}}}return{updateCheckedKeys:p,toggleCheckbox:w,isChecked:g,isIndeterminate:b,getCheckedKeys:C,getCheckedNodes:P,getHalfCheckedKeys:A,getHalfCheckedNodes:O,setChecked:T,setCheckedKeys:z}}function MZ(i,o){const l=ne(new Set([])),c=ne(new Set([])),d=j(()=>Xt(i.filterMethod));function p(b){var w;if(!d.value)return;const M=new Set,C=c.value,P=l.value,A=[],O=((w=o.value)==null?void 0:w.treeNodes)||[],R=i.filterMethod;P.clear();function N(z){z.forEach(T=>{A.push(T),R!=null&&R(b,T.data)?A.forEach(I=>{M.add(I.key)}):T.isLeaf&&P.add(T.key);const _=T.children;if(_&&N(_),!T.isLeaf){if(!M.has(T.key))P.add(T.key);else if(_){let I=!0;for(const K of _)if(!P.has(K.key)){I=!1;break}I?C.add(T.key):C.delete(T.key)}}A.pop()})}return N(O),M}function g(b){return c.value.has(b.key)}return{hiddenExpandIconKeySet:c,hiddenNodeKeySet:l,doFilter:p,isForceHiddenExpandIcon:g}}function PZ(i,o){const l=ne(new Set(i.defaultExpandedKeys)),c=ne(),d=oi();Ue(()=>i.currentNodeKey,Fe=>{c.value=Fe},{immediate:!0}),Ue(()=>i.data,Fe=>{Le(Fe)},{immediate:!0});const{isIndeterminate:p,isChecked:g,toggleCheckbox:b,getCheckedKeys:w,getCheckedNodes:M,getHalfCheckedKeys:C,getHalfCheckedNodes:P,setChecked:A,setCheckedKeys:O}=CZ(i,d),{doFilter:R,hiddenNodeKeySet:N,isForceHiddenExpandIcon:z}=MZ(i,d),T=j(()=>{var Fe;return((Fe=i.props)==null?void 0:Fe.value)||Ku.KEY}),_=j(()=>{var Fe;return((Fe=i.props)==null?void 0:Fe.children)||Ku.CHILDREN}),I=j(()=>{var Fe;return((Fe=i.props)==null?void 0:Fe.disabled)||Ku.DISABLED}),K=j(()=>{var Fe;return((Fe=i.props)==null?void 0:Fe.label)||Ku.LABEL}),B=j(()=>{const Fe=l.value,gt=N.value,Ye=[],Ze=d.value&&d.value.treeNodes||[];function mt(){const Me=[];for(let Ee=Ze.length-1;Ee>=0;--Ee)Me.push(Ze[Ee]);for(;Me.length;){const Ee=Me.pop();if(Ee&&(gt.has(Ee.key)||Ye.push(Ee),Fe.has(Ee.key))){const We=Ee.children;if(We){const ot=We.length;for(let He=ot-1;He>=0;--He)Me.push(We[He])}}}}return mt(),Ye}),G=j(()=>B.value.length>0);function $(Fe){const gt=new Map,Ye=new Map;let Ze=1;function mt(Ee,We=1,ot=void 0){var He;const Je=[];for(const nt of Ee){const rt=Q(nt),ht={level:We,key:rt,data:nt};ht.label=se(nt),ht.parent=ot;const qe=ee(nt);ht.disabled=X(nt),ht.isLeaf=!qe||qe.length===0,qe&&qe.length&&(ht.children=mt(qe,We+1,ht)),Je.push(ht),gt.set(rt,ht),Ye.has(We)||Ye.set(We,[]),(He=Ye.get(We))==null||He.push(ht)}return We>Ze&&(Ze=We),Je}const Me=mt(Fe);return{treeNodeMap:gt,levelTreeNodeMap:Ye,maxLevel:Ze,treeNodes:Me}}function J(Fe){const gt=R(Fe);gt&&(l.value=gt)}function ee(Fe){return Fe[_.value]}function Q(Fe){return Fe?Fe[T.value]:""}function X(Fe){return Fe[I.value]}function se(Fe){return Fe[K.value]}function de(Fe){l.value.has(Fe.key)?te(Fe):re(Fe)}function ve(Fe){l.value=new Set(Fe)}function me(Fe,gt){o(hM,Fe.data,Fe,gt),ae(Fe),i.expandOnClickNode&&de(Fe),i.showCheckbox&&i.checkOnClickNode&&!Fe.disabled&&b(Fe,!g(Fe),!0)}function ae(Fe){Ce(Fe)||(c.value=Fe.key,o(pM,Fe.data,Fe))}function ie(Fe,gt){b(Fe,gt)}function re(Fe){const gt=l.value;if(d.value&&i.accordion){const{treeNodeMap:Ye}=d.value;gt.forEach(Ze=>{const mt=Ye.get(Ze);Fe&&Fe.level===(mt==null?void 0:mt.level)&&gt.delete(Ze)})}gt.add(Fe.key),o(dM,Fe.data,Fe)}function te(Fe){l.value.delete(Fe.key),o(fM,Fe.data,Fe)}function ue(Fe){return l.value.has(Fe.key)}function be(Fe){return!!Fe.disabled}function Ce(Fe){const gt=c.value;return gt!==void 0&&gt===Fe.key}function Ne(){var Fe,gt;if(c.value)return(gt=(Fe=d.value)==null?void 0:Fe.treeNodeMap.get(c.value))==null?void 0:gt.data}function Be(){return c.value}function tt(Fe){c.value=Fe}function Le(Fe){Kt(()=>d.value=$(Fe))}function _e(Fe){var gt;const Ye=yn(Fe)?Q(Fe):Fe;return(gt=d.value)==null?void 0:gt.treeNodeMap.get(Ye)}return{tree:d,flattenTree:B,isNotEmpty:G,getKey:Q,getChildren:ee,toggleExpand:de,toggleCheckbox:b,isExpanded:ue,isChecked:g,isIndeterminate:p,isDisabled:be,isCurrent:Ce,isForceHiddenExpandIcon:z,handleNodeClick:me,handleNodeCheck:ie,getCurrentNode:Ne,getCurrentKey:Be,setCurrentKey:tt,getCheckedKeys:w,getCheckedNodes:M,getHalfCheckedKeys:C,getHalfCheckedNodes:P,setChecked:A,setCheckedKeys:O,filter:J,setData:Le,getNode:_e,expandNode:re,collapseNode:te,setExpandedKeys:ve}}var TZ=xe({name:"ElTreeNodeContent",props:xZ,setup(i){const o=Tt(cv),l=Qe("tree");return()=>{const c=i.node,{data:d}=c;return o!=null&&o.ctx.slots.default?o.ctx.slots.default({node:c,data:d}):jt("span",{class:l.be("node","label")},[c==null?void 0:c.label])}}});const NZ=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],AZ=xe({name:"ElTreeNode"}),LZ=xe({...AZ,props:wZ,emits:kZ,setup(i,{emit:o}){const l=i,c=Tt(cv),d=Qe("tree"),p=j(()=>{var P;return(P=c==null?void 0:c.props.indent)!=null?P:16}),g=j(()=>{var P;return(P=c==null?void 0:c.props.icon)!=null?P:Tx}),b=P=>{o("click",l.node,P)},w=()=>{o("toggle",l.node)},M=P=>{o("check",l.node,P)},C=P=>{var A,O,R,N;(R=(O=(A=c==null?void 0:c.instance)==null?void 0:A.vnode)==null?void 0:O.props)!=null&&R.onNodeContextmenu&&(P.stopPropagation(),P.preventDefault()),c==null||c.ctx.emit(vM,P,(N=l.node)==null?void 0:N.data,l.node)};return(P,A)=>{var O,R,N;return Y(),fe("div",{ref:"node$",class:Z([v(d).b("node"),v(d).is("expanded",P.expanded),v(d).is("current",P.current),v(d).is("focusable",!P.disabled),v(d).is("checked",!P.disabled&&P.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":P.expanded,"aria-disabled":P.disabled,"aria-checked":P.checked,"data-key":(O=P.node)==null?void 0:O.key,onClick:en(b,["stop"]),onContextmenu:C},[pe("div",{class:Z(v(d).be("node","content")),style:Ft({paddingLeft:`${(P.node.level-1)*v(p)}px`,height:P.itemSize+"px"})},[v(g)?(Y(),Ie(v(Et),{key:0,class:Z([v(d).is("leaf",!!((R=P.node)!=null&&R.isLeaf)),v(d).is("hidden",P.hiddenExpandIcon),{expanded:!((N=P.node)!=null&&N.isLeaf)&&P.expanded},v(d).be("node","expand-icon")]),onClick:en(w,["stop"])},{default:Te(()=>[(Y(),Ie(kn(v(g))))]),_:1},8,["class","onClick"])):De("v-if",!0),P.showCheckbox?(Y(),Ie(v(Po),{key:1,"model-value":P.checked,indeterminate:P.indeterminate,disabled:P.disabled,onChange:M,onClick:A[0]||(A[0]=en(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):De("v-if",!0),ye(v(TZ),{node:P.node},null,8,["node"])],6)],42,NZ)}}});var EZ=ct(LZ,[["__file","tree-node.vue"]]);const DZ=xe({name:"ElTreeV2"}),OZ=xe({...DZ,props:bZ,emits:SZ,setup(i,{expose:o,emit:l}){const c=i,d=Qi(),p=j(()=>c.itemSize);En(cv,{ctx:{emit:l,slots:d},props:c,instance:pn()}),En(lr,void 0);const{t:g}=Bn(),b=Qe("tree"),{flattenTree:w,isNotEmpty:M,toggleExpand:C,isExpanded:P,isIndeterminate:A,isChecked:O,isDisabled:R,isCurrent:N,isForceHiddenExpandIcon:z,handleNodeClick:T,handleNodeCheck:_,toggleCheckbox:I,getCurrentNode:K,getCurrentKey:B,setCurrentKey:G,getCheckedKeys:$,getCheckedNodes:J,getHalfCheckedKeys:ee,getHalfCheckedNodes:Q,setChecked:X,setCheckedKeys:se,filter:de,setData:ve,getNode:me,expandNode:ae,collapseNode:ie,setExpandedKeys:re}=PZ(c,l);return o({toggleCheckbox:I,getCurrentNode:K,getCurrentKey:B,setCurrentKey:G,getCheckedKeys:$,getCheckedNodes:J,getHalfCheckedKeys:ee,getHalfCheckedNodes:Q,setChecked:X,setCheckedKeys:se,filter:de,setData:ve,getNode:me,expandNode:ae,collapseNode:ie,setExpandedKeys:re}),(te,ue)=>{var be;return Y(),fe("div",{class:Z([v(b).b(),{[v(b).m("highlight-current")]:te.highlightCurrent}]),role:"tree"},[v(M)?(Y(),Ie(v(xC),{key:0,"class-name":v(b).b("virtual-list"),data:v(w),total:v(w).length,height:te.height,"item-size":v(p),"perf-mode":te.perfMode},{default:Te(({data:Ce,index:Ne,style:Be})=>[(Y(),Ie(EZ,{key:Ce[Ne].key,style:Ft(Be),node:Ce[Ne],expanded:v(P)(Ce[Ne]),"show-checkbox":te.showCheckbox,checked:v(O)(Ce[Ne]),indeterminate:v(A)(Ce[Ne]),"item-size":v(p),disabled:v(R)(Ce[Ne]),current:v(N)(Ce[Ne]),"hidden-expand-icon":v(z)(Ce[Ne]),onClick:v(T),onToggle:v(C),onCheck:v(_)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(Y(),fe("div",{key:1,class:Z(v(b).e("empty-block"))},[pe("span",{class:Z(v(b).e("empty-text"))},dt((be=te.emptyText)!=null?be:v(g)("el.tree.emptyText")),3)],2))],2)}}});var RZ=ct(OZ,[["__file","tree.vue"]]);const IZ=gn(RZ),yM=Symbol("uploadContextKey"),FZ="ElUpload";class BZ extends Error{constructor(o,l,c,d){super(o),this.name="UploadAjaxError",this.status=l,this.method=c,this.url=d}}function iw(i,o,l){let c;return l.response?c=`${l.response.error||l.response}`:l.responseText?c=`${l.responseText}`:c=`fail to ${o.method} ${i} ${l.status}`,new BZ(c,l.status,o.method,i)}function $Z(i){const o=i.responseText||i.response;if(!o)return o;try{return JSON.parse(o)}catch{return o}}const VZ=i=>{typeof XMLHttpRequest>"u"&&Hi(FZ,"XMLHttpRequest is undefined");const o=new XMLHttpRequest,l=i.action;o.upload&&o.upload.addEventListener("progress",p=>{const g=p;g.percent=p.total>0?p.loaded/p.total*100:0,i.onProgress(g)});const c=new FormData;if(i.data)for(const[p,g]of Object.entries(i.data))St(g)&&g.length?c.append(p,...g):c.append(p,g);c.append(i.filename,i.file,i.file.name),o.addEventListener("error",()=>{i.onError(iw(l,i,o))}),o.addEventListener("load",()=>{if(o.status<200||o.status>=300)return i.onError(iw(l,i,o));i.onSuccess($Z(o))}),o.open(i.method,l,!0),i.withCredentials&&"withCredentials"in o&&(o.withCredentials=!0);const d=i.headers||{};if(d instanceof Headers)d.forEach((p,g)=>o.setRequestHeader(g,p));else for(const[p,g]of Object.entries(d))Xi(g)||o.setRequestHeader(p,String(g));return o.send(c),o},bM=["text","picture","picture-card"];let zZ=1;const nm=()=>Date.now()+zZ++,wM=lt({action:{type:String,default:"#"},headers:{type:Ae(Object)},method:{type:String,default:"post"},data:{type:Ae([Object,Function,Promise]),default:()=>pi({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Ae(Array),default:()=>pi([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:bM,default:"text"},httpRequest:{type:Ae(Function),default:VZ},disabled:Boolean,limit:Number}),_Z=lt({...wM,beforeUpload:{type:Ae(Function),default:jn},beforeRemove:{type:Ae(Function)},onRemove:{type:Ae(Function),default:jn},onChange:{type:Ae(Function),default:jn},onPreview:{type:Ae(Function),default:jn},onSuccess:{type:Ae(Function),default:jn},onProgress:{type:Ae(Function),default:jn},onError:{type:Ae(Function),default:jn},onExceed:{type:Ae(Function),default:jn},crossorigin:{type:Ae(String)}}),KZ=lt({files:{type:Ae(Array),default:()=>pi([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Ae(Function),default:jn},listType:{type:String,values:bM,default:"text"},crossorigin:{type:Ae(String)}}),HZ={remove:i=>!!i},jZ=["onKeydown"],qZ=["src","crossorigin"],GZ=["onClick"],WZ=["title"],UZ=["onClick"],YZ=["onClick"],XZ=xe({name:"ElUploadList"}),ZZ=xe({...XZ,props:KZ,emits:HZ,setup(i,{emit:o}){const l=i,{t:c}=Bn(),d=Qe("upload"),p=Qe("icon"),g=Qe("list"),b=Es(),w=ne(!1),M=j(()=>[d.b("list"),d.bm("list",l.listType),d.is("disabled",l.disabled)]),C=P=>{o("remove",P)};return(P,A)=>(Y(),Ie(C2,{tag:"ul",class:Z(v(M)),name:v(g).b()},{default:Te(()=>[(Y(!0),fe($t,null,Rn(P.files,O=>(Y(),fe("li",{key:O.uid||O.name,class:Z([v(d).be("list","item"),v(d).is(O.status),{focusing:w.value}]),tabindex:"0",onKeydown:Yn(R=>!v(b)&&C(O),["delete"]),onFocus:A[0]||(A[0]=R=>w.value=!0),onBlur:A[1]||(A[1]=R=>w.value=!1),onClick:A[2]||(A[2]=R=>w.value=!1)},[ze(P.$slots,"default",{file:O},()=>[P.listType==="picture"||O.status!=="uploading"&&P.listType==="picture-card"?(Y(),fe("img",{key:0,class:Z(v(d).be("list","item-thumbnail")),src:O.url,crossorigin:P.crossorigin,alt:""},null,10,qZ)):De("v-if",!0),O.status==="uploading"||P.listType!=="picture-card"?(Y(),fe("div",{key:1,class:Z(v(d).be("list","item-info"))},[pe("a",{class:Z(v(d).be("list","item-name")),onClick:en(R=>P.handlePreview(O),["prevent"])},[ye(v(Et),{class:Z(v(p).m("document"))},{default:Te(()=>[ye(v(tR))]),_:1},8,["class"]),pe("span",{class:Z(v(d).be("list","item-file-name")),title:O.name},dt(O.name),11,WZ)],10,GZ),O.status==="uploading"?(Y(),Ie(v(dC),{key:0,type:P.listType==="picture-card"?"circle":"line","stroke-width":P.listType==="picture-card"?6:2,percentage:Number(O.percentage),style:Ft(P.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):De("v-if",!0)],2)):De("v-if",!0),pe("label",{class:Z(v(d).be("list","item-status-label"))},[P.listType==="text"?(Y(),Ie(v(Et),{key:0,class:Z([v(p).m("upload-success"),v(p).m("circle-check")])},{default:Te(()=>[ye(v(Zm))]),_:1},8,["class"])):["picture-card","picture"].includes(P.listType)?(Y(),Ie(v(Et),{key:1,class:Z([v(p).m("upload-success"),v(p).m("check")])},{default:Te(()=>[ye(v(_c))]),_:1},8,["class"])):De("v-if",!0)],2),v(b)?De("v-if",!0):(Y(),Ie(v(Et),{key:2,class:Z(v(p).m("close")),onClick:R=>C(O)},{default:Te(()=>[ye(v(_o))]),_:2},1032,["class","onClick"])),De(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),De(" This is a bug which needs to be fixed "),De(" TODO: Fix the incorrect navigation interaction "),v(b)?De("v-if",!0):(Y(),fe("i",{key:3,class:Z(v(p).m("close-tip"))},dt(v(c)("el.upload.deleteTip")),3)),P.listType==="picture-card"?(Y(),fe("span",{key:4,class:Z(v(d).be("list","item-actions"))},[pe("span",{class:Z(v(d).be("list","item-preview")),onClick:R=>P.handlePreview(O)},[ye(v(Et),{class:Z(v(p).m("zoom-in"))},{default:Te(()=>[ye(v(Ex))]),_:1},8,["class"])],10,UZ),v(b)?De("v-if",!0):(Y(),fe("span",{key:0,class:Z(v(d).be("list","item-delete")),onClick:R=>C(O)},[ye(v(Et),{class:Z(v(p).m("delete"))},{default:Te(()=>[ye(v(Q3))]),_:1},8,["class"])],10,YZ))],2)):De("v-if",!0)])],42,jZ))),128)),ze(P.$slots,"append")]),_:3},8,["class","name"]))}});var sw=ct(ZZ,[["__file","upload-list.vue"]]);const JZ=lt({disabled:{type:Boolean,default:!1}}),QZ={file:i=>St(i)},eJ=["onDrop","onDragover"],xM="ElUploadDrag",tJ=xe({name:xM}),nJ=xe({...tJ,props:JZ,emits:QZ,setup(i,{emit:o}){Tt(yM)||Hi(xM,"usage: <el-upload><el-upload-dragger /></el-upload>");const c=Qe("upload"),d=ne(!1),p=Es(),g=w=>{if(p.value)return;d.value=!1,w.stopPropagation();const M=Array.from(w.dataTransfer.files);o("file",M)},b=()=>{p.value||(d.value=!0)};return(w,M)=>(Y(),fe("div",{class:Z([v(c).b("dragger"),v(c).is("dragover",d.value)]),onDrop:en(g,["prevent"]),onDragover:en(b,["prevent"]),onDragleave:M[0]||(M[0]=en(C=>d.value=!1,["prevent"]))},[ze(w.$slots,"default")],42,eJ))}});var iJ=ct(nJ,[["__file","upload-dragger.vue"]]);const sJ=lt({...wM,beforeUpload:{type:Ae(Function),default:jn},onRemove:{type:Ae(Function),default:jn},onStart:{type:Ae(Function),default:jn},onSuccess:{type:Ae(Function),default:jn},onProgress:{type:Ae(Function),default:jn},onError:{type:Ae(Function),default:jn},onExceed:{type:Ae(Function),default:jn}}),oJ=["onKeydown"],rJ=["name","multiple","accept"],aJ=xe({name:"ElUploadContent",inheritAttrs:!1}),lJ=xe({...aJ,props:sJ,setup(i,{expose:o}){const l=i,c=Qe("upload"),d=Es(),p=oi({}),g=oi(),b=N=>{if(N.length===0)return;const{autoUpload:z,limit:T,fileList:_,multiple:I,onStart:K,onExceed:B}=l;if(T&&_.length+N.length>T){B(N,_);return}I||(N=N.slice(0,1));for(const G of N){const $=G;$.uid=nm(),K($),z&&w($)}},w=async N=>{if(g.value.value="",!l.beforeUpload)return C(N);let z,T={};try{const I=l.data,K=l.beforeUpload(N);T=rd(l.data)?vd(l.data):l.data,z=await K,rd(l.data)&&ws(I,T)&&(T=vd(l.data))}catch{z=!1}if(z===!1){l.onRemove(N);return}let _=N;z instanceof Blob&&(z instanceof File?_=z:_=new File([z],N.name,{type:N.type})),C(Object.assign(_,{uid:N.uid}),T)},M=async(N,z)=>Xt(N)?N(z):N,C=async(N,z)=>{const{headers:T,data:_,method:I,withCredentials:K,name:B,action:G,onProgress:$,onSuccess:J,onError:ee,httpRequest:Q}=l;try{z=await M(z??_,N)}catch{l.onRemove(N);return}const{uid:X}=N,se={headers:T||{},withCredentials:K,file:N,data:z,method:I,filename:B,action:G,onProgress:ve=>{$(ve,N)},onSuccess:ve=>{J(ve,N),delete p.value[X]},onError:ve=>{ee(ve,N),delete p.value[X]}},de=Q(se);p.value[X]=de,de instanceof Promise&&de.then(se.onSuccess,se.onError)},P=N=>{const z=N.target.files;z&&b(Array.from(z))},A=()=>{d.value||(g.value.value="",g.value.click())},O=()=>{A()};return o({abort:N=>{T3(p.value).filter(N?([T])=>String(N.uid)===T:()=>!0).forEach(([T,_])=>{_ instanceof XMLHttpRequest&&_.abort(),delete p.value[T]})},upload:w}),(N,z)=>(Y(),fe("div",{class:Z([v(c).b(),v(c).m(N.listType),v(c).is("drag",N.drag)]),tabindex:"0",onClick:A,onKeydown:Yn(en(O,["self"]),["enter","space"])},[N.drag?(Y(),Ie(iJ,{key:0,disabled:v(d),onFile:b},{default:Te(()=>[ze(N.$slots,"default")]),_:3},8,["disabled"])):ze(N.$slots,"default",{key:1}),pe("input",{ref_key:"inputRef",ref:g,class:Z(v(c).e("input")),name:N.name,multiple:N.multiple,accept:N.accept,type:"file",onChange:P,onClick:z[0]||(z[0]=en(()=>{},["stop"]))},null,42,rJ)],42,oJ))}});var ow=ct(lJ,[["__file","upload-content.vue"]]);const rw="ElUpload",aw=i=>{var o;(o=i.url)!=null&&o.startsWith("blob:")&&URL.revokeObjectURL(i.url)},uJ=(i,o)=>{const l=F2(i,"fileList",void 0,{passive:!0}),c=A=>l.value.find(O=>O.uid===A.uid);function d(A){var O;(O=o.value)==null||O.abort(A)}function p(A=["ready","uploading","success","fail"]){l.value=l.value.filter(O=>!A.includes(O.status))}const g=(A,O)=>{const R=c(O);R&&(console.error(A),R.status="fail",l.value.splice(l.value.indexOf(R),1),i.onError(A,R,l.value),i.onChange(R,l.value))},b=(A,O)=>{const R=c(O);R&&(i.onProgress(A,R,l.value),R.status="uploading",R.percentage=Math.round(A.percent))},w=(A,O)=>{const R=c(O);R&&(R.status="success",R.response=A,i.onSuccess(A,R,l.value),i.onChange(R,l.value))},M=A=>{Xi(A.uid)&&(A.uid=nm());const O={name:A.name,percentage:0,status:"ready",size:A.size,raw:A,uid:A.uid};if(i.listType==="picture-card"||i.listType==="picture")try{O.url=URL.createObjectURL(A)}catch(R){R.message,i.onError(R,O,l.value)}l.value=[...l.value,O],i.onChange(O,l.value)},C=async A=>{const O=A instanceof File?c(A):A;O||Hi(rw,"file to be removed not found");const R=N=>{d(N);const z=l.value;z.splice(z.indexOf(N),1),i.onRemove(N,z),aw(N)};i.beforeRemove?await i.beforeRemove(O,l.value)!==!1&&R(O):R(O)};function P(){l.value.filter(({status:A})=>A==="ready").forEach(({raw:A})=>{var O;return A&&((O=o.value)==null?void 0:O.upload(A))})}return Ue(()=>i.listType,A=>{A!=="picture-card"&&A!=="picture"||(l.value=l.value.map(O=>{const{raw:R,url:N}=O;if(!N&&R)try{O.url=URL.createObjectURL(R)}catch(z){i.onError(z,O,l.value)}return O}))}),Ue(l,A=>{for(const O of A)O.uid||(O.uid=nm()),O.status||(O.status="success")},{immediate:!0,deep:!0}),{uploadFiles:l,abort:d,clearFiles:p,handleError:g,handleProgress:b,handleStart:M,handleSuccess:w,handleRemove:C,submit:P,revokeFileObjectURL:aw}},cJ=xe({name:"ElUpload"}),hJ=xe({...cJ,props:_Z,setup(i,{expose:o}){const l=i,c=Es(),d=oi(),{abort:p,submit:g,clearFiles:b,uploadFiles:w,handleStart:M,handleError:C,handleRemove:P,handleSuccess:A,handleProgress:O,revokeFileObjectURL:R}=uJ(l,d),N=j(()=>l.listType==="picture-card"),z=j(()=>({...l,fileList:w.value,onStart:M,onProgress:O,onSuccess:A,onError:C,onRemove:P}));return ei(()=>{w.value.forEach(R)}),En(yM,{accept:Gn(l,"accept")}),o({abort:p,submit:g,clearFiles:b,handleStart:M,handleRemove:P}),(T,_)=>(Y(),fe("div",null,[v(N)&&T.showFileList?(Y(),Ie(sw,{key:0,disabled:v(c),"list-type":T.listType,files:v(w),crossorigin:T.crossorigin,"handle-preview":T.onPreview,onRemove:v(P)},Nr({append:Te(()=>[ye(ow,An({ref_key:"uploadRef",ref:d},v(z)),{default:Te(()=>[T.$slots.trigger?ze(T.$slots,"trigger",{key:0}):De("v-if",!0),!T.$slots.trigger&&T.$slots.default?ze(T.$slots,"default",{key:1}):De("v-if",!0)]),_:3},16)]),_:2},[T.$slots.file?{name:"default",fn:Te(({file:I})=>[ze(T.$slots,"file",{file:I})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):De("v-if",!0),!v(N)||v(N)&&!T.showFileList?(Y(),Ie(ow,An({key:1,ref_key:"uploadRef",ref:d},v(z)),{default:Te(()=>[T.$slots.trigger?ze(T.$slots,"trigger",{key:0}):De("v-if",!0),!T.$slots.trigger&&T.$slots.default?ze(T.$slots,"default",{key:1}):De("v-if",!0)]),_:3},16)):De("v-if",!0),T.$slots.trigger?ze(T.$slots,"default",{key:2}):De("v-if",!0),ze(T.$slots,"tip"),!v(N)&&T.showFileList?(Y(),Ie(sw,{key:3,disabled:v(c),"list-type":T.listType,files:v(w),crossorigin:T.crossorigin,"handle-preview":T.onPreview,onRemove:v(P)},Nr({_:2},[T.$slots.file?{name:"default",fn:Te(({file:I})=>[ze(T.$slots,"file",{file:I})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):De("v-if",!0)]))}});var dJ=ct(hJ,[["__file","upload.vue"]]);const fJ=gn(dJ),pJ=lt({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Ae([String,Array]),default:"Element Plus"},font:{type:Ae(Object)},gap:{type:Ae(Array),default:()=>[100,100]},offset:{type:Ae(Array)}});function gJ(i){return i.replace(/([A-Z])/g,"-$1").toLowerCase()}function mJ(i){return Object.keys(i).map(o=>`${gJ(o)}: ${i[o]};`).join(" ")}function vJ(){return window.devicePixelRatio||1}const yJ=(i,o)=>{let l=!1;return i.removedNodes.length&&o&&(l=Array.from(i.removedNodes).includes(o)),i.type==="attributes"&&i.target===o&&(l=!0),l},SM=3;function Fp(i,o,l=1){const c=document.createElement("canvas"),d=c.getContext("2d"),p=i*l,g=o*l;return c.setAttribute("width",`${p}px`),c.setAttribute("height",`${g}px`),d.save(),[d,c,p,g]}function bJ(){function i(o,l,c,d,p,g,b,w){const[M,C,P,A]=Fp(d,p,c);if(o instanceof HTMLImageElement)M.drawImage(o,0,0,P,A);else{const{color:be,fontSize:Ce,fontStyle:Ne,fontWeight:Be,fontFamily:tt,textAlign:Le,textBaseline:_e}=g,Fe=Number(Ce)*c;M.font=`${Ne} normal ${Be} ${Fe}px/${p}px ${tt}`,M.fillStyle=be,M.textAlign=Le,M.textBaseline=_e;const gt=Array.isArray(o)?o:[o];gt==null||gt.forEach((Ye,Ze)=>{M.fillText(Ye??"",P/2,Ze*(Fe+SM*c))})}const O=Math.PI/180*Number(l),R=Math.max(d,p),[N,z,T]=Fp(R,R,c);N.translate(T/2,T/2),N.rotate(O),P>0&&A>0&&N.drawImage(C,-P/2,-A/2);function _(be,Ce){const Ne=be*Math.cos(O)-Ce*Math.sin(O),Be=be*Math.sin(O)+Ce*Math.cos(O);return[Ne,Be]}let I=0,K=0,B=0,G=0;const $=P/2,J=A/2;[[0-$,0-J],[0+$,0-J],[0+$,0+J],[0-$,0+J]].forEach(([be,Ce])=>{const[Ne,Be]=_(be,Ce);I=Math.min(I,Ne),K=Math.max(K,Ne),B=Math.min(B,Be),G=Math.max(G,Be)});const Q=I+T/2,X=B+T/2,se=K-I,de=G-B,ve=b*c,me=w*c,ae=(se+ve)*2,ie=de+me,[re,te]=Fp(ae,ie);function ue(be=0,Ce=0){re.drawImage(z,Q,X,se,de,be,Ce,se,de)}return ue(),ue(se+ve,-de/2-me/2),ue(se+ve,+de/2+me/2),[te.toDataURL(),ae/c,ie/c]}return i}const wJ=xe({name:"ElWatermark"}),xJ=xe({...wJ,props:pJ,setup(i){const o=i,l={position:"relative"},c=j(()=>{var Q,X;return(X=(Q=o.font)==null?void 0:Q.color)!=null?X:"rgba(0,0,0,.15)"}),d=j(()=>{var Q,X;return(X=(Q=o.font)==null?void 0:Q.fontSize)!=null?X:16}),p=j(()=>{var Q,X;return(X=(Q=o.font)==null?void 0:Q.fontWeight)!=null?X:"normal"}),g=j(()=>{var Q,X;return(X=(Q=o.font)==null?void 0:Q.fontStyle)!=null?X:"normal"}),b=j(()=>{var Q,X;return(X=(Q=o.font)==null?void 0:Q.fontFamily)!=null?X:"sans-serif"}),w=j(()=>{var Q,X;return(X=(Q=o.font)==null?void 0:Q.textAlign)!=null?X:"center"}),M=j(()=>{var Q,X;return(X=(Q=o.font)==null?void 0:Q.textBaseline)!=null?X:"hanging"}),C=j(()=>o.gap[0]),P=j(()=>o.gap[1]),A=j(()=>C.value/2),O=j(()=>P.value/2),R=j(()=>{var Q,X;return(X=(Q=o.offset)==null?void 0:Q[0])!=null?X:A.value}),N=j(()=>{var Q,X;return(X=(Q=o.offset)==null?void 0:Q[1])!=null?X:O.value}),z=()=>{const Q={zIndex:o.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let X=R.value-A.value,se=N.value-O.value;return X>0&&(Q.left=`${X}px`,Q.width=`calc(100% - ${X}px)`,X=0),se>0&&(Q.top=`${se}px`,Q.height=`calc(100% - ${se}px)`,se=0),Q.backgroundPosition=`${X}px ${se}px`,Q},T=oi(null),_=oi(),I=ne(!1),K=()=>{_.value&&(_.value.remove(),_.value=void 0)},B=(Q,X)=>{var se;T.value&&_.value&&(I.value=!0,_.value.setAttribute("style",mJ({...z(),backgroundImage:`url('${Q}')`,backgroundSize:`${Math.floor(X)}px`})),(se=T.value)==null||se.append(_.value),setTimeout(()=>{I.value=!1}))},G=Q=>{let X=120,se=64;const de=o.image,ve=o.content,me=o.width,ae=o.height;if(!de&&Q.measureText){Q.font=`${Number(d.value)}px ${b.value}`;const ie=Array.isArray(ve)?ve:[ve],re=ie.map(te=>{const ue=Q.measureText(te);return[ue.width,ue.fontBoundingBoxAscent!==void 0?ue.fontBoundingBoxAscent+ue.fontBoundingBoxDescent:ue.actualBoundingBoxAscent+ue.actualBoundingBoxDescent]});X=Math.ceil(Math.max(...re.map(te=>te[0]))),se=Math.ceil(Math.max(...re.map(te=>te[1])))*ie.length+(ie.length-1)*SM}return[me??X,ae??se]},$=bJ(),J=()=>{const X=document.createElement("canvas").getContext("2d"),se=o.image,de=o.content,ve=o.rotate;if(X){_.value||(_.value=document.createElement("div"));const me=vJ(),[ae,ie]=G(X),re=te=>{const[ue,be]=$(te||"",ve,me,ae,ie,{color:c.value,fontSize:d.value,fontStyle:g.value,fontWeight:p.value,fontFamily:b.value,textAlign:w.value,textBaseline:M.value},C.value,P.value);B(ue,be)};if(se){const te=new Image;te.onload=()=>{re(te)},te.onerror=()=>{re(de)},te.crossOrigin="anonymous",te.referrerPolicy="no-referrer",te.src=se}else re(de)}};return un(()=>{J()}),Ue(()=>o,()=>{J()},{deep:!0,flush:"post"}),ei(()=>{K()}),I2(T,Q=>{I.value||Q.forEach(X=>{yJ(X,_.value)&&(K(),J())})},{attributes:!0,subtree:!0,childList:!0}),(Q,X)=>(Y(),fe("div",{ref_key:"containerRef",ref:T,style:Ft([l])},[ze(Q.$slots,"default")],4))}});var SJ=ct(xJ,[["__file","watermark.vue"]]);const kJ=gn(SJ),CJ=lt({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:Ae(Object)},targetAreaClickable:{type:Boolean,default:!0}}),MJ=(i,o,l,c,d)=>{const p=ne(null),g=()=>{let P;return tn(i.value)?P=document.querySelector(i.value):Xt(i.value)?P=i.value():P=i.value,P},b=()=>{const P=g();if(!P||!o.value){p.value=null;return}!PJ(P)&&o.value&&P.scrollIntoView(d.value);const{left:A,top:O,width:R,height:N}=P.getBoundingClientRect();p.value={left:A,top:O,width:R,height:N,radius:0}};un(()=>{Ue([o,i],()=>{b()},{immediate:!0}),window.addEventListener("resize",b)}),ei(()=>{window.removeEventListener("resize",b)});const w=P=>{var A;return(A=St(l.value.offset)?l.value.offset[P]:l.value.offset)!=null?A:6},M=j(()=>{var P;if(!p.value)return p.value;const A=w(0),O=w(1),R=((P=l.value)==null?void 0:P.radius)||2;return{left:p.value.left-A,top:p.value.top-O,width:p.value.width+A*2,height:p.value.height+O*2,radius:R}}),C=j(()=>{const P=g();return!c.value||!P||!window.DOMRect?P||void 0:{getBoundingClientRect(){var A,O,R,N;return window.DOMRect.fromRect({width:((A=M.value)==null?void 0:A.width)||0,height:((O=M.value)==null?void 0:O.height)||0,x:((R=M.value)==null?void 0:R.left)||0,y:((N=M.value)==null?void 0:N.top)||0})}}});return{mergedPosInfo:M,triggerTarget:C}},Sf=Symbol("ElTour");function PJ(i){const o=window.innerWidth||document.documentElement.clientWidth,l=window.innerHeight||document.documentElement.clientHeight,{top:c,right:d,bottom:p,left:g}=i.getBoundingClientRect();return c>=0&&g>=0&&d<=o&&p<=l}const TJ=(i,o,l,c,d,p,g,b)=>{const w=ne(),M=ne(),C=ne({}),P={x:w,y:M,placement:c,strategy:d,middlewareData:C},A=j(()=>{const T=[cS(v(p)),XF(),YF(),NJ()];return v(b)&&v(l)&&T.push(hS({element:v(l)})),T}),O=async()=>{if(!In)return;const T=v(i),_=v(o);if(!T||!_)return;const I=await dS(T,_,{placement:v(c),strategy:v(d),middleware:v(A)});tu(P).forEach(K=>{P[K].value=I[K]})},R=j(()=>{if(!v(i))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:v(g)};const{overflow:T}=v(C);return{position:v(d),zIndex:v(g),top:v(M)!=null?`${v(M)}px`:"",left:v(w)!=null?`${v(w)}px`:"",maxWidth:T!=null&&T.maxWidth?`${T==null?void 0:T.maxWidth}px`:""}}),N=j(()=>{if(!v(b))return{};const{arrow:T}=v(C);return{left:(T==null?void 0:T.x)!=null?`${T==null?void 0:T.x}px`:"",top:(T==null?void 0:T.y)!=null?`${T==null?void 0:T.y}px`:""}});let z;return un(()=>{const T=v(i),_=v(o);T&&_&&(z=WF(T,_,O)),us(()=>{O()})}),ei(()=>{z&&z()}),{update:O,contentStyle:R,arrowStyle:N}},NJ=()=>({name:"overflow",async fn(i){const o=await UF(i);let l=0;return o.left>0&&(l=o.left),o.right>0&&(l=o.right),{data:{maxWidth:i.rects.floating.width-l}}}}),AJ={style:{width:"100%",height:"100%"}},LJ=["d"],EJ=xe({name:"ElTourMask",inheritAttrs:!1}),DJ=xe({...EJ,props:CJ,setup(i){const o=i,{ns:l}=Tt(Sf),c=j(()=>{var b,w;return(w=(b=o.pos)==null?void 0:b.radius)!=null?w:2}),d=j(()=>{const b=c.value,w=`a${b},${b} 0 0 1`;return{topRight:`${w} ${b},${b}`,bottomRight:`${w} ${-b},${b}`,bottomLeft:`${w} ${-b},${-b}`,topLeft:`${w} ${b},${-b}`}}),p=j(()=>{const b=window.innerWidth,w=window.innerHeight,M=d.value,C=`M${b},0 L0,0 L0,${w} L${b},${w} L${b},0 Z`,P=c.value;return o.pos?`${C} M${o.pos.left+P},${o.pos.top} h${o.pos.width-P*2} ${M.topRight} v${o.pos.height-P*2} ${M.bottomRight} h${-o.pos.width+P*2} ${M.bottomLeft} v${-o.pos.height+P*2} ${M.topLeft} z`:C}),g=j(()=>({fill:o.fill,pointerEvents:"auto",cursor:"auto"}));return r0(Gn(o,"visible"),{ns:l}),(b,w)=>b.visible?(Y(),fe("div",An({key:0,class:v(l).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:b.zIndex,pointerEvents:b.pos&&b.targetAreaClickable?"none":"auto"}},b.$attrs),[(Y(),fe("svg",AJ,[pe("path",{class:Z(v(l).e("hollow")),style:Ft(v(g)),d:v(p)},null,14,LJ)]))],16)):De("v-if",!0)}});var OJ=ct(DJ,[["__file","mask.vue"]]);const RJ=["absolute","fixed"],IJ=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],hv=lt({placement:{type:Ae(String),values:IJ,default:"bottom"},reference:{type:Ae(Object),default:null},strategy:{type:Ae(String),values:RJ,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),FJ={close:()=>!0},BJ=["data-side"],$J=xe({name:"ElTourContent"}),VJ=xe({...$J,props:hv,emits:FJ,setup(i,{emit:o}){const l=i,c=ne(l.placement),d=ne(l.strategy),p=ne(null),g=ne(null);Ue(()=>l.placement,()=>{c.value=l.placement});const{contentStyle:b,arrowStyle:w}=TJ(Gn(l,"reference"),p,g,c,d,Gn(l,"offset"),Gn(l,"zIndex"),Gn(l,"showArrow")),M=j(()=>c.value.split("-")[0]),{ns:C}=Tt(Sf),P=()=>{o("close")},A=O=>{O.detail.focusReason==="pointer"&&O.preventDefault()};return(O,R)=>(Y(),fe("div",{ref_key:"contentRef",ref:p,style:Ft(v(b)),class:Z(v(C).e("content")),"data-side":v(M),tabindex:"-1"},[ye(v(Yc),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":p.value||void 0,onReleaseRequested:P,onFocusoutPrevented:A},{default:Te(()=>[ze(O.$slots,"default")]),_:3},8,["focus-trap-el"]),O.showArrow?(Y(),fe("span",{key:0,ref_key:"arrowRef",ref:g,style:Ft(v(w)),class:Z(v(C).e("arrow"))},null,6)):De("v-if",!0)],14,BJ))}});var zJ=ct(VJ,[["__file","content.vue"]]),_J=xe({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(i,{slots:o,emit:l}){let c=0;return()=>{var d,p;const g=(d=o.default)==null?void 0:d.call(o),b=[];let w=0;function M(C){St(C)&&C.forEach(P=>{var A;((A=(P==null?void 0:P.type)||{})==null?void 0:A.name)==="ElTourStep"&&(b.push(P),w+=1)})}return g.length&&M(da((p=g[0])==null?void 0:p.children)),c!==w&&(c=w,l("update-total",w)),b.length?b[i.current]:null}}});const KJ=lt({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Xn},placement:hv.placement,contentStyle:{type:Ae([Object])},mask:{type:Ae([Boolean,Object]),default:!0},gap:{type:Ae(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Ae([Boolean,Object]),default:()=>({block:"center"})},type:{type:Ae(String)},appendTo:{type:Ae([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),HJ={[wn]:i=>Ii(i),"update:current":i=>Yt(i),close:i=>Yt(i),finish:()=>!0,change:i=>Yt(i)},jJ=xe({name:"ElTour"}),qJ=xe({...jJ,props:KJ,emits:HJ,setup(i,{emit:o}){const l=i,c=Qe("tour"),d=ne(0),p=ne(),g=F2(l,"current",o,{passive:!0}),b=j(()=>{var ee;return(ee=p.value)==null?void 0:ee.target}),w=j(()=>[c.b(),z.value==="primary"?c.m("primary"):""]),M=j(()=>{var ee;return((ee=p.value)==null?void 0:ee.placement)||l.placement}),C=j(()=>{var ee,Q;return(Q=(ee=p.value)==null?void 0:ee.contentStyle)!=null?Q:l.contentStyle}),P=j(()=>{var ee,Q;return(Q=(ee=p.value)==null?void 0:ee.mask)!=null?Q:l.mask}),A=j(()=>!!P.value&&l.modelValue),O=j(()=>Ii(P.value)?void 0:P.value),R=j(()=>{var ee,Q;return!!b.value&&((Q=(ee=p.value)==null?void 0:ee.showArrow)!=null?Q:l.showArrow)}),N=j(()=>{var ee,Q;return(Q=(ee=p.value)==null?void 0:ee.scrollIntoViewOptions)!=null?Q:l.scrollIntoViewOptions}),z=j(()=>{var ee,Q;return(Q=(ee=p.value)==null?void 0:ee.type)!=null?Q:l.type}),{nextZIndex:T}=Su(),_=T(),I=j(()=>{var ee;return(ee=l.zIndex)!=null?ee:_}),{mergedPosInfo:K,triggerTarget:B}=MJ(b,Gn(l,"modelValue"),Gn(l,"gap"),P,N);Ue(()=>l.modelValue,ee=>{ee||(g.value=0)});const G=()=>{l.closeOnPressEscape&&(o("update:modelValue",!1),o("close",g.value))},$=ee=>{d.value=ee},J=Qi();return En(Sf,{currentStep:p,current:g,total:d,showClose:Gn(l,"showClose"),closeIcon:Gn(l,"closeIcon"),mergedType:z,ns:c,slots:J,updateModelValue(ee){o("update:modelValue",ee)},onClose(){o("close",g.value)},onFinish(){o("finish")},onChange(){o("change",g.value)}}),(ee,Q)=>{var X,se;return Y(),fe($t,null,[(Y(),Ie(mu,{to:ee.appendTo},[pe("div",An({class:v(w)},ee.$attrs),[ye(OJ,{visible:v(A),fill:(X=v(O))==null?void 0:X.color,style:Ft((se=v(O))==null?void 0:se.style),pos:v(K),"z-index":v(I),"target-area-clickable":ee.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),ee.modelValue?(Y(),Ie(zJ,{key:v(g),reference:v(B),placement:v(M),"show-arrow":v(R),"z-index":v(I),style:Ft(v(C)),onClose:G},{default:Te(()=>[ye(v(_J),{current:v(g),onUpdateTotal:$},{default:Te(()=>[ze(ee.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):De("v-if",!0)],16)],8,["to"])),De(" just for IDE "),De("v-if",!0)],64)}}});var GJ=ct(qJ,[["__file","tour.vue"]]);const WJ=lt({target:{type:Ae([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Xn},showArrow:{type:Boolean,default:void 0},placement:hv.placement,mask:{type:Ae([Boolean,Object]),default:void 0},contentStyle:{type:Ae([Object])},prevButtonProps:{type:Ae(Object)},nextButtonProps:{type:Ae(Object)},scrollIntoViewOptions:{type:Ae([Boolean,Object]),default:void 0},type:{type:Ae(String)}}),UJ={close:()=>!0},YJ=xe({name:"ElTourStep"}),XJ=xe({...YJ,props:WJ,emits:UJ,setup(i,{emit:o}){const l=i,{Close:c}=e0,{t:d}=Bn(),{currentStep:p,current:g,total:b,showClose:w,closeIcon:M,mergedType:C,ns:P,slots:A,updateModelValue:O,onClose:R,onFinish:N,onChange:z}=Tt(Sf);Ue(l,J=>{p.value=J},{immediate:!0});const T=j(()=>{var J;return(J=l.showClose)!=null?J:w.value}),_=j(()=>{var J,ee;return(ee=(J=l.closeIcon)!=null?J:M.value)!=null?ee:c}),I=J=>{if(J)return v3(J,["children","onClick"])},K=()=>{var J,ee;g.value-=1,(J=l.prevButtonProps)!=null&&J.onClick&&((ee=l.prevButtonProps)==null||ee.onClick()),z()},B=()=>{var J;g.value>=b.value-1?G():g.value+=1,(J=l.nextButtonProps)!=null&&J.onClick&&l.nextButtonProps.onClick(),z()},G=()=>{$(),N()},$=()=>{O(!1),R(),o("close")};return(J,ee)=>(Y(),fe($t,null,[v(T)?(Y(),fe("button",{key:0,"aria-label":"Close",class:Z(v(P).e("closebtn")),type:"button",onClick:$},[ye(v(Et),{class:Z(v(P).e("close"))},{default:Te(()=>[(Y(),Ie(kn(v(_))))]),_:1},8,["class"])],2)):De("v-if",!0),pe("header",{class:Z([v(P).e("header"),{"show-close":v(w)}])},[ze(J.$slots,"header",{},()=>[pe("span",{role:"heading",class:Z(v(P).e("title"))},dt(J.title),3)])],2),pe("div",{class:Z(v(P).e("body"))},[ze(J.$slots,"default",{},()=>[pe("span",null,dt(J.description),1)])],2),pe("footer",{class:Z(v(P).e("footer"))},[pe("div",{class:Z(v(P).b("indicators"))},[v(A).indicators?(Y(),Ie(kn(v(A).indicators),{key:0,current:v(g),total:v(b)},null,8,["current","total"])):(Y(!0),fe($t,{key:1},Rn(v(b),(Q,X)=>(Y(),fe("span",{key:Q,class:Z([v(P).b("indicator"),X===v(g)?"is-active":""])},null,2))),128))],2),pe("div",{class:Z(v(P).b("buttons"))},[v(g)>0?(Y(),Ie(v(Zi),An({key:0,size:"small",type:v(C)},I(J.prevButtonProps),{onClick:K}),{default:Te(()=>{var Q,X;return[Tn(dt((X=(Q=J.prevButtonProps)==null?void 0:Q.children)!=null?X:v(d)("el.tour.previous")),1)]}),_:1},16,["type"])):De("v-if",!0),v(g)<=v(b)-1?(Y(),Ie(v(Zi),An({key:1,size:"small",type:v(C)==="primary"?"default":"primary"},I(J.nextButtonProps),{onClick:B}),{default:Te(()=>{var Q,X;return[Tn(dt((X=(Q=J.nextButtonProps)==null?void 0:Q.children)!=null?X:v(g)===v(b)-1?v(d)("el.tour.finish"):v(d)("el.tour.next")),1)]}),_:1},16,["type"])):De("v-if",!0)],2)],2)],64))}});var kM=ct(XJ,[["__file","step.vue"]]);const ZJ=gn(GJ,{TourStep:kM}),JJ=gi(kM),QJ=lt({container:{type:Ae([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:Ae(String),default:"default"},direction:{type:Ae(String),default:"vertical"}}),eQ={change:i=>tn(i),click:(i,o)=>i instanceof MouseEvent&&(tn(o)||Ri(o))},CM=Symbol("anchor"),tQ=xe({name:"ElAnchor"}),nQ=xe({...tQ,props:QJ,emits:eQ,setup(i,{expose:o,emit:l}){const c=i,d=ne(""),p=ne(null),g=ne(null),b=ne(),w={};let M=!1,C=0;const P=Qe("anchor"),A=j(()=>[P.b(),c.type==="underline"?P.m("underline"):"",P.m(c.direction)]),O=J=>{w[J.href]=J.el},R=J=>{delete w[J]},N=J=>{d.value!==J&&(d.value=J,l("change",J))};let z=null;const T=J=>{if(!b.value)return;const ee=gh(J);if(!ee)return;z&&z(),M=!0;const Q=mb(ee,b.value),X=Jp(ee,Q),se=Q.scrollHeight-Q.clientHeight,de=Math.min(X-c.offset,se);z=L3(b.value,C,de,c.duration,()=>{setTimeout(()=>{M=!1},20)})},_=J=>{J&&(N(J),T(J))},I=(J,ee)=>{l("click",J,ee),_(ee)},K=WR(()=>{b.value&&(C=vb(b.value));const J=B();M||Ri(J)||N(J)}),B=()=>{if(!b.value)return;const J=vb(b.value),ee=[];for(const Q of Object.keys(w)){const X=gh(Q);if(!X)continue;const se=mb(X,b.value),de=Jp(X,se);ee.push({top:de-c.offset-c.bound,href:Q})}ee.sort((Q,X)=>Q.top-X.top);for(let Q=0;Q<ee.length;Q++){const X=ee[Q],se=ee[Q+1];if(Q===0&&J===0)return"";if(X.top<=J&&(!se||se.top>J))return X.href}},G=()=>{const J=gh(c.container);!J||sf(J)?b.value=window:b.value=J};ii(b,"scroll",K);const $=j(()=>{if(!p.value||!g.value||!d.value)return{};const J=w[d.value];if(!J)return{};const ee=p.value.getBoundingClientRect(),Q=g.value.getBoundingClientRect(),X=J.getBoundingClientRect();return c.direction==="horizontal"?{left:`${X.left-ee.left}px`,width:`${X.width}px`,opacity:1}:{top:`${X.top-ee.top+(X.height-Q.height)/2}px`,opacity:1}});return un(()=>{G();const J=decodeURIComponent(window.location.hash);gh(J)?_(J):K()}),Ue(()=>c.container,()=>{G()}),En(CM,{ns:P,direction:c.direction,currentAnchor:d,addLink:O,removeLink:R,handleClick:I}),o({scrollTo:_}),(J,ee)=>(Y(),fe("div",{ref_key:"anchorRef",ref:p,class:Z(v(A))},[J.marker?(Y(),fe("div",{key:0,ref_key:"markerRef",ref:g,class:Z(v(P).e("marker")),style:Ft(v($))},null,6)):De("v-if",!0),pe("div",{class:Z(v(P).e("list"))},[ze(J.$slots,"default")],2)],2))}});var iQ=ct(nQ,[["__file","anchor.vue"]]);const sQ=lt({title:String,href:String}),oQ=["href"],rQ=xe({name:"ElAnchorLink"}),aQ=xe({...rQ,props:sQ,setup(i){const o=i,l=ne(null),{ns:c,direction:d,currentAnchor:p,addLink:g,removeLink:b,handleClick:w}=Tt(CM),M=j(()=>[c.e("link"),c.is("active",p.value===o.href)]),C=P=>{w(P,o.href)};return Ue(()=>o.href,(P,A)=>{Kt(()=>{A&&b(A),P&&g({href:P,el:l.value})})}),un(()=>{const{href:P}=o;P&&g({href:P,el:l.value})}),ei(()=>{const{href:P}=o;P&&b(P)}),(P,A)=>(Y(),fe("div",{class:Z(v(c).e("item"))},[pe("a",{ref_key:"linkRef",ref:l,class:Z(v(M)),href:P.href,onClick:C},[ze(P.$slots,"default",{},()=>[Tn(dt(P.title),1)])],10,oQ),P.$slots["sub-link"]&&v(d)==="vertical"?(Y(),fe("div",{key:0,class:Z(v(c).e("list"))},[ze(P.$slots,"sub-link")],2)):De("v-if",!0)],2))}});var MM=ct(aQ,[["__file","anchor-link.vue"]]);const lQ=gn(iQ,{AnchorLink:MM}),uQ=gi(MM),cQ=lt({options:{type:Ae(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:ji,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...os(["ariaLabel"])}),hQ={[wn]:i=>tn(i)||Yt(i),[si]:i=>tn(i)||Yt(i)},dQ=["id","aria-label","aria-labelledby"],fQ=["name","disabled","checked","onChange"],pQ=xe({name:"ElSegmented"}),gQ=xe({...pQ,props:cQ,emits:hQ,setup(i,{emit:o}){const l=i,c=Qe("segmented"),d=hs(),p=$i(),g=Es(),{formItem:b}=ks(),{inputId:w,isLabeledByFormItem:M}=Go(l,{formItemContext:b}),C=ne(null),P=IN(),A=Hn({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),O=ee=>{const Q=R(ee);o(wn,Q),o(si,Q)},R=ee=>yn(ee)?ee.value:ee,N=ee=>yn(ee)?ee.label:ee,z=ee=>!!(g.value||yn(ee)&&ee.disabled),T=ee=>l.modelValue===R(ee),_=ee=>l.options.find(Q=>R(Q)===ee),I=ee=>[c.e("item"),c.is("selected",T(ee)),c.is("disabled",z(ee))],K=()=>{if(!C.value)return;const ee=C.value.querySelector(".is-selected"),Q=C.value.querySelector(".is-selected input");if(!ee||!Q){A.width=0,A.translateX=0,A.disabled=!1,A.focusVisible=!1;return}const X=ee.getBoundingClientRect();A.isInit=!0,A.width=X.width,A.translateX=ee.offsetLeft,A.disabled=z(_(l.modelValue));try{A.focusVisible=Q.matches(":focus-visible")}catch{}},B=j(()=>[c.b(),c.m(p.value),c.is("block",l.block)]),G=j(()=>({width:`${A.width}px`,transform:`translateX(${A.translateX}px)`,display:A.isInit?"block":"none"})),$=j(()=>[c.e("item-selected"),c.is("disabled",A.disabled),c.is("focus-visible",A.focusVisible)]),J=j(()=>l.name||d.value);return fi(C,K),Ue(P,K),Ue(()=>l.modelValue,()=>{var ee;K(),l.validateEvent&&((ee=b==null?void 0:b.validate)==null||ee.call(b,"change").catch(Q=>void 0))},{flush:"post"}),(ee,Q)=>(Y(),fe("div",{id:v(w),ref_key:"segmentedRef",ref:C,class:Z(v(B)),role:"radiogroup","aria-label":v(M)?void 0:ee.ariaLabel||"segmented","aria-labelledby":v(M)?v(b).labelId:void 0},[pe("div",{class:Z(v(c).e("group"))},[pe("div",{style:Ft(v(G)),class:Z(v($))},null,6),(Y(!0),fe($t,null,Rn(ee.options,(X,se)=>(Y(),fe("label",{key:se,class:Z(I(X))},[pe("input",{class:Z(v(c).e("item-input")),type:"radio",name:v(J),disabled:z(X),checked:T(X),onChange:de=>O(X)},null,42,fQ),pe("div",{class:Z(v(c).e("item-label"))},[ze(ee.$slots,"default",{item:X},()=>[Tn(dt(N(X)),1)])],2)],2))),128))],2)],10,dQ))}});var mQ=ct(gQ,[["__file","segmented.vue"]]);const vQ=gn(mQ);var yQ=[vB,NB,eV,L7,aV,pV,LS,NV,AV,Zi,BS,U8,Q8,b5,w5,D6,y6,$6,Po,$5,hk,X6,pz,gz,rz,qz,uB,i_,s_,o_,r_,a_,TK,$K,VK,tH,qk,gH,rj,aj,lj,eC,x4,S4,Et,e9,tC,bs,nC,p9,R9,I9,F9,B9,j9,Zq,iG,dG,TS,dC,yk,e6,Q5,AG,RG,q6,$r,ll,Pd,kq,wW,NW,AW,oU,cU,EC,xU,LU,EU,KU,qY,GY,A7,q7,G7,kc,Z7,P8,iX,lX,uX,Ss,IX,XX,cZ,vZ,IZ,fJ,kJ,ZJ,JJ,lQ,uQ,vQ];const po="ElInfiniteScroll",bQ=50,wQ=200,xQ=0,SQ={delay:{type:Number,default:wQ},distance:{type:Number,default:xQ},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},dv=(i,o)=>Object.entries(SQ).reduce((l,[c,d])=>{var p,g;const{type:b,default:w}=d,M=i.getAttribute(`infinite-scroll-${c}`);let C=(g=(p=o[M])!=null?p:M)!=null?g:w;return C=C==="false"?!1:C,C=b(C),l[c]=Number.isNaN(C)?w:C,l},{}),PM=i=>{const{observer:o}=i[po];o&&(o.disconnect(),delete i[po].observer)},kQ=(i,o)=>{const{container:l,containerEl:c,instance:d,observer:p,lastScrollTop:g}=i[po],{disabled:b,distance:w}=dv(i,d),{clientHeight:M,scrollHeight:C,scrollTop:P}=c,A=P-g;if(i[po].lastScrollTop=P,p||b||A<0)return;let O=!1;if(l===i)O=C-(M+P)<=w;else{const{clientTop:R,scrollHeight:N}=i,z=Jp(i,c);O=P+M>=z+R+N-w}O&&o.call(d)};function Bp(i,o){const{containerEl:l,instance:c}=i[po],{disabled:d}=dv(i,c);d||l.clientHeight===0||(l.scrollHeight<=l.clientHeight?o.call(c):PM(i))}const CQ={async mounted(i,o){const{instance:l,value:c}=o;Xt(c)||Hi(po,"'v-infinite-scroll' binding value must be a function"),await Kt();const{delay:d,immediate:p}=dv(i,l),g=Ym(i,!0),b=g===window?document.documentElement:g,w=Za(kQ.bind(null,i,c),d);if(g){if(i[po]={instance:l,container:g,containerEl:b,delay:d,cb:c,onScroll:w,lastScrollTop:b.scrollTop},p){const M=new MutationObserver(Za(Bp.bind(null,i,c),bQ));i[po].observer=M,M.observe(i,{childList:!0,subtree:!0}),Bp(i,c)}g.addEventListener("scroll",w)}},unmounted(i){if(!i[po])return;const{container:o,onScroll:l}=i[po];o==null||o.removeEventListener("scroll",l),PM(i)},async updated(i){if(!i[po])await Kt();else{const{containerEl:o,cb:l,observer:c}=i[po];o.clientHeight&&c&&Bp(i,l)}}},im=CQ;im.install=i=>{i.directive("InfiniteScroll",im)};const MQ=im;function PQ(i){let o;const l=ne(!1),c=Hn({...i,originalPosition:"",originalOverflow:"",visible:!1});function d(A){c.text=A}function p(){const A=c.parent,O=P.ns;if(!A.vLoadingAddClassList){let R=A.getAttribute("loading-number");R=Number.parseInt(R)-1,R?A.setAttribute("loading-number",R.toString()):(xs(A,O.bm("parent","relative")),A.removeAttribute("loading-number")),xs(A,O.bm("parent","hidden"))}g(),C.unmount()}function g(){var A,O;(O=(A=P.$el)==null?void 0:A.parentNode)==null||O.removeChild(P.$el)}function b(){var A;i.beforeClose&&!i.beforeClose()||(l.value=!0,clearTimeout(o),o=window.setTimeout(w,400),c.visible=!1,(A=i.closed)==null||A.call(i))}function w(){if(!l.value)return;const A=c.parent;l.value=!1,A.vLoadingAddClassList=void 0,p()}const C=A2(xe({name:"ElLoading",setup(A,{expose:O}){const{ns:R,zIndex:N}=df("loading");return O({ns:R,zIndex:N}),()=>{const z=c.spinner||c.svg,T=jt("svg",{class:"circular",viewBox:c.svgViewBox?c.svgViewBox:"0 0 50 50",...z?{innerHTML:z}:{}},[jt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),_=c.text?jt("p",{class:R.b("text")},[c.text]):void 0;return jt(Ki,{name:R.b("fade"),onAfterLeave:w},{default:Te(()=>[ln(ye("div",{style:{backgroundColor:c.background||""},class:[R.b("mask"),c.customClass,c.fullscreen?"is-fullscreen":""]},[jt("div",{class:R.b("spinner")},[T,_])]),[[$n,c.visible]])])})}}})),P=C.mount(document.createElement("div"));return{...ss(c),setText:d,removeElLoadingChild:g,close:b,handleAfterLeave:w,vm:P,get $el(){return P.$el}}}let Lh;const sm=function(i={}){if(!In)return;const o=TQ(i);if(o.fullscreen&&Lh)return Lh;const l=PQ({...o,closed:()=>{var d;(d=o.closed)==null||d.call(o),o.fullscreen&&(Lh=void 0)}});NQ(o,o.parent,l),lw(o,o.parent,l),o.parent.vLoadingAddClassList=()=>lw(o,o.parent,l);let c=o.parent.getAttribute("loading-number");return c?c=`${Number.parseInt(c)+1}`:c="1",o.parent.setAttribute("loading-number",c),o.parent.appendChild(l.$el),Kt(()=>l.visible.value=o.visible),o.fullscreen&&(Lh=l),l},TQ=i=>{var o,l,c,d;let p;return tn(i.target)?p=(o=document.querySelector(i.target))!=null?o:document.body:p=i.target||document.body,{parent:p===document.body||i.body?document.body:p,background:i.background||"",svg:i.svg||"",svgViewBox:i.svgViewBox||"",spinner:i.spinner||!1,text:i.text||"",fullscreen:p===document.body&&((l=i.fullscreen)!=null?l:!0),lock:(c=i.lock)!=null?c:!1,customClass:i.customClass||"",visible:(d=i.visible)!=null?d:!0,target:p}},NQ=async(i,o,l)=>{const{nextZIndex:c}=l.vm.zIndex||l.vm._.exposed.zIndex,d={};if(i.fullscreen)l.originalPosition.value=aa(document.body,"position"),l.originalOverflow.value=aa(document.body,"overflow"),d.zIndex=c();else if(i.parent===document.body){l.originalPosition.value=aa(document.body,"position"),await Kt();for(const p of["top","left"]){const g=p==="top"?"scrollTop":"scrollLeft";d[p]=`${i.target.getBoundingClientRect()[p]+document.body[g]+document.documentElement[g]-Number.parseInt(aa(document.body,`margin-${p}`),10)}px`}for(const p of["height","width"])d[p]=`${i.target.getBoundingClientRect()[p]}px`}else l.originalPosition.value=aa(o,"position");for(const[p,g]of Object.entries(d))l.$el.style[p]=g},lw=(i,o,l)=>{const c=l.vm.ns||l.vm._.exposed.ns;["absolute","fixed","sticky"].includes(l.originalPosition.value)?xs(o,c.bm("parent","relative")):mo(o,c.bm("parent","relative")),i.fullscreen&&i.lock?mo(o,c.bm("parent","hidden")):xs(o,c.bm("parent","hidden"))},od=Symbol("ElLoading"),uw=(i,o)=>{var l,c,d,p;const g=o.instance,b=A=>yn(o.value)?o.value[A]:void 0,w=A=>{const O=tn(A)&&(g==null?void 0:g[A])||A;return O&&ne(O)},M=A=>w(b(A)||i.getAttribute(`element-loading-${ka(A)}`)),C=(l=b("fullscreen"))!=null?l:o.modifiers.fullscreen,P={text:M("text"),svg:M("svg"),svgViewBox:M("svgViewBox"),spinner:M("spinner"),background:M("background"),customClass:M("customClass"),fullscreen:C,target:(c=b("target"))!=null?c:C?void 0:i,body:(d=b("body"))!=null?d:o.modifiers.body,lock:(p=b("lock"))!=null?p:o.modifiers.lock};i[od]={options:P,instance:sm(P)}},AQ=(i,o)=>{for(const l of Object.keys(o))ri(o[l])&&(o[l].value=i[l])},cw={mounted(i,o){o.value&&uw(i,o)},updated(i,o){const l=i[od];o.oldValue!==o.value&&(o.value&&!o.oldValue?uw(i,o):o.value&&o.oldValue?yn(o.value)&&AQ(o.value,l.options):l==null||l.instance.close())},unmounted(i){var o;(o=i[od])==null||o.instance.close(),i[od]=null}},LQ={install(i){i.directive("loading",cw),i.config.globalProperties.$loading=sm},directive:cw,service:sm},TM=["success","info","warning","error"],vs=pi({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:In?document.body:void 0}),EQ=lt({customClass:{type:String,default:vs.customClass},center:{type:Boolean,default:vs.center},dangerouslyUseHTMLString:{type:Boolean,default:vs.dangerouslyUseHTMLString},duration:{type:Number,default:vs.duration},icon:{type:Xn,default:vs.icon},id:{type:String,default:vs.id},message:{type:Ae([String,Object,Function]),default:vs.message},onClose:{type:Ae(Function),default:vs.onClose},showClose:{type:Boolean,default:vs.showClose},type:{type:String,values:TM,default:vs.type},plain:{type:Boolean,default:vs.plain},offset:{type:Number,default:vs.offset},zIndex:{type:Number,default:vs.zIndex},grouping:{type:Boolean,default:vs.grouping},repeatNum:{type:Number,default:vs.repeatNum}}),DQ={destroy:()=>!0},Vo=Ew([]),OQ=i=>{const o=Vo.findIndex(d=>d.id===i),l=Vo[o];let c;return o>0&&(c=Vo[o-1]),{current:l,prev:c}},RQ=i=>{const{prev:o}=OQ(i);return o?o.vm.exposed.bottom.value:0},IQ=(i,o)=>Vo.findIndex(c=>c.id===i)>0?16:o,FQ=["id"],BQ=["innerHTML"],$Q=xe({name:"ElMessage"}),VQ=xe({...$Q,props:EQ,emits:DQ,setup(i,{expose:o}){const l=i,{Close:c}=t0,{ns:d,zIndex:p}=df("message"),{currentZIndex:g,nextZIndex:b}=p,w=ne(),M=ne(!1),C=ne(0);let P;const A=j(()=>l.type?l.type==="error"?"danger":l.type:"info"),O=j(()=>{const $=l.type;return{[d.bm("icon",$)]:$&&wa[$]}}),R=j(()=>l.icon||wa[l.type]||""),N=j(()=>RQ(l.id)),z=j(()=>IQ(l.id,l.offset)+N.value),T=j(()=>C.value+z.value),_=j(()=>({top:`${z.value}px`,zIndex:g.value}));function I(){l.duration!==0&&({stop:P}=nl(()=>{B()},l.duration))}function K(){P==null||P()}function B(){M.value=!1}function G({code:$}){$===Gt.esc&&B()}return un(()=>{I(),b(),M.value=!0}),Ue(()=>l.repeatNum,()=>{K(),I()}),ii(document,"keydown",G),fi(w,()=>{C.value=w.value.getBoundingClientRect().height}),o({visible:M,bottom:T,close:B}),($,J)=>(Y(),Ie(Ki,{name:v(d).b("fade"),onBeforeLeave:$.onClose,onAfterLeave:J[0]||(J[0]=ee=>$.$emit("destroy")),persisted:""},{default:Te(()=>[ln(pe("div",{id:$.id,ref_key:"messageRef",ref:w,class:Z([v(d).b(),{[v(d).m($.type)]:$.type},v(d).is("center",$.center),v(d).is("closable",$.showClose),v(d).is("plain",$.plain),$.customClass]),style:Ft(v(_)),role:"alert",onMouseenter:K,onMouseleave:I},[$.repeatNum>1?(Y(),Ie(v(LS),{key:0,value:$.repeatNum,type:v(A),class:Z(v(d).e("badge"))},null,8,["value","type","class"])):De("v-if",!0),v(R)?(Y(),Ie(v(Et),{key:1,class:Z([v(d).e("icon"),v(O)])},{default:Te(()=>[(Y(),Ie(kn(v(R))))]),_:1},8,["class"])):De("v-if",!0),ze($.$slots,"default",{},()=>[$.dangerouslyUseHTMLString?(Y(),fe($t,{key:1},[De(" Caution here, message could've been compromised, never use user's input as message "),pe("p",{class:Z(v(d).e("content")),innerHTML:$.message},null,10,BQ)],2112)):(Y(),fe("p",{key:0,class:Z(v(d).e("content"))},dt($.message),3))]),$.showClose?(Y(),Ie(v(Et),{key:2,class:Z(v(d).e("closeBtn")),onClick:en(B,["stop"])},{default:Te(()=>[ye(v(c))]),_:1},8,["class","onClick"])):De("v-if",!0)],46,FQ),[[$n,M.value]])]),_:3},8,["name","onBeforeLeave"]))}});var zQ=ct(VQ,[["__file","message.vue"]]);let _Q=1;const NM=i=>{const o=!i||tn(i)||li(i)||Xt(i)?{message:i}:i,l={...vs,...o};if(!l.appendTo)l.appendTo=document.body;else if(tn(l.appendTo)){let c=document.querySelector(l.appendTo);ko(c)||(c=document.body),l.appendTo=c}return l},KQ=i=>{const o=Vo.indexOf(i);if(o===-1)return;Vo.splice(o,1);const{handler:l}=i;l.close()},HQ=({appendTo:i,...o},l)=>{const c=`message_${_Q++}`,d=o.onClose,p=document.createElement("div"),g={...o,id:c,onClose:()=>{d==null||d(),KQ(C)},onDestroy:()=>{ga(null,p)}},b=ye(zQ,g,Xt(g.message)||li(g.message)?{default:Xt(g.message)?g.message:()=>g.message}:null);b.appContext=l||fu._context,ga(b,p),i.appendChild(p.firstElementChild);const w=b.component,C={id:c,vnode:b,vm:w,handler:{close:()=>{w.exposed.visible.value=!1}},props:b.component.props};return C},fu=(i={},o)=>{if(!In)return{close:()=>{}};if(Yt(ug.max)&&Vo.length>=ug.max)return{close:()=>{}};const l=NM(i);if(l.grouping&&Vo.length){const d=Vo.find(({vnode:p})=>{var g;return((g=p.props)==null?void 0:g.message)===l.message});if(d)return d.props.repeatNum+=1,d.props.type=l.type,d.handler}const c=HQ(l,o);return Vo.push(c),c.handler};TM.forEach(i=>{fu[i]=(o={},l)=>{const c=NM(o);return fu({...c,type:i},l)}});function jQ(i){for(const o of Vo)(!i||i===o.props.type)&&o.handler.close()}fu.closeAll=jQ;fu._context=null;const om=Ox(fu,"$message"),qQ=xe({name:"ElMessageBox",directives:{TrapFocus:l8},components:{ElButton:Zi,ElFocusTrap:Yc,ElInput:bs,ElOverlay:$0,ElIcon:Et,...t0},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Rx},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(i,{emit:o}){const{locale:l,zIndex:c,ns:d,size:p}=df("message-box",j(()=>i.buttonSize)),{t:g}=l,{nextZIndex:b}=c,w=ne(!1),M=Hn({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:b()}),C=j(()=>{const ae=M.type;return{[d.bm("icon",ae)]:ae&&wa[ae]}}),P=hs(),A=hs(),O=j(()=>M.icon||wa[M.type]||""),R=j(()=>!!M.message),N=ne(),z=ne(),T=ne(),_=ne(),I=ne(),K=j(()=>M.confirmButtonClass);Ue(()=>M.inputValue,async ae=>{await Kt(),i.boxType==="prompt"&&ae!==null&&se()},{immediate:!0}),Ue(()=>w.value,ae=>{var ie,re;ae&&(i.boxType!=="prompt"&&(M.autofocus?T.value=(re=(ie=I.value)==null?void 0:ie.$el)!=null?re:N.value:T.value=N.value),M.zIndex=b()),i.boxType==="prompt"&&(ae?Kt().then(()=>{var te;_.value&&_.value.$el&&(M.autofocus?T.value=(te=de())!=null?te:N.value:T.value=N.value)}):(M.editorErrorMessage="",M.validateError=!1))});const B=j(()=>i.draggable),G=j(()=>i.overflow);Ix(N,z,B,G),un(async()=>{await Kt(),i.closeOnHashChange&&window.addEventListener("hashchange",$)}),ei(()=>{i.closeOnHashChange&&window.removeEventListener("hashchange",$)});function $(){w.value&&(w.value=!1,Kt(()=>{M.action&&o("action",M.action)}))}const J=()=>{i.closeOnClickModal&&X(M.distinguishCancelAndClose?"close":"cancel")},ee=g0(J),Q=ae=>{if(M.inputType!=="textarea")return ae.preventDefault(),X("confirm")},X=ae=>{var ie;i.boxType==="prompt"&&ae==="confirm"&&!se()||(M.action=ae,M.beforeClose?(ie=M.beforeClose)==null||ie.call(M,ae,M,$):$())},se=()=>{if(i.boxType==="prompt"){const ae=M.inputPattern;if(ae&&!ae.test(M.inputValue||""))return M.editorErrorMessage=M.inputErrorMessage||g("el.messagebox.error"),M.validateError=!0,!1;const ie=M.inputValidator;if(typeof ie=="function"){const re=ie(M.inputValue);if(re===!1)return M.editorErrorMessage=M.inputErrorMessage||g("el.messagebox.error"),M.validateError=!0,!1;if(typeof re=="string")return M.editorErrorMessage=re,M.validateError=!0,!1}}return M.editorErrorMessage="",M.validateError=!1,!0},de=()=>{const ae=_.value.$refs;return ae.input||ae.textarea},ve=()=>{X("close")},me=()=>{i.closeOnPressEscape&&ve()};return i.lockScroll&&r0(w),{...ss(M),ns:d,overlayEvent:ee,visible:w,hasMessage:R,typeClass:C,contentId:P,inputId:A,btnSize:p,iconComponent:O,confirmButtonClasses:K,rootRef:N,focusStartRef:T,headerRef:z,inputRef:_,confirmRef:I,doClose:$,handleClose:ve,onCloseRequested:me,handleWrapperClick:J,handleInputEnter:Q,handleAction:X,t:g}}}),GQ=["aria-label","aria-describedby"],WQ=["aria-label"],UQ=["id"];function YQ(i,o,l,c,d,p){const g=fn("el-icon"),b=fn("close"),w=fn("el-input"),M=fn("el-button"),C=fn("el-focus-trap"),P=fn("el-overlay");return Y(),Ie(Ki,{name:"fade-in-linear",onAfterLeave:o[11]||(o[11]=A=>i.$emit("vanish")),persisted:""},{default:Te(()=>[ln(ye(P,{"z-index":i.zIndex,"overlay-class":[i.ns.is("message-box"),i.modalClass],mask:i.modal},{default:Te(()=>[pe("div",{role:"dialog","aria-label":i.title,"aria-modal":"true","aria-describedby":i.showInput?void 0:i.contentId,class:Z(`${i.ns.namespace.value}-overlay-message-box`),onClick:o[8]||(o[8]=(...A)=>i.overlayEvent.onClick&&i.overlayEvent.onClick(...A)),onMousedown:o[9]||(o[9]=(...A)=>i.overlayEvent.onMousedown&&i.overlayEvent.onMousedown(...A)),onMouseup:o[10]||(o[10]=(...A)=>i.overlayEvent.onMouseup&&i.overlayEvent.onMouseup(...A))},[ye(C,{loop:"",trapped:i.visible,"focus-trap-el":i.rootRef,"focus-start-el":i.focusStartRef,onReleaseRequested:i.onCloseRequested},{default:Te(()=>[pe("div",{ref:"rootRef",class:Z([i.ns.b(),i.customClass,i.ns.is("draggable",i.draggable),{[i.ns.m("center")]:i.center}]),style:Ft(i.customStyle),tabindex:"-1",onClick:o[7]||(o[7]=en(()=>{},["stop"]))},[i.title!==null&&i.title!==void 0?(Y(),fe("div",{key:0,ref:"headerRef",class:Z([i.ns.e("header"),{"show-close":i.showClose}])},[pe("div",{class:Z(i.ns.e("title"))},[i.iconComponent&&i.center?(Y(),Ie(g,{key:0,class:Z([i.ns.e("status"),i.typeClass])},{default:Te(()=>[(Y(),Ie(kn(i.iconComponent)))]),_:1},8,["class"])):De("v-if",!0),pe("span",null,dt(i.title),1)],2),i.showClose?(Y(),fe("button",{key:0,type:"button",class:Z(i.ns.e("headerbtn")),"aria-label":i.t("el.messagebox.close"),onClick:o[0]||(o[0]=A=>i.handleAction(i.distinguishCancelAndClose?"close":"cancel")),onKeydown:o[1]||(o[1]=Yn(en(A=>i.handleAction(i.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ye(g,{class:Z(i.ns.e("close"))},{default:Te(()=>[ye(b)]),_:1},8,["class"])],42,WQ)):De("v-if",!0)],2)):De("v-if",!0),pe("div",{id:i.contentId,class:Z(i.ns.e("content"))},[pe("div",{class:Z(i.ns.e("container"))},[i.iconComponent&&!i.center&&i.hasMessage?(Y(),Ie(g,{key:0,class:Z([i.ns.e("status"),i.typeClass])},{default:Te(()=>[(Y(),Ie(kn(i.iconComponent)))]),_:1},8,["class"])):De("v-if",!0),i.hasMessage?(Y(),fe("div",{key:1,class:Z(i.ns.e("message"))},[ze(i.$slots,"default",{},()=>[i.dangerouslyUseHTMLString?(Y(),Ie(kn(i.showInput?"label":"p"),{key:1,for:i.showInput?i.inputId:void 0,innerHTML:i.message},null,8,["for","innerHTML"])):(Y(),Ie(kn(i.showInput?"label":"p"),{key:0,for:i.showInput?i.inputId:void 0},{default:Te(()=>[Tn(dt(i.dangerouslyUseHTMLString?"":i.message),1)]),_:1},8,["for"]))])],2)):De("v-if",!0)],2),ln(pe("div",{class:Z(i.ns.e("input"))},[ye(w,{id:i.inputId,ref:"inputRef",modelValue:i.inputValue,"onUpdate:modelValue":o[2]||(o[2]=A=>i.inputValue=A),type:i.inputType,placeholder:i.inputPlaceholder,"aria-invalid":i.validateError,class:Z({invalid:i.validateError}),onKeydown:Yn(i.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),pe("div",{class:Z(i.ns.e("errormsg")),style:Ft({visibility:i.editorErrorMessage?"visible":"hidden"})},dt(i.editorErrorMessage),7)],2),[[$n,i.showInput]])],10,UQ),pe("div",{class:Z(i.ns.e("btns"))},[i.showCancelButton?(Y(),Ie(M,{key:0,loading:i.cancelButtonLoading,class:Z([i.cancelButtonClass]),round:i.roundButton,size:i.btnSize,onClick:o[3]||(o[3]=A=>i.handleAction("cancel")),onKeydown:o[4]||(o[4]=Yn(en(A=>i.handleAction("cancel"),["prevent"]),["enter"]))},{default:Te(()=>[Tn(dt(i.cancelButtonText||i.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):De("v-if",!0),ln(ye(M,{ref:"confirmRef",type:"primary",loading:i.confirmButtonLoading,class:Z([i.confirmButtonClasses]),round:i.roundButton,disabled:i.confirmButtonDisabled,size:i.btnSize,onClick:o[5]||(o[5]=A=>i.handleAction("confirm")),onKeydown:o[6]||(o[6]=Yn(en(A=>i.handleAction("confirm"),["prevent"]),["enter"]))},{default:Te(()=>[Tn(dt(i.confirmButtonText||i.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[$n,i.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,GQ)]),_:3},8,["z-index","overlay-class","mask"]),[[$n,i.visible]])]),_:3})}var XQ=ct(qQ,[["render",YQ],["__file","index.vue"]]);const Dc=new Map,ZQ=i=>{let o=document.body;return i.appendTo&&(tn(i.appendTo)&&(o=document.querySelector(i.appendTo)),ko(i.appendTo)&&(o=i.appendTo),ko(o)||(o=document.body)),o},JQ=(i,o,l=null)=>{const c=ye(XQ,i,Xt(i.message)||li(i.message)?{default:Xt(i.message)?i.message:()=>i.message}:null);return c.appContext=l,ga(c,o),ZQ(i).appendChild(o.firstElementChild),c.component},QQ=()=>document.createElement("div"),eee=(i,o)=>{const l=QQ();i.onVanish=()=>{ga(null,l),Dc.delete(d)},i.onAction=p=>{const g=Dc.get(d);let b;i.showInput?b={value:d.inputValue,action:p}:b=p,i.callback?i.callback(b,c.proxy):p==="cancel"||p==="close"?i.distinguishCancelAndClose&&p!=="cancel"?g.reject("close"):g.reject("cancel"):g.resolve(b)};const c=JQ(i,l,o),d=c.proxy;for(const p in i)Fn(i,p)&&!Fn(d.$props,p)&&(d[p]=i[p]);return d.visible=!0,d};function Tu(i,o=null){if(!In)return Promise.reject();let l;return tn(i)||li(i)?i={message:i}:l=i.callback,new Promise((c,d)=>{const p=eee(i,o??Tu._context);Dc.set(p,{options:i,callback:l,resolve:c,reject:d})})}const tee=["alert","confirm","prompt"],nee={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};tee.forEach(i=>{Tu[i]=iee(i)});function iee(i){return(o,l,c,d)=>{let p="";return yn(l)?(c=l,p=""):Ri(l)?p="":p=l,Tu(Object.assign({title:p,message:o,type:"",...nee[i]},c,{boxType:i}),d)}}Tu.close=()=>{Dc.forEach((i,o)=>{o.doClose()}),Dc.clear()};Tu._context=null;const ta=Tu;ta.install=i=>{ta._context=i._context,i.config.globalProperties.$msgbox=ta,i.config.globalProperties.$messageBox=ta,i.config.globalProperties.$alert=ta.alert,i.config.globalProperties.$confirm=ta.confirm,i.config.globalProperties.$prompt=ta.prompt};const see=ta,AM=["success","info","warning","error"],oee=lt({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:Xn},id:{type:String,default:""},message:{type:Ae([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:Ae(Function),default:()=>{}},onClose:{type:Ae(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...AM,""],default:""},zIndex:Number}),ree={destroy:()=>!0},aee=["id"],lee=["textContent"],uee={key:0},cee=["innerHTML"],hee=xe({name:"ElNotification"}),dee=xe({...hee,props:oee,emits:ree,setup(i,{expose:o}){const l=i,{ns:c,zIndex:d}=df("notification"),{nextZIndex:p,currentZIndex:g}=d,{Close:b}=e0,w=ne(!1);let M;const C=j(()=>{const I=l.type;return I&&wa[l.type]?c.m(I):""}),P=j(()=>l.type&&wa[l.type]||l.icon),A=j(()=>l.position.endsWith("right")?"right":"left"),O=j(()=>l.position.startsWith("top")?"top":"bottom"),R=j(()=>{var I;return{[O.value]:`${l.offset}px`,zIndex:(I=l.zIndex)!=null?I:g.value}});function N(){l.duration>0&&({stop:M}=nl(()=>{w.value&&T()},l.duration))}function z(){M==null||M()}function T(){w.value=!1}function _({code:I}){I===Gt.delete||I===Gt.backspace?z():I===Gt.esc?w.value&&T():N()}return un(()=>{N(),p(),w.value=!0}),ii(document,"keydown",_),o({visible:w,close:T}),(I,K)=>(Y(),Ie(Ki,{name:v(c).b("fade"),onBeforeLeave:I.onClose,onAfterLeave:K[1]||(K[1]=B=>I.$emit("destroy")),persisted:""},{default:Te(()=>[ln(pe("div",{id:I.id,class:Z([v(c).b(),I.customClass,v(A)]),style:Ft(v(R)),role:"alert",onMouseenter:z,onMouseleave:N,onClick:K[0]||(K[0]=(...B)=>I.onClick&&I.onClick(...B))},[v(P)?(Y(),Ie(v(Et),{key:0,class:Z([v(c).e("icon"),v(C)])},{default:Te(()=>[(Y(),Ie(kn(v(P))))]),_:1},8,["class"])):De("v-if",!0),pe("div",{class:Z(v(c).e("group"))},[pe("h2",{class:Z(v(c).e("title")),textContent:dt(I.title)},null,10,lee),ln(pe("div",{class:Z(v(c).e("content")),style:Ft(I.title?void 0:{margin:0})},[ze(I.$slots,"default",{},()=>[I.dangerouslyUseHTMLString?(Y(),fe($t,{key:1},[De(" Caution here, message could've been compromised, never use user's input as message "),pe("p",{innerHTML:I.message},null,8,cee)],2112)):(Y(),fe("p",uee,dt(I.message),1))])],6),[[$n,I.message]]),I.showClose?(Y(),Ie(v(Et),{key:0,class:Z(v(c).e("closeBtn")),onClick:en(T,["stop"])},{default:Te(()=>[ye(v(b))]),_:1},8,["class","onClick"])):De("v-if",!0)],2)],46,aee),[[$n,w.value]])]),_:3},8,["name","onBeforeLeave"]))}});var fee=ct(dee,[["__file","notification.vue"]]);const Id={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},rm=16;let pee=1;const pu=function(i={},o=null){if(!In)return{close:()=>{}};(typeof i=="string"||li(i))&&(i={message:i});const l=i.position||"top-right";let c=i.offset||0;Id[l].forEach(({vm:C})=>{var P;c+=(((P=C.el)==null?void 0:P.offsetHeight)||0)+rm}),c+=rm;const d=`notification_${pee++}`,p=i.onClose,g={...i,offset:c,id:d,onClose:()=>{gee(d,l,p)}};let b=document.body;ko(i.appendTo)?b=i.appendTo:tn(i.appendTo)&&(b=document.querySelector(i.appendTo)),ko(b)||(b=document.body);const w=document.createElement("div"),M=ye(fee,g,li(g.message)?{default:()=>g.message}:null);return M.appContext=o??pu._context,M.props.onDestroy=()=>{ga(null,w)},ga(M,w),Id[l].push({vm:M}),b.appendChild(w.firstElementChild),{close:()=>{M.component.exposed.visible.value=!1}}};AM.forEach(i=>{pu[i]=(o={})=>((typeof o=="string"||li(o))&&(o={message:o}),pu({...o,type:i}))});function gee(i,o,l){const c=Id[o],d=c.findIndex(({vm:M})=>{var C;return((C=M.component)==null?void 0:C.props.id)===i});if(d===-1)return;const{vm:p}=c[d];if(!p)return;l==null||l(p);const g=p.el.offsetHeight,b=o.split("-")[0];c.splice(d,1);const w=c.length;if(!(w<1))for(let M=d;M<w;M++){const{el:C,component:P}=c[M].vm,A=Number.parseInt(C.style[b],10)-g-rm;P.props.offset=A}}function mee(){for(const i of Object.values(Id))i.forEach(({vm:o})=>{o.component.exposed.visible.value=!1})}pu.closeAll=mee;pu._context=null;const vee=Ox(pu,"$notify");var yee=[MQ,LQ,om,see,vee,hC],bee=hB([...yQ,...yee]);const wee="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1747313146855'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='9868'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M898.8%20199.6v624.8H125.2V199.6h773.6m59.5-59.5H65.7v743.8h892.5V140.1h0.1z'%20p-id='9869'%20fill='%232c2c2c'%3e%3c/path%3e%3c/svg%3e",xee="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1747313216076'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='13036'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M817.1%20960H206.9C128.1%20960%2064%20895.9%2064%20817.1V206.9C64%20128.1%20128.1%2064%20206.9%2064H817c78.9%200%20143%2064.1%20143%20142.9V817c0%2078.9-64.1%20143-142.9%20143zM206.9%20128c-43.5%200-78.9%2035.4-78.9%2078.9V817c0%2043.5%2035.4%2078.9%2078.9%2078.9H817c43.5%200%2078.9-35.4%2078.9-78.9V206.9c0-43.5-35.4-78.9-78.9-78.9H206.9z'%20fill='%232c2c2c'%20p-id='13037'%3e%3c/path%3e%3c/svg%3e",See="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1747313191556'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='12648'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M960%20960H64V64h896v896z%20m-832-64h768V128H128v768z'%20fill='%232c2c2c'%20p-id='12649'%3e%3c/path%3e%3c/svg%3e",kee="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1747313200220'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='12842'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M512%20928C282.6%20928%2096%20741.4%2096%20512S282.6%2096%20512%2096s416%20186.6%20416%20416-186.6%20416-416%20416z%20m0-768c-194.1%200-352%20157.9-352%20352s157.9%20352%20352%20352%20352-157.9%20352-352-157.9-352-352-352z'%20fill='%232c2c2c'%20p-id='12843'%3e%3c/path%3e%3c/svg%3e",Cee="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1747313175618'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='12454'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M981.7%20945.6H42.3L512%2078.4l469.7%20867.2z%20m-832-64h724.6L512%20212.8%20149.7%20881.6z'%20fill='%232c2c2c'%20p-id='12455'%3e%3c/path%3e%3c/svg%3e",Mee="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1747312068884'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='8648'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M120.13952%20512L512%20207.19872%20903.8592%20512%20512%20816.80128%20120.13952%20512zM1017.6%20512l-505.6-393.22239999L6.4%20512%20512%20905.22239999%201017.6%20512z'%20p-id='8649'%20fill='%232c2c2c'%3e%3c/path%3e%3c/svg%3e",Pee="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Do%20not%20edit%20this%20file%20with%20editors%20other%20than%20draw.io%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20width='101px'%20height='127px'%20viewBox='-0.5%20-0.5%20101%20127'%20content='&lt;mxfile%20host=&quot;app.diagrams.net&quot;%20modified=&quot;2024-04-27T08:17:59.782Z&quot;%20agent=&quot;Mozilla/5.0%20(Windows%20NT%2010.0;%20Win64;%20x64)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/124.0.0.0%20Safari/537.36%20Edg/124.0.0.0&quot;%20version=&quot;24.3.0&quot;%20etag=&quot;gdDewclznMuoIgrhZrg1&quot;%20scale=&quot;1&quot;%20border=&quot;0&quot;&gt;&%2310;%20&lt;diagram%20name=&quot;第%201%20页&quot;%20id=&quot;ziSFyEQcTIJm07Ezy5gl&quot;&gt;&%2310;%20&lt;mxGraphModel%20dx=&quot;3793&quot;%20dy=&quot;3844&quot;%20grid=&quot;1&quot;%20gridSize=&quot;10&quot;%20guides=&quot;1&quot;%20tooltips=&quot;1&quot;%20connect=&quot;1&quot;%20arrows=&quot;1&quot;%20fold=&quot;1&quot;%20page=&quot;1&quot;%20pageScale=&quot;1&quot;%20pageWidth=&quot;827&quot;%20pageHeight=&quot;1169&quot;%20math=&quot;0&quot;%20shadow=&quot;0&quot;&gt;&%2310;%20&lt;root&gt;&%2310;%20&lt;mxCell%20id=&quot;0&quot;%20/&gt;&%2310;%20&lt;mxCell%20id=&quot;1&quot;%20parent=&quot;0&quot;%20/&gt;&%2310;%20&lt;mxCell%20id=&quot;2&quot;%20value=&quot;&quot;%20style=&quot;shape=stencil(pVRRboMwDD0N0vbBBGFs2udK1wNMu4BLA0SEGCVZobefIXRbytohIfFhv0fec4xNkGSmgpYHLALT8twGyTZg7AhawF4SzIipHBiz9OHxyUEKGu7QD1A1AXdbYSp+oOgdsQhYRlGGSuQgKdqgtdjcu7PGaqx5Jw52Ehaq4lpYx3aTWRQNefIWRK+EDk+S5agU1ShQmRHbXfB7yOtS46c6eMSZbmFwnBFnusHj0IfeFRC5ck4ue/m5+qWtLyKFuirCloqAzimQoEseUhwWEkpPUE/6z+mUn/zcdJy3v47FDu693lIeQi9MqNHC0NRVNfsX/7ZY17/UV4kXV5NLNPzft2598cVWq8YmoT3ZzeZyRK8Mc5IVqPmNKS+ElG7F/twRQmYCI+r+AyPwBQ==);html=1;pointerEvents=1;align=center;verticalLabelPosition=bottom;verticalAlign=top;dashed=0;&quot;%20vertex=&quot;1&quot;%20parent=&quot;1&quot;&gt;&%2310;%20&lt;mxGeometry%20x=&quot;-2970&quot;%20y=&quot;-3230&quot;%20width=&quot;100&quot;%20height=&quot;125&quot;%20as=&quot;geometry&quot;%20/&gt;&%2310;%20&lt;/mxCell&gt;&%2310;%20&lt;/root&gt;&%2310;%20&lt;/mxGraphModel&gt;&%2310;%20&lt;/diagram&gt;&%2310;&lt;/mxfile&gt;&%2310;'%3e%3cdefs/%3e%3cg%3e%3cg%3e%3crect%20x='0'%20y='0'%20width='100'%20height='125'%20fill='none'%20stroke='none'%20pointer-events='all'/%3e%3cpath%20d='M%200%2095.11%20L%200%2025.37%20C%2028.47%200%2071.53%200%20100%2025.37%20L%20100%2095.11%20L%2050%20125%20Z%20M%200%2025.37%20M%200%2095.11'%20fill='none'%20stroke='rgb(0,%200,%200)'%20stroke-miterlimit='10'%20stroke-width='7'%20pointer-events='all'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Tee="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Do%20not%20edit%20this%20file%20with%20editors%20other%20than%20draw.io%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20width='91px'%20height='111px'%20viewBox='-0.5%20-0.5%2091%20111'%20content='&lt;mxfile%20host=&quot;app.diagrams.net&quot;%20modified=&quot;2024-04-28T02:33:17.045Z&quot;%20agent=&quot;Mozilla/5.0%20(Windows%20NT%2010.0;%20Win64;%20x64)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/124.0.0.0%20Safari/537.36%20Edg/124.0.0.0&quot;%20version=&quot;24.3.1&quot;%20etag=&quot;9EuqhP6ZFk30Q0ta5Evu&quot;%20scale=&quot;1&quot;%20border=&quot;0&quot;&gt;&%2310;%20&lt;diagram%20name=&quot;第%201%20页&quot;%20id=&quot;vg3WnnS8epDR2L5Q7pwN&quot;&gt;&%2310;%20&lt;mxGraphModel%20dx=&quot;4734&quot;%20dy=&quot;4344&quot;%20grid=&quot;1&quot;%20gridSize=&quot;10&quot;%20guides=&quot;1&quot;%20tooltips=&quot;1&quot;%20connect=&quot;1&quot;%20arrows=&quot;1&quot;%20fold=&quot;1&quot;%20page=&quot;1&quot;%20pageScale=&quot;1&quot;%20pageWidth=&quot;827&quot;%20pageHeight=&quot;1169&quot;%20math=&quot;0&quot;%20shadow=&quot;0&quot;&gt;&%2310;%20&lt;root&gt;&%2310;%20&lt;mxCell%20id=&quot;0&quot;%20/&gt;&%2310;%20&lt;mxCell%20id=&quot;1&quot;%20parent=&quot;0&quot;%20/&gt;&%2310;%20&lt;mxCell%20id=&quot;2&quot;%20value=&quot;&quot;%20style=&quot;verticalLabelPosition=bottom;align=center;dashed=0;html=1;verticalAlign=top;shape=stencil(rZJNDoMgEEZPwx6hC7eNbS/gCRCxEhHI+FdvX2U0qTG6MF3yvuHNkIHwpCmFV4RR0XglW8IfhLFegBaZmTCbkhJhxCieragVotSDGCeSSuiyTAHmTQuuUoPO2+WmtqUC3WI6IIuDjD8JvZNZTAlPMiGrN7jO5ptgjb2YhbtgjWvXz+/4oH+ZddycCHudCIy2P4L434b4guK2VURXxrgyhTSuUYdVPJn4bhuBHqyQJ4UDdbLbQhuD/+ak62FBaL3rECh+7wC+);&quot;%20vertex=&quot;1&quot;%20parent=&quot;1&quot;&gt;&%2310;%20&lt;mxGeometry%20x=&quot;-2680&quot;%20y=&quot;-3290&quot;%20width=&quot;90&quot;%20height=&quot;110&quot;%20as=&quot;geometry&quot;%20/&gt;&%2310;%20&lt;/mxCell&gt;&%2310;%20&lt;/root&gt;&%2310;%20&lt;/mxGraphModel&gt;&%2310;%20&lt;/diagram&gt;&%2310;&lt;/mxfile&gt;&%2310;'%3e%3cdefs%20/%3e%3cg%3e%3cg%3e%3cpath%20d='M%200%200%20L%2090%200%20L%2090%2073.33%20L%2045%20110%20L%200%2073.33%20Z'%20fill='none'%20stroke='rgb(0,%200,%200)'%20stroke-miterlimit='10'%20stroke-width='7'%20pointer-events='all'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Nee="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Do%20not%20edit%20this%20file%20with%20editors%20other%20than%20draw.io%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20width='71px'%20height='111px'%20viewBox='-0.5%20-0.5%2071%20111'%20content='&lt;mxfile%20host=&quot;app.diagrams.net&quot;%20modified=&quot;2024-04-26T08:41:39.207Z&quot;%20agent=&quot;Mozilla/5.0%20(Windows%20NT%2010.0;%20Win64;%20x64)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/124.0.0.0%20Safari/537.36%20Edg/124.0.0.0&quot;%20etag=&quot;7Im02LV7XQ5D60Ll5TF4&quot;%20version=&quot;24.3.0&quot;%20type=&quot;device&quot;%20scale=&quot;1&quot;%20border=&quot;0&quot;&gt;&%2310;%20&lt;diagram%20name=&quot;第%201%20页&quot;%20id=&quot;FbKaBqzpkngUasXkqIPd&quot;&gt;&%2310;%20&lt;mxGraphModel%20dx=&quot;1386&quot;%20dy=&quot;751&quot;%20grid=&quot;1&quot;%20gridSize=&quot;10&quot;%20guides=&quot;1&quot;%20tooltips=&quot;1&quot;%20connect=&quot;1&quot;%20arrows=&quot;1&quot;%20fold=&quot;1&quot;%20page=&quot;1&quot;%20pageScale=&quot;1&quot;%20pageWidth=&quot;827&quot;%20pageHeight=&quot;1169&quot;%20math=&quot;0&quot;%20shadow=&quot;0&quot;&gt;&%2310;%20&lt;root&gt;&%2310;%20&lt;mxCell%20id=&quot;0&quot;%20/&gt;&%2310;%20&lt;mxCell%20id=&quot;1&quot;%20parent=&quot;0&quot;%20/&gt;&%2310;%20&lt;mxCell%20id=&quot;hhpFXjCYH6E2AZKSR3HF-55&quot;%20value=&quot;&quot;%20style=&quot;verticalLabelPosition=bottom;outlineConnect=0;align=center;dashed=0;html=1;verticalAlign=top;shape=mxgraph.pid2misc.column;columnType=common&quot;%20vertex=&quot;1&quot;%20parent=&quot;1&quot;&gt;&%2310;%20&lt;mxGeometry%20x=&quot;150&quot;%20y=&quot;580&quot;%20width=&quot;70&quot;%20height=&quot;110&quot;%20as=&quot;geometry&quot;%20/&gt;&%2310;%20&lt;/mxCell&gt;&%2310;%20&lt;/root&gt;&%2310;%20&lt;/mxGraphModel&gt;&%2310;%20&lt;/diagram&gt;&%2310;&lt;/mxfile&gt;&%2310;'%20style='background-color:%20none;'%3e%3cdefs%20/%3e%3crect%20fill='none'%20width='100%25'%20height='100%25'%20x='0'%20y='0'%20/%3e%3cg%3e%3cg%3e%3cpath%20d='M%200%2015%20C%200%206.72%2015.67%200%2035%200%20C%2054.33%200%2070%206.72%2070%2015%20L%2070%2095%20C%2070%20103.28%2054.33%20110%2035%20110%20C%2015.67%20110%200%20103.28%200%2095%20Z'%20fill='none'%20stroke='rgb(0,%200,%200)'%20stroke-miterlimit='10'%20stroke-width='5'%20pointer-events='all'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Aee="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Do%20not%20edit%20this%20file%20with%20editors%20other%20than%20draw.io%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20width='92px'%20height='32px'%20viewBox='-6.5%20-0.5%20100%2032'%20content='&lt;mxfile%20host=&quot;app.diagrams.net&quot;%20modified=&quot;2024-04-27T07:24:15.615Z&quot;%20agent=&quot;Mozilla/5.0%20(Windows%20NT%2010.0;%20Win64;%20x64)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/124.0.0.0%20Safari/537.36%20Edg/124.0.0.0&quot;%20version=&quot;24.3.0&quot;%20etag=&quot;03M5cZPGOw5k5LXe7eHY&quot;%20scale=&quot;1&quot;%20border=&quot;0&quot;&gt;&%2310;%20&lt;diagram%20name=&quot;第%201%20页&quot;%20id=&quot;-JFea7-3rF-1G5HHWtaR&quot;&gt;&%2310;%20&lt;mxGraphModel%20dx=&quot;3793&quot;%20dy=&quot;3844&quot;%20grid=&quot;1&quot;%20gridSize=&quot;10&quot;%20guides=&quot;1&quot;%20tooltips=&quot;1&quot;%20connect=&quot;1&quot;%20arrows=&quot;1&quot;%20fold=&quot;1&quot;%20page=&quot;1&quot;%20pageScale=&quot;1&quot;%20pageWidth=&quot;827&quot;%20pageHeight=&quot;1169&quot;%20math=&quot;0&quot;%20shadow=&quot;0&quot;&gt;&%2310;%20&lt;root&gt;&%2310;%20&lt;mxCell%20id=&quot;0&quot;%20/&gt;&%2310;%20&lt;mxCell%20id=&quot;1&quot;%20parent=&quot;0&quot;%20/&gt;&%2310;%20&lt;mxCell%20id=&quot;2&quot;%20value=&quot;&quot;%20style=&quot;shape=stencil(zVTbboMwDP2aPDJRoql7nej2Hy4YiBoS5KSF/v0CBmkoK708TUIoPsc+5oQ4QuaugQ5FloLrsPBCHkSWXYAUHHWAs8A0DMqUQwMtMnKgcxsAS+GVW1OicUic5DzZE/aq9HO1Mg2S8sz2jO3SSVJ+ifQzoOMj8yMUp5rs2ZQrYqE7GBUjYqFbexnNDNzg/W2/547XtQeRfW+IaGV+iXy8qAJUhIUGqjEJ66TSUHP9XE7Dsg1zPMvv5LyHPWIXl8WfNSQwKJeQ9eCVNavs6yp6xndk+z+4fsr0Y/+p0Nbh3aw7B+uhTmuN+Fxtisg84NHpn9AbIyPzyhJuzFKltOZB/aPrpBwJTChfGRPwAw==);html=1;pointerEvents=1;align=center;verticalLabelPosition=bottom;verticalAlign=top;dashed=0;&quot;%20vertex=&quot;1&quot;%20parent=&quot;1&quot;&gt;&%2310;%20&lt;mxGeometry%20x=&quot;-3080&quot;%20y=&quot;-3260&quot;%20width=&quot;91&quot;%20height=&quot;30&quot;%20as=&quot;geometry&quot;%20/&gt;&%2310;%20&lt;/mxCell&gt;&%2310;%20&lt;/root&gt;&%2310;%20&lt;/mxGraphModel&gt;&%2310;%20&lt;/diagram&gt;&%2310;&lt;/mxfile&gt;&%2310;'%3e%3cdefs%20/%3e%3cg%3e%3cg%3e%3crect%20x='0'%20y='0'%20width='91'%20height='30'%20fill='none'%20stroke='none'%20pointer-events='all'%20/%3e%3cpath%20d='M%205.25%2030%20L%2078.05%2030%20C%2083.85%2030%2088.55%2023.28%2088.55%2015%20C%2088.55%206.72%2083.85%200%2078.05%200%20L%205.25%200%20C%20-0.55%200%20-5.25%206.72%20-5.25%2015%20C%20-5.25%2023.28%20-0.55%2030%205.25%2030%20Z%20M%205.25%200%20M%2078.05%200'%20fill='none'%20stroke='rgb(0,%200,%200)'%20stroke-miterlimit='10'%20stroke-width='5'%20pointer-events='all'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Lee="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1747315380296'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='14281'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M792.1%20964.9H231.9L58.8%20440.1%20512%2059.1l453.2%20381-173.1%20524.8z%20m-513.9-64h467.6l145-439.7L512%20142.7%20133.2%20461.2l145%20439.7z'%20fill='%232c2c2c'%20p-id='14282'%3e%3c/path%3e%3c/svg%3e",Eee="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1747453442482'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4047'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M512%2059.136L119.808%20285.5424v452.9152L512%20964.864l392.192-226.4064V285.5424L512%2059.136z%20m25.6-44.3392l392.192%20226.4064a51.2%2051.2%200%200%201%2025.6%2044.3392v452.9152a51.2%2051.2%200%200%201-25.6%2044.3392L537.6%201009.152a51.2%2051.2%200%200%201-51.2%200L94.208%20782.848a51.2%2051.2%200%200%201-25.6-44.3392V285.5424a51.2%2051.2%200%200%201%2025.6-44.3392L486.4%2014.848a51.2%2051.2%200%200%201%2051.2%200z'%20fill='%232c2c2c'%20p-id='4048'%3e%3c/path%3e%3c/svg%3e";(function(){const i=typeof globalThis=="object"&&globalThis||typeof global=="object"&&global.global===global&&global||typeof self=="object"&&self.self===self&&self||{};i.requestAnimationFrame===void 0&&(i.setImmediate===void 0?i.requestAnimationFrame=H=>i.setTimeout(H,0):i.requestAnimationFrame=i.setImmediate);const Di=class Di{static Mk(t,e,n){let s=-1;return function(){const r=this,a=arguments;s!==-1&&Di.Ig(s),s=Di.Oh(()=>{s=-1,n||t.apply(r,a)},e),n&&!s&&t.apply(r,a)}}static Oh(t,e){return i.setTimeout(t,e)}static Ig(t){i.clearTimeout(t)}static en(t){return i.document.createElement(t)}static o(t){throw new Error(t)}static D(t,e){let n="The object is frozen, so its properties cannot be set: "+t.toString();e!==void 0&&(n+="  to value: "+e),Di.o(n)}static HI(t,e,n,s){}static i(t,e,n,s){}static qI(t,e,n){}static WI(t,e,n){}static be(t,e,n,s){}static tt(t,e,n,s){let r=Di.kD(n);s!==void 0&&(r+="."+s),Di.o(r+" is not in the range "+e+": "+t)}static Ie(t){}static hr(t,e){}static ri(t){i.console&&i.console.log(t)}static wt(t){return typeof t=="object"&&t!==null}static JI(t,e,n){}static eu(t,e,n){Array.isArray(t)?e>=t.length?t.push(n):t.splice(e,0,n):Di.o("Cannot insert an object into an HTMLCollection or NodeList: "+n+" at "+e)}static _a(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):Di.o("Cannot remove an object from an HTMLCollection or NodeList at "+e)}static rt(){const t=Di.Sk.pop();return t===void 0?[]:t}static it(t){t.length=0,Di.Sk.push(t)}static kD(t){return t===null?"*":typeof t=="string"?t:typeof t=="function"?t.name:""}static sn(t){return typeof t=="function"?t.className?t.className:t.name:Di.wt(t)&&t.constructor?Di.sn(t.constructor):typeof t}static Ih(t,e){return e==null||e===""?null:Di.wt(t)&&e in t||t[e]?t[e]:null}static toString(t){let e=t;return Di.wt(t)&&(t.text?e=t.text:t.name?e=t.name:t.key!==void 0?e=t.key:t.id!==void 0?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:t.Key!==void 0?e=t.Key:t.Id!==void 0?e=t.Id:t.ID!==void 0&&(e=t.ID))),e===void 0?"undefined":e===null?"null":e.toString()}static cw(t,e){if(t.hasOwnProperty(e))return!0;let n=Object.getPrototypeOf(t);for(;n&&n!==Function;){if(n.hasOwnProperty(e))return!0;const s=n.ZI;if(s&&s[e])return!0;n=Object.getPrototypeOf(n)}return!1}static PD(t){const e=[];let n=0;for(n=0;n<256;n++)e[n]=n;let s=0,r=0;for(n=0;n<256;n++)s=(s+e[n]+119)%256,r=e[n],e[n]=e[s],e[s]=r;n=0,s=0;let a="";for(let u=0;u<t.length;u++)n=(n+1)%256,s=(s+e[n])%256,r=e[n],e[n]=e[s],e[s]=r,a+=String.fromCharCode(t.charCodeAt(u)^e[(e[n]+e[s])%256]);return a}static MD(t){const e="0123456789abcdef",n=[];for(let u=0;u<256;u++)n[e.charAt(u>>4)+e.charAt(u&15)]=String.fromCharCode(u);t.length%2&&(t="0"+t);const s=[];let r=0;for(let u=0;u<t.length;u+=2)s[r++]=n[t.substring(u,u+2)];const a=s.join("");return a===""?"0":a}static As(t){return Di.PD(Di.MD(t))}};k(Di,"lr",i.navigator!==void 0&&i.navigator.platform!==void 0&&i.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i)!==null),k(Di,"Sk",[]),k(Di,"$I",Object.freeze([])),k(Di,"color1","@COLOR1"),k(Di,"color2","@COLOR2"),k(Di,"fw","32ab5ff3b26f42dc0ed90f21402913b5");let o=Di;o.vfo="29e646fdb7";class l{constructor(){k(this,"Nk");this.Nk=[]}toString(){return this.Nk.join("")}add(t){t!==""&&this.Nk.push(t)}}class c{}const nh=class nh{constructor(){k(this,"p");k(this,"key");k(this,"value");this.p=[]}[Symbol.iterator](){return this.p.values()}get iterator(){return this}reset(){}next(){return!1}hasNext(){return!1}first(){return null}any(){return!1}all(){return!0}each(){return this}map(t){return this}filter(){return this}get count(){return 0}pl(){}toString(){return"EmptyIterator"}};k(nh,"instance",new nh);let d=nh;class p{constructor(t){k(this,"key");k(this,"value");this.key=-1,this.value=t}[Symbol.iterator](){return[this.value].values()}get iterator(){return this}reset(){this.key=-1}next(){return this.key===-1?(this.key=0,!0):!1}hasNext(){return this.next()}first(){return this.key=0,this.value}any(t){return this.key=-1,t(this.value)}all(t){return this.key=-1,t(this.value)}each(t){return this.key=-1,t(this.value),this}map(t){return new p(t(this.value))}filter(t){return t(this.value)?new p(this.value):d.instance}get count(){return 1}pl(){this.value=null}toString(){return"SingletonIterator("+this.value+")"}}class g{constructor(t){k(this,"qt");k(this,"Ts");k(this,"Yt");k(this,"Dt");k(this,"key");k(this,"value");this.qt=t,this.Ts=null,t.ar=null,this.Yt=t.ct,this.Dt=-1}[Symbol.iterator](){return this.Ts===null?this.qt.r.values():this.qt.r.filter(this.Ts).values()}get iterator(){return this}get predicate(){return this.Ts}set predicate(t){this.Ts=t}reset(){const t=this.qt;t.ar=null,this.Yt=t.ct,this.Dt=-1}next(){const t=this.qt;if(t.ct!==this.Yt&&this.key<0)return!1;const e=t.r,n=e.length;let s=++this.Dt;const r=this.Ts;if(r!==null)for(;s<n;){const a=e[s];if(r(a))return this.Dt=s,this.key=s,this.value=a,!0;s++}else{if(s<n)return this.key=s,this.value=e[s],!0;this.pl()}return!1}hasNext(){return this.next()}first(){const t=this.qt;this.Yt=t.ct,this.Dt=0;const e=t.r,n=e.length,s=this.Ts;if(s!==null){let r=0;for(;r<n;){const a=e[r];if(s(a))return this.Dt=r,this.key=r,this.value=a,a;r++}return null}else if(n>0){const r=e[0];return this.key=0,this.value=r,r}else return null}any(t){const e=this.qt;e.ar=null;const n=e.ct;this.Dt=-1;const s=e.r,r=s.length,a=this.Ts;for(let u=0;u<r;u++){const h=s[u];if(!(a!==null&&!a(h))){if(t(h))return!0;e.ct!==n&&o.Ie(e)}}return!1}all(t){const e=this.qt;e.ar=null;const n=e.ct;this.Dt=-1;const s=e.r,r=s.length,a=this.Ts;for(let u=0;u<r;u++){const h=s[u];if(!(a!==null&&!a(h))){if(!t(h))return!1;e.ct!==n&&o.Ie(e)}}return!0}each(t){const e=this.qt;e.ar=null;const n=e.ct;this.Dt=-1;const s=e.r,r=s.length,a=this.Ts;for(let u=0;u<r;u++){const h=s[u];a!==null&&!a(h)||(t(h),e.ct!==n&&o.Ie(e))}return this}map(t){const e=this.qt;e.ar=null;const n=e.ct;this.Dt=-1;const s=[],r=e.r,a=r.length,u=this.Ts;for(let f=0;f<a;f++){const m=r[f];u!==null&&!u(m)||(s.push(t(m)),e.ct!==n&&o.Ie(e))}const h=new w;return h.r=s,h.Ee(),h.iterator}filter(t){const e=this.qt;e.ar=null;const n=e.ct;this.Dt=-1;const s=[],r=e.r,a=r.length,u=this.Ts;for(let f=0;f<a;f++){const m=r[f];u!==null&&!u(m)||(t(m)&&s.push(m),e.ct!==n&&o.Ie(e))}const h=new w;return h.r=s,h.Ee(),h.iterator}get count(){const t=this.Ts;if(t!==null){let e=0;const n=this.qt.r,s=n.length;for(let r=0;r<s;r++)t(n[r])&&e++;return e}else return this.qt.r.length}pl(){this.key=-1,this.value=null,this.Yt=-1,this.Ts=null,this.qt.ar=this}toString(){return"ListIterator@"+this.Dt+"/"+this.qt.count}}class b{constructor(t){k(this,"qt");k(this,"Yt");k(this,"Dt");k(this,"key");k(this,"value");this.qt=t,t.cr=null,this.Yt=t.ct,this.Dt=t.r.length}[Symbol.iterator](){return this.qt.r.reverse().values()}get iterator(){return this}reset(){const t=this.qt;t.cr=null,this.Yt=t.ct,this.Dt=t.r.length}next(){const t=this.qt;if(t.ct!==this.Yt&&this.key<0)return!1;const e=--this.Dt;return e>=0?(this.key=e,this.value=t.r[e],!0):(this.pl(),!1)}hasNext(){return this.next()}first(){const t=this.qt;this.Yt=t.ct;const e=t.r,n=e.length-1;if(this.Dt=n,n>=0){const s=e[n];return this.key=n,this.value=s,s}else return null}any(t){const e=this.qt;e.cr=null;const n=e.ct,s=e.r,r=s.length;this.Dt=r;for(let a=r-1;a>=0;a--){const u=s[a];if(t(u))return!0;e.ct!==n&&o.Ie(e)}return!1}all(t){const e=this.qt;e.cr=null;const n=e.ct,s=e.r,r=s.length;this.Dt=r;for(let a=r-1;a>=0;a--){const u=s[a];if(!t(u))return!1;e.ct!==n&&o.Ie(e)}return!0}each(t){const e=this.qt;e.cr=null;const n=e.ct,s=e.r,r=s.length;this.Dt=r;for(let a=r-1;a>=0;a--){const u=s[a];t(u),e.ct!==n&&o.Ie(e)}return this}map(t){const e=this.qt;e.cr=null;const n=e.ct,s=[],r=e.r,a=r.length;this.Dt=a;for(let h=a-1;h>=0;h--){const f=r[h];s.push(t(f)),e.ct!==n&&o.Ie(e)}const u=new w;return u.r=s,u.Ee(),u.iterator}filter(t){const e=this.qt;e.cr=null;const n=e.ct,s=[],r=e.r,a=r.length;this.Dt=a;for(let h=a-1;h>=0;h--){const f=r[h];t(f)&&s.push(f),e.ct!==n&&o.Ie(e)}const u=new w;return u.r=s,u.Ee(),u.iterator}get count(){return this.qt.r.length}pl(){this.key=-1,this.value=null,this.Yt=-1,this.qt.cr=this}toString(){return"ListIteratorBackwards("+this.Dt+"/"+this.qt.count+")"}}class w{constructor(t){k(this,"h");k(this,"r");k(this,"ct");k(this,"ar");k(this,"cr");C.Yi(this),this.h=!1,this.r=[],this.ct=0,this.ar=null,this.cr=null,t!==void 0&&this.addAll(t)}[Symbol.iterator](){return this.r.values()}Ee(){let t=this.ct;t++,t>999999999&&(t=0),this.ct=t}g(){return this.h=!0,this}lt(){return this.h=!1,this}toString(){return"List()#"+C.cs(this)}add(t){return this.h&&o.D(this,t),this.r.push(t),this.Ee(),this}push(t){this.add(t)}addAll(t){if(t===null)return this;this.h&&o.D(this);const e=this.r;if(Array.isArray(t)){const n=t.length;for(let s=0;s<n;s++){const r=t[s];e.push(r)}}else{const n=t.iterator;for(;n.next();){const s=n.value;e.push(s)}}return this.Ee(),this}clear(){this.h&&o.D(this),this.r.length=0,this.Ee()}contains(t){return t===null?!1:this.r.indexOf(t)!==-1}has(t){return this.contains(t)}indexOf(t){return t===null?-1:this.r.indexOf(t)}elt(t){const e=this.r;return(t<0||t>=e.length)&&o.tt(t,"0 <= i < length",w,"elt:i"),e[t]}get(t){return this.elt(t)}setElt(t,e){const n=this.r;(t<0||t>=n.length)&&o.tt(t,"0 <= i < length",w,"setElt:i"),this.h&&o.D(this,t),n[t]=e}set(t,e){this.setElt(t,e)}first(){const t=this.r;return t.length===0?null:t[0]}last(){const t=this.r,e=t.length;return e>0?t[e-1]:null}pop(){this.h&&o.D(this);const t=this.r;return t.length>0?t.pop():null}any(t){const e=this.r,n=this.ct,s=e.length;for(let r=0;r<s;r++){if(t(e[r]))return!0;this.ct!==n&&o.Ie(this)}return!1}all(t){const e=this.r,n=this.ct,s=e.length;for(let r=0;r<s;r++){if(!t(e[r]))return!1;this.ct!==n&&o.Ie(this)}return!0}each(t){const e=this.r,n=this.ct,s=e.length;for(let r=0;r<s;r++)t(e[r]),this.ct!==n&&o.Ie(this);return this}map(t){const e=new w,n=[],s=this.r,r=this.ct,a=s.length;for(let u=0;u<a;u++)n.push(t(s[u])),this.ct!==r&&o.Ie(this);return e.r=n,e.Ee(),e}filter(t){const e=new w,n=[],s=this.r,r=this.ct,a=s.length;for(let u=0;u<a;u++){const h=s[u];t(h)&&n.push(h),this.ct!==r&&o.Ie(this)}return e.r=n,e.Ee(),e}insertAt(t,e){t<0&&o.tt(t,">= 0",w,"insertAt:i"),this.h&&o.D(this,t);const n=this.r;t>=n.length?n.push(e):n.splice(t,0,e),this.Ee()}remove(t){if(t===null)return!1;this.h&&o.D(this,t);const e=this.r,n=e.indexOf(t);return n===-1?!1:(n===e.length-1?e.pop():e.splice(n,1),this.Ee(),!0)}delete(t){return this.remove(t)}removeAt(t){const e=this.r;(t<0||t>=e.length)&&o.tt(t,"0 <= i < length",w,"removeAt:i"),this.h&&o.D(this,t),t===e.length-1?e.pop():e.splice(t,1),this.Ee()}removeRange(t,e){const n=this.r,s=n.length;if(t<0)t=0;else if(t>=s)return this;if(e<0)return this;if(e>=s&&(e=s-1),t>e)return this;this.h&&o.D(this);let r=t,a=e+1;for(;a<s;)n[r++]=n[a++];return n.length=s-(e-t+1),this.Ee(),this}copy(){const t=new w,e=this.r;return e.length>0&&(t.r=Array.prototype.slice.call(e)),t}toArray(){const t=this.r,e=this.count,n=new Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}get jN(){return this.r}toSet(){const t=new C,e=this.r,n=this.count;for(let s=0;s<n;s++)t.add(e[s]);return t}sort(t){return this.h&&o.D(this),this.r.sort(t),this.Ee(),this}sortRange(t,e,n){const s=this.r,r=s.length;e===void 0&&(e=0),n===void 0&&(n=r),this.h&&o.D(this);const a=n-e;if(a<=1)return this;if((e<0||e>=r-1)&&o.tt(e,"0 <= from < length",w,"sortRange:from"),a===2){const u=s[e],h=s[e+1];return t(u,h)>0&&(s[e]=h,s[e+1]=u,this.Ee()),this}if(e===0)if(n>=r)s.sort(t);else{const u=s.slice(0,n);u.sort(t);for(let h=0;h<n;h++)s[h]=u[h]}else if(n>=r){const u=s.slice(e);u.sort(t);for(let h=e;h<r;h++)s[h]=u[h-e]}else{const u=s.slice(e,n);u.sort(t);for(let h=e;h<n;h++)s[h]=u[h-e]}return this.Ee(),this}reverse(){return this.h&&o.D(this),this.r.reverse(),this.Ee(),this}get count(){return this.r.length}get size(){return this.r.length}get length(){return this.r.length}get iterator(){if(this.r.length<=0)return d.instance;const t=this.ar;return t!==null?(t.reset(),t):new g(this)}get iteratorBackwards(){if(this.r.length<=0)return d.instance;const t=this.cr;return t!==null?(t.reset(),t):new b(this)}}class M{constructor(t){k(this,"ko");k(this,"ii");k(this,"key");k(this,"value");this.ko=t,this.ii=t.p.values()}[Symbol.iterator](){return this.ko.p.values()}get iterator(){return this}reset(){const t=this.ko;this.ii=t.p.values()}next(){const t=this.ii.next();return this.value=t.value,this.key=t.value,!t.done}hasNext(){return this.next()}first(){return this.ko.p.size===0?null:(this.ii=this.ko.p.values(),this.ii.next().value)}any(t){return this.ko.any(t)}all(t){return this.ko.all(t)}each(t){return this.ko.each(t),this}map(t){const e=new w;return this.ko.p.forEach(n=>e.add(t(n))),e.iterator}filter(t){const e=new w;return this.ko.p.forEach(n=>{t(n)&&e.add(n)}),e.iterator}get count(){return this.ko.count}pl(){this.key=null,this.value=null,this.ii=null}toString(){return"SetIterator"}}const vr=class vr{constructor(t){k(this,"h");k(this,"p");this.h=!1,this.p=new Set,t!==void 0&&this.addAll(t)}[Symbol.iterator](){return this.p.values()}values(){return this.p.values()}g(){return this.h=!0,this}lt(){return this.h=!1,this}toString(){return"Set()#"+vr.cs(this)}add(t){return t===null?this:(this.p.add(t),this)}addAll(t){if(t===null)return this;if(Array.isArray(t)){const e=t.length;for(let n=0;n<e;n++){const s=t[n];s!==null&&this.p.add(s)}}else{const e=t.iterator;for(;e.next();){const n=e.value;n!==null&&this.p.add(n)}}return this}has(t){return this.p.has(t)}contains(t){return this.has(t)}containsAll(t){if(t===null)return!0;const e=t.iterator;for(;e.next();)if(!this.has(e.value))return!1;return!0}containsAny(t){if(t===null)return!0;const e=t.iterator;for(;e.next();)if(this.has(e.value))return!0;return!1}first(){return this.p.size===0?null:this.p.values().next().value}any(t){for(const e of this.p)if(t(e))return!0;return!1}all(t){for(const e of this.p)if(!t(e))return!1;return!0}each(t){for(const e of this.p)t(e);return this}map(t){const e=new vr;for(const n of this.p)e.add(t(n));return e}filter(t){const e=new vr;for(const n of this.p)t(n)&&e.add(n);return e}delete(t){return this.h&&o.D(this),this.p.delete(t)}remove(t){return this.delete(t)}removeAll(t){if(t===null)return this;if(this.h&&o.D(this),Array.isArray(t)){const e=t.length;for(let n=0;n<e;n++)this.delete(t[n])}else{const e=t.iterator;for(;e.next();)this.delete(e.value)}return this}retainAll(t){if(t===null)return this;if(this.count===0)return this;this.h&&o.D(this);const e=new vr;e.addAll(t);const n=[],s=this.iterator;for(;s.next();){const r=s.value;e.contains(r)||n.push(r)}return this.removeAll(n),this}clear(){this.h&&o.D(this),this.p.clear()}copy(){const t=new vr;return this.p.forEach(e=>t.add(e)),t}toArray(){return Array.from(this.p)}toList(){const t=new w;return this.p.forEach(e=>t.add(e)),t}get count(){return this.p.size}get size(){return this.p.size}get iterator(){return this.p.size<=0?d.instance:new M(this)}entries(){return this.p.entries()}keys(){return this.p.keys()}forEach(t,e){return this.p.forEach(t,e)}static Yi(t){t.__gohashid=vr.su++}static cs(t){return t.__gohashid}};k(vr,"su",1);let C=vr;class P{constructor(t){k(this,"Z");k(this,"ii");k(this,"key");k(this,"value");this.Z=t,this.ii=t.p.keys()}[Symbol.iterator](){return this.Z.p.keys()}get iterator(){return this}reset(){const t=this.Z;this.ii=t.p.keys()}next(){const t=this.ii.next();return this.value=t.value,this.key=t.value,!t.done}hasNext(){return this.next()}first(){return this.Z.p.size===0?null:(this.ii=this.Z.p.keys(),this.ii.next().value)}any(t){for(const e of this.Z.p)if(t(e[0]))return!0;return!1}all(t){for(const e of this.Z.p)if(!t(e[0]))return!1;return!0}each(t){for(const e of this.Z.p)t(e[0]);return this}map(t){const e=this.Z,n=new w;for(const s of e.p)n.add(t(s[0]));return n.iterator}filter(t){const e=this.Z,n=new w;for(const s of e.p){const r=s[0];t(r)&&n.add(r)}return n.iterator}get count(){return this.Z.size}pl(){this.key=null,this.value=null,this.ii=null}toString(){return"MapKeySetIterator"}}class A extends C{constructor(e){super();k(this,"Z");C.Yi(this),this.h=!0,this.Z=e}[Symbol.iterator](){return this.p.keys()}values(){return this.p.keys()}g(){return this}lt(){return this}toString(){return"MapKeySet("+this.Z.toString()+")"}add(e){o.o("This Set is read-only: "+this.toString())}has(e){return this.Z.contains(e)}contains(e){return this.has(e)}delete(e){o.o("This Set is read-only: "+this.toString())}remove(e){return this.delete(e)}clear(){o.o("This Set is read-only: "+this.toString())}first(){return this.Z.p.size===0?null:this.Z.p.keys().next().value}any(e){for(const n of this.Z.p)if(e(n[0]))return!0;return!1}all(e){for(const n of this.Z.p)if(!e(n[0]))return!1;return!0}each(e){for(const n of this.Z.p)e(n[0]);return this}map(e){const n=new C;for(const s of this.Z.p)n.add(e(s[0]));return n}filter(e){const n=new C;for(const s of this.Z.p){const r=s[0];e(r)&&n.add(r)}return n}copy(){return new A(this.Z)}toSet(){const e=new C,n=this.Z.p;for(const s of n)e.add(s[0]);return e}toArray(){const e=this.Z.p,n=new Array(e.size);let s=0;for(const r of e)n[s]=r[0],s++;return n}toList(){const e=new w,n=this.Z.p;for(const s of n)e.add(s[0]);return e}get count(){return this.Z.size}get size(){return this.Z.size}get iterator(){return this.Z.size<=0?d.instance:new P(this.Z)}}class O{constructor(t){k(this,"Z");k(this,"ii");k(this,"key");k(this,"value");this.Z=t,this.ii=t.p.values()}[Symbol.iterator](){return this.Z.p.values()}get iterator(){return this}reset(){const t=this.Z;this.ii=t.p.values()}next(){const t=this.ii.next();return this.value=t.value,this.key=t.value,!t.done}hasNext(){return this.next()}first(){return this.Z.p.size===0?null:(this.ii=this.Z.p.values(),this.ii.next().value)}any(t){for(const e of this.Z.p)if(t(e[1]))return!0;return!1}all(t){for(const e of this.Z.p)if(!t(e[1]))return!1;return!0}each(t){for(const e of this.Z.p)t(e[1]);return this}map(t){const e=this.Z,n=new w;for(const s of e.p)n.add(t(s[1]));return n.iterator}filter(t){const e=this.Z,n=new w;for(const s of e.p){const r=s[1];t(r)&&n.add(r)}return n.iterator}get count(){return this.Z.size}pl(){this.key=null,this.value=null,this.ii=null}toString(){return"MapValueSetIterator"}}class R{constructor(t,e){k(this,"key");k(this,"value");this.key=t,this.value=e}toString(){return"{"+this.key+":"+this.value+"}"}}class N{constructor(t){k(this,"Z");k(this,"ii");k(this,"key");k(this,"value");this.Z=t,this.ii=t.p.entries()}[Symbol.iterator](){return this.Z.p.entries()}get iterator(){return this}reset(){const t=this.Z;this.ii=t.p.entries()}next(){const t=this.ii.next();return t.done?(this.key=null,this.value=null,!1):(this.key=t.value[0],this.value=t.value[1],!0)}hasNext(){return this.next()}first(){if(this.Z.p.size===0)return null;this.ii=this.Z.p.entries();const t=this.ii.next().value;return this.key=t[0],this.value=t[1],new R(t[0],t[1])}any(t){return this.Z.any(t)}all(t){return this.Z.all(t)}each(t){return this.Z.each(t),this}map(t){const e=new w;let n=null;return this.Z.p.forEach((s,r)=>{n===null?n=new R(r,s):(n.key=r,n.value=s),e.add(t(n))}),e.iterator}filter(t){const e=new w;let n=null;return this.Z.p.forEach((s,r)=>{n===null?n=new R(r,s):(n.key=r,n.value=s),t(n)&&(e.add(n),n=null)}),e.iterator}get count(){return this.Z.size}pl(){this.key=null,this.value=null,this.ii=null}toString(){return"MapIterator"}}class z{constructor(t){k(this,"h");k(this,"p");C.Yi(this),this.h=!1,this.p=new Map,t!==void 0&&this.addAll(t)}[Symbol.iterator](){return this.p.entries()}entries(){return this.p.entries()}g(){return this.h=!0,this}lt(){return this.h=!1,this}toString(){return"Map()#"+C.cs(this)}set(t,e){return this.h&&o.D(this,t),this.p.set(t,e),this}add(t,e){return this.set(t,e)}addAll(t){if(t===null)return this;if(this.h&&o.D(this),Array.isArray(t)){const e=t.length;for(let n=0;n<e;n++){const s=t[n];this.set(s.key,s.value)}}else if(t instanceof z){const e=t.iterator;for(;e.next();)this.set(e.key,e.value)}else{const e=t.iterator;for(;e.next();){const n=e.value;this.set(n.key,n.value)}}return this}first(){if(this.p.size===0)return null;const t=this.p.entries().next().value;return new R(t[0],t[1])}any(t){let e=null;for(const[n,s]of this.p)if(e===null?e=new R(n,s):(e.key=n,e.value=s),t(e))return!0;return!1}all(t){let e=null;for(const[n,s]of this.p)if(e===null?e=new R(n,s):(e.key=n,e.value=s),!t(e))return!1;return!0}each(t){let e=null;for(const[n,s]of this.p)e===null?e=new R(n,s):(e.key=n,e.value=s),t(e);return this}map(t){const e=new z;let n=null;for(const[s,r]of this.p)n===null?n=new R(s,r):(n.key=s,n.value=r),e.set(s,t(n));return e}filter(t){const e=new z;let n=null;for(const[s,r]of this.p)n===null?n=new R(s,r):(n.key=s,n.value=r),t(n)&&e.set(s,r);return e}has(t){return this.p.has(t)}contains(t){return this.has(t)}get(t){const e=this.p.get(t);return e===void 0?null:e}getValue(t){return this.get(t)}delete(t){return t===null?!1:(this.h&&o.D(this,t),this.p.delete(t))}remove(t){return this.delete(t)}clear(){this.h&&o.D(this),this.p.clear()}copy(){const t=new z;return t.p=new Map(this.p),t}toArray(){const t=this.p,e=new Array(t.size);let n=0;for(const s of t)e[n]=new R(s[0],s[1]),n++;return e}toKeySet(){return new A(this)}get count(){return this.p.size}get size(){return this.p.size}get iterator(){return this.p.size<=0?d.instance:new N(this)}get iteratorKeys(){return this.count<=0?d.instance:new P(this)}keys(){return this.p.keys()}get iteratorValues(){return this.count<=0?d.instance:new O(this)}values(){return this.p.values()}forEach(t,e){return this.p.forEach(t,e)}}const Fi=class Fi{constructor(t,e){k(this,"w");k(this,"b");k(this,"h");t===void 0?(this.w=0,this.b=0):typeof t=="number"&&typeof e=="number"?(this.w=t,this.b=e):o.o("Invalid arguments to Point constructor: "+t+", "+e),this.h=!1}a(t){return this.w=t.w,this.b=t.b,this}e(t,e){return this.w=t,this.b=e,this}setTo(t,e){return this.w=t,this.b=e,this}set(t){return this.w=t.w,this.b=t.b,this}copy(){const t=new Fi;return t.w=this.w,t.b=this.b,t}et(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().g()}g(){return this.h=!0,this}lt(){return Object.isFrozen(this)&&o.o("cannot thaw constant: "+this),this.h=!1,this}uw(t){}static parse(t){if(typeof t=="string"){const e=t.split(" ");let n=0,s=0;for(;e[n]==="";)n++;let r=e[n++];r&&(s=parseFloat(r));let a=0;for(;e[n]==="";)n++;return r=e[n++],r&&(a=parseFloat(r)),new Fi(s,a)}else return new Fi}static stringify(t){return t.x.toString()+" "+t.y.toString()}static stringifyFixed(t){return e=>e.x.toFixed(t)+" "+e.y.toFixed(t)}toString(){return"Point("+this.x+","+this.y+")"}equals(t){return t instanceof Fi?this.w===t.x&&this.b===t.y:!1}equalTo(t,e){return this.w===t&&this.b===e}equalsApprox(t){return $.u(this.w,t.x)&&$.u(this.b,t.y)}add(t){return this.w+=t.x,this.b+=t.y,this}subtract(t){return this.w-=t.x,this.b-=t.y,this}offset(t,e){return this.w+=t,this.b+=e,this}rotate(t){if(t===0)return this;const e=this.w,n=this.b;if(e===0&&n===0)return this;let s=0,r=0;if(t>=360?t-=360:t<0&&(t+=360),t===90)s=0,r=1;else if(t===180)s=-1,r=0;else if(t===270)s=0,r=-1;else{const a=t*Math.PI/180;s=Math.cos(a),r=Math.sin(a)}return this.w=s*e-r*n,this.b=r*e+s*n,this}scale(t,e){return this.w*=t,this.b*=e,this}distanceSquaredPoint(t){const e=t.x-this.w,n=t.y-this.b;return e*e+n*n}distanceSquared(t,e){const n=t-this.w,s=e-this.b;return n*n+s*s}normalize(){const t=this.w,e=this.b,n=Math.sqrt(t*t+e*e);return n>0&&(this.w=t/n,this.b=e/n),this}directionPoint(t){return this.HN(t.x-this.w,t.y-this.b)}direction(t,e){return this.HN(t-this.w,e-this.b)}HN(t,e){if(t===0)return e>0?90:e<0?270:0;if(e===0)return t>0?0:180;{if(isNaN(t)||isNaN(e))return 0;let n=Math.atan(Math.abs(e/t))*180/Math.PI;return t<0?e<0?n+=180:n=180-n:e<0&&(n=360-n),n}}static compareWithLineSegment(t,e,n,s,r,a){return $.nu(t,e,n,s,r,a)}compareWithLineSegmentPoint(t,e){return $.nu(t.x,t.y,e.x,e.y,this.x,this.y)}static intersectingLineSegments(t,e,n,s,r,a,u,h){return $.ou(t,e,n,s,r,a,u,h)}projectOntoLineSegment(t,e,n,s){return $.yl(t,e,n,s,this.w,this.b,this),this}projectOntoLineSegmentPoint(t,e){return $.yl(t.x,t.y,e.x,e.y,this.w,this.b,this),this}snapToGrid(t,e,n,s){return $.Eg(this.w,this.b,t,e,n,s,this),this}snapToGridPoint(t,e){return $.Eg(this.w,this.b,t.x,t.y,e.width,e.height,this),this}setRectSpot(t,e){return this.w=t.x+e.x*t.width+e.offsetX,this.b=t.y+e.y*t.height+e.offsetY,this}setSpot(t,e,n,s,r){return this.w=t+r.x*n+r.offsetX,this.b=e+r.y*s+r.offsetY,this}L(t){return t.xt(this),this}Ve(t){return t.ts(this),this}static distanceLineSegmentSquared(t,e,n,s,r,a){let u=r-n,h=a-s;const f=u*u+h*h,m=n-t,y=s-e,x=-m*u-y*h;if(x<=0||x>=f)return u=r-t,h=a-e,Math.min(m*m+y*y,u*u+h*h);{const S=u*y-h*m;return S*S/f}}static distanceSquared(t,e,n,s){const r=n-t,a=s-e;return r*r+a*a}static direction(t,e,n,s){const r=n-t,a=s-e;if(r===0)return a>0?90:a<0?270:0;if(a===0)return r>0?0:180;{if(isNaN(r)||isNaN(a))return 0;let u=Math.atan(Math.abs(a/r))*180/Math.PI;return r<0?a<0?u+=180:u=180-u:a<0&&(u=360-u),u}}get x(){return this.w}set x(t){this.w=t}get y(){return this.b}set y(t){this.b=t}isReal(){return isFinite(this.x)&&isFinite(this.y)}static l(){const t=Fi.Lk.pop();return t===void 0?new Fi:t}static X(t,e){const n=Fi.Lk.pop();return n===void 0?new Fi(t,e):(n.x=t,n.y=e,n)}static s(t){Fi.Lk.push(t)}};k(Fi,"Po",new Fi(0,0).et()),k(Fi,"qN",new Fi(-1/0,-1/0).et()),k(Fi,"WN",new Fi(1/0,1/0).et()),k(Fi,"JN",new Fi(6,6).et()),k(Fi,"Ck",new Fi(NaN,NaN).et()),k(Fi,"Lk",[]);let T=Fi;const bi=class bi{constructor(t,e){k(this,"H");k(this,"q");k(this,"h");t===void 0?(this.H=0,this.q=0):typeof t=="number"&&(t>=0||isNaN(t))&&typeof e=="number"&&(e>=0||isNaN(e))?(this.H=t,this.q=e):o.o("Invalid arguments to Size constructor: "+t+", "+e),this.h=!1}a(t){return this.H=t.H,this.q=t.q,this}e(t,e){return this.H=t,this.q=e,this}setTo(t,e){return this.H=t,this.q=e,this}set(t){return this.H=t.H,this.q=t.q,this}copy(){const t=new bi;return t.H=this.H,t.q=this.q,t}et(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().g()}g(){return this.h=!0,this}lt(){return Object.isFrozen(this)&&o.o("cannot thaw constant: "+this),this.h=!1,this}uw(t){}static parse(t){if(typeof t=="string"){const e=t.split(" ");let n=0,s=0;for(;e[n]==="";)n++;let r=e[n++];r&&(s=parseFloat(r));let a=0;for(;e[n]==="";)n++;return r=e[n++],r&&(a=parseFloat(r)),new bi(s,a)}else return new bi}static stringify(t){return t.width.toString()+" "+t.height.toString()}static stringifyFixed(t){return e=>e.width.toFixed(t)+" "+e.height.toFixed(t)}toString(){return"Size("+this.width+","+this.height+")"}equals(t){return t instanceof bi?this.H===t.width&&this.q===t.height:!1}equalTo(t,e){return this.H===t&&this.q===e}equalsApprox(t){return $.u(this.H,t.width)&&$.u(this.q,t.height)}inflate(t,e){const n=this.width+t;this.H=n>=0?n:0;const s=this.height+e;return this.q=s>=0?s:0,this}get width(){return this.H}set width(t){t<0&&o.tt(t,">= 0",bi,"width"),this.H=t}get height(){return this.q}set height(t){t<0&&o.tt(t,">= 0",bi,"height"),this.q=t}isReal(){return isFinite(this.width)&&isFinite(this.height)}static l(){const t=bi._N.pop();return t===void 0?new bi:t}static s(t){bi._N.push(t)}};k(bi,"ru",new bi(0,0).et()),k(bi,"Ak",new bi(1,1).et()),k(bi,"$N",new bi(6,6).et()),k(bi,"lu",new bi(8,8).et()),k(bi,"ZN",new bi(10,10).et()),k(bi,"QN",new bi(1/0,1/0).et()),k(bi,"dw",new bi(NaN,NaN).et()),k(bi,"_N",[]);let _=bi;const ts=class ts{constructor(t,e,n,s){k(this,"w");k(this,"b");k(this,"H");k(this,"q");k(this,"h");if(t===void 0)this.w=0,this.b=0,this.H=0,this.q=0;else if(typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&(n>=0||isNaN(n))&&typeof s=="number"&&(s>=0||isNaN(s)))this.w=t,this.b=e,this.H=n,this.q=s;else if(t instanceof T){const r=t.x,a=t.y;if(e instanceof T){const u=e.x,h=e.y;this.w=Math.min(r,u),this.b=Math.min(a,h),this.H=Math.abs(r-u),this.q=Math.abs(a-h)}else e instanceof _?(this.w=r,this.b=a,this.H=e.width,this.q=e.height):o.o("Incorrect second argument supplied to Rect constructor "+e)}else o.o("Invalid arguments to Rect constructor: "+t+", "+e+", "+n+", "+s);this.h=!1}a(t){return this.w=t.w,this.b=t.b,this.H=t.H,this.q=t.q,this}e(t,e,n,s){return this.w=t,this.b=e,this.H=n,this.q=s,this}Mo(t,e){return this.H=t,this.q=e,this}setTo(t,e,n,s){return this.w=t,this.b=e,this.H=n,this.q=s,this}set(t){return this.w=t.w,this.b=t.b,this.H=t.H,this.q=t.q,this}setPoint(t){return this.w=t.x,this.b=t.y,this}setSize(t){return this.H=t.width,this.q=t.height,this}copy(){const t=new ts;return t.w=this.w,t.b=this.b,t.H=this.H,t.q=this.q,t}et(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().g()}g(){return this.h=!0,this}lt(){return Object.isFrozen(this)&&o.o("cannot thaw constant: "+this),this.h=!1,this}uw(t){}static parse(t){if(typeof t=="string"){const e=t.split(" ");let n=0,s=0;for(;e[n]==="";)n++;let r=e[n++];r&&(s=parseFloat(r));let a=0;for(;e[n]==="";)n++;r=e[n++],r&&(a=parseFloat(r));let u=0;for(;e[n]==="";)n++;r=e[n++],r&&(u=parseFloat(r));let h=0;for(;e[n]==="";)n++;return r=e[n++],r&&(h=parseFloat(r)),new ts(s,a,u,h)}else return new ts}static stringify(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}static stringifyFixed(t){return e=>e.x.toFixed(t)+" "+e.y.toFixed(t)+" "+e.width.toFixed(t)+" "+e.height.toFixed(t)}toString(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"}equals(t){return t instanceof ts?this.w===t.x&&this.b===t.y&&this.H===t.width&&this.q===t.height:!1}equalTo(t,e,n,s){return this.w===t&&this.b===e&&this.H===n&&this.q===s}equalsApprox(t){return $.u(this.w,t.x)&&$.u(this.b,t.y)&&$.u(this.H,t.width)&&$.u(this.q,t.height)}equalsApproxTo(t,e,n,s){return $.u(this.w,t)&&$.u(this.b,e)&&$.u(this.H,n)&&$.u(this.q,s)}equalsApproxClose(t){return $.Y(this.w,t.x)&&$.Y(this.b,t.y)&&$.Y(this.H,t.width)&&$.Y(this.q,t.height)}containsPoint(t){return this.w<=t.x&&this.w+this.H>=t.x&&this.b<=t.y&&this.b+this.q>=t.y}containsRect(t){return this.w<=t.x&&t.x+t.width<=this.w+this.H&&this.b<=t.y&&t.y+t.height<=this.b+this.q}contains(t,e,n,s){return n===void 0&&(n=0),s===void 0&&(s=0),this.w<=t&&t+n<=this.w+this.H&&this.b<=e&&e+s<=this.b+this.q}offset(t,e){return this.w+=t,this.b+=e,this}inflate(t,e){return this.gw(e,t,e,t)}addMargin(t){return this.gw(t.top,t.right,t.bottom,t.left)}subtractMargin(t){return this.gw(-t.top,-t.right,-t.bottom,-t.left)}grow(t,e,n,s){return this.gw(t,e,n,s)}gw(t,e,n,s){const r=this.H;e+s<=-r?(this.w+=r/2,this.H=0):(this.w-=s,this.H+=e+s);const a=this.q;return t+n<=-a?(this.b+=a/2,this.q=0):(this.b-=t,this.q+=t+n),this}intersectRect(t){return this.tC(t.x,t.y,t.width,t.height)}intersect(t,e,n,s){return this.tC(t,e,n,s)}tC(t,e,n,s){const r=Math.max(this.w,t),a=Math.max(this.b,e),u=Math.min(this.w+this.H,t+n),h=Math.min(this.b+this.q,e+s);return this.w=r,this.b=a,this.H=Math.max(0,u-r),this.q=Math.max(0,h-a),this}intersectsRect(t){return this.intersects(t.x,t.y,t.width,t.height)}intersects(t,e,n,s){let r=this.H;const a=this.w;if(r!==1/0&&n!==1/0&&(r+=a,n+=t,isNaN(n)||isNaN(r)||a>n||t>r))return!1;let u=this.q;const h=this.b;return!(u!==1/0&&s!==1/0&&(u+=h,s+=e,isNaN(s)||isNaN(u)||h>s||e>u))}intersectsRectPlus(t,e){let n=this.H,s=t.width+e+e;const r=this.w,a=t.x-e;if(n+=r,s+=a,r>s||a>n)return!1;let u=this.q,h=t.height+e+e;const f=this.b,m=t.y-e;return u+=f,h+=m,!(f>h||m>u)}unionPoint(t){return this.unionNoCheck(t.x,t.y,0,0)}unionRect(t){return this.unionNoCheck(t.w,t.b,t.H,t.q)}union(t,e,n,s){return n===void 0&&(n=0),s===void 0&&(s=0),this.unionNoCheck(t,e,n,s)}unionNoCheck(t,e,n,s){const r=Math.min(this.w,t),a=Math.min(this.b,e),u=Math.max(this.w+this.H,t+n),h=Math.max(this.b+this.q,e+s);return this.w=r,this.b=a,this.H=u-r,this.q=h-a,this}setSpot(t,e,n){return this.w=t-n.offsetX-n.x*this.H,this.b=e-n.offsetY-n.y*this.q,this}static contains(t,e,n,s,r,a,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),t<=r&&r+u<=t+n&&e<=a&&a+h<=e+s}static intersects(t,e,n,s,r,a,u,h){let f=n,m=u;const y=t,x=r;if(f+=y,m+=x,y>m||x>f)return!1;let S=s,E=h;const L=e,D=a;return S+=L,E+=D,!(L>E||D>S)}static intersectsLineSegment(t,e,n,s,r,a,u,h){return $.iC(t,e,n,s,r,a,u,h)}get x(){return this.w}set x(t){this.w=t}get y(){return this.b}set y(t){this.b=t}get width(){return this.H}set width(t){t<0&&o.tt(t,">= 0",ts,"width"),this.H=t}get height(){return this.q}set height(t){t<0&&o.tt(t,">= 0",ts,"height"),this.q=t}get left(){return this.w}set left(t){this.w=t}get top(){return this.b}set top(t){this.b=t}get right(){return this.w+this.H}set right(t){this.w+=t-(this.w+this.H)}get bottom(){return this.b+this.q}set bottom(t){this.b+=t-(this.b+this.q)}get position(){return new T(this.w,this.b)}set position(t){this.w=t.x,this.b=t.y}get size(){return new _(this.H,this.q)}set size(t){this.H=t.width,this.q=t.height}get center(){return new T(this.w+this.H/2,this.b+this.q/2)}set center(t){this.w=t.x-this.H/2,this.b=t.y-this.q/2}get centerX(){return this.w+this.H/2}set centerX(t){this.w=t-this.H/2}get centerY(){return this.b+this.q/2}set centerY(t){this.b=t-this.q/2}isReal(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)}isEmpty(){return this.width===0&&this.height===0}static l(){const t=ts.Dk.pop();return t===void 0?new ts:t}static X(t,e,n,s){const r=ts.Dk.pop();return r===void 0?new ts(t,e,n,s):r.e(t,e,n,s)}static s(t){ts.Dk.push(t)}};k(ts,"Tk",new ts(0,0,0,0).et()),k(ts,"SD",new ts(NaN,NaN,NaN,NaN).et()),k(ts,"Dk",[]);let I=ts;const ns=class ns{constructor(t,e,n,s){k(this,"nn");k(this,"on");k(this,"rn");k(this,"ln");k(this,"h");t===void 0?(this.nn=0,this.on=0,this.rn=0,this.ln=0):e===void 0?(e=t,n=t,s=t,this.top=t,this.right=e,this.bottom=n,this.left=s):n===void 0?(n=t,s=e,this.top=t,this.right=e,this.bottom=n,this.left=s):s!==void 0?(this.top=t,this.right=e,this.bottom=n,this.left=s):o.o("Invalid arguments to Margin constructor: "+t+", "+e+", "+n+", "+s),this.h=!1}a(t){return this.nn=t.nn,this.on=t.on,this.rn=t.rn,this.ln=t.ln,this}setTo(t,e,n,s){return this.nn=t,this.on=e,this.rn=n,this.ln=s,this}set(t){return this.nn=t.nn,this.on=t.on,this.rn=t.rn,this.ln=t.ln,this}copy(){const t=new ns;return t.nn=this.nn,t.on=this.on,t.rn=this.rn,t.ln=this.ln,t}et(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().g()}g(){return this.h=!0,this}lt(){return Object.isFrozen(this)&&o.o("cannot thaw constant: "+this),this.h=!1,this}uw(t){}static parse(t){if(typeof t=="string"){const e=t.split(" ");let n=0,s=NaN;for(;e[n]==="";)n++;let r=e[n++];if(r&&(s=parseFloat(r)),isNaN(s))return new ns;let a=NaN;for(;e[n]==="";)n++;if(r=e[n++],r&&(a=parseFloat(r)),isNaN(a))return new ns(s);let u=NaN;for(;e[n]==="";)n++;if(r=e[n++],r&&(u=parseFloat(r)),isNaN(u))return new ns(s,a);let h=NaN;for(;e[n]==="";)n++;return r=e[n++],r&&(h=parseFloat(r)),isNaN(h)?new ns(s,a):new ns(s,a,u,h)}else return new ns}static stringify(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}static stringifyFixed(t){return e=>e.top.toFixed(t)+" "+e.right.toFixed(t)+" "+e.bottom.toFixed(t)+" "+e.left.toFixed(t)}toString(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"}equals(t){return t instanceof ns?this.nn===t.top&&this.on===t.right&&this.rn===t.bottom&&this.ln===t.left:!1}equalTo(t,e,n,s){return this.nn===t&&this.on===e&&this.rn===n&&this.ln===s}equalsApprox(t){return $.u(this.nn,t.top)&&$.u(this.on,t.right)&&$.u(this.rn,t.bottom)&&$.u(this.ln,t.left)}get top(){return this.nn}set top(t){this.nn=t}get right(){return this.on}set right(t){this.on=t}get bottom(){return this.rn}set bottom(t){this.rn=t}get left(){return this.ln}set left(t){this.ln=t}isReal(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)}static l(){const t=ns.sC.pop();return t===void 0?new ns:t}static s(t){ns.sC.push(t)}};k(ns,"Vg",new ns(0,0,0,0).et()),k(ns,"eC",new ns(2,2,2,2).et()),k(ns,"sC",[]);let K=ns;const pt=class pt{constructor(t,e,n,s){k(this,"w");k(this,"b");k(this,"Ds");k(this,"Fs");k(this,"h");t===void 0?(this.w=0,this.b=0,this.Ds=0,this.Fs=0):(e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=0),this.x=t,this.y=e,this.offsetX=n,this.offsetY=s),this.h=!1}a(t){return this.w=t.w,this.b=t.b,this.Ds=t.Ds,this.Fs=t.Fs,this}setTo(t,e,n,s){return this.w=t,this.b=e,this.Ds=n,this.Fs=s,this}set(t){return this.w=t.w,this.b=t.b,this.Ds=t.Ds,this.Fs=t.Fs,this}copy(){const t=new pt;return t.w=this.w,t.b=this.b,t.Ds=this.Ds,t.Fs=this.Fs,t}et(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().g()}g(){return this.h=!0,this}lt(){return Object.isFrozen(this)&&o.o("cannot thaw constant: "+this),this.h=!1,this}uw(t){}Ue(t){return this.w=NaN,this.b=NaN,this.Ds=t,this}QI(t,e){(isNaN(t)||t>1||t<0)&&o.tt(t,"0 <= "+e+" <= 1",pt,e)}_I(t,e){(isNaN(t)||t===1/0||t===-1/0)&&o.tt(t,"real number, not NaN or Infinity",pt,e)}static parse(t){if(typeof t=="string"){if(t=t.trim(),t==="None")return pt.None;if(t==="TopLeft")return pt.TopLeft;if(t==="Top"||t==="TopCenter"||t==="MiddleTop")return pt.TopCenter;if(t==="TopRight")return pt.TopRight;if(t==="Left"||t==="LeftCenter"||t==="MiddleLeft")return pt.LeftCenter;if(t==="Center")return pt.Center;if(t==="Right"||t==="RightCenter"||t==="MiddleRight")return pt.RightCenter;if(t==="BottomLeft")return pt.BottomLeft;if(t==="Bottom"||t==="BottomCenter"||t==="MiddleBottom")return pt.BottomCenter;if(t==="BottomRight")return pt.BottomRight;if(t==="TopSide")return pt.TopSide;if(t==="LeftSide")return pt.LeftSide;if(t==="RightSide")return pt.RightSide;if(t==="BottomSide")return pt.BottomSide;if(t==="TopBottomSides")return pt.TopBottomSides;if(t==="LeftRightSides")return pt.LeftRightSides;if(t==="TopLeftSides")return pt.TopLeftSides;if(t==="TopRightSides")return pt.TopRightSides;if(t==="BottomLeftSides")return pt.BottomLeftSides;if(t==="BottomRightSides")return pt.BottomRightSides;if(t==="NotTopSide")return pt.NotTopSide;if(t==="NotLeftSide")return pt.NotLeftSide;if(t==="NotRightSide")return pt.NotRightSide;if(t==="NotBottomSide")return pt.NotBottomSide;if(t==="AllSides")return pt.AllSides;if(t==="Default")return pt.Default;const e=t.split(" ");let n=0,s=0;for(;e[n]==="";)n++;let r=e[n++];r!==void 0&&r.length>0&&(s=parseFloat(r));let a=0;for(;e[n]==="";)n++;r=e[n++],r!==void 0&&r.length>0&&(a=parseFloat(r));let u=0;for(;e[n]==="";)n++;r=e[n++],r!==void 0&&r.length>0&&(u=parseFloat(r));let h=0;for(;e[n]==="";)n++;return r=e[n++],r!==void 0&&r.length>0&&(h=parseFloat(r)),new pt(s,a,u,h)}else return new pt}static stringify(t){return t.isSpot()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}static stringifyFixed(t){return e=>e.x.toFixed(t)+" "+e.y.toFixed(t)+" "+e.offsetX.toFixed(t)+" "+e.offsetY.toFixed(t)}toString(){return this.isSpot()?this.Ds===0&&this.Fs===0?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.equals(pt.None)?"None":this.equals(pt.TopLeft)?"TopLeft":this.equals(pt.TopCenter)?"Top":this.equals(pt.TopRight)?"TopRight":this.equals(pt.LeftCenter)?"Left":this.equals(pt.Center)?"Center":this.equals(pt.RightCenter)?"Right":this.equals(pt.BottomLeft)?"BottomLeft":this.equals(pt.BottomCenter)?"Bottom":this.equals(pt.BottomRight)?"BottomRight":this.equals(pt.TopSide)?"TopSide":this.equals(pt.LeftSide)?"LeftSide":this.equals(pt.RightSide)?"RightSide":this.equals(pt.BottomSide)?"BottomSide":this.equals(pt.TopBottomSides)?"TopBottomSides":this.equals(pt.LeftRightSides)?"LeftRightSides":this.equals(pt.TopLeftSides)?"TopLeftSides":this.equals(pt.TopRightSides)?"TopRightSides":this.equals(pt.BottomLeftSides)?"BottomLeftSides":this.equals(pt.BottomRightSides)?"BottomRightSides":this.equals(pt.NotTopSide)?"NotTopSide":this.equals(pt.NotLeftSide)?"NotLeftSide":this.equals(pt.NotRightSide)?"NotRightSide":this.equals(pt.NotBottomSide)?"NotBottomSide":this.equals(pt.AllSides)?"AllSides":this.equals(pt.Default)?"Default":"None"}equals(t){return t instanceof pt?(this.w===t.x||isNaN(this.w)&&isNaN(t.x))&&(this.b===t.y||isNaN(this.b)&&isNaN(t.y))&&this.Ds===t.offsetX&&this.Fs===t.offsetY:!1}opposite(){return new pt(.5-(this.w-.5),.5-(this.b-.5),-this.Ds,-this.Fs)}includesSide(t){if(!this.isSide())return!1;if(!t.isSide())if(t.equals(pt.Left))t=pt.LeftSide;else if(t.equals(pt.Right))t=pt.RightSide;else if(t.equals(pt.Top))t=pt.TopSide;else if(t.equals(pt.Bottom))t=pt.BottomSide;else return!1;const e=this.Fs,n=t.offsetY;return(e&n)===n}get x(){return this.w}set x(t){this.w=t}get y(){return this.b}set y(t){this.b=t}get offsetX(){return this.Ds}set offsetX(t){this.Ds=t}get offsetY(){return this.Fs}set offsetY(t){this.Fs=t}isSpot(){return!isNaN(this.x)&&!isNaN(this.y)}isNoSpot(){return isNaN(this.x)||isNaN(this.y)}isSide(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===1&&this.offsetY!==0}isNone(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===0&&this.offsetY===0}isDefault(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===-1&&this.offsetY===0}static l(){const t=pt.nC.pop();return t===void 0?new pt:t}static s(t){pt.nC.push(t)}};k(pt,"None",new pt(0,0,0,0).Ue(0).et()),k(pt,"Default",new pt(0,0,-1,0).Ue(-1).et()),k(pt,"TopLeft",new pt(0,0,0,0).et()),k(pt,"TopCenter",new pt(.5,0,0,0).et()),k(pt,"TopRight",new pt(1,0,0,0).et()),k(pt,"LeftCenter",new pt(0,.5,0,0).et()),k(pt,"Center",new pt(.5,.5,0,0).et()),k(pt,"RightCenter",new pt(1,.5,0,0).et()),k(pt,"BottomLeft",new pt(0,1,0,0).et()),k(pt,"BottomCenter",new pt(.5,1,0,0).et()),k(pt,"BottomRight",new pt(1,1,0,0).et()),k(pt,"MiddleTop",pt.TopCenter),k(pt,"MiddleLeft",pt.LeftCenter),k(pt,"MiddleRight",pt.RightCenter),k(pt,"MiddleBottom",pt.BottomCenter),k(pt,"Top",pt.TopCenter),k(pt,"Left",pt.LeftCenter),k(pt,"Right",pt.RightCenter),k(pt,"Bottom",pt.BottomCenter),k(pt,"TopSide",new pt(0,0,1,1).Ue(1).et()),k(pt,"LeftSide",new pt(0,0,1,2).Ue(1).et()),k(pt,"RightSide",new pt(0,0,1,4).Ue(1).et()),k(pt,"BottomSide",new pt(0,0,1,8).Ue(1).et()),k(pt,"TopBottomSides",new pt(0,0,1,9).Ue(1).et()),k(pt,"LeftRightSides",new pt(0,0,1,6).Ue(1).et()),k(pt,"TopLeftSides",new pt(0,0,1,3).Ue(1).et()),k(pt,"TopRightSides",new pt(0,0,1,5).Ue(1).et()),k(pt,"BottomLeftSides",new pt(0,0,1,10).Ue(1).et()),k(pt,"BottomRightSides",new pt(0,0,1,12).Ue(1).et()),k(pt,"NotTopSide",new pt(0,0,1,14).Ue(1).et()),k(pt,"NotLeftSide",new pt(0,0,1,13).Ue(1).et()),k(pt,"NotRightSide",new pt(0,0,1,11).Ue(1).et()),k(pt,"NotBottomSide",new pt(0,0,1,7).Ue(1).et()),k(pt,"AllSides",new pt(0,0,1,15).Ue(1).et()),k(pt,"Fk",new pt(.156,.156).et()),k(pt,"Rk",new pt(.844,.844).et()),k(pt,"nC",[]);let B=pt;const Wr=class Wr{constructor(){k(this,"m11");k(this,"m12");k(this,"m21");k(this,"m22");k(this,"dx");k(this,"dy");this.m11=1,this.m12=0,this.m21=0,this.m22=1,this.dx=0,this.dy=0}set(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this}setTo(t,e,n,s,r,a){return this.m11=t,this.m12=e,this.m21=n,this.m22=s,this.dx=r,this.dy=a,this}copy(){const t=new Wr;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t}toString(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"}equals(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy}vk(){return this.dx===0&&this.dy===0&&this.m11===1&&this.m12===0&&this.m21===0&&this.m22===1}Jt(){return this.m11=1,this.m12=0,this.m21=0,this.m22=1,this.dx=0,this.dy=0,this}tc(t){const e=this.m11*t.m11+this.m21*t.m12,n=this.m12*t.m11+this.m22*t.m12,s=this.m11*t.m21+this.m21*t.m22,r=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=n,this.m21=s,this.m22=r,this}oC(t){const e=1/(t.m11*t.m22-t.m12*t.m21),n=t.m22*e,s=-t.m12*e,r=-t.m21*e,a=t.m11*e,u=e*(t.m21*t.dy-t.m22*t.dx),h=e*(t.m12*t.dx-t.m11*t.dy),f=this.m11*n+this.m21*s,m=this.m12*n+this.m22*s,y=this.m11*r+this.m21*a,x=this.m12*r+this.m22*a;return this.dx=this.m11*u+this.m21*h+this.dx,this.dy=this.m12*u+this.m22*h+this.dy,this.m11=f,this.m12=m,this.m21=y,this.m22=x,this}mw(){const t=1/(this.m11*this.m22-this.m12*this.m21),e=this.m22*t,n=-this.m12*t,s=-this.m21*t,r=this.m11*t,a=t*(this.m21*this.dy-this.m22*this.dx),u=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=e,this.m12=n,this.m21=s,this.m22=r,this.dx=a,this.dy=u,this}fs(t,e,n){if(t>=360?t-=360:t<0&&(t+=360),t===0)return this;this.Zi(e,n);let s=0,r=0;if(t===90)s=0,r=1;else if(t===180)s=-1,r=0;else if(t===270)s=0,r=-1;else{const m=t*Math.PI/180;s=Math.cos(m),r=Math.sin(m)}const a=this.m11*s+this.m21*r,u=this.m12*s+this.m22*r,h=this.m11*-r+this.m21*s,f=this.m12*-r+this.m22*s;return this.m11=a,this.m12=u,this.m21=h,this.m22=f,this.Zi(-e,-n),this}Zi(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this}K(t,e){return e===void 0&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this}ND(){if(this.m11===1&&this.m12===0)return 0;let t=Math.atan2(this.m12,this.m11)*180/Math.PI;return t<0&&(t+=360),t}xt(t){const e=t.x,n=t.y;return t.e(e*this.m11+n*this.m21+this.dx,e*this.m12+n*this.m22+this.dy)}ts(t){const e=1/(this.m11*this.m22-this.m12*this.m21),n=this.m22*e,s=-this.m12*e,r=-this.m21*e,a=this.m11*e,u=e*(this.m21*this.dy-this.m22*this.dx),h=e*(this.m12*this.dx-this.m11*this.dy),f=t.x,m=t.y;return t.e(f*n+m*r+u,f*s+m*a+h)}pw(t){const e=1/(this.m11*this.m22-this.m12*this.m21),n=this.m22*e,s=-this.m12*e,r=-this.m21*e,a=this.m11*e,u=e*(this.m21*this.dy-this.m22*this.dx),h=e*(this.m12*this.dx-this.m11*this.dy),f=t.x*1.25,m=t.y*1.2;return t.e(f*n+m*r+u,f*s+m*a+h)}yw(t){const e=t.x,n=t.y,s=e+t.width,r=n+t.height,a=this.m11,u=this.m12,h=this.m21,f=this.m22,m=this.dx,y=this.dy,x=e*a+n*h+m,S=e*u+n*f+y,E=s*a+n*h+m,L=s*u+n*f+y,D=e*a+r*h+m,F=e*u+r*f+y,V=s*a+r*h+m,U=s*u+r*f+y;let W=x,q=x,le=S,oe=S;return W=Math.min(W,E),q=Math.max(q,E),le=Math.min(le,L),oe=Math.max(oe,L),W=Math.min(W,D),q=Math.max(q,D),le=Math.min(le,F),oe=Math.max(oe,F),W=Math.min(W,V),q=Math.max(q,V),le=Math.min(le,U),oe=Math.max(oe,U),t.e(W,le,q-W,oe-le),t}static l(){const t=Wr.rC.pop();return t===void 0?new Wr:t}static s(t){Wr.rC.push(t)}};k(Wr,"rC",[]),k(Wr,"Ok","54a702f3e53909c447824c6706603faf4c");let G=Wr;const $={CD:"7da71ca0ad381e90",Vn:4*((Math.sqrt(2)-1)/3),lC:null,ww:H=>{if(H<=0)return 0;let t=$.lC;if(t===null){t=[];for(let e=0;e<=2e3;e++)t[e]=Math.sqrt(e);$.lC=t}if(H<1){const e=1/H;return e<=2e3?1/t[e|0]:Math.sqrt(H)}else return H<=2e3?t[H|0]:Math.sqrt(H)},u:(H,t)=>{const e=H-t;return e<.5&&e>-.5},Y:(H,t)=>{const e=H-t;return e<5e-8&&e>-5e-8},vi:(H,t,e,n,s,r,a)=>{s<=0&&(s=1e-6);let u=0,h=0,f=0,m=0;if(H<e?(h=H,u=e):(h=e,u=H),t<n?(m=t,f=n):(m=n,f=t),H===e)return m<=a&&a<=f&&H-s<=r&&r<=H+s;if(t===n)return h<=r&&r<=u&&t-s<=a&&a<=t+s;const y=u+s,x=h-s;if(x<=r&&r<=y){const S=f+s,E=m-s;if(E<=a&&a<=S)if(y-x>S-E)if(H-e>s||e-H>s){const L=(n-t)/(e-H)*(r-H)+t;if(L-s<=a&&a<=L+s)return!0}else return!0;else if(t-n>s||n-t>s){const L=(e-H)/(n-t)*(a-t)+H;if(L-s<=r&&r<=L+s)return!0}else return!0}return!1},xw:(H,t,e,n,s,r,a,u,h,f,m,y)=>{if(!$.vi(H,t,a,u,y,e,n)||!$.vi(H,t,a,u,y,s,r)){const x=(H+e)/2,S=(t+n)/2,E=(e+s)/2,L=(n+r)/2,D=(s+a)/2,F=(r+u)/2,V=(x+E)/2,U=(S+L)/2,W=(E+D)/2,q=(L+F)/2,le=(V+W)/2,oe=(U+q)/2;return $.xw(H,t,x,S,V,U,le,oe,h,f,m,y)||$.xw(le,oe,W,q,D,F,a,u,h,f,m,y)}else return $.vi(H,t,a,u,y,f,m)},hC:(H,t,e,n,s,r,a,u,h)=>{const f=(H+e)/2,m=(t+n)/2,y=(e+s)/2,x=(n+r)/2,S=(s+a)/2,E=(r+u)/2,L=(f+y)/2,D=(m+x)/2,F=(y+S)/2,V=(x+E)/2;return h.e((L+F)/2,(D+V)/2),h},LD:(H,t,e,n,s,r,a,u)=>{const h=(H+e)/2,f=(t+n)/2,m=(e+s)/2,y=(n+r)/2,x=(s+a)/2,S=(r+u)/2,E=(h+m)/2,L=(f+y)/2,D=(m+x)/2,F=(y+S)/2;return T.direction(E,L,D,F)},hu:(H,t,e,n,s,r,a,u,h,f)=>{if(!$.vi(H,t,a,u,h,e,n)||!$.vi(H,t,a,u,h,s,r)){const m=(H+e)/2,y=(t+n)/2,x=(e+s)/2,S=(n+r)/2,E=(s+a)/2,L=(r+u)/2,D=(m+x)/2,F=(y+S)/2,V=(x+E)/2,U=(S+L)/2,W=(D+V)/2,q=(F+U)/2;$.hu(H,t,m,y,D,F,W,q,h,f),$.hu(W,q,V,U,E,L,a,u,h,f)}else f.unionNoCheck(H,t,0,0),f.unionNoCheck(a,u,0,0);return f},Un:(H,t,e,n,s,r,a,u,h,f)=>{if(!$.vi(H,t,a,u,h,e,n)||!$.vi(H,t,a,u,h,s,r)){const m=(H+e)/2,y=(t+n)/2,x=(e+s)/2,S=(n+r)/2,E=(s+a)/2,L=(r+u)/2,D=(m+x)/2,F=(y+S)/2,V=(x+E)/2,U=(S+L)/2,W=(D+V)/2,q=(F+U)/2;$.Un(H,t,m,y,D,F,W,q,h,f),$.Un(W,q,V,U,E,L,a,u,h,f)}else f.length===0&&(f.push(H),f.push(t)),f.push(a),f.push(u);return f},Ik:(H,t,e,n,s,r,a,u,h,f)=>{if($.vi(H,t,s,r,f,e,n))return $.vi(H,t,s,r,f,u,h);{const m=(H+e)/2,y=(t+n)/2,x=(e+s)/2,S=(n+r)/2,E=(m+x)/2,L=(y+S)/2;return $.Ik(H,t,m,y,E,L,a,u,h,f)||$.Ik(E,L,x,S,s,r,a,u,h,f)}},tE:(H,t,e,n,s,r,a)=>{const u=(H+e)/2,h=(t+n)/2,f=(e+s)/2,m=(n+r)/2;return a.e((u+f)/2,(h+m)/2),a},Ek:(H,t,e,n,s,r,a,u)=>{if($.vi(H,t,s,r,a,e,n))u.unionNoCheck(H,t,0,0),u.unionNoCheck(s,r,0,0);else{const h=(H+e)/2,f=(t+n)/2,m=(e+s)/2,y=(n+r)/2,x=(h+m)/2,S=(f+y)/2;$.Ek(H,t,h,f,x,S,a,u),$.Ek(x,S,m,y,s,r,a,u)}return u},Ug:(H,t,e,n,s,r,a,u)=>{if($.vi(H,t,s,r,a,e,n))u.length===0&&(u.push(H),u.push(t)),u.push(s),u.push(r);else{const h=(H+e)/2,f=(t+n)/2,m=(e+s)/2,y=(n+r)/2,x=(h+m)/2,S=(f+y)/2;$.Ug(H,t,h,f,x,S,a,u),$.Ug(x,S,m,y,s,r,a,u)}return u},Bg:(H,t,e,n,s,r,a,u,h,f,m,y,x,S)=>{if(!$.vi(H,t,a,u,x,e,n)||!$.vi(H,t,a,u,x,s,r)){const E=(H+e)/2,L=(t+n)/2,D=(e+s)/2,F=(n+r)/2,V=(s+a)/2,U=(r+u)/2,W=(E+D)/2,q=(L+F)/2,le=(D+V)/2,oe=(F+U)/2,ce=(W+le)/2,Se=(q+oe)/2;let he=1/0,ge=!1,ke=0,we=0;if($.Bg(H,t,E,L,W,q,ce,Se,h,f,m,y,x,S)){const Pe=(S.x-h)*(S.x-h)+(S.y-f)*(S.y-f);Pe<he&&(he=Pe,ge=!0,ke=S.x,we=S.y)}if($.Bg(ce,Se,le,oe,V,U,a,u,h,f,m,y,x,S)){const Pe=(S.x-h)*(S.x-h)+(S.y-f)*(S.y-f);Pe<he&&(he=Pe,ge=!0,ke=S.x,we=S.y)}return ge&&(S.x=ke,S.y=we),ge}else{if(!$.ou(H,t,a,u,h,f,m,y))return!1;const E=(H-a)*(f-y)-(t-u)*(h-m);if(E===0)return!1;const L=((H*u-t*a)*(h-m)-(H-a)*(h*y-f*m))/E,D=((H*u-t*a)*(f-y)-(t-u)*(h*y-f*m))/E;return S.e(L,D),!0}},zg:(H,t,e,n,s,r,a,u,h,f,m,y,x)=>{let S=0;if(!$.vi(H,t,a,u,x,e,n)||!$.vi(H,t,a,u,x,s,r)){const E=(H+e)/2,L=(t+n)/2,D=(e+s)/2,F=(n+r)/2,V=(s+a)/2,U=(r+u)/2,W=(E+D)/2,q=(L+F)/2,le=(D+V)/2,oe=(F+U)/2,ce=(W+le)/2,Se=(q+oe)/2;S+=$.zg(H,t,E,L,W,q,ce,Se,h,f,m,y,x),S+=$.zg(ce,Se,le,oe,V,U,a,u,h,f,m,y,x)}else{const E=(H-a)*(f-y)-(t-u)*(h-m);if(E===0)return S;const L=((H*u-t*a)*(h-m)-(H-a)*(h*y-f*m))/E,D=((H*u-t*a)*(f-y)-(t-u)*(h*y-f*m))/E;if(L>=m)return S;let F=0,V=0;if((h>m?h-m:m-h)<(f>y?f-y:y-f)){if(t<u?(F=t,V=u):(F=u,V=t),D<F||D>V)return S}else if(H<a?(F=H,V=a):(F=a,V=H),L<F||L>V)return S;E>0?S++:E<0&&S--}return S},yl:(H,t,e,n,s,r,a)=>{if($.Y(H,e)){let u=0,h=0;t<n?(u=t,h=n):(u=n,h=t);const f=r;return f<u?(a.e(H,u),!1):f>h?(a.e(H,h),!1):(a.e(H,f),!0)}else if($.Y(t,n)){let u=0,h=0;H<e?(u=H,h=e):(u=e,h=H);const f=s;return f<u?(a.e(u,t),!1):f>h?(a.e(h,t),!1):(a.e(f,t),!0)}else{const u=(e-H)*(e-H)+(n-t)*(n-t),h=((H-s)*(H-e)+(t-r)*(t-n))/u;if(h<-5e-6)return a.e(H,t),!1;if(h>1.000005)return a.e(e,n),!1;{const f=H+h*(e-H),m=t+h*(n-t);return a.e(f,m),!0}}},Bn:(H,t,e,n,s,r,a,u,h)=>{if($.u(H,e)&&$.u(t,n))return h.e(H,t),!1;if($.Y(s,a)){if($.Y(H,e))return $.yl(H,t,e,n,s,r,h),!1;{const f=(n-t)/(e-H)*(s-H)+t;return $.yl(H,t,e,n,s,f,h)}}else{const f=(u-r)/(a-s);if($.Y(H,e)){const m=f*(H-s)+r;let y=0,x=0;return t<n?(y=t,x=n):(y=n,x=t),m<y?(h.e(H,y),!1):m>x?(h.e(H,x),!1):(h.e(H,m),!0)}else{const m=(n-t)/(e-H);if($.Y(f,m))return $.yl(H,t,e,n,s,r,h),!1;{const y=(m*H-f*s+r-t)/(m-f);if($.Y(m,0)){let x=0,S=0;return H<e?(x=H,S=e):(x=e,S=H),y<x?(h.e(x,t),!1):y>S?(h.e(S,t),!1):(h.e(y,t),!0)}else{const x=m*(y-H)+t;return $.yl(H,t,e,n,y,x,h)}}}}},iE:(H,t,e,n,s)=>$.Bn(e.x,e.y,n.x,n.y,H.x,H.y,t.x,t.y,s),eE:(H,t,e,n,s,r,a,u,h,f)=>{let m=1/0;function y(le,oe){const ce=(le-H)*(le-H)+(oe-t)*(oe-t);ce<m&&(m=ce,h.e(le,oe))}y(h.x,h.y);let x=0,S=0,E=0,L=0;s<a?(x=s,S=a):(x=a,S=s),r<u?(E=s,L=a):(E=a,L=s);const D=S-x,F=L-E,V=D/2+f,U=F/2+f,W=(s+a)/2,q=(r+u)/2;if(V===0||U===0)return h;if((e>H?e-H:H-e)<.5){const le=1-(e-W)*(e-W)/(V*V);if(le<0)return h;const oe=Math.sqrt(le),ce=U*oe+q,Se=-U*oe+q;y(e,ce),y(e,Se)}else{const le=(n-t)/(e-H),oe=1/(V*V)+le*le/(U*U),ce=2*le*(t-le*H)/(U*U)-2*le*q/(U*U)-2*W/(V*V),Se=2*le*H*q/(U*U)-2*t*q/(U*U)+q*q/(U*U)+W*W/(V*V)-1+(t-le*H)*(t-le*H)/(U*U),he=ce*ce-4*oe*Se;if(he<0)return h;const ge=Math.sqrt(he),ke=(-ce+ge)/(2*oe);y(ke,le*ke-le*H+t);const we=(-ce-ge)/(2*oe);y(we,le*we-le*H+t)}return h},wl:(H,t,e,n,s,r,a,u,h)=>{let f=1e21,m=H,y=t;if($.Bn(H,t,H,n,s,r,a,u,h)){const x=(h.x-s)*(h.x-s)+(h.y-r)*(h.y-r);x<f&&(f=x,m=h.x,y=h.y)}if($.Bn(e,t,e,n,s,r,a,u,h)){const x=(h.x-s)*(h.x-s)+(h.y-r)*(h.y-r);x<f&&(f=x,m=h.x,y=h.y)}if($.Bn(H,t,e,t,s,r,a,u,h)){const x=(h.x-s)*(h.x-s)+(h.y-r)*(h.y-r);x<f&&(f=x,m=h.x,y=h.y)}if($.Bn(H,n,e,n,s,r,a,u,h)){const x=(h.x-s)*(h.x-s)+(h.y-r)*(h.y-r);x<f&&(f=x,m=h.x,y=h.y)}return h.e(m,y),f<1e21},bw:(H,t,e)=>$.iC(H.x,H.y,H.width,H.height,t.x,t.y,e.x,e.y),iC:(H,t,e,n,s,r,a,u)=>{const h=H,f=H+e,m=t,y=t+n;if(s===a){let x=0,S=0;return r<u?(x=r,S=u):(x=u,S=r),h<=s&&s<=f&&x<=y&&S>=m}if(r===u){let x=0,S=0;return s<a?(x=s,S=a):(x=a,S=s),m<=r&&r<=y&&x<=f&&S>=h}return!!(I.contains(H,t,e,n,s,r)||I.contains(H,t,e,n,a,u)||$.ou(h,m,f,m,s,r,a,u)||$.ou(f,m,f,y,s,r,a,u)||$.ou(f,y,h,y,s,r,a,u)||$.ou(h,y,h,m,s,r,a,u))},ou:(H,t,e,n,s,r,a,u)=>H===e&&t===n&&s===a&&r===u?H===s&&t===r:$.nu(H,t,e,n,s,r)*$.nu(H,t,e,n,a,u)<=0&&$.nu(s,r,a,u,H,t)*$.nu(s,r,a,u,e,n)<=0,nu:(H,t,e,n,s,r)=>{const a=e-H,u=n-t;let h=s-H,f=r-t,m=h*u-f*a;return m===0&&(m=h*a+f*u,m>0&&(h-=a,f-=u,m=h*a+f*u,m<0&&(m=0))),m},Xg:H=>(H<0&&(H+=360),H>=360&&(H-=360),H),aC:(H,t,e,n,s,r)=>{const a=Math.PI;r||(n=n*(a/180),s=s*(a/180));const u=n>s?-1:1,h=1e-5,f=a*2,m=[],y=a/2;let x=n,S=Math.min(f,Math.abs(s-n));if(S<h){const E=x+u*Math.min(S,y),L=H+e*Math.cos(x),D=t+e*Math.sin(x),F=H+e*Math.cos(E),V=t+e*Math.sin(E),U=(L+F)/2,W=(D+V)/2;return m.push([L,D,U,W,U,W,F,V]),m}for(;S>h;){const E=x+u*Math.min(S,y);m.push($.AD(e,x,E,H,t)),S-=Math.abs(E-x),x=E}return m},AD:(H,t,e,n,s)=>{const r=(e-t)/2,a=H*Math.cos(r),u=H*Math.sin(r),h=a,f=-u,m=h*h+f*f,y=m+h*a+f*u,x=4/3*(Math.sqrt(2*m*y)-y)/(h*u-f*a),S=h-x*f,E=f+x*h,L=S,D=-E,F=r+t,V=Math.cos(F),U=Math.sin(F);return[n+H*Math.cos(t),s+H*Math.sin(t),n+S*V-E*U,s+S*U+E*V,n+L*V-D*U,s+L*U+D*V,n+H*Math.cos(e),s+H*Math.sin(e)]},Eg:(H,t,e,n,s,r,a)=>{const u=s,h=r,f=Math.floor((H-e)/u)*u+e,m=Math.floor((t-n)/h)*h+n;let y=f;f+u-H<u/2&&(y=f+u);let x=m;return m+h-t<h/2&&(x=m+h),a.e(y,x),a},cC:(H,t)=>{let e=Math.max(H,t),n=Math.min(H,t),s=1,r=1;do s=e%n,r=n,e=n,n=s;while(s>0);return r},TD:(H,t,e,n)=>{const s=e<0,r=n<0;let a=0,u=0,h=0;H<t?(u=1,h=0):(u=0,h=1);let f=0,m=0,y=0,x=0;return a=u,f=a===0?H:t,y=a===0?e:n,(a===0?s:r)&&(y=-y),a=h,m=a===0?H:t,x=a===0?e:n,(a===0?s:r)&&(x=-x),$.DD(f,m,y,x,0,0)},DD:(H,t,e,n,s,r)=>{let a=0;if(n>0)if(e>0){const u=H*H,h=t*t,f=H*e,m=t*n;let y=-h+m,x=-h+Math.sqrt(f*f+m*m),S=y;const E=9999999999;for(let F=0;F<E&&(S=.5*(y+x),!(S===y||S===x));++F){const V=f/(S+u),U=m/(S+h),W=V*V+U*U-1;if(W>0)y=S;else if(W<0)x=S;else break}s=u*e/(S+u),r=h*n/(S+h);const L=s-e,D=r-n;a=Math.sqrt(L*L+D*D)}else s=0,r=t,a=Math.abs(n-t);else{const u=H*H-t*t,h=H*e;if(h<u){const f=h/u,m=f*f;s=H*f,r=t*Math.sqrt(Math.abs(1-m));const y=s-e;a=Math.sqrt(y*y+r*r)}else s=H,r=0,a=Math.abs(e-H)}return a},So:new c,Kg:new c,fr:new c,ur:0,Yg:100};$.za=$.CD;var J=(H=>(H[H.Line=1]="Line",H[H.Rectangle=2]="Rectangle",H[H.Ellipse=3]="Ellipse",H[H.Path=4]="Path",H))(J||{}),ee=(H=>(H[H.None=0]="None",H[H.Default=1]="Default",H[H.Fill=2]="Fill",H[H.Uniform=6]="Uniform",H))(ee||{});const Wi=class Wi{constructor(t){k(this,"n");k(this,"Gg");k(this,"jg");k(this,"ic");k(this,"au");k(this,"cu");k(this,"zn");k(this,"Xn");k(this,"Kn");k(this,"_");k(this,"ke");k(this,"Pe");k(this,"Qi");k(this,"_i");k(this,"Rs");k(this,"ec");k(this,"sc");C.Yi(this),this.n=2,t===void 0&&(t=4),this._=t,this.ke=0,this.Pe=0,this.Qi=0,this._i=0,t===4?this.Rs=new w:this.Rs=Wi.kw,this.Gg=this.Rs.ct,this.jg=new I().g(),this.ic=null,this.au=null,this.cu=NaN,this.zn=B.TopLeft,this.Xn=B.BottomRight,this.ec=NaN,this.sc=NaN,this.Kn=2}copy(){const t=new Wi;if(t.n=this.n&-2,t._=this._,t.ke=this.ke,t.Pe=this.Pe,t.Qi=this.Qi,t._i=this._i,this._===4){const e=this.Rs.r,n=t.Rs;for(let s=0;s<e.length;s++){const r=e[s];n.add(r.copy())}t.Rs=n}else t.Rs=this.Rs;return t.Gg=this.Gg,t.jg.a(this.jg),t.ic=this.ic,t.au=this.au,t.cu=this.cu,t.zn=this.zn.N(),t.Xn=this.Xn.N(),t.ec=this.ec,t.sc=this.sc,t.Kn=this.Kn,t}get h(){return(this.n&1)!==0}set h(t){t?this.n|=1:this.n&=-2}get bt(){return(this.n&2)!==0}set bt(t){t?this.n|=2:this.n&=-3}et(){return this.g(),Object.freeze(this),this}g(){if(this.h=!0,this.type!==4)return this;const t=this.figures;t.g();for(const e of t)e.g();return this}lt(){if(Object.isFrozen(this)&&o.o("cannot thaw constant: "+this),this.h=!1,this.type!==4)return this;const t=this.figures;t.lt();for(const e of t)e.lt();return this}equalsApprox(t){if(!(t instanceof Wi))return!1;if(this.type!==t.type)return this.type===1&&t.type===4?this.fC(t):t.type===1&&this.type===4?t.fC(this):!1;if(this.type===4){const e=this.figures.r,n=t.figures.r,s=e.length;if(s!==n.length)return!1;for(let r=0;r<s;r++){const a=e[r],u=n[r];if(!a.equalsApprox(u))return!1}return!0}else return $.u(this.startX,t.startX)&&$.u(this.startY,t.startY)&&$.u(this.endX,t.endX)&&$.u(this.endY,t.endY)}fC(t){if(this.type!==1||t.type!==4)return!1;if(t.figures.count===1){const e=t.figures.elt(0);if(e.segments.count===1&&$.u(this.startX,e.startX)&&$.u(this.startY,e.startY)){const n=e.segments.elt(0);if(n.type===2&&$.u(this.endX,n.endX)&&$.u(this.endY,n.endY))return!0}}return!1}static stringify(t){return t.toString()}static stringifyFixed(t){return e=>e.toString(t)}li(t){t in J?this.type=t:o.hr(this,t)}toString(t){t===void 0&&(t=-1);const e=s=>s===0?"0":s.toFixed(t);let n;switch(this.type){case 1:return t<0?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+e(this.startX)+" "+e(this.startY)+"L"+e(this.endX)+" "+e(this.endY);case 2:return n=new I(this.startX,this.startY,0,0),n.union(this.endX,this.endY,0,0),t<0?"M"+n.x.toString()+" "+n.y.toString()+"H"+n.right.toString()+"V"+n.bottom.toString()+"H"+n.left.toString()+"z":"M"+e(n.x)+" "+e(n.y)+"H"+e(n.right)+"V"+e(n.bottom)+"H"+e(n.left)+"z";case 3:if(n=new I(this.startX,this.startY,0,0),n.union(this.endX,this.endY,0,0),t<0){const u=n.left.toString()+" "+(n.y+n.height/2).toString(),h=n.right.toString()+" "+(n.y+n.height/2).toString();return"M"+u+"A"+(n.width/2).toString()+" "+(n.height/2).toString()+" 0 0 1 "+h+"A"+(n.width/2).toString()+" "+(n.height/2).toString()+" 0 0 1 "+u}else{const u=e(n.left)+" "+e(n.y+n.height/2),h=e(n.right)+" "+e(n.y+n.height/2);return"M"+u+"A"+e(n.width/2)+" "+e(n.height/2)+" 0 0 1 "+h+"A"+e(n.width/2)+" "+e(n.height/2)+" 0 0 1 "+u}case 4:let s="";const r=this.figures.r,a=r.length;for(let u=0;u<a;u++){const h=r[u];u>0&&(s+=" x "),h.isFilled&&(s+="F "),s+=h.toString(t)}return s;default:return J[this.type]}}static fillPath(t){const e=t.split(/[Xx]/),n=e.length;let s="";for(let r=0;r<n;r++){const a=e[r];if(a.match(/[Ff]/)!==null){r===0?s+=a:s+="X"+(a[0]===" "?"":" ")+a;continue}s+=(r===0?"":"X ")+"F"+(a[0]===" "?"":" ")+a}return s}static parse(t,e){e===void 0&&(e=!1);const n=new RegExp("(["+Wi.Hg+"])(["+Wi.Hg+"])","gm"),s=new RegExp("(["+Wi.Hg+"])([^s])","gm"),r=new RegExp("([^s])(["+Wi.Hg+"])","gm");t=t.replace(/,/gm," "),t=t.replace(n,"$1 $2"),t=t.replace(n,"$1 $2"),t=t.replace(s,"$1 $2"),t=t.replace(r,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/[\s\r\t\n]+/gm," "),t=t.replace(/^\s+|\s+$/g,"");const a=t.split(" ");for(let we=0;we<a.length;we++){const Pe=a[we];if(Pe.match(/(\.[0-9]*)(\.)/gm)!==null){const Re=o.rt();let Xe="",at=!1;for(let je=0;je<Pe.length;je++){const ft=Pe[je];ft==="."&&!at?(at=!0,Xe+=ft):ft==="."?(Re.push(Xe),Xe="."):Xe+=ft}Re.push(Xe),a.splice(we,1);for(let je=0;je<Re.length;je++)a.splice(we+je,0,Re[je]);we+=Re.length-1,o.it(Re)}}let u=-1,h="",f="";const m=new T(0,0),y=new T(0,0),x=new T(0,0);let S=!0;function E(){return u>=W-1||a[u+1].match(ge)!==null?!0:(S=!1,!1)}function L(){return u++,a[u]}function D(we){let Pe=parseFloat(L()),Re=parseFloat(L());h===h.toLowerCase()&&(Pe=x.x+Pe,Re=x.y+Re),we.e(Pe,Re)}function F(){return D(x),x}function V(){return D(y),y}function U(){const we=f.toLowerCase();return we==="c"||we==="s"||we==="q"||we==="t"?new T(2*x.x-y.x,2*x.y-y.y):new T(x.x,x.y)}const W=a.length,q=yl.uC(null);let le=!1,oe=!1,ce=!1,Se=!0,he=null;const ge=new RegExp("["+Wi.Hg+"]");for(;!(u>=W-1);){if(f=h,h=L(),h==="")continue;S=!0;let we=!1;switch(h.toUpperCase()){case"X":Se=!0,le=!1,oe=!1;break;case"M":for(he=F(),q.Mi===null||Se===!0?(q.fu(he.x,he.y,le,!1,!oe,ce),Se=!1):q.FD(he.x,he.y),m.a(x);!E();)he=F(),q.dr(he.x,he.y);break;case"L":for(;!E();)he=F(),q.dr(he.x,he.y);S&&(we=!0);break;case"H":for(;!E();)x.e((h===h.toLowerCase()?x.x:0)+parseFloat(L()),x.y),q.dr(x.x,x.y);break;case"V":for(;!E();)x.e(x.x,(h===h.toLowerCase()?x.y:0)+parseFloat(L())),q.dr(x.x,x.y);S&&(we=!0);break;case"C":for(;!E();){const Pe=new T;D(Pe);const Re=V(),Xe=F();q.gr(Pe.x,Pe.y,Re.x,Re.y,Xe.x,Xe.y)}S&&(we=!0);break;case"S":for(;!E();){const Pe=U(),Re=V(),Xe=F();q.gr(Pe.x,Pe.y,Re.x,Re.y,Xe.x,Xe.y)}S&&(we=!0);break;case"Q":for(;!E();){const Pe=V(),Re=F();q.Pw(Pe.x,Pe.y,Re.x,Re.y)}S&&(we=!0);break;case"T":for(;!E();){const Pe=U();y.a(Pe);const Re=F();q.Pw(Pe.x,Pe.y,Re.x,Re.y),y.a(Re)}S&&(we=!0);break;case"B":for(;!E();){const Pe=parseFloat(L()),Re=parseFloat(L());let Xe=parseFloat(L()),at=parseFloat(L());const je=parseFloat(L());let ft=je,Ct=!1;E()||(ft=parseFloat(L()),E()||(Ct=parseFloat(L())!==0)),h===h.toLowerCase()&&(Xe+=x.x,at+=x.y),q.RD(Pe,Re,Xe,at,je,ft,Ct)}S&&(we=!0);break;case"A":for(;!E();){const Pe=Math.abs(parseFloat(L())),Re=Math.abs(parseFloat(L())),Xe=parseFloat(L());let at=!1,je=!1,ft=0,Ct=0;const sn=L();sn.length===1?(at=!!parseFloat(sn),je=!!parseFloat(L()),ft=parseFloat(L()),Ct=parseFloat(L())):sn.length===2?(at=!!parseFloat(sn[0]),je=!!parseFloat(sn[1]),ft=parseFloat(L()),Ct=parseFloat(L())):(at=!!parseFloat(sn[0]),je=!!parseFloat(sn[1]),ft=parseFloat(sn.slice(2)),Ct=parseFloat(L())),h===h.toLowerCase()&&(ft=x.x+ft,Ct=x.y+Ct),x.e(ft,Ct),q.vD(Pe,Re,Xe,at,je,ft,Ct)}S&&(we=!0);break;case"Z":q.OD(),x.a(m);break;case"F":{let Pe="",Re=1;for(;a[u+Re];){if(a[u+Re]==="0"){ce=!0,Re++;continue}if(a[u+Re].match(/[Uu]/)!==null){Re++;continue}if(a[u+Re].match(ge)===null){Re++;continue}Pe=a[u+Re];break}Pe.match(/[Mm]/)?le=!0:q.ID();break}case"U":{let Pe="",Re=1;for(;a[u+Re];){if(a[u+Re].match(/[Ff]/)!==null){Re++;continue}if(a[u+Re].match(ge)===null){Re++;continue}Pe=a[u+Re];break}Pe.match(/[Mm]/)?oe=!0:q.ED(!1);break}default:if(h==="0"||h==="1")break;o.ri("Unknown geometry command: "+h);break}if(we){o.ri(`Bad geometry command: ${h}, next token: ${L()},
string: ${t}`);break}}const ke=q.qg;if(yl.dC(q),e){const we=ke.figures.iterator;for(;we.next();){const Pe=we.value;Pe.isFilled=!0}}return ke}static gC(t,e){const n=t.length,s=T.l();for(let r=0;r<n;r++){const a=t[r];s.x=a[0],s.y=a[1],e.xt(s),a[0]=s.x,a[1]=s.y,s.x=a[2],s.y=a[3],e.xt(s),a[2]=s.x,a[3]=s.y,s.x=a[4],s.y=a[5],e.xt(s),a[4]=s.x,a[5]=s.y,s.x=a[6],s.y=a[7],e.xt(s),a[6]=s.x,a[7]=s.y}T.s(s)}Vk(){if(this.bt)return!0;if(this.type===4){const t=this.figures;if(this.Gg!==t.ct)return!0;const e=this.figures.r,n=e.length;for(let s=0;s<n;s++)if(e[s].Vk())return!0}return!1}Mw(){if(this.bt=!1,this.ic=null,this.au=null,this.cu=NaN,this.type===4){const e=this.figures;this.Gg=e.ct;const n=this.figures.r,s=n.length;for(let r=0;r<s;r++)n[r].VD()}const t=this.jg;t.lt(),isNaN(this.ec)||isNaN(this.sc)?t.e(0,0,0,0):t.e(0,0,this.ec,this.sc),this.mC(t,!1),t.unionNoCheck(0,0,0,0),t.g()}computeBoundsWithoutOrigin(){const t=new I;return this.mC(t,!0),t}mC(t,e){switch(this.type){case 1:case 2:case 3:e?t.e(this.ke,this.Pe,0,0):t.unionNoCheck(this.ke,this.Pe,0,0),t.unionNoCheck(this.Qi,this._i,0,0);break;case 4:const n=this.figures,s=n.r,r=n.length;for(let a=0;a<r;a++){const u=s[a];e&&a===0?t.e(u.startX,u.startY,0,0):t.unionNoCheck(u.startX,u.startY,0,0);const h=u.segments.r,f=h.length;let m=u.startX,y=u.startY;for(let x=0;x<f;x++){const S=h[x];switch(S.type){case 2:case 1:m=S.endX,y=S.endY,t.unionNoCheck(m,y,0,0);break;case 3:$.hu(m,y,S.point1X,S.point1Y,S.point2X,S.point2Y,S.endX,S.endY,.5,t),m=S.endX,y=S.endY;break;case 4:$.Ek(m,y,S.point1X,S.point1Y,S.endX,S.endY,.5,t),m=S.endX,y=S.endY;break;case 5:case 6:const E=S.type===5?S.No(u):S.Eh(u,m,y),L=E.length;if(L===0){m=S.type===5?S.centerX:S.endX,y=S.type===5?S.centerY:S.endY,t.unionNoCheck(m,y,0,0);break}let D=null;for(let F=0;F<L;F++)D=E[F],$.hu(D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],.5,t);D!==null&&(m=D[6],y=D[7]);break;default:o.o("Unknown Segment type: "+S.type)}}}break;default:o.o("Unknown Geometry type: "+this.type)}}UD(t,e){const n=this.bounds;let s=t/n.width,r=e/n.height;return isFinite(s)||(s=1),isFinite(r)||(r=1),s===1&&r===1?this:this.copy().scale(s,r)}normalize(){this.h&&o.D(this);const t=this.computeBoundsWithoutOrigin();return this.offset(-t.x,-t.y),new T(-t.x,-t.y)}offset(t,e){return this.h&&o.D(this),this.L(1,0,0,1,t,e),this}scale(t,e){return this.h&&o.D(this),this.L(t,0,0,e,0,0),this}rotate(t,e,n){this.h&&o.D(this),e===void 0&&(e=0),n===void 0&&(n=0);const s=G.l();return s.Jt(),s.fs(t,e,n),this.L(s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),G.s(s),this}L(t,e,n,s,r,a){let u=0,h=0;switch(this.type){case 1:case 2:case 3:u=this.ke,h=this.Pe,this.ke=u*t+h*n+r,this.Pe=u*e+h*s+a,u=this.Qi,h=this._i,this.Qi=u*t+h*n+r,this._i=u*e+h*s+a;break;case 4:const f=this.figures.r,m=f.length;for(let y=0;y<m;y++){const x=f[y];u=x.startX,h=x.startY,x.startX=u*t+h*n+r,x.startY=u*e+h*s+a;const S=x.segments.r,E=S.length;for(let L=0;L<E;L++){const D=S[L];switch(D.type){case 2:case 1:u=D.endX,h=D.endY,D.endX=u*t+h*n+r,D.endY=u*e+h*s+a;break;case 3:u=D.point1X,h=D.point1Y,D.point1X=u*t+h*n+r,D.point1Y=u*e+h*s+a,u=D.point2X,h=D.point2Y,D.point2X=u*t+h*n+r,D.point2Y=u*e+h*s+a,u=D.endX,h=D.endY,D.endX=u*t+h*n+r,D.endY=u*e+h*s+a;break;case 4:u=D.point1X,h=D.point1Y,D.point1X=u*t+h*n+r,D.point1Y=u*e+h*s+a,u=D.endX,h=D.endY,D.endX=u*t+h*n+r,D.endY=u*e+h*s+a;break;case 5:if(u=D.centerX,h=D.centerY,D.centerX=u*t+h*n+r,D.centerY=u*e+h*s+a,e!==0){let F=Math.atan2(e,t)*180/Math.PI;F<0&&(F+=360),D.startAngle+=F}t<0&&(D.startAngle=180-D.startAngle,D.sweepAngle=-D.sweepAngle),s<0&&(D.startAngle=-D.startAngle,D.sweepAngle=-D.sweepAngle),D.radiusX*=Math.sqrt(t*t+n*n),D.radiusY!==void 0&&(D.radiusY*=Math.sqrt(e*e+s*s));break;case 6:if(u=D.endX,h=D.endY,D.endX=u*t+h*n+r,D.endY=u*e+h*s+a,D.radiusX===0||D.radiusY===0)break;if(e!==0){let F=Math.atan2(e,t)*180/Math.PI;F<0&&(F+=360),D.xAxisRotation+=F}t<0&&(D.xAxisRotation=180-D.xAxisRotation,D.isClockwiseArc=!D.isClockwiseArc),s<0&&(D.xAxisRotation=-D.xAxisRotation,D.isClockwiseArc=!D.isClockwiseArc),D.radiusX*=Math.sqrt(t*t+n*n),D.radiusY*=Math.sqrt(e*e+s*s);break;default:o.o("Unknown Segment type: "+D.type)}}}break}return this.bt=!0,this}containsPoint(t,e){e===void 0&&(e=0);const n=this.ke,s=this.Pe,r=this.Qi,a=this._i;switch(this.type){case 1:return $.vi(n,s,r,a,e,t.x,t.y);case 2:{const u=Math.min(n,r)-e,h=Math.min(s,a)-e,f=Math.abs(r-n)+e*2,m=Math.abs(a-s)+e*2,y=I.X(u,h,f,m),x=y.containsPoint(t);return I.s(y),x}case 3:{let u=Math.min(n,r)-e,h=Math.min(s,a)-e;const f=Math.abs(r-n)+e*2,m=Math.abs(a-s)+e*2,y=f/2,x=m/2;return y<=0||x<=0?!1:(u=t.x-(u+y),h=t.y-(h+x),u*u/(y*y)+h*h/(x*x)<=1)}case 4:return this.Uk(t,e,!0,!1);default:return!1}}Uk(t,e,n,s){const r=t.x,a=t.y,u=this.bounds.x-20,h=a;let f=0,m=0,y=0,x=0,S=0,E=0;const L=this.figures.r,D=L.length;for(let F=0;F<D;F++){const V=L[F],U=!V.isEvenOdd;if(V.isFilled){if(n&&V.Bk(r,a,e))return!0}else{if(V.Bk(r,a,s?e:e+2))return!0;continue}const W=V.segments;m=V.startX,y=V.startY;let q=m,le=y;const oe=W.r;for(let ce=0;ce<=W.length;ce++){let Se,he;switch(ce!==W.length?(Se=oe[ce],he=Se.type,S=Se.endX,E=Se.endY):(he=2,S=q,E=le),he){case 1:{const ge=this.Sw(r,a,u,h,m,y,q,le);if(isNaN(ge))return!0;f+=ge,q=S,le=E;break}case 2:{const ge=this.Sw(r,a,u,h,m,y,S,E);if(isNaN(ge))return!0;f+=ge;break}case 3:x=$.zg(m,y,Se.point1X,Se.point1Y,Se.point2X,Se.point2Y,S,E,u,h,r,a,.5),f+=x;break;case 4:{const ge=(m+2*Se.point1X)/3,ke=(y+2*Se.point1Y)/3,we=(Se.point1X*2+S)/3,Pe=(Se.point1Y*2+E)/3;x=$.zg(m,y,ge,ke,we,Pe,S,E,u,h,r,a,.5),f+=x;break}case 5:case 6:{const ge=Se.type===5?Se.No(V):Se.Eh(V,m,y),ke=ge.length;if(ke===0){const Pe=this.Sw(r,a,u,h,m,y,Se.type===5?Se.centerX:Se.endX,Se.type===5?Se.centerY:Se.endY);if(isNaN(Pe))return!0;f+=Pe;break}let we=null;for(let Pe=0;Pe<ke;Pe++){if(we=ge[Pe],Pe===0){const Re=this.Sw(r,a,u,h,m,y,we[0],we[1]);if(isNaN(Re))return!0;f+=Re}x=$.zg(we[0],we[1],we[2],we[3],we[4],we[5],we[6],we[7],u,h,r,a,.5),f+=x}we!==null&&(S=we[6],E=we[7]);break}default:o.o("Unknown Segment type: "+Se.type)}m=S,y=E}if(U){if(f!==0)return!0}else if(f%2!==0)return!0;f=0}return!1}Sw(t,e,n,s,r,a,u,h){if($.vi(r,a,u,h,.05,t,e))return NaN;const f=(t-n)*(a-h);if(f===0)return 0;const m=((t*s-e*n)*(r-u)-(t-n)*(r*h-a*u))/f,y=(t*s-e*n)*(a-h)/f;if(m>=t)return 0;if((r>u?r-u:u-r)<(a>h?a-h:h-a)){if(a<h){if(y<a||y>h)return 0}else if(y<h||y>a)return 0}else if(r<u){if(m<r||m>u)return 0}else if(m<u||m>r)return 0;return f>0?1:-1}pC(t,e,n){const s=this.figures.r,r=s.length;for(let a=0;a<r;a++)if(s[a].Bk(t,e,n))return!0;return!1}getPointAlongPath(t,e){if(t<0?t=0:t>1&&(t=1),e===void 0&&(e=new T),this.type===1)return e.e(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;const n=this.flattenedSegments,s=this.flattenedLengths,r=this.flattenedTotalLength,a=n.length,u=r*t;let h=0;for(let f=0;f<a;f++){const m=s[f],y=m.length;for(let x=0;x<y;x++){const S=m[x];if(h+S>=u){const E=u-h,L=S===0?0:E/S,D=n[f],F=D[x*2],V=D[x*2+1],U=D[x*2+2],W=D[x*2+3];return e.e(F+(U-F)*L,V+(W-V)*L),e}h+=S}}return e}getAngleAlongPath(t){if(t<0?t=0:t>1&&(t=1),this.type===1)return Math.atan2(this.endY-this.startY,this.endX-this.startX)*180/Math.PI;const e=this.flattenedSegments,n=this.flattenedLengths,s=this.flattenedTotalLength,r=e.length,a=s*t;let u=0;for(let h=0;h<r;h++){const f=n[h],m=f.length;for(let y=0;y<m;y++){const x=f[y];if(u+x>=a){const S=e[h],E=S[y*2],L=S[y*2+1],D=S[y*2+2],F=S[y*2+3];return Math.abs(D-E)<1&&Math.abs(F-L)<1?0:Math.abs(D-E)<1?F-L>=0?90:270:Math.abs(F-L)<1?D-E>=0?0:180:Math.atan2(F-L,D-E)*180/Math.PI}u+=x}}return NaN}getPointAndAngleAlongPath(t,e){if(t<0?t=0:t>1&&(t=1),e===void 0&&(e=[]),e.length=3,this.type===1)return e[0]=this.startX+t*(this.endX-this.startX),e[1]=this.startY+t*(this.endY-this.startY),e[2]=Math.atan2(this.endY-this.startY,this.endX-this.startX)*180/Math.PI,e;const n=this.flattenedSegments,s=this.flattenedLengths,r=this.flattenedTotalLength,a=n.length,u=r*t;let h=0;for(let f=0;f<a;f++){const m=s[f],y=m.length;for(let x=0;x<y;x++){const S=m[x];if(h+S>=u){const E=u-h,L=S===0?0:E/S,D=n[f],F=D[x*2],V=D[x*2+1],U=D[x*2+2],W=D[x*2+3];e[0]=F+(U-F)*L,e[1]=V+(W-V)*L;let q;return Math.abs(U-F)<1&&Math.abs(W-V)<1?q=0:Math.abs(U-F)<1?q=W-V>=0?90:270:Math.abs(W-V)<1?q=U-F>=0?0:180:q=Math.atan2(W-V,U-F)*180/Math.PI,e[2]=q,e}h+=S}}return e}getFractionForPoint(t){if(this.type===1){const e=this.startX,n=this.startY,s=this.endX,r=this.endY;if(e===s&&n===r)return 0;{const a=t.x,u=t.y;let h=0,f=0;if(e===s)return n<r?(h=n,f=r):(h=r,f=n),u<=h?h===n?0:1:u>=f?f===n?0:1:Math.abs(u-n)/(f-h);if(n===r)return e<s?(h=e,f=s):(h=s,f=e),a<=h?h===e?0:1:a>=f?f===e?0:1:Math.abs(a-e)/(f-h);{const m=(s-e)*(s-e)+(r-n)*(r-n),y=T.l();$.yl(e,n,s,r,a,u,y);const x=y.x,S=y.y;return T.s(y),Math.sqrt(((x-e)*(x-e)+(S-n)*(S-n))/m)}}}else if(this.type===2){const e=this.startX,n=this.startY,s=this.endX,r=this.endY;if(e===s&&n===r)return 0;{const a=s-e,u=r-n,h=a*2+u*2;let f=t.x,m=t.y;f=Math.min(Math.max(f,e),s),m=Math.min(Math.max(m,n),r);const y=Math.abs(f-e),x=Math.abs(f-s),S=Math.abs(m-n),E=Math.abs(m-r),L=Math.min(y,x,S,E);if(L===S)return f/h;if(L===x)return(a+m)/h;if(L===E)return(a*2+u-f)/h;if(L===y)return(a*2+u*2-m)/h}}else{const e=this.flattenedSegments,n=this.flattenedLengths,s=this.flattenedTotalLength,r=T.l();let a=1/0,u=0,h=0;const f=e.length;let m=0,y=0;for(let S=0;S<f;S++){const E=e[S],L=n[S],D=E.length;for(let F=0;F<D;F+=2){const V=E[F],U=E[F+1];if(F===0){m=V,y=U;continue}$.yl(m,y,V,U,t.x,t.y,r);const W=(r.x-t.x)*(r.x-t.x)+(r.y-t.y)*(r.y-t.y);W<a&&(a=W,u=h,u+=Math.sqrt((r.x-m)*(r.x-m)+(r.y-y)*(r.y-y))),h+=L[(F-2)/2],m=V,y=U}}T.s(r);const x=u/s;return x<0?0:x>1?1:x}return 0}get flattenedSegments(){return this.yC(),this.ic}yC(){if(this.ic===null){const t=this.ic=[],e=this.au=[];this.BD(t,e)}}get flattenedLengths(){return this.yC(),this.au}get flattenedTotalLength(){let t=this.cu;if(isNaN(t)){if(this.type===1){const e=Math.abs(this.endX-this.startX),n=Math.abs(this.endY-this.startY);t=Math.sqrt(e*e+n*n)}else if(this.type===2){const e=Math.abs(this.endX-this.startX),n=Math.abs(this.endY-this.startY);t=e*2+n*2}else{const e=this.flattenedLengths,n=e.length;t=0;for(let s=0;s<n;s++){const r=e[s],a=r.length;for(let u=0;u<a;u++)t+=r[u]}}this.cu=t}return t}zk(t){const e=[];let n=0,s=0;const r=t.length;for(let a=0;a<r;a+=2){const u=t[a],h=t[a+1];if(a===0){n=u,s=h;continue}const f=Math.sqrt(T.distanceSquared(n,s,u,h));e.push(f),n=u,s=h}return e}BD(t,e){let n=[];const s=[];if(this.type===1)n.push(this.startX),n.push(this.startY),n.push(this.endX),n.push(this.endY),t.push(n),s.push(Math.sqrt((this.startX-this.endX)*(this.startX-this.endX)+(this.startY-this.endY)*(this.startY-this.endY))),e.push(s);else if(this.type===2)n.push(this.startX),n.push(this.startY),n.push(this.endX),n.push(this.startY),n.push(this.endX),n.push(this.endY),n.push(this.startX),n.push(this.endY),n.push(this.startX),n.push(this.startY),t.push(n),s.push(Math.abs(this.startX-this.endX)),s.push(Math.abs(this.startY-this.endY)),s.push(Math.abs(this.startX-this.endX)),s.push(Math.abs(this.startY-this.endY)),e.push(s);else if(this.type===3){const r=new X;r.startX=this.endX,r.startY=(this.startY+this.endY)/2;const a=new de(5);a.startAngle=0,a.sweepAngle=360,a.centerX=(this.startX+this.endX)/2,a.centerY=(this.startY+this.endY)/2,a.radiusX=Math.abs(this.startX-this.endX)/2,a.radiusY=Math.abs(this.startY-this.endY)/2,r.add(a);const u=a.No(r),h=u.length;if(h===0)n.push(a.centerX),n.push(a.centerY);else{let f=r.startX,m=r.startY;for(let y=0;y<h;y++){const x=u[y];$.Un(f,m,x[2],x[3],x[4],x[5],x[6],x[7],.5,n),f=x[6],m=x[7]}}t.push(n),e.push(this.zk(n))}else{const r=this.figures.iterator;for(;r.next();){const a=r.value;n=[],n.push(a.startX),n.push(a.startY);let u=a.startX,h=a.startY,f=u,m=h;const y=a.segments.r,x=y.length;for(let S=0;S<x;S++){const E=y[S];switch(E.type){case 1:n.length>=4&&(t.push(n),e.push(this.zk(n))),n=[],n.push(E.endX),n.push(E.endY),u=E.endX,h=E.endY,f=u,m=h;break;case 2:n.push(E.endX),n.push(E.endY),u=E.endX,h=E.endY;break;case 3:$.Un(u,h,E.point1X,E.point1Y,E.point2X,E.point2Y,E.endX,E.endY,.5,n),u=E.endX,h=E.endY;break;case 4:$.Ug(u,h,E.point1X,E.point1Y,E.endX,E.endY,.5,n),u=E.endX,h=E.endY;break;case 5:{const L=E.No(a),D=L.length;if(D===0){n.push(E.centerX),n.push(E.centerY),u=E.centerX,h=E.centerY;break}for(let F=0;F<D;F++){const V=L[F];$.Un(u,h,V[2],V[3],V[4],V[5],V[6],V[7],.5,n),u=V[6],h=V[7]}break}case 6:{const L=E.Eh(a,u,h),D=L.length,F=E.endX,V=E.endY;if(D===0){n.push(F),n.push(V),u=F,h=V;break}for(let U=0;U<D;U++){const W=L[U];$.Un(u,h,W[2],W[3],W[4],W[5],W[6],W[7],.5,n),u=W[6],h=W[7]}break}default:o.o("Segment not of valid type: "+E.type)}E.isClosed&&(n.push(f),n.push(m))}n.length>=4&&(t.push(n),e.push(this.zk(n)))}}}get type(){return this._}set type(t){this._!==t&&(this.h&&o.D(this,t),this._=t,t===4?this.Rs=new w:(Wi.kw===null&&(Wi.kw=new w().g()),this.Rs=Wi.kw),this.bt=!0)}get startX(){return this.ke}set startX(t){this.ke!==t&&(this.h&&o.D(this,t),this.ke=t,this.bt=!0)}get startY(){return this.Pe}set startY(t){this.Pe!==t&&(this.h&&o.D(this,t),this.Pe=t,this.bt=!0)}get endX(){return this.Qi}set endX(t){this.Qi!==t&&(this.h&&o.D(this,t),this.Qi=t,this.bt=!0)}get endY(){return this._i}set endY(t){this._i!==t&&(this.h&&o.D(this,t),this._i=t,this.bt=!0)}get figures(){return this.Rs}set figures(t){this.Rs!==t&&(this.h&&o.D(this,t),this.Rs=t,this.bt=!0)}add(t){return this.Rs.add(t),this}setSpots(t,e,n,s,r,a,u,h){return this.h&&o.D(this),this.zn=new B(t,e,r,a).g(),this.Xn=new B(n,s,u,h).g(),this}get spot1(){return this.zn}set spot1(t){this.h&&o.D(this,t),this.zn=t.N()}get spot2(){return this.Xn}set spot2(t){this.h&&o.D(this,t),this.Xn=t.N()}get defaultStretch(){return this.Kn}set defaultStretch(t){this.Kn=t}get bounds(){return this.Vk()&&this.Mw(),this.jg}};k(Wi,"Line",1),k(Wi,"Rectangle",2),k(Wi,"Ellipse",3),k(Wi,"Path",4),k(Wi,"kw",new w().g()),k(Wi,"Hg","UuBbMmZzLlHhVvCcSsQqTtAaFfXx");let Q=Wi;Q.stringify=Q.stringify,Q.stringifyFixed=Q.stringifyFixed,Q.fillPath=Q.fillPath,Q.parse=Q.parse;class X{constructor(t,e,n,s,r){k(this,"n");k(this,"ke");k(this,"Pe");k(this,"nc");k(this,"Wg");k(this,"Be");n===void 0&&(n=!0),s===void 0&&(s=!0),r===void 0&&(r=!1),this.n=2|(n?4:0)|(s?8:0)|(r?16:0),t!==void 0?this.ke=t:this.ke=0,e!==void 0?this.Pe=e:this.Pe=0,this.nc=new w,this.Wg=this.nc.ct,this.Be=null}copy(){const t=new X;t.n=this.n&-2,t.ke=this.ke,t.Pe=this.Pe;const e=this.nc.r,n=e.length,s=t.nc;for(let r=0;r<n;r++){const a=e[r].copy();s.add(a)}return t.Wg=this.Wg,t.Be=this.Be,t}equalsApprox(t){if(!(t instanceof X)||!$.u(this.startX,t.startX)||!$.u(this.startY,t.startY))return!1;const e=this.segments.r,n=t.segments.r,s=e.length;if(s!==n.length)return!1;for(let r=0;r<s;r++){const a=e[r],u=n[r];if(!a.equalsApprox(u))return!1}return!0}toString(t){t===void 0&&(t=-1);let e="";if(t<0)e="M"+this.startX.toString()+" "+this.startY.toString();else{const r=a=>a===0?"0":a.toFixed(t);e="M"+r(this.startX)+" "+r(this.startY)}const n=this.segments.r,s=n.length;for(let r=0;r<s;r++){const a=n[r];e+=" "+a.toString(t)}return e}get h(){return(this.n&1)!==0}set h(t){t?this.n|=1:this.n&=-2}get bt(){return(this.n&2)!==0}set bt(t){t?this.n|=2:this.n&=-3}g(){this.h=!0;const t=this.segments;t.g();const e=t.r,n=t.length;for(let s=0;s<n;s++)e[s].g();return this}lt(){this.h=!1;const t=this.segments;t.lt();const e=t.r,n=e.length;for(let s=0;s<n;s++)e[s].lt();return this}Vk(){if(this.bt)return!0;const t=this.segments;if(this.Wg!==t.ct)return!0;for(const e of t)if(e.bt)return!0;return!1}VD(){this.bt=!1,this.Be=null;const t=this.segments;this.Wg=t.ct;for(const e of t)e.bt=!1,e.vs=null}get isFilled(){return(this.n&4)!==0}set isFilled(t){this.h&&o.D(this,t),t?this.n|=4:this.n&=-5}get isShadowed(){return(this.n&8)!==0}set isShadowed(t){this.h&&o.D(this,t),t?this.n|=8:this.n&=-9}get isEvenOdd(){return(this.n&16)!==0}set isEvenOdd(t){this.h&&o.D(this,t),t?this.n|=16:this.n&=-17}get startX(){return this.ke}set startX(t){this.h&&o.D(this,t),this.ke=t,this.Be=null,this.bt=!0}get startY(){return this.Pe}set startY(t){this.h&&o.D(this,t),this.Pe=t,this.Be=null,this.bt=!0}get segments(){return this.nc}set segments(t){this.h&&o.D(this,t),this.nc=t,this.Be=null,this.bt=!0}add(t){return this.nc.add(t),this.Be=null,this}Bk(t,e,n){const s=this;let r=s.startX,a=s.startY,u=r,h=a;const f=s.segments.r,m=f.length;for(let y=0;y<m;y++){const x=f[y];switch(x.type){case 1:u=x.endX,h=x.endY,r=x.endX,a=x.endY;break;case 2:if($.vi(r,a,x.endX,x.endY,n,t,e))return!0;r=x.endX,a=x.endY;break;case 3:if($.xw(r,a,x.point1X,x.point1Y,x.point2X,x.point2Y,x.endX,x.endY,.5,t,e,n))return!0;r=x.endX,a=x.endY;break;case 4:if($.Ik(r,a,x.point1X,x.point1Y,x.endX,x.endY,.5,t,e,n))return!0;r=x.endX,a=x.endY;break;case 5:case 6:const S=x.type===5?x.No(s):x.Eh(s,r,a),E=S.length,L=x.type===5?x.centerX:x.endX,D=x.type===5?x.centerY:x.endY;if(E===0){if($.vi(r,a,L,D,n,t,e))return!0;r=L,a=D;break}let F=null;for(let V=0;V<E;V++)if(F=S[V],V===0&&$.vi(r,a,F[0],F[1],n,t,e)||$.xw(F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],.5,t,e,n))return!0;F!==null&&(r=F[6],a=F[7]);break;default:o.o("Unknown Segment type: "+x.type)}if(x.isClosed&&(r!==u||a!==h)&&$.vi(r,a,u,h,n,t,e))return!0}return!1}}var se=(H=>(H[H.Move=1]="Move",H[H.Line=2]="Line",H[H.Bezier=3]="Bezier",H[H.QuadraticBezier=4]="QuadraticBezier",H[H.Arc=5]="Arc",H[H.SvgArc=6]="SvgArc",H))(se||{});const ro=class ro{constructor(t,e,n,s,r,a,u,h){k(this,"_");k(this,"n");k(this,"Qi");k(this,"_i");k(this,"hn");k(this,"xl");k(this,"bl");k(this,"mr");k(this,"vs");if(C.Yi(this),t===void 0&&(t=2),this._=t,this.n=2,e!==void 0?this.Qi=e:this.Qi=0,n!==void 0?this._i=n:this._i=0,s===void 0&&(s=0),r===void 0&&(r=0),a===void 0&&(a=0),u===void 0&&(u=0),t===6){let f=a;f=f%360,f<0&&(f+=360),this.hn=f,this.xl=0,this.bl=Math.max(s,0),this.mr=Math.max(r,0),typeof u=="boolean"?u&&(this.isLargeArc=!0):typeof u=="number"&&u&&(this.isLargeArc=!0),h&&(this.isClockwiseArc=!0)}else this.hn=s,this.xl=r,t===5&&(a=Math.max(a,0)),this.bl=a,typeof u=="number"?(t===5&&(u=Math.max(u,0)),this.mr=u):this.mr=0;this.vs=null}copy(){const t=new ro;return t._=this._,t.n=this.n&-2,t.Qi=this.Qi,t._i=this._i,t.hn=this.hn,t.xl=this.xl,t.bl=this.bl,t.mr=this.mr,t}equalsApprox(t){if(!(t instanceof ro)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case 1:case 2:return $.u(this.endX,t.endX)&&$.u(this.endY,t.endY);case 3:return $.u(this.endX,t.endX)&&$.u(this.endY,t.endY)&&$.u(this.point1X,t.point1X)&&$.u(this.point1Y,t.point1Y)&&$.u(this.point2X,t.point2X)&&$.u(this.point2Y,t.point2Y);case 4:return $.u(this.endX,t.endX)&&$.u(this.endY,t.endY)&&$.u(this.point1X,t.point1X)&&$.u(this.point1Y,t.point1Y);case 5:return $.u(this.startAngle,t.startAngle)&&$.u(this.sweepAngle,t.sweepAngle)&&$.u(this.centerX,t.centerX)&&$.u(this.centerY,t.centerY)&&$.u(this.radiusX,t.radiusX)&&$.u(this.radiusY,t.radiusY);case 6:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&$.u(this.xAxisRotation,t.xAxisRotation)&&$.u(this.endX,t.endX)&&$.u(this.endY,t.endY)&&$.u(this.radiusX,t.radiusX)&&$.u(this.radiusY,t.radiusY);default:return!1}}li(t){t in se?this.type=t:o.hr(this,t)}toString(t){t===void 0&&(t=-1);const e=s=>s===0?"0":s.toFixed(t);let n="";switch(this.type){case 1:t<0?n="M"+this.endX.toString()+" "+this.endY.toString():n="M"+e(this.endX)+" "+e(this.endY);break;case 2:t<0?n="L"+this.endX.toString()+" "+this.endY.toString():n="L"+e(this.endX)+" "+e(this.endY);break;case 3:t<0?n="C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():n="C"+e(this.point1X)+" "+e(this.point1Y)+" "+e(this.point2X)+" "+e(this.point2Y)+" "+e(this.endX)+" "+e(this.endY);break;case 4:t<0?n="Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():n="Q"+e(this.point1X)+" "+e(this.point1Y)+" "+e(this.endX)+" "+e(this.endY);break;case 5:t<0?n="B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():n="B"+e(this.startAngle)+" "+e(this.sweepAngle)+" "+e(this.centerX)+" "+e(this.centerY)+" "+e(this.radiusX)+" "+e(this.radiusY);break;case 6:t<0?n="A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():n="A"+e(this.radiusX)+" "+e(this.radiusY)+" "+e(this.xAxisRotation)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+e(this.endX)+" "+e(this.endY);break;default:n=se[this.type]}return n+(this.isClosed?"z":"")}get h(){return(this.n&1)!==0}set h(t){t?this.n|=1:this.n&=-2}get bt(){return(this.n&2)!==0}set bt(t){t?this.n|=2:this.n&=-3}g(){return this.h=!0,this}lt(){return this.h=!1,this}close(){return this.isClosed=!0,this}No(t){if(this.vs!==null&&t.bt===!1)return this.vs;const e=this.radiusX;let n=this.radiusY;if(n===void 0&&(n=e),e===0||n===0)return this.vs=[],this.vs;const s=this.hn,r=this.xl,a=$.aC(0,0,e<n?e:n,this.startAngle,this.startAngle+this.sweepAngle,!1);if(e!==n){const h=G.l();h.Jt(),e<n?h.K(1,n/e):h.K(e/n,1),Q.gC(a,h),G.s(h)}const u=a.length;for(let h=0;h<u;h++){const f=a[h];f[0]+=s,f[1]+=r,f[2]+=s,f[3]+=r,f[4]+=s,f[5]+=r,f[6]+=s,f[7]+=r}return this.vs=a,this.vs}Eh(t,e,n){if(this.vs!==null&&t.bt===!1)return this.vs;if(this.radiusX===0||this.radiusY===0)return this.vs=[],this.vs;const s=e,r=n;let a=this.bl,u=this.mr;a===0&&(a=1e-4),u===0&&(u=1e-4);const h=this.hn*(Math.PI/180),f=this.isLargeArc,m=this.isClockwiseArc,y=this.Qi,x=this._i,S=Math.cos(h),E=Math.sin(h),L=S*(s-y)/2+E*(r-x)/2,D=-E*(s-y)/2+S*(r-x)/2,F=L*L/(a*a)+D*D/(u*u);F>1&&(a*=Math.sqrt(F),u*=Math.sqrt(F));let V=(f===m?-1:1)*Math.sqrt((a*a*u*u-a*a*D*D-u*u*L*L)/(a*a*D*D+u*u*L*L));isNaN(V)&&(V=0);let U=V*a*D/u,W=V*-u*L/a;isNaN(U)&&(U=0),isNaN(W)&&(W=0);const q=(s+y)/2+S*U-E*W,le=(r+x)/2+E*U+S*W,oe=(Dt,Bt)=>Math.sqrt(Dt*Dt+Bt*Bt),ce=(Dt,Bt,It,zt)=>(Dt*It+Bt*zt)/(oe(Dt,Bt)*oe(It,zt)),Se=(Dt,Bt,It,zt)=>(Dt*zt<Bt*It?-1:1)*Math.acos(ce(Dt,Bt,It,zt)),he=Se(1,0,(L-U)/a,(D-W)/u),ge=(L-U)/a,ke=(D-W)/u,we=(-L-U)/a,Pe=(-D-W)/u;let Re=Se(ge,ke,we,Pe);const Xe=ce(ge,ke,we,Pe);Xe<=-1?Re=Math.PI:Xe>=1&&(Re=0),!m&&Re>0&&(Re=Re-2*Math.PI),m&&Re<0&&(Re=Re+2*Math.PI);const at=a>u?a:u,je=a>u?1:a/u,ft=a>u?u/a:1,Ct=$.aC(0,0,at,he,he+Re,!0),sn=G.l();return sn.Jt(),sn.Zi(q,le),sn.fs(this.hn,0,0),sn.K(je,ft),Q.gC(Ct,sn),G.s(sn),this.vs=Ct,this.vs}get isClosed(){return(this.n&8)!==0}set isClosed(t){this.isClosed!==t&&(t?this.n|=8:this.n&=-9,this.bt=!0)}get type(){return this._}set type(t){this.h&&o.D(this,t),this._=t,this.bt=!0}get endX(){return this.Qi}set endX(t){this.h&&o.D(this,t),this.Qi=t,this.bt=!0}get endY(){return this._i}set endY(t){this.h&&o.D(this,t),this._i=t,this.bt=!0}get point1X(){return this.hn}set point1X(t){this.h&&o.D(this,t),this.hn=t,this.bt=!0}get point1Y(){return this.xl}set point1Y(t){this.h&&o.D(this,t),this.xl=t,this.bt=!0}get point2X(){return this.bl}set point2X(t){this.h&&o.D(this,t),this.bl=t,this.bt=!0}get point2Y(){return this.mr}set point2Y(t){this.h&&o.D(this,t),this.mr=t,this.bt=!0}get centerX(){return this.hn}set centerX(t){this.h&&o.D(this,t),this.hn=t,this.bt=!0}get centerY(){return this.xl}set centerY(t){this.h&&o.D(this,t),this.xl=t,this.bt=!0}get radiusX(){return this.bl}set radiusX(t){t<0&&o.tt(t,">= zero",ro,"radiusX"),this.h&&o.D(this,t),this.bl=t,this.bt=!0}get radiusY(){return this.mr}set radiusY(t){t<0&&o.tt(t,">= zero",ro,"radiusY"),this.h&&o.D(this,t),this.mr=t,this.bt=!0}get startAngle(){return this.Qi}set startAngle(t){this.h&&o.D(this,t),t=t%360,t<0&&(t+=360),this.Qi=t,this.bt=!0}get sweepAngle(){return this._i}set sweepAngle(t){this.h&&o.D(this,t),t>360&&(t=360),t<-360&&(t=-360),this._i=t,this.bt=!0}get isClockwiseArc(){return(this.n&4)!==0}set isClockwiseArc(t){this.h&&o.D(this,t),t?this.n|=4:this.n&=-5,this.bt=!0}get isLargeArc(){return(this.n&16)!==0}set isLargeArc(t){this.h&&o.D(this,t),t?this.n|=16:this.n&=-17,this.bt=!0}get xAxisRotation(){return this.hn}set xAxisRotation(t){this.h&&o.D(this,t),t=t%360,t<0&&(t+=360),this.hn=t,this.bt=!0}};k(ro,"Move",1),k(ro,"Line",2),k(ro,"Bezier",3),k(ro,"QuadraticBezier",4),k(ro,"Arc",5),k(ro,"SvgArc",6);let de=ro;class ve{constructor(){k(this,"k");k(this,"Nw");k(this,"Cw");k(this,"Jg");k(this,"$g");k(this,"Zg");k(this,"Qg");k(this,"_g");k(this,"tm");k(this,"im");k(this,"em");k(this,"sm");k(this,"nm");k(this,"om");k(this,"Co");k(this,"rm");k(this,"lm");k(this,"hm");k(this,"Me");this.k=null,this.Nw=new T(0,0).g(),this.Cw=new T(0,0).g(),this.Jg=0,this.$g=0,this.Zg=1,this.Qg="",this._g="",this.tm=!1,this.im=!1,this.em=0,this.sm=0,this.nm=!1,this.om=!1,this.Co=!1,this.rm=null,this.lm=0,this.hm=null,this.Me=null}copy(){const t=new ve;return this.clone(t)}clone(t){return t.k=this.k,t.Nw.a(this.viewPoint),t.Cw.a(this.documentPoint),t.Jg=this.Jg,t.$g=this.$g,t.Zg=this.Zg,t.Qg=this.Qg,t._g=this._g,t.tm=this.tm,t.im=this.im,t.em=this.em,t.sm=this.sm,t.nm=this.nm,t.om=this.om,t.Co=this.Co,t.rm=this.rm,t.lm=this.lm,t.hm=this.hm,t.Me=this.Me,t}toString(){let t="^";return this.modifiers!==0&&(t+="M:"+this.modifiers),this.button!==0&&(t+="B:"+this.button),this.key!==""&&(t+="K:"+this.key),this.clickCount!==0&&(t+="C:"+this.clickCount),this.delta!==0&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),this.documentPoint!==null&&(t+="@"+this.documentPoint.toString()),t}get diagram(){return this.k}set diagram(t){this.k=t}get viewPoint(){return this.Nw}set viewPoint(t){this.Nw.a(t)}get documentPoint(){return this.Cw}set documentPoint(t){this.Cw.a(t)}getMultiTouchViewPoint(t,e){const n=this.diagram;return n===null||n.wC(this.event,t,e),e}getMultiTouchDocumentPoint(t,e){const n=this.diagram;return n===null||(n.wC(this.event,t,e),e.a(n.transformViewToDoc(e))),e}get modifiers(){return this.Jg}set modifiers(t){this.Jg=t}get button(){return this.$g}set button(t){if(this.$g=t,this.event===null)switch(t){case 0:this.buttons=1;return;case 1:this.buttons=4;return;case 2:this.buttons=2;return}}get buttons(){return this.Zg}set buttons(t){this.Zg=t}get key(){return this.Qg}set key(t){this.Qg=t}get code(){return this._g}set code(t){this._g=t}get down(){return this.tm}set down(t){this.tm=t}get up(){return this.im}set up(t){this.im=t}get clickCount(){return this.em}set clickCount(t){this.em=t}get delta(){return this.sm}set delta(t){this.sm=t}get isMultiTouch(){return this.nm}set isMultiTouch(t){this.nm=t}get handled(){return this.om}set handled(t){this.om=t}get bubbles(){return this.Co}set bubbles(t){this.Co=t}get event(){return this.rm}set event(t){this.rm=t}get isTouchEvent(){const t=this.event;return t===null?!1:t.pointerType==="touch"||t.pointerType==="pen"}get timestamp(){return this.lm}set timestamp(t){this.lm=t}get targetDiagram(){return this.hm}set targetDiagram(t){this.hm=t}get targetObject(){return this.Me}set targetObject(t){this.Me=t}get control(){return(this.modifiers&1)!==0}set control(t){this.modifiers=t?this.modifiers|1:this.modifiers&-2}get shift(){return(this.modifiers&4)!==0}set shift(t){this.modifiers=t?this.modifiers|4:this.modifiers&-5}get alt(){return(this.modifiers&2)!==0}set alt(t){this.modifiers=t?this.modifiers|2:this.modifiers&-3}get meta(){return(this.modifiers&8)!==0}set meta(t){this.modifiers=t?this.modifiers|8:this.modifiers&-9}get left(){const t=this.event;return t!==null&&(t.type==="mousedown"||t.type==="mouseup"||t.type==="pointerdown"||t.type==="pointerup")?this.button===0:(this.buttons&1)!==0}set left(t){t?this.buttons|=1:this.buttons&=-2}get right(){const t=this.event;return t!==null&&(t.type==="mousedown"||t.type==="mouseup"||t.type==="pointerdown"||t.type==="pointerup")?this.button===2:(this.buttons&2)!==0}set right(t){t?this.buttons|=2:this.buttons&=-3}get middle(){const t=this.event;return t!==null&&(t.type==="mousedown"||t.type==="mouseup"||t.type==="pointerdown"||t.type==="pointerup")?this.button===1:(this.buttons&4)!==0}set middle(t){t?this.buttons|=4:this.buttons&=-5}}class me{constructor(){k(this,"k");k(this,"St");k(this,"am");k(this,"cm");this.k=null,this.St="",this.am=null,this.cm=null}copy(){const t=new me;return t.k=this.k,t.St=this.St,t.am=this.am,t.cm=this.cm,t}toString(){let t="*"+this.name;return this.subject!==null&&(t+=":"+this.subject.toString()),this.parameter!==null&&(t+="("+this.parameter.toString()+")"),t}get diagram(){return this.k}set diagram(t){this.k=t}get name(){return this.St}set name(t){this.St=t}get subject(){return this.am}set subject(t){this.am=t}get parameter(){return this.cm}set parameter(t){this.cm=t}}var ae=(H=>(H[H.Transaction=1]="Transaction",H[H.Property=2]="Property",H[H.Insert=3]="Insert",H[H.Remove=4]="Remove",H))(ae||{});const Da=class Da{constructor(){k(this,"uu");k(this,"fm");k(this,"an");k(this,"Si");k(this,"k");k(this,"du");k(this,"oc");k(this,"rc");k(this,"lc");k(this,"hc");this.uu=2,this.fm="",this.an="",this.Si=null,this.k=null,this.du=null,this.oc=null,this.rc=null,this.lc=null,this.hc=null}clear(){this.Si=null,this.k=null,this.du=null,this.oc=null,this.rc=null,this.lc=null,this.hc=null}copy(){const t=new Da;t.uu=this.uu,t.fm=this.fm,t.an=this.an,t.Si=this.Si,t.k=this.k,t.du=this.du;let e=this.oc;return o.wt(e)&&typeof e.copyFrozen=="function"?t.oc=e.copyFrozen():t.oc=e,e=this.rc,o.wt(e)&&typeof e.copyFrozen=="function"?t.rc=e.copyFrozen():t.rc=e,e=this.lc,o.wt(e)&&typeof e.copyFrozen=="function"?t.lc=e.copyFrozen():t.lc=e,e=this.hc,o.wt(e)&&typeof e.copyFrozen=="function"?t.hc=e.copyFrozen():t.hc=e,t}li(t){t in ae?this.change=t:o.hr(this,t)}toString(){let t="";return this.change===1?t+="* ":this.change===2?t+=this.model!==null?"!m":"!d":t+=(this.model!==null?"!m":"!d")+this.change,this.propertyName&&typeof this.propertyName=="string"&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===1?this.oldValue!==null&&(t+=" "+this.oldValue):(this.object!==null&&(t+=o.toString(this.object)),this.oldValue!==null&&(t+="  old: "+o.toString(this.oldValue)),this.oldParam!==null&&(t+=" "+this.oldParam),this.newValue!==null&&(t+="  new: "+o.toString(this.newValue)),this.newParam!==null&&(t+=" "+this.newParam)),t}getValue(t){return t?this.oldValue:this.newValue}getParam(t){return t?this.oldParam:this.newParam}canUndo(){return this.model!==null||this.diagram!==null}undo(){this.canUndo()&&(this.model!==null?this.model.changeState(this,!0):this.diagram!==null&&this.diagram.xC(this,!0))}canRedo(){return this.model!==null||this.diagram!==null}redo(){this.canRedo()&&(this.model!==null?this.model.changeState(this,!1):this.diagram!==null&&this.diagram.xC(this,!1))}get model(){return this.Si}set model(t){this.Si=t}get diagram(){return this.k}set diagram(t){this.k=t}get change(){return this.uu}set change(t){this.uu=t}get modelChange(){return this.fm}set modelChange(t){this.fm=t}get propertyName(){return this.an}set propertyName(t){this.an=t}get isTransactionFinished(){return this.uu===1&&(this.an==="CommittedTransaction"||this.an==="FinishedUndo"||this.an==="FinishedRedo")}get object(){return this.du}set object(t){this.du=t}get oldValue(){return this.oc}set oldValue(t){this.oc=t}get oldParam(){return this.rc}set oldParam(t){this.rc=t}get newValue(){return this.lc}set newValue(t){this.lc=t}get newParam(){return this.hc}set newParam(t){this.hc=t}};k(Da,"Transaction",1),k(Da,"Property",2),k(Da,"Insert",3),k(Da,"Remove",4);let ie=Da;class re{constructor(){k(this,"bC");k(this,"St");k(this,"Xk");this.bC=new w().g(),this.St="",this.Xk=!1}toString(t){let e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(t!==void 0&&t>0){const n=this.changes.count;for(let s=0;s<n;s++){const r=this.changes.elt(s);r!==null&&(e+=`
  `+r.toString())}}return e}clear(){const t=this.changes;t.lt();for(let e=t.count-1;e>=0;e--){const n=t.elt(e);n!==null&&n.clear()}t.clear(),t.g()}canUndo(){return this.isComplete}undo(){if(this.canUndo())for(let t=this.changes.count-1;t>=0;t--){const e=this.changes.elt(t);e!==null&&e.undo()}}canRedo(){return this.isComplete}redo(){if(!this.canRedo())return;const t=this.changes.count;for(let e=0;e<t;e++){const n=this.changes.elt(e);n!==null&&n.redo()}}zD(t){const e=this.changes;for(let n=e.count-1;n>=t;n--){const s=e.elt(n);s!==null&&s.undo(),e.lt(),e.removeAt(n)}e.g()}optimize(){if(!this.isComplete)return;const t=this.changes;t.lt();const e=new z;for(let s=0;s<t.count;s++){const r=t.elt(s);if(r===null||r.change!==2||!r.object)continue;let a=e.get(r.object);a||(a=new z,e.set(r.object,a));const u=a.get(r.propertyName);u===null?a.set(r.propertyName,-1):(u>0&&t.setElt(u,null),a.set(r.propertyName,s))}let n=0;for(let s=0;s<t.count;s++){const r=t.elt(s);r!==null&&(s>n&&t.setElt(n,r),n++)}for(;t.length>n;)t.pop();t.g()}get changes(){return this.bC}get name(){return this.St}set name(t){this.St=t}get isComplete(){return this.Xk}set isComplete(t){this.Xk=t}}class te{constructor(t){k(this,"Lw");k(this,"Oi");k(this,"kC");k(this,"Os");k(this,"Kk");k(this,"um");k(this,"Yn");k(this,"Yk");k(this,"Gk");k(this,"cn");k(this,"ac");k(this,"Aw");k(this,"Is");k(this,"Tw");k(this,"Dw");k(this,"dm");k(this,"Fw");this.Lw=new C,this.Oi=!1,this.kC=new w().g(),this.Os=-1,this.Kk=999,this.Is=!1,this.um=null,this.Yn=0,this.Yk=!1,this.Gk=23,this.cn=new w().g(),this.ac=new w,this.Aw=!0,this.Tw=!1,this.Dw=!1,this.dm=!1,this.Fw=!1,t&&Object.assign(this,t)}toString(t){let e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";let n=this.nestedTransactionNames.count;for(let s=0;s<n;s++)s>0&&(e+=" "),e+=this.nestedTransactionNames.elt(s);if(e+="]",t!==void 0&&t>0){n=this.history.count;for(let s=0;s<n;s++)e+=`
 `+this.history.elt(s).toString(t-1)}return e}clear(){const t=this.history;t.lt();for(let e=t.count-1;e>=0;e--){const n=t.elt(e);n!==null&&n.clear()}t.clear(),this.Os=-1,t.g(),this.Is=!1,this.um=null,this.Yn=0,this.cn.lt(),this.cn.clear(),this.cn.g(),this.ac.clear(),this.Tw=!1,this.Dw=!1,this.dm=!1,this.Fw=!1}copyProperties(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.gm=t.gm}addModel(t){this.Lw.add(t)}removeModel(t){this.Lw.remove(t)}startTransaction(t){if(t===void 0&&(t=""),t===null&&(t=""),this.isUndoingRedoing)return!1;this.Aw===!0&&(this.Aw=!1,this.Yn++,this.kl||this.t("StartingFirstTransaction",t,this.currentTransaction),this.Yn>0&&this.Yn--),this.isEnabled&&(this.cn.lt(),this.cn.add(t),this.cn.g(),this.currentTransaction===null?this.ac.add(0):this.ac.add(this.currentTransaction.changes.count)),this.Yn++;const e=this.transactionLevel===1;return e&&(this.kl||this.t("StartedTransaction",t,this.currentTransaction)),e}commitTransaction(t){return t===void 0&&(t=""),this.PC(!0,t)}rollbackTransaction(){return this.PC(!1,"")}PC(t,e){if(this.isUndoingRedoing)return!1;this.gm&&this.transactionLevel<1&&o.ri("Ending transaction without having started a transaction: "+e);const n=this.transactionLevel===1;let s=this.currentTransaction;n&&t&&(this.kl||this.t("CommittingTransaction",e,s));let r=0;if(this.transactionLevel>0&&(this.Yn--,this.isEnabled)){const a=this.cn.count;a>0&&(e===""&&(e=this.cn.elt(0)),this.cn.lt(),this.cn.removeAt(a-1),this.cn.g());const u=this.ac.count;u>0&&(r=this.ac.elt(u-1),this.ac.removeAt(u-1))}if(n){if(t){if(this.dm=!1,s===null&&e!==""&&(s=this.currentTransaction),this.isEnabled&&s!==null){const a=s;a.isComplete||(a.isComplete=!0,a.name=e),this.discardHistoryAfterIndex();const u=this.history;u.lt();const h=this.maxHistoryLength;if(h>=0){if(h===0)u.clear();else if(u.count>=h){const f=u.elt(0);f!==null&&f.clear(),u.removeAt(0),this.Os--}}h!==0&&(u.count===0||u.get(u.count-1)!==a)&&(u.add(a),this.Os++),u.g(),s=a}this.kl||this.t("CommittedTransaction",e,s)}else{this.Is=!0;try{this.isEnabled&&s!==null&&(s.isComplete=!0,s.undo())}finally{this.kl||this.t("RolledBackTransaction",e,s),this.Is=!1}s!==null&&s.clear()}return this.um=null,this.Rw&&this.clear(),this.Rw=!1,this.vw=!1,!0}else return this.isEnabled&&!t&&s!==null&&s.zD(r),!1}discardHistoryAfterIndex(){if(this.isUndoingRedoing||!this.canRedo())return;const t=this.history;t.lt();for(let e=t.count-1;e>this.historyIndex;e--){const n=t.elt(e);n!==null&&n.clear(),t.removeAt(e),this.dm=!0}t.g()}sE(t){this.Yn+=t,this.Yn<0&&(this.Yn=0)}canUndo(){if(!this.isEnabled||this.transactionLevel>0)return!1;const t=this.transactionToUndo;return!!(t!==null&&t.canUndo())}undo(){if(!this.canUndo())return;const t=this.transactionToUndo;try{this.Is=!0,this.t("StartingUndo","Undo",t),this.Os--,t.undo()}catch(e){o.ri("undo error: "+e.toString())}finally{this.t("FinishedUndo","Undo",t),this.Is=!1}}canRedo(){if(!this.isEnabled||this.transactionLevel>0)return!1;const t=this.transactionToRedo;return!!(t!==null&&t.canRedo())}redo(){if(!this.canRedo())return;const t=this.transactionToRedo;try{this.Is=!0,this.t("StartingRedo","Redo",t),this.Os++,t.redo()}catch(e){o.ri("redo error: "+e.toString())}finally{this.t("FinishedRedo","Redo",t),this.Is=!1}}t(t,e,n){n===void 0&&(n=null);const s=new ie;s.change=1,s.propertyName=t,s.object=n,s.oldValue=e;const r=this.models;for(;r.next();){const a=r.value;s.model=a,a.Ow(s)}}handleChanged(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){let e=this.currentTransaction;e===null&&(e=new re,this.um=e);const n=t.copy(),s=e.changes;if(s.lt(),s.add(n),s.g(),this.gm&&this.Gk>0&&this.transactionLevel<=0&&!this.Aw){const r=t.diagram;if(r!==null&&r.Vh===!1)return;o.ri("Change not within a transaction: "+n.toString()),this.Gk--}}}skipsEvent(t){if(t===null||t.change===1)return!0;const e=t.object;if(e===null)return!1;if(e.layer!==void 0){const n=e.layer;if(n!==null&&n.isTemporary)return!0}else if(e.isTemporary)return!0;return!1}get models(){return this.Lw.iterator}get isEnabled(){return this.Oi}set isEnabled(t){this.Oi=t}get transactionToUndo(){return this.historyIndex>=0&&this.historyIndex<=this.history.count-1?this.history.elt(this.historyIndex):null}get transactionToRedo(){return this.historyIndex<this.history.count-1?this.history.elt(this.historyIndex+1):null}get isUndoingRedoing(){return this.Is}get history(){return this.kC}get maxHistoryLength(){return this.Kk}set maxHistoryLength(t){this.Kk=t}get historyIndex(){return this.Os}get currentTransaction(){return this.um}get transactionLevel(){return this.Yn}get isInTransaction(){return this.Yn>0}get gm(){return this.Yk}set gm(t){this.Yk=t}get nestedTransactionNames(){return this.cn}get Rw(){return this.Tw}set Rw(t){this.Tw=t}get vw(){return this.Dw}set vw(t){this.Dw=t}get kl(){return this.Fw}set kl(t){this.Fw=t}get isJustDiscarded(){return this.dm}}class ue{constructor(){k(this,"k");k(this,"St");k(this,"Oi");k(this,"jk");k(this,"Hk");k(this,"mm");k(this,"MC");C.Yi(this),this.k=st.pm(),this.St="",this.Oi=!0,this.jk=!1,this.Hk=null,this.MC=new ve,this.mm=-1}get diagram(){return this.k}set diagram(t){t instanceof st&&(this.k=t)}toString(){return this.name!==""?this.name+" Tool":o.sn(this.constructor)}updateAdornments(t){}canStart(){return this.isEnabled}doStart(){}doActivate(){this.isActive=!0}doDeactivate(){this.isActive=!1}doStop(){}doCancel(){this.transactionResult=null,this.stopTool()}stopTool(){const t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")}doMouseDown(){!this.isActive&&this.canStart()&&this.doActivate()}doMouseMove(){}doMouseUp(){this.stopTool()}doMouseWheel(){}canStartMultiTouch(){return!0}standardPinchZoomStart(){const t=this.diagram,e=t.lastInput,n=e.getMultiTouchViewPoint(0,T.X(NaN,NaN)),s=e.getMultiTouchViewPoint(1,T.X(NaN,NaN));if(!n.isReal()||!s.isReal()){T.s(n),T.s(s);return}if(this.doCancel(),t.getInputOption("hasGestureZoom")){t.qk=t.scale;const r=s.x-n.x,a=s.y-n.y,u=Math.sqrt(r*r+a*a);t.Wk=u,e.bubbles=!1}T.s(n),T.s(s)}standardPinchZoomMove(){const t=this.diagram,e=t.lastInput,n=e.getMultiTouchViewPoint(0,T.X(NaN,NaN)),s=e.getMultiTouchViewPoint(1,T.X(NaN,NaN));if(!n.isReal()||!s.isReal()){T.s(n),T.s(s);return}if(this.doCancel(),t.getInputOption("hasGestureZoom")){const r=s.x-n.x,a=s.y-n.y,u=Math.sqrt(r*r+a*a)/t.Wk,h=new T((Math.min(s.x,n.x)+Math.max(s.x,n.x))/2,(Math.min(s.y,n.y)+Math.max(s.y,n.y))/2),f=t.qk*u,m=t.commandHandler;if(f!==t.scale&&m.canResetZoom(f)){const y=t.zoomPoint;t.zoomPoint=h,m.resetZoom(f),t.zoomPoint=y}e.bubbles=!1}T.s(n),T.s(s)}doKeyDown(){this.diagram.lastInput.code==="Escape"&&this.doCancel()}doKeyUp(){}startTransaction(t){return t===void 0&&(t=this.name),this.transactionResult=null,this.diagram.startTransaction(t)}stopTransaction(){const t=this.diagram;return this.transactionResult===null?t.rollbackTransaction():t.commitTransaction(this.transactionResult)}standardMouseSelect(){const t=this.diagram;if(!t.allowSelect)return;const e=t.lastInput,n=t.findPartAt(e.documentPoint,!1);if(n!==null){if(o.lr?e.meta:e.control){t.v("ChangingSelection",t.selection);let s=n;for(;s!==null&&!s.canSelect();)s=s.containingGroup;s!==null&&(s.isSelected=!s.isSelected),t.v("ChangedSelection",t.selection)}else if(e.shift){if(!n.isSelected){t.v("ChangingSelection",t.selection);let s=n;for(;s!==null&&!s.canSelect();)s=s.containingGroup;s!==null&&(s.isSelected=!0),t.v("ChangedSelection",t.selection)}}else if(!n.isSelected){let s=n;for(;s!==null&&!s.canSelect();)s=s.containingGroup;s!==null&&t.select(s)}}else e.left&&!(o.lr?e.meta:e.control)&&!e.shift&&t.clearSelection()}standardMouseClick(t,e){t===void 0&&(t=null),e===void 0&&(e=a=>!a.layer.isTemporary);const n=this.diagram,s=n.lastInput,r=n.findObjectAt(s.documentPoint,t,e);return s.targetObject=r,this.XD(r,s,n),s.handled}XD(t,e,n){if(e.handled=!1,t!==null&&!t.isEnabledObject())return;let s=0;e.left?e.clickCount===1?s=1:e.clickCount===2?s=2:s=1:e.right&&e.clickCount===1&&(s=3);let r="ObjectSingleClicked";if(t!==null){switch(s){case 1:r="ObjectSingleClicked";break;case 2:r="ObjectDoubleClicked";break;case 3:r="ObjectContextClicked";break}s!==0&&n.v(r,t)}else{switch(s){case 1:r="BackgroundSingleClicked";break;case 2:r="BackgroundDoubleClicked";break;case 3:r="BackgroundContextClicked";break}s!==0&&n.v(r)}if(t!==null)for(;t!==null;){let a=null;switch(s){case 1:a=t.click;break;case 2:a=t.doubleClick?t.doubleClick:t.click;break;case 3:a=t.contextClick;break}if(a!==null&&(a(e,t),e.handled))break;t=t.panel}else{let a=null;switch(s){case 1:a=n.click;break;case 2:a=n.doubleClick?n.doubleClick:n.click;break;case 3:a=n.contextClick;break}a!==null&&a(e)}}standardMouseOver(){const t=this.diagram,e=t.lastInput;if(t.animationManager.xi===!0)return;const n=t.skipsUndoManager;t.skipsUndoManager=!0;let s=t.viewportBounds.containsPoint(e.documentPoint)?t.findObjectAt(e.documentPoint,null,null):null;e.event&&(e.event.type==="pointercancel"||e.event.type==="pointerout")&&(s=null),e.targetObject=s;let r=!1;if(s!==t.cc){let a=t.cc;const u=a;for(t.cc=s,this.doCurrentObjectChanged(a,s),e.handled=!1;a!==null;){const h=a.mouseLeave;if(h!==null&&(s===a||s!==null&&s.isContainedBy(a)||(h(e,a,s),r=!0,e.handled)))break;a=a.panel}for(a=u,e.handled=!1;s!==null;){const h=s.mouseEnter;if(h!==null&&(a===s||a!==null&&a.isContainedBy(s)||(h(e,s,a),r=!0,e.handled)))break;s=s.panel}s=t.cc}if(s!==null){let a=s,u="";for(;a!==null&&(u=a.cursor,u==="");)a=a.panel;for(t.currentCursor=u,e.handled=!1,a=s;a!==null;){const h=a.mouseOver;if(h!==null&&(h(e,a),r=!0,e.handled))break;a=a.panel}}else{this.doUpdateCursor(null);const a=t.mouseOver;a!==null&&(a(e),r=!0)}r&&t.requestUpdate(),t.skipsUndoManager=n}doUpdateCursor(t){const e=this.diagram;e&&(e.currentCursor="")}doCurrentObjectChanged(t,e){}standardMouseWheel(){const t=this.diagram,e=t.lastInput;let n=e.delta;if(n===0||!t.documentBounds.isReal())return;const s=t.commandHandler,r=t.toolManager.mouseWheelBehavior;if(s!==null&&(r===2&&!e.shift||r===1&&e.control)){if(n>0?s.canIncreaseZoom():s.canDecreaseZoom()){const a=t.zoomPoint;t.zoomPoint=e.viewPoint,n>0?s.increaseZoom():s.decreaseZoom(),t.zoomPoint=a}e.bubbles=!1}else if(r===2&&e.shift||r===1&&!e.control){const a=t.position.copy(),u=e.event,h=u.deltaMode;let f=u.deltaX,m=u.deltaY,y="pixel";if((f!==0||m!==0)&&!e.shift){switch(h){case 0:y="pixel";break;case 1:y="line";break;case 2:y="page";break}if(f!==0&&t.allowHorizontalScroll){const x=t.scrollHorizontalLineChange;f=f*(x/16),t.scroll(y,f>0?"right":"left",Math.abs(f))}if(m!==0&&t.allowVerticalScroll){const x=t.scrollVerticalLineChange;m=m*(x/16),t.scroll(y,m>0?"down":"up",Math.abs(m))}}else!e.shift&&t.allowVerticalScroll?(n=n*3*t.scrollVerticalLineChange,t.scroll(y,n>0?"up":"down",Math.abs(n))):e.shift&&t.allowHorizontalScroll&&(n=n*3*t.scrollHorizontalLineChange,t.scroll(y,n>0?"left":"right",Math.abs(n)));this.doWheelChange(t,a,e)}}doWheelChange(t,e,n){(!t.position.equals(e)||n.event.wheelDeltaX!==0)&&(n.bubbles=!1)}standardWaitAfter(t,e){e===void 0&&(e=this.diagram.lastInput),this.cancelWaitAfter();const n=this,s=e.clone(this.MC);this.mm=o.Oh(()=>n.doWaitAfter(s),t)}cancelWaitAfter(){this.mm!==-1&&o.Ig(this.mm),this.mm=-1}doWaitAfter(t){}findToolHandleAt(t,e){const n=this.diagram.findObjectAt(t,s=>{for(;s!==null&&!(s.panel instanceof Cn);)s=s.panel;return s});return n===null?null:n.part.category===e?n:null}isBeyondDragSize(t,e){const n=this.diagram;t===void 0&&(t=n.firstInput.viewPoint),e===void 0&&(e=n.lastInput.viewPoint);const s=n.toolManager.dragSize;let r=s.width,a=s.height;return n.firstInput.isTouchEvent&&(r+=6,a+=6),Math.abs(e.x-t.x)>r||Math.abs(e.y-t.y)>a}get name(){return this.St}set name(t){this.St=t}get isEnabled(){return this.Oi}set isEnabled(t){this.Oi=t}get isActive(){return this.jk}set isActive(t){this.jk=t}get transactionResult(){return this.Hk}set transactionResult(t){this.Hk=t}}var be=(H=>(H[H.Scroll=1]="Scroll",H[H.Zoom=2]="Zoom",H[H.None=3]="None",H))(be||{}),Ce=(H=>(H[H.Zoom=1]="Zoom",H[H.Cancel=2]="Cancel",H[H.None=3]="None",H))(Ce||{});class Ne extends ue{constructor(e){super();k(this,"SC");k(this,"NC");k(this,"CC");k(this,"Jk");k(this,"$k");k(this,"Zk");k(this,"Qk");k(this,"_k");k(this,"tP");k(this,"iP");k(this,"ym");k(this,"Uh");this.name="ToolManager",this.SC=new w,this.NC=new w,this.CC=new w,this.Jk=850,this.$k=850,this.Zk=new _(2,2).et(),this.Qk=5e3,this._k=1,this.tP=1,this.iP=null,this.ym=null,this.Uh=-1,e&&Object.assign(this,e)}get mouseWheelBehavior(){return this._k}set mouseWheelBehavior(e){this._k=e}get gestureBehavior(){return this.tP}set gestureBehavior(e){this.tP=e}initializeStandardTools(){}updateAdornments(e){const n=this.currentToolTip;if(n instanceof Cn&&this.ym===e){const s=n.adornedObject;(e!==null?s.part===e:s===null)?this.showToolTip(n,s):this.hideToolTip()}}doMouseDown(){const e=this.diagram,n=e.lastInput;if(n.isTouchEvent&&this.gestureBehavior===2&&(n.bubbles=!1),n.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===3){n.bubbles=!0;return}if(this.gestureBehavior===2)return;if(e.currentTool.canStartMultiTouch()){e.currentTool.standardPinchZoomStart();return}}e.undoManager;const s=this.mouseDownTools.length;for(let r=0;r<s;r++){const a=this.mouseDownTools.elt(r);if(a.diagram=this.diagram,a.canStart()){e.doFocus(),e.currentTool=a,e.currentTool===a&&(a.isActive||a.doActivate(),a.doMouseDown());return}}e.lastInput.button===1&&(this.mouseWheelBehavior===1?this.mouseWheelBehavior=2:this.mouseWheelBehavior===2&&(this.mouseWheelBehavior=1)),this.doActivate(),this.standardWaitAfter(this.holdDelay,n)}doMouseMove(){const e=this.diagram,n=e.lastInput;if(n.isMultiTouch){if(this.gestureBehavior===3){n.bubbles=!0;return}if(this.gestureBehavior===2)return;if(e.currentTool.canStartMultiTouch()){e.currentTool.standardPinchZoomMove();return}}if(this.isActive){const r=this.mouseMoveTools.length;for(let a=0;a<r;a++){const u=this.mouseMoveTools.elt(a);if(u.diagram=this.diagram,u.canStart()){e.doFocus(),e.currentTool=u,e.currentTool===u&&(u.isActive||u.doActivate(),u.doMouseMove());return}}}this.standardMouseActivity(e);const s=n.event;s!==null&&(s.type==="pointermove"||!s.cancelable)&&(n.bubbles=!0)}standardMouseActivity(e){this.standardMouseOver(),this.isBeyondDragSize()&&this.standardWaitAfter(this.isActive?this.holdDelay:this.hoverDelay,e.lastInput)}doCurrentObjectChanged(e,n){const s=this.currentToolTip;s!==null&&(n!==null&&s instanceof Cn&&(n===s||n.isContainedBy(s))||this.hideToolTip())}doWaitAfter(e){const n=this.diagram;if(n.KD()&&(this.doMouseHover(),this.isActive||this.doToolTip(),e.isTouchEvent&&!n.lastInput.handled)){const s=e.copy();s.button=2,s.buttons=2,n.lastInput=s,n.Iw=!0,n.doMouseUp();return}}doMouseHover(){const e=this.diagram,n=e.lastInput;n.targetObject===null&&(n.targetObject=e.findObjectAt(n.documentPoint,null,null));let s=n.targetObject;if(s!==null)for(n.handled=!1;s!==null;){const r=this.isActive?s.mouseHold:s.mouseHover;if(r!==null&&(r(n,s),n.handled))break;s=s.panel}else{const r=this.isActive?e.mouseHold:e.mouseHover;r!==null&&r(n)}}doToolTip(){const e=this.diagram,n=e.lastInput;n.targetObject===null&&(n.targetObject=e.findObjectAt(n.documentPoint,null,null));let s=n.targetObject;if(s!==null){const r=this.currentToolTip;if(r instanceof Cn&&(s===r||s.isContainedBy(r)))return;for(;s!==null;){const a=s.toolTip;if(a!==null){this.showToolTip(a,s);return}s=s.panel}this.hideToolTip()}else{const r=e.toolTip;r!==null?this.showToolTip(r,null):this.hideToolTip()}}showToolTip(e,n){const s=this.diagram;if(e!==this.currentToolTip&&this.hideToolTip(),e instanceof Cn){e.layerName="Tool",e.selectable=!1,e.scale=1/s.scale,e.category="ToolTip",e.hasPlaceholder()&&(e.placeholder.scale=s.scale);const a=e.diagram;a!==null&&a!==s&&a.remove(e),s.add(e),n!==null?e.adornedObject=n:e.data=s.model,e.ensureBounds(),this.positionToolTip(e,n)}else e instanceof Je&&e!==this.currentToolTip&&e.show(n,s,this);this.currentToolTip=e,this.Uh!==-1&&(o.Ig(this.Uh),this.Uh=-1);const r=this.toolTipDuration;if(r>0&&r!==1/0){const a=this;this.Uh=o.Oh(()=>a.hideToolTip(),r)}}positionToolTip(e,n){if(e.hasPlaceholder())return;const s=e,r=this.diagram,a=r.lastInput.documentPoint.copy(),u=s.measuredBounds,h=r.viewportBounds;r.lastInput.isTouchEvent&&(a.x-=u.width),a.x+u.width>h.right&&(a.x-=u.width+5/r.scale),a.x<h.x&&(a.x=h.x),a.y+20/r.scale+u.height>h.bottom?a.y-=u.height+5/r.scale:a.y+=20/r.scale,a.y<h.y&&(a.y=h.y),s.position=a}hideToolTip(){this.Uh!==-1&&(o.Ig(this.Uh),this.Uh=-1);const e=this.diagram,n=this.currentToolTip;n!==null&&(n instanceof Cn?(e.remove(n),this.ym!==null&&this.ym.removeAdornment(n.category),n.data=null,n.adornedObject=null):n instanceof Je&&n.hide!==null&&n.hide(e,this),this.currentToolTip=null)}get currentToolTip(){return this.iP}set currentToolTip(e){this.iP=e,this.ym=e!==null&&e instanceof Cn?e.adornedPart:null}doMouseUp(){this.cancelWaitAfter();const e=this.diagram;if(this.isActive){const n=this.mouseUpTools.length;for(let s=0;s<n;s++){const r=this.mouseUpTools.elt(s);if(r.diagram=this.diagram,r.canStart()){e.doFocus(),e.currentTool=r,e.currentTool===r&&(r.isActive||r.doActivate(),r.doMouseUp());return}}}e.doFocus(),this.doDeactivate()}doMouseWheel(){this.standardMouseWheel()}doKeyDown(){const e=this.diagram;e.commandHandler!==null&&e.commandHandler.doKeyDown()}doKeyUp(){const e=this.diagram;e.commandHandler!==null&&e.commandHandler.doKeyUp()}findTool(e){let n=this.mouseDownTools.length;for(let s=0;s<n;s++){const r=this.mouseDownTools.elt(s);if(r.name===e)return r}n=this.mouseMoveTools.length;for(let s=0;s<n;s++){const r=this.mouseMoveTools.elt(s);if(r.name===e)return r}n=this.mouseUpTools.length;for(let s=0;s<n;s++){const r=this.mouseUpTools.elt(s);if(r.name===e)return r}return null}replaceTool(e,n){n!==null&&(n.diagram=this.diagram);let s=this.mouseDownTools.length;for(let r=0;r<s;r++){const a=this.mouseDownTools.elt(r);if(a.name===e)return n!==null?this.mouseDownTools.setElt(r,n):this.mouseDownTools.removeAt(r),a}s=this.mouseMoveTools.length;for(let r=0;r<s;r++){const a=this.mouseMoveTools.elt(r);if(a.name===e)return n!==null?this.mouseMoveTools.setElt(r,n):this.mouseMoveTools.removeAt(r),a}s=this.mouseUpTools.length;for(let r=0;r<s;r++){const a=this.mouseUpTools.elt(r);if(a.name===e)return n!==null?this.mouseUpTools.setElt(r,n):this.mouseUpTools.removeAt(r),a}return null}replaceStandardTool(e,n,s){this.$t(e,n,s)}$t(e,n,s){n!==null&&(n.name=e,n.diagram=this.diagram),this.findTool(e)?this.replaceTool(e,n):n!==null&&s.add(n)}get mouseDownTools(){return this.SC}get mouseMoveTools(){return this.NC}get mouseUpTools(){return this.CC}get hoverDelay(){return this.Jk}set hoverDelay(e){this.Jk=e}get holdDelay(){return this.$k}set holdDelay(e){this.$k=e}get dragSize(){return this.Zk}set dragSize(e){this.Zk=e.N()}get toolTipDuration(){return this.Qk}set toolTipDuration(e){this.Qk=e}get actionTool(){return this.findTool("Action")}set actionTool(e){this.$t("Action",e,this.mouseDownTools)}get relinkingTool(){return this.findTool("Relinking")}set relinkingTool(e){this.$t("Relinking",e,this.mouseDownTools)}get linkReshapingTool(){return this.findTool("LinkReshaping")}set linkReshapingTool(e){this.$t("LinkReshaping",e,this.mouseDownTools)}get resizingTool(){return this.findTool("Resizing")}set resizingTool(e){this.$t("Resizing",e,this.mouseDownTools)}get rotatingTool(){return this.findTool("Rotating")}set rotatingTool(e){this.$t("Rotating",e,this.mouseDownTools)}get linkingTool(){return this.findTool("Linking")}set linkingTool(e){this.$t("Linking",e,this.mouseMoveTools)}get draggingTool(){return this.findTool("Dragging")}set draggingTool(e){this.$t("Dragging",e,this.mouseMoveTools)}get dragSelectingTool(){return this.findTool("DragSelecting")}set dragSelectingTool(e){this.$t("DragSelecting",e,this.mouseMoveTools)}get panningTool(){return this.findTool("Panning")}set panningTool(e){this.$t("Panning",e,this.mouseMoveTools)}get contextMenuTool(){return this.findTool("ContextMenu")}set contextMenuTool(e){this.$t("ContextMenu",e,this.mouseUpTools)}get textEditingTool(){return this.findTool("TextEditing")}set textEditingTool(e){this.$t("TextEditing",e,this.mouseUpTools)}get clickCreatingTool(){return this.findTool("ClickCreating")}set clickCreatingTool(e){this.$t("ClickCreating",e,this.mouseUpTools)}get clickSelectingTool(){return this.findTool("ClickSelecting")}set clickSelectingTool(e){this.$t("ClickSelecting",e,this.mouseUpTools)}}k(Ne,"WheelScroll",1),k(Ne,"WheelZoom",2),k(Ne,"WheelNone",3),k(Ne,"GestureZoom",1),k(Ne,"GestureCancel",2),k(Ne,"GestureNone",3);const _n=class _n extends ue{constructor(e){super();k(this,"eP");k(this,"sP");k(this,"fn");k(this,"nP");k(this,"oP");k(this,"rP");k(this,"lP");k(this,"fc");k(this,"wm");k(this,"hP");k(this,"Bh");k(this,"pr");k(this,"LC");k(this,"aP");k(this,"gu");k(this,"mu");k(this,"cP");k(this,"fP");k(this,"uP");k(this,"dP");this.name="Dragging",this.eP=!0,this.dP=!0,this.sP=!0,this.fn=null,this.nP=null,this.oP=null,this.rP=null,this.lP=!1,this.gu=!1,this.fc=new T(NaN,NaN),this.wm=new T,this.hP=!0,this.Bh=100,this.pr=[],this.LC=new C().g(),this.aP=new zn,this.mu=null,this.cP="copy",this.fP="",this.uP="no-drop",e&&Object.assign(this,e)}get isCopyEnabled(){return this.eP}set isCopyEnabled(e){this.eP=e}get copiesEffectiveCollection(){return this.sP}set copiesEffectiveCollection(e){this.sP=e}get dragOptions(){return this.aP}set dragOptions(e){this.aP=e}get isGridSnapEnabled(){return this.dragOptions.isGridSnapEnabled}set isGridSnapEnabled(e){this.dragOptions.isGridSnapEnabled=e}get isComplexRoutingRealtime(){return this.hP}set isComplexRoutingRealtime(e){this.hP=e;const n=this.diagram.findRouter("AvoidsLinks");n!==null&&(n.isRealtime=e)}get isGridSnapRealtime(){return this.dragOptions.isGridSnapRealtime}set isGridSnapRealtime(e){this.dragOptions.isGridSnapRealtime=e}get gridSnapCellSize(){return this.dragOptions.gridSnapCellSize}set gridSnapCellSize(e){this.dragOptions.gridSnapCellSize.equals(e)||(e=e.N(),this.dragOptions.gridSnapCellSize=e)}get gridSnapCellSpot(){return this.dragOptions.gridSnapCellSpot}set gridSnapCellSpot(e){this.dragOptions.gridSnapCellSpot.equals(e)||(e=e.N(),this.dragOptions.gridSnapCellSpot=e)}get gridSnapOrigin(){return this.dragOptions.gridSnapOrigin}set gridSnapOrigin(e){this.dragOptions.gridSnapOrigin.equals(e)||(e=e.N(),this.dragOptions.gridSnapOrigin=e)}get dragsLink(){return this.dragOptions.dragsLink}set dragsLink(e){this.dragOptions.dragsLink=e}get dragsTree(){return this.dragOptions.dragsTree}set dragsTree(e){this.dragOptions.dragsTree=e}get copyCursor(){return this.cP}set copyCursor(e){this.cP=e}get moveCursor(){return this.fP}set moveCursor(e){this.fP=e}get nodropCursor(){return this.uP}set nodropCursor(e){this.uP=e}get currentPart(){return this.nP}set currentPart(e){this.nP=e}get copiedParts(){return this.rP}set copiedParts(e){this.rP=e}get draggedParts(){return this.oP}set draggedParts(e){this.oP=e}get draggingParts(){return this.copiedParts!==null?this.copiedParts.toKeySet():this.draggedParts!==null?this.draggedParts.toKeySet():this.LC}get draggedLink(){return this.diagram.draggedLink}set draggedLink(e){this.diagram.draggedLink=e}get isDragOutStarted(){return this.lP}set isDragOutStarted(e){this.lP=e}get startPoint(){return this.wm}set startPoint(e){this.wm.equals(e)||this.wm.a(e)}get delay(){return this.Bh}set delay(e){this.Bh=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e.isReadOnly&&!e.allowDragOut||!e.allowMove&&!e.allowCopy&&!e.allowDragOut||!e.allowSelect)return!1;const n=e.lastInput;return!n.left||e.currentTool!==this&&(!this.isBeyondDragSize()||n.isTouchEvent&&n.timestamp-e.firstInput.timestamp<this.Bh)?!1:this.findDraggablePart()!==null}findDraggablePart(){const e=this.diagram;let n=e.findPartAt(e.firstInput.documentPoint,!1);if(n===null)return null;for(;n!==null&&!n.canSelect();)n=n.containingGroup;return n!==null&&(n.canMove()||n.canCopy())?n:null}standardMouseSelect(){const e=this.diagram;if(!e.allowSelect)return;let n=e.findPartAt(e.firstInput.documentPoint,!1);if(n!==null){for(;n!==null&&!n.canSelect();)n=n.containingGroup;if(this.currentPart=n,this.currentPart!==null&&!this.currentPart.isSelected){e.v("ChangingSelection",e.selection);const s=e.lastInput;!(o.lr?s.meta:s.control)&&!s.shift&&e.clearSelection(!0),this.currentPart.isSelected=!0,e.v("ChangedSelection",e.selection)}}}doActivate(){const e=this.diagram;this.mu=null,this.currentPart===null&&this.standardMouseSelect();const n=this.currentPart;if(n===null||!n.canMove()&&!n.canCopy())return;e.cacheGroupExternalLinks(!0),_n.yt=null,this.isActive=!0,this.fc.set(e.position),this.gP(e.selection),this.pr.length=0,e.animationManager.stopAnimation();const s=this.computeEffectiveCollection(e.selection,this.dragOptions);this.draggedParts=s,this.dP=this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,e.xm=!0,e.getRenderingHint("temporaryPixelRatio")===!0&&e.avgSpf>30&&e.Ew(),e.Vw(this.draggedParts),e.pu=!0,this.startTransaction("Drag"),this.startPoint=e.firstInput.documentPoint,e.isMouseCaptured=!0,e.allowDragOut&&this.YD()}gP(e){if(this.dragsLink){const n=this.diagram;if(!n.allowRelink)return;n.model.uc()&&e.count===1&&e.first()instanceof Zt?(this.draggedLink=e.first(),this.draggedLink.canRelinkFrom()&&this.draggedLink.canRelinkTo()&&this.draggedLink.clearAdornments(),this.fn=n.toolManager.findTool("Relinking"),this.fn===null&&(this.fn=new Fe,this.fn.diagram=n),this.fn.originalLink=this.draggedLink):(this.draggedLink=null,this.fn=null)}}computeEffectiveCollection(e,n){return this.diagram.commandHandler.computeEffectiveCollection(e,n)}Es(e){return e===void 0?new Lt(T.Po):this.isGridSnapEnabled?new Lt(new T(Math.round(e.x*1e3)/1e3,Math.round(e.y*1e3)/1e3)):new Lt(e.copy())}doDeactivate(){this.isActive=!1;const e=this.diagram;this.diagram.layout.isRealtime=this.dP,e.pu=!1,e.Pl=!0,e.cacheGroupExternalLinks(!1),e.stopAutoScroll(),this.mP(),e.bm(this.draggedParts),this.mu=null,this.currentPart=null,this.draggedParts=null,this.isDragOutStarted=!1,this.gu=!1,_n.GD(),this.AC(),this.fc.e(NaN,NaN),_n.zh!==null&&(_n.zh.currentCursor=""),_n.zh=null,_n.yt=null,this.Ml(),e.isMouseCaptured=!1,e.currentCursor="",e.xm=!1,this.stopTransaction(),e.pP(!0)}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}mP(){const e=this.diagram,n=e.skipsUndoManager;e.skipsUndoManager=!0;const s=e.lastInput;this.TC(s,null),e.skipsUndoManager=n,this.pr.length=0}DC(){this.Ml(),this.yP();const e=this.diagram;this.fc.isReal()&&(e.position=this.fc),e.stopAutoScroll()}doCancel(){this.Ml(),this.yP();const e=this.diagram;this.fc.isReal()&&(e.position=this.fc),this.stopTool()}doKeyDown(){const e=this.diagram,n=e.lastInput;this.isActive&&(n.code==="Escape"?this.doCancel():n.code!==e.previousInput.code&&this.doMouseMove())}doKeyUp(){this.isActive&&this.doMouseMove()}jD(e,n){let s=1/0,r=1/0,a=-1/0,u=-1/0;const h=e.iterator;for(;h.next();){const f=h.value;if(!f.isVisible())continue;const m=f.location,y=m.x,x=m.y;isNaN(y)||isNaN(x)||(y<s&&(s=y),x<r&&(r=x),y>a&&(a=y),x>u&&(u=x))}return s===1/0?n.e(0,0,0,0):n.e(s,r,a-s,u-r),n}wP(e){if(this.copiedParts!==null)return;const n=this.diagram;if(e&&(n.isReadOnly||n.isModelReadOnly)||this.draggedParts===null)return;const s=n.undoManager;s.isEnabled&&s.isInTransaction?s.currentTransaction!==null&&s.currentTransaction.changes.count>0&&(n.undoManager.rollbackTransaction(),n.startTransaction("Drag")):this.yP(),n.skipsUndoManager=!e,n.partManager.addsToTemporaryLayer=!e,this.startPoint=n.firstInput.documentPoint;const r=this.copiesEffectiveCollection?this.draggedParts.toKeySet():n.selection,a=n.copyParts(r,n,!0),u=new z,h=this.draggedParts.iterator;for(;h.next();){const m=h.key;if(m.Se()&&m.canCopy()){const y=a.getValue(m);if(y===null)continue;y.location=m.location,y.ensureBounds(),u.add(y,this.Es(y.location))}}const f=a.iterator;for(;f.next();){const m=f.value;m instanceof Zt&&m.canCopy()&&u.add(m,this.Es())}if(this.copiedParts=u,this.gP(u.toKeySet()),this.draggedLink!==null){const m=this.draggedLink,y=m.routeBounds;m.yr(this.startPoint.x-(y.x+y.width/2),this.startPoint.y-(y.y+y.height/2))}this.doUpdateCursor(null)}Ml(){const e=this.diagram;if(this.copiedParts!==null){if(e.removeParts(this.copiedParts.toKeySet(),!1),this.copiedParts=null,this.draggedParts!==null){const n=this.draggedParts.iterator;for(;n.next();)if(n.key instanceof Zt){const s=n.value;s.point=new T(0,0)}}this.doUpdateCursor(null)}e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,this.startPoint=e.firstInput.documentPoint}AC(){this.draggedLink!==null&&(this.dragsLink&&this.fn!==null&&(this.fn.stopDraggingMouseMove(),this.fn.originalLink=null),this.draggedLink=null,this.fn=null)}dc(e,n){const s=this.diagram,r=this.startPoint,a=T.l();a.a(s.lastInput.documentPoint),this.moveParts(e,a.subtract(r),n),T.s(a),s.getRenderingHint("temporaryPixelRatio")===!0&&s.Sl===null&&s.avgSpf>30&&(s.Ew(),s.yu())}moveParts(e,n,s){s===void 0&&(s=!1);const r=this.diagram;r!==null&&r.xP(e,n,this.dragOptions,s)}yP(){if(this.draggedParts===null)return;const e=this.diagram;let n=this.draggedParts.iterator;for(;n.next();){const s=n.key;s.Se()&&(s.location=n.value.point)}for(n=this.draggedParts.iterator;n.next();){const s=n.key;if(s instanceof Zt&&s.un){const r=n.value.point;this.draggedParts.add(s,this.Es()),s.yr(-r.x,-r.y)}}e.maybeUpdate()}HD(e){if(e===null)return!0;const n=e.part;return!!(n===null||n instanceof Cn||n.layer.isTemporary||this.draggedParts&&this.draggedParts.contains(n)||this.copiedParts&&this.copiedParts.contains(n))}bP(e){const n=this.diagram;this.dragsLink&&(this.draggedLink!==null&&(this.draggedLink.fromNode=null,this.draggedLink.toNode=null),this.FC(!1));const s=this.findDragOverObject(e),r=n.lastInput;r.targetObject=s,this.doUpdateCursor(s);const a=n.skipsUndoManager;let u=!1;try{if(n.skipsUndoManager=!0,u=this.TC(r,s),!this.isActive&&_n.yt===null)return;const h=s!==null?s.part:null;if(h===null||n.handlesDragDropForTopLevelParts&&h.isTopLevel&&!(h instanceof Wt)){const f=n.mouseDragOver;f!==null&&(f(r),u=!0)}if(!this.isActive&&_n.yt===null||(this.doDragOver(e,s),!this.isActive&&_n.yt===null))return}finally{n.skipsUndoManager=a,u&&n.maybeUpdate()}this.mu=s,!n.isReadOnly&&(n.allowMove||n.allowCopy)&&(n.allowHorizontalScroll||n.allowVerticalScroll)&&n.doAutoScroll(r.viewPoint)}findDragOverObject(e){return this.diagram.kP(e,null,n=>!this.HD(n))}doUpdateCursor(e){const n=this.diagram;(e===null||this.mu!==e)&&(!this.diagram.currentTool.isActive||this.mayCopy()?n.currentCursor=this.copyCursor:this.mayMove()?n.currentCursor=this.moveCursor:this.mayDragOut()&&(n.currentCursor=this.nodropCursor))}TC(e,n){let s=!1,r=this.pr.length;const a=r>0?this.pr[0]:null;if(n===a)return!1;e.handled=!1;for(let h=0;h<r;h++){const f=this.pr[h],m=f.mouseDragLeave;if(m!==null&&(m(e,f,n),s=!0,e.handled))break}if(this.pr.length=0,!this.isActive&&_n.yt===null||n===null)return s;e.handled=!1;let u=n;for(;u!==null;)this.pr.push(u),u=this.RC(u);r=this.pr.length;for(let h=0;h<r;h++){const f=this.pr[h],m=f.mouseDragEnter;if(m!==null&&(m(e,f,a),s=!0,e.handled))break}return s}nE(e,n){return e===null?!1:!!(e===n||e.isContainedBy(n)||n instanceof Wt&&!(e instanceof Wt)&&n.handlesDragDropForMembers&&e.part.isMemberOf(n))}RC(e){const n=e.panel;if(n!==null)return n;if(e instanceof Vn&&!(e instanceof Wt)){const s=e.containingGroup;if(s!==null&&s.handlesDragDropForMembers)return s}return null}vC(e,n){const s=this.diagram,r=this.fn;if(r===null)return null;const a=r.portGravity,u=s.findObjectsNear(e,a,y=>r.findValidLinkablePort(y,n)),h=T.l();let f=1/0,m=null;for(const y=u.iterator;y.next();){const x=y.value;if(x.part===null)continue;const S=x.getDocumentPoint(B.Center,h),E=e.distanceSquaredPoint(S);E<f&&(m=x,f=E)}return T.s(h),m}FC(e){const n=this.draggedLink;if(n!==null){if(n.pointsCount<2)return;const s=this.diagram;if(s.isReadOnly)return;const r=this.fn;if(r===null)return;let a=null,u=null;n.fromNode===null&&(a=this.vC(n.getPoint(0),!1),a!==null&&(u=a.part));let h=null,f=null;n.toNode===null&&(h=this.vC(n.getPoint(n.pointsCount-1),!0),h!==null&&(f=h.part)),r.isValidLink(u,a,f,h)?e?(n.defaultFromPoint=n.getPoint(0),n.defaultToPoint=n.getPoint(n.pointsCount-1),n.un=!1,n.fromNode=u,a!==null&&(n.fromPortId=a.portId),n.toNode=f,h!==null&&(n.toPortId=h.portId),n.fromPort!==s.PP&&s.v("LinkRelinked",n,s.PP),n.toPort!==s.MP&&s.v("LinkRelinked",n,s.MP)):r.doDraggingMouseMove(u,a,f,h):r.doDraggingMouseMove(null,null,null,null)}}doDragOver(e,n){}OC(e){const n=this.diagram;this.dragsLink&&this.FC(!0),this.mP();const s=this.findDragOverObject(e),r=n.lastInput;if(r.targetObject=s,s!==null){r.handled=!1;let f=s;for(;f!==null;){const m=f.mouseDrop;if(m!==null&&(m(r,f),r.handled))break;this.qD(r,f),f=this.RC(f)}}else{const f=n.mouseDrop;f!==null&&f(r)}if(!this.isActive&&_n.yt===null)return;const a=(this.copiedParts||this.draggedParts).iterator;for(;a.next();){const f=a.key;f instanceof _t&&f.linksConnected.each(m=>m.un=!1)}if(this.doDropOnto(e,s),!this.isActive&&_n.yt===null)return;const u=I.l(),h=n.selection.iterator;for(;h.next();){const f=h.value;f instanceof _t&&this.WD(n,f,u)}I.s(u)}qD(e,n){const s=this.diagram,r=n.part;if(s.handlesDragDropForTopLevelParts&&r.isTopLevel&&!(r instanceof Wt)){const a=s.mouseDrop;a!==null&&a(e)}}WD(e,n,s){if(!n.canAvoid())return;let r=!1;s=n.getAvoidableRect(s),e.viewportBounds.containsRect(s)&&(r=!0);const a=this.copiedParts||this.draggedParts,u=e.SP(s,f=>f.part,f=>f instanceof Zt,!0,f=>f instanceof Zt,r);if(u.count===0)return;const h=u.iterator;for(;h.next();){const f=h.value;a.contains(f)&&a.contains(n)||!f.isMemberOf(n)&&f.isAvoiding&&f.invalidateRoute()}}doDropOnto(e,n){}doMouseMove(){if(!this.isActive)return;const e=this.diagram,n=e.lastInput;this.simulatedMouseMove(n.event,n.documentPoint,n.targetDiagram)||this.currentPart!==null&&this.draggedParts!==null&&(this.mayCopy()?(this.wP(!1),e.Vw(this.copiedParts),this.dc(this.copiedParts,!1),e.bm(this.copiedParts)):this.mayMove()?(this.Ml(),this.dc(this.draggedParts,!0)):this.mayDragOut()?(this.wP(!1),this.dc(this.copiedParts,!1)):this.Ml(),this.bP(e.lastInput.documentPoint))}doMouseUp(){if(!this.isActive)return;const e=this.diagram,n=e.lastInput;if(this.simulatedMouseUp(n.event,n.documentPoint,n.targetDiagram))return;let s=!1;const r=this.mayCopy();if(r&&this.copiedParts!==null?(this.Ml(),this.wP(!0),e.Vw(this.copiedParts),this.dc(this.copiedParts,!1),e.bm(this.copiedParts),this.copiedParts!==null&&(e.v("ChangingSelection",e.selection),e.clearSelection(!0),this.copiedParts.iteratorKeys.each(a=>{a.isSelected=!0}))):(s=!0,this.Ml(),this.mayMove()&&(this.dc(this.draggedParts,!0),this.bP(e.lastInput.documentPoint))),this.gu=!0,this.OC(e.lastInput.documentPoint),this.isActive){const a=r?this.copiedParts.toKeySet():this.draggedParts.toKeySet();this.copiedParts=null,s&&this.JD(),e.invalidateDocumentBounds(),e.bm(this.draggedParts),this.transactionResult=r?"Copy":"Move",e.v(r?"SelectionCopied":"SelectionMoved",a)}this.stopTool(),r&&e.v("ChangedSelection",e.selection)}simulatedMouseMove(e,n,s){if(_n.yt===null)return!1;const r=_n.yt.diagram;s instanceof st||(s=null);const a=_n.zh;if(s!==a){if(a!==null&&a!==r){a.stopAutoScroll(),_n.yt.isDragOutStarted=!1;const h=a.toolManager.findTool("Dragging");h!==null&&h.doSimulatedDragLeave()}if(_n.zh=s,s!==null&&s!==r){_n.yt.DC();const h=s.toolManager.findTool("Dragging");h!==null&&(h.IC(),h.doSimulatedDragEnter())}this.doUpdateCursor(null)}if(s===null||s===r||!s.allowDrop||s.isReadOnly||!s.allowInsert)return!1;const u=s.toolManager.findTool("Dragging");if(u!==null){let h=n;e!==null&&(e.targetTouches!==void 0&&(e.targetTouches.length>0?e=e.targetTouches[0]:e.changedTouches.length>0&&(e=e.changedTouches[0])),h=s.getMouse(e)),s.lastInput.documentPoint=h,s.lastInput.viewPoint=s.transformDocToView(h),s.lastInput.down=!1,s.lastInput.up=!1,u.doSimulatedDragOver()}return!0}simulatedMouseUp(e,n,s){if(_n.yt===null)return!1;const r=_n.zh,a=_n.yt.diagram;if(s===null)return _n.yt.doCancel(),!0;if(s!==r){const u=r.toolManager.findTool("Dragging");if(r!==null&&r!==a&&u!==null)return r.stopAutoScroll(),_n.yt.isDragOutStarted=!1,u.doSimulatedDragLeave(),!1;_n.zh=s;const h=s.toolManager.findTool("Dragging");h!==null&&(_n.yt.DC(),h.IC(),h.doSimulatedDragEnter())}if(s!==this.diagram){let u=n;e!==null?(e.targetTouches!==void 0&&(e.targetTouches.length>0?e=e.targetTouches[0]:e.changedTouches.length>0&&(e=e.changedTouches[0])),u=s.getMouse(e)):u===null&&(u=new T),s.lastInput.documentPoint=u,s.lastInput.viewPoint=s.transformDocToView(u),s.lastInput.down=!1,s.lastInput.up=!0;const h=s.toolManager.findTool("Dragging");h!==null&&h.doSimulatedDrop();const f=_n.yt;if(f!==null){const m=f.mayCopy();f.transactionResult=m?"Copy":"Move",f.stopTool()}return!0}return!1}JD(){if(this.draggedParts===null)return;const e=this.draggedParts.iterator;for(;e.next();){const n=e.key;if(n instanceof _t){const s=n.containingGroup;s!==null&&s.hasPlaceholder()&&!this.draggedParts.contains(s)&&s.placeholder.c()}}}mayCopy(){if(!this.isCopyEnabled)return!1;const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowCopy||!(o.lr?e.lastInput.alt:e.lastInput.control))return!1;const n=e.selection.iterator;for(;n.next();)if(n.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())}mayDragOut(){if(!this.isCopyEnabled)return!1;const e=this.diagram;if(!e.allowDragOut||!e.allowCopy||e.allowMove)return!1;const n=e.selection.iterator;for(;n.next();)if(n.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())}mayMove(){const e=this.diagram;if(e.isReadOnly||!e.allowMove)return!1;const n=e.selection.iterator;for(;n.next();)if(n.value.canMove())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canMove())}IC(){_n.Uw.contains(this)||_n.Uw.add(this)}static GD(){if(_n.Uw.count>0){const e=_n.Uw,n=e.length;for(let s=0;s<n;s++){const r=e.elt(s);r.AC(),r.Ml(),r.mP(),r.diagram.stopAutoScroll()}e.clear()}}computeBorder(e,n,s){return!this.gu&&this.draggedParts!==null&&!this.draggedParts.contains(e)?s.a(n):null}getDraggingSource(){return _n.yt}mayDragIn(){const e=this.diagram;if(!e.allowDrop||e.isReadOnly||e.isModelReadOnly||!e.allowInsert)return!1;const n=_n.yt;return!(n===null||n.diagram.model.dataFormat!==e.model.dataFormat)}doSimulatedDragEnter(){if(!this.mayDragIn())return;const e=this.diagram;e.animationManager.stopAnimation(),e.wr(),e.animationManager.stopAnimation();const n=_n.yt;n!==null&&(n.diagram.xm=!1,e.lastInput.event===null&&(e.lastInput.event=n.diagram.lastInput.event)),this.doUpdateCursor(null)}doSimulatedDragLeave(){const e=_n.yt;e!==null&&e.doSimulatedDragOut(),this.doCancel()}doSimulatedDragOver(){const e=this.diagram;e.animationManager.wu=!0;const n=_n.yt;if(n!==null&&n.draggedParts!==null){if(!this.mayDragIn())return;this.EC(n.draggedParts.toKeySet(),!1,e.firstInput),this.dc(this.copiedParts,!1),this.bP(e.lastInput.documentPoint)}e.animationManager.wu=!1}doSimulatedDrop(){const e=this.diagram,n=_n.yt;if(n!==null){const s=n.diagram;if(n.gu=!0,this.Ml(),!this.mayDragIn())return;e.animationManager.wu=!0,e.v("ChangingSelection",e.selection),this.startTransaction("Drop"),this.EC(n.draggedParts.toKeySet(),!0,e.lastInput),this.dc(this.copiedParts,!1);const r=new C;this.copiedParts!==null&&(e.clearSelection(!0),this.copiedParts.iteratorKeys.each(a=>{a.isSelected=!0,r.add(a)})),this.OC(e.lastInput.documentPoint),e.invalidateDocumentBounds(),this.copiedParts!==null&&(this.transactionResult="ExternalCopy"),this.copiedParts=null,e.doFocus(),e.v("ExternalObjectsDropped",r,s),this.stopTransaction(),e.v("ChangedSelection",e.selection)}e.animationManager.wu=!1}EC(e,n,s){if(this.copiedParts!==null)return;const r=this.diagram;if(r.isReadOnly||r.isModelReadOnly)return;r.skipsUndoManager=!n,r.partManager.addsToTemporaryLayer=!n,this.startPoint=s.documentPoint;const a=r.copyParts(e,r,!0),u=I.l();this.jD(e,u);const h=u.x+u.width/2,f=u.y+u.height/2;I.s(u);const m=this.wm,y=new z,x=T.l(),S=e.iterator;for(;S.next();){const L=S.value;if(L instanceof Zt&&L.canCopy()){const D=a.getValue(L);if(D===null)continue;D.points=L.points,D.yr(m.x-h,m.y-f),D.un=!0,y.add(D,this.Es())}}const E=e.iterator;for(;E.next();){const L=E.value;if(L.Se()&&L.canCopy()){const D=a.getValue(L);if(D===null)continue;const F=L.location;x.e(m.x-(h-F.x),m.y-(f-F.y)),D.location=x,D.ensureBounds(),y.add(D,this.Es(x))}}if(T.s(x),this.copiedParts=y,this.gP(y.toKeySet()),this.draggedLink!==null){const L=this.draggedLink,D=L.routeBounds;L.yr(this.startPoint.x-(D.x+D.width/2),this.startPoint.y-(D.y+D.height/2))}this.doUpdateCursor(null)}YD(){this.isDragOutStarted=!0,this.gu=!1,_n.yt=this,_n.zh=this.diagram,this.doSimulatedDragOut()}doSimulatedDragOut(){const e=this.diagram;e.xm=!1,!this.mayCopy()&&!this.mayMove()?e.currentCursor=this.nodropCursor:e.currentCursor="",this.mu=null}computeMove(e,n,s,r){const a=this.diagram;return a!==null?a.computeMove(e,n,this.dragOptions,r):new T}};k(_n,"Uw",new w),k(_n,"yt",null),k(_n,"zh",null);let Be=_n;Ne.prototype.doCancel=function(){Be.yt!==null&&Be.yt.doCancel(),ue.prototype.doCancel.call(this)};class tt extends ue{constructor(){super();k(this,"NP");k(this,"CP");k(this,"Nl");k(this,"LP");k(this,"AP");k(this,"Xh");k(this,"TP");k(this,"Kh");k(this,"DP");k(this,"FP");k(this,"RP");k(this,"vP");k(this,"OP");k(this,"IP");k(this,"VC");k(this,"EP");k(this,"Cl");k(this,"VP");this.NP=100,this.CP=!1,this.Nl="pointer",this.LP=new Zt({layerName:"Tool"}).add(new cn({isPanelMain:!0,stroke:"blue"}).theme("stroke","tempLink"),new cn({toArrow:"Standard",fill:"blue",stroke:"blue"}).theme("fill","tempLink").theme("stroke","tempLink")).hi(),this.Xh=new cn("Rectangle",{portId:"",fill:null,stroke:"magenta",strokeWidth:2,desiredSize:_.Ak}).theme("stroke","tempPort"),this.AP=new _t({selectable:!1,layerName:"Tool"}).add(this.Xh).hi(),this.Kh=new cn("Rectangle",{portId:"",fill:null,stroke:"magenta",strokeWidth:2,desiredSize:_.Ak}).theme("stroke","tempPort"),this.TP=new _t({selectable:!1,layerName:"Tool"}).add(this.Kh).hi(),this.DP=null,this.FP=null,this.RP=null,this.vP=null,this.OP=null,this.IP=!0,this.VC=new z,this.EP=null,this.Cl=null,this.VP=null}doStop(){this.diagram.stopAutoScroll(),this.originalLink=null,this.originalFromNode=null,this.originalFromPort=null,this.originalToNode=null,this.originalToPort=null,this.validPortsCache.clear(),this.targetPort=null}get portGravity(){return this.NP}set portGravity(e){e>=0&&(this.NP=e)}get isUnconnectedLinkValid(){return this.CP}set isUnconnectedLinkValid(e){this.CP=e}get linkingCursor(){return this.Nl}set linkingCursor(e){this.Nl=e}get temporaryLink(){return this.LP}set temporaryLink(e){e.hi(),this.LP=e}get temporaryFromNode(){return this.AP}set temporaryFromNode(e){e.hi(),this.AP=e,e&&(this.Xh=e.port)}get temporaryFromPort(){return this.Xh}set temporaryFromPort(e){if(this.Xh!==null){const n=this.Xh.panel;if(n!==null){const s=n.T.indexOf(this.Xh);n.removeAt(s),n.insertAt(s,e)}}this.Xh=e}get temporaryToNode(){return this.TP}set temporaryToNode(e){e.hi(),this.TP=e,e&&(this.Kh=e.port)}get temporaryToPort(){return this.Kh}set temporaryToPort(e){if(this.Kh!==null){const n=this.Kh.panel;if(n!==null){const s=n.T.indexOf(this.Kh);n.removeAt(s),n.insertAt(s,e)}}this.Kh=e}get originalLink(){return this.DP}set originalLink(e){this.DP=e}get originalFromNode(){return this.FP}set originalFromNode(e){this.FP=e}get originalFromPort(){return this.RP}set originalFromPort(e){this.RP=e}get originalToNode(){return this.vP}set originalToNode(e){this.vP=e}get originalToPort(){return this.OP}set originalToPort(e){this.OP=e}get isForwards(){return this.IP}set isForwards(e){this.IP=e}get validPortsCache(){return this.VC}get targetPort(){return this.EP}set targetPort(e){this.EP=e}copyPortProperties(e,n,s,r,a){if(e===null||n===null||s===null||r===null)return;const u=n.getDocumentScale(),h=_.l();h.width=n.naturalBounds.width*u,h.height=n.naturalBounds.height*u,r.desiredSize=h,_.s(h),a?(r.toSpot=n.toSpot,r.toEndSegmentLength=n.toEndSegmentLength):(r.fromSpot=n.fromSpot,r.fromEndSegmentLength=n.fromEndSegmentLength),s.locationSpot=B.Center;const f=T.l();s.location=n.getDocumentPoint(B.Center,f),T.s(f),r.angle=n.getDocumentAngle(),this.portTargeted!==null&&this.portTargeted(e,n,s,r,a)}setNoTargetPortProperties(e,n,s){n!==null&&(n.desiredSize=_.Ak,n.fromSpot=B.None,n.toSpot=B.None),e!==null&&(e.location=this.diagram.lastInput.documentPoint),this.portTargeted!==null&&this.portTargeted(null,null,e,n,s)}doMouseDown(){this.isActive&&this.doMouseMove()}doMouseMove(){if(this.isActive){const e=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null&&this.targetPort.part instanceof _t){const n=this.targetPort.part;this.isForwards?this.copyPortProperties(n,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(n,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.doAutoScroll(e.lastInput.viewPoint)}}findValidLinkablePort(e,n){if(e===null)return null;const s=e.part;if(!(s instanceof _t))return null;for(;e!==null;){const r=n?e.toLinkable:e.fromLinkable;if(r===!0&&(e.portId!==null||e instanceof _t)&&(n?this.isValidTo(s,e):this.isValidFrom(s,e)))return e;if(r===!1)return null;e=e.panel}return null}findTargetPort(e){const n=this.diagram,s=n.lastInput.documentPoint;let r=this.portGravity;r<=0&&(r=.1);const a=this,u=n.findObjectsNear(s,r,y=>a.findValidLinkablePort(y,e),null,!0);let h=1/0,f=null;const m=u.iterator;for(;m.next();){const y=m.value,x=y.part;if(!(x instanceof _t))continue;const S=y.getDocumentPoint(B.Center,T.l()),E=s.x-S.x,L=s.y-S.y;T.s(S);const D=E*E+L*L;if(D<h){const F=this.validPortsCache.getValue(y);F!==null?F&&(f=y,h=D):e&&this.isValidLink(this.originalFromNode,this.originalFromPort,x,y)||!e&&this.isValidLink(x,y,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(y,!0),f=y,h=D):this.validPortsCache.add(y,!1)}}if(f!==null){const y=f.part;if(y instanceof _t&&(y.layer===null||y.layer.allowLink))return f}return null}isValidFrom(e,n){if(e===null||n===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(e.layer!==null&&!e.layer.allowLink||n.fromLinkable!==!0))return!1;const s=n.fromMaxLinks;if(s<1/0){if(this.originalLink!==null&&e===this.originalFromNode&&n===this.originalFromPort)return!0;let r=n.portId;if(r===null&&(r=""),e.findLinksOutOf(r).count>=s)return!1}return!0}isValidTo(e,n){if(e===null||n===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(e.layer!==null&&!e.layer.allowLink||n.toLinkable!==!0))return!1;const s=n.toMaxLinks;if(s<1/0){if(this.originalLink!==null&&e===this.originalToNode&&n===this.originalToPort)return!0;let r=n.portId;if(r===null&&(r=""),e.findLinksInto(r).count>=s)return!1}return!0}isInSameNode(e,n){if(e===null||n===null)return!1;if(e===n)return!0;const s=e.part,r=n.part;return s!==null&&s===r}isLinked(e,n){if(e===null||n===null)return!1;const s=e.part;if(!(s instanceof _t))return!1;let r=e.portId;r===null&&(r="");const a=n.part;if(!(a instanceof _t))return!1;let u=n.portId;u===null&&(u="");const h=a.findLinksInto(u);for(;h.next();){const f=h.value;if(f.fromNode===s&&f.fromPortId===r)return!0}return!1}isValidLink(e,n,s,r){if(!this.isValidFrom(e,n)||!this.isValidTo(s,r)||n!==null&&r!==null&&(!(n.fromLinkableSelfNode&&r.toLinkableSelfNode)&&this.isInSameNode(n,r)||!(n.fromLinkableDuplicates&&r.toLinkableDuplicates)&&this.isLinked(n,r))||this.originalLink!==null&&(e!==null&&this.isLabelDependentOnLink(e,this.originalLink)||s!==null&&this.isLabelDependentOnLink(s,this.originalLink))||e!==null&&s!==null&&(e.data===null&&s.data!==null||e.data!==null&&s.data===null)||!this.isValidCycle(e,s,this.originalLink))return!1;let a;return e!==null&&(a=e.linkValidation,a!==null&&!a(e,n,s,r,this.originalLink))||s!==null&&(a=s.linkValidation,a!==null&&!a(e,n,s,r,this.originalLink))?!1:(a=this.linkValidation,a!==null?a(e,n,s,r,this.originalLink):!0)}isLabelDependentOnLink(e,n){if(e===null)return!1;const s=e.labeledLink;if(s===null)return!1;if(s===n)return!0;const r=new C;return r.add(e),this.UP(s,n,r)}UP(e,n,s){if(e===n)return!0;const r=e.fromNode;if(r!==null&&r.isLinkLabel&&(s.add(r),this.UP(r.labeledLink,n,s)))return!0;const a=e.toNode;return!!(a!==null&&a.isLinkLabel&&(s.add(a),this.UP(a.labeledLink,n,s)))}isValidCycle(e,n,s){if(s===void 0&&(s=null),e===null||n===null)return this.isUnconnectedLinkValid;const r=this.diagram.validCycle;if(r===1)return!0;if(r===5){const a=s||this.temporaryLink;if(a!==null&&!a.isTreeLink)return!0;const u=n.linksConnected;for(;u.next();){const h=u.value;if(h!==s&&h.isTreeLink&&h.toNode===n)return!1}return!this.xu(e,n,s,!0)}else if(r===6){const a=s||this.temporaryLink;if(a!==null&&!a.isTreeLink)return!0;const u=e.linksConnected;for(;u.next();){const h=u.value;if(h!==s&&h.isTreeLink&&h.fromNode===e)return!1}return!this.xu(e,n,s,!0)}else{if(r===2)return!this.$D(e,n,s);if(r===3)return!this.xu(e,n,s,!1);if(r===4)return!this.ZD(e,n,s)}return!0}xu(e,n,s,r){if(e===n)return!0;if(e===null||n===null)return!1;const a=e.linksConnected;for(;a.next();){const u=a.value;if(u===s||r&&!u.isTreeLink||u.toNode!==e)continue;const h=u.fromNode;if(h!==e&&this.xu(h,n,s,r))return!0}return!1}$D(e,n,s){if(e===n)return!0;const r=new C;return r.add(n),this.UC(r,e,n,s)}UC(e,n,s,r){if(n===s)return!0;if(n===null||s===null||e.contains(n))return!1;e.add(n);const a=n.linksConnected;for(;a.next();){const u=a.value;if(u===r||u.toNode!==n)continue;const h=u.fromNode;if(h!==n&&this.UC(e,h,s,r))return!0}return!1}ZD(e,n,s){if(e===n)return!0;const r=new C;return r.add(n),this.BC(r,e,n,s)}BC(e,n,s,r){if(n===s)return!0;if(n===null||s===null||e.contains(n))return!1;e.add(n);const a=n.linksConnected;for(;a.next();){const u=a.value;if(u===r)continue;const h=u.fromNode,f=u.toNode,m=h===n?f:h;if(m!==n&&this.BC(e,m,s,r))return!0}return!1}get linkValidation(){return this.Cl}set linkValidation(e){this.Cl=e}get portTargeted(){return this.VP}set portTargeted(e){this.VP=e}}var Le=(H=>(H[H.Either=1]="Either",H[H.ForwardsOnly=2]="ForwardsOnly",H[H.BackwardsOnly=3]="BackwardsOnly",H))(Le||{});class _e extends tt{constructor(e){super();k(this,"BP");k(this,"zP");k(this,"S");k(this,"XP");this.name="Linking",this.BP={},this.zP=null,this.S=1,this.XP=null,e&&Object.assign(this,e)}get archetypeLinkData(){return this.BP}set archetypeLinkData(e){this.BP=e}get archetypeLabelNodeData(){return this.zP}set archetypeLabelNodeData(e){this.zP=e}get direction(){return this.S}set direction(e){this.S=e}get startObject(){return this.XP}set startObject(e){this.XP=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||e.isModelReadOnly||!e.allowLink||!e.model.Bw()||!e.lastInput.left||e.currentTool!==this&&!this.isBeyondDragSize()?!1:this.findLinkablePort()!==null}findLinkablePort(){const e=this.diagram;let n=this.startObject;if(n===null&&(n=e.findObjectAt(e.firstInput.documentPoint,null,null)),n===null)return null;const s=n.part;if(!(s instanceof _t))return null;const r=this.direction;if(r===1||r===2){const a=this.findValidLinkablePort(n,!1);if(a!==null)return this.isForwards=!0,a;if(this.startObject===s){const u=s.port;if(this.findValidLinkablePort(u,!1))return this.isForwards=!0,u}}if(r===1||r===3){const a=this.findValidLinkablePort(n,!0);if(a!==null)return this.isForwards=!1,a;if(this.startObject===s){const u=s.port;if(this.findValidLinkablePort(u,!0))return this.isForwards=!1,u}}return null}doActivate(){const e=this.diagram,n=this.findLinkablePort();if(n===null){this.stopTool();return}if(this.startTransaction(this.name),e.isMouseCaptured=!0,e.currentCursor=this.linkingCursor,this.isForwards){this.temporaryToNode!==null&&(this.temporaryToNode.location=e.lastInput.documentPoint),this.originalFromPort=n;const s=this.originalFromPort.part;s instanceof _t&&(this.originalFromNode=s),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else{this.temporaryFromNode!==null&&(this.temporaryFromNode.location=e.lastInput.documentPoint),this.originalToPort=n;const s=this.originalToPort.part;s instanceof _t&&(this.originalToNode=s),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)}e.add(this.temporaryFromNode),this.temporaryFromNode&&this.temporaryFromNode.ensureBounds(),e.add(this.temporaryToNode),this.temporaryToNode&&this.temporaryToNode.ensureBounds(),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.invalidateRoute(),e.add(this.temporaryLink)),this.isActive=!0}doDeactivate(){this.isActive=!1;const e=this.diagram;e.remove(this.temporaryLink),e.remove(this.temporaryFromNode),e.remove(this.temporaryToNode),e.isMouseCaptured=!1,e.currentCursor="",this.stopTransaction()}doStop(){super.doStop(),this.startObject=null}doMouseUp(){if(this.isActive){const e=this.diagram;this.transactionResult=null;let n=null,s=null,r=null,a=null,u=null;try{this.targetPort=this.findTargetPort(this.isForwards);const h=this.targetPort;if(h!==null){const f=h.part;f instanceof _t&&(this.isForwards?(this.originalFromNode!==null&&(n=this.originalFromNode,s=this.originalFromPort),r=f,a=h):(n=f,s=h,this.originalToNode!==null&&(r=this.originalToNode,a=this.originalToPort)))}else this.isForwards?this.originalFromNode!==null&&this.isUnconnectedLinkValid&&(n=this.originalFromNode,s=this.originalFromPort):this.originalToNode!==null&&this.isUnconnectedLinkValid&&(r=this.originalToNode,a=this.originalToPort);n!==null||r!==null?(u=this.insertLink(n,s,r,a),u!==null?(h===null&&(this.isForwards?u.defaultToPoint=e.lastInput.documentPoint:u.defaultFromPoint=e.lastInput.documentPoint),e.allowSelect&&(e.v("ChangingSelection",e.selection),e.clearSelection(!0),u.isSelected=!0),this.transactionResult=this.name,e.v("LinkDrawn",u)):this.doNoLink(n,s,r,a)):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),u&&e.allowSelect&&e.v("ChangedSelection",e.selection)}}}isNewTreeLink(){const e=this.archetypeLinkData;if(e===null)return!0;if(e instanceof Zt)return e.isTreeLink;const n=this.diagram;if(n===null)return!0;const s=n.partManager.getLinkCategoryForData(e),r=n.partManager.findLinkTemplateForCategory(s);return r!==null?r.isTreeLink:!0}insertLink(e,n,s,r){return this.diagram.partManager.insertLink(e,n,s,r)}doNoLink(e,n,s,r){}}k(_e,"Either",1),k(_e,"ForwardsOnly",2),k(_e,"BackwardsOnly",3);class Fe extends tt{constructor(e){super();k(this,"KP");k(this,"YP");k(this,"us");k(this,"GP");this.name="Relinking",this.KP=new cn("Diamond",{desiredSize:_.lu,fill:"lightblue",stroke:"dodgerblue",cursor:this.linkingCursor,segmentIndex:0}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.YP=new cn("Diamond",{desiredSize:_.lu,fill:"lightblue",stroke:"dodgerblue",cursor:this.linkingCursor,segmentIndex:-1}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.us=null,this.GP=new I,e&&Object.assign(this,e)}updateAdornments(e){if(e===null||!(e instanceof Zt))return;let n="RelinkFrom",s=null;if(e.isSelected&&!this.diagram.isReadOnly){const r=e.selectionObject;r!==null&&e.canRelinkFrom()&&e.actualBounds.isReal()&&e.isVisible()&&r.actualBounds.isReal()&&r.isVisibleObject()&&(s=e.findAdornment(n),s===null&&(s=this.makeAdornment(r,!1),e.addAdornment(n,s)))}if(s===null&&e.removeAdornment(n),n="RelinkTo",s=null,e.isSelected&&!this.diagram.isReadOnly){const r=e.selectionObject;r!==null&&e.canRelinkTo()&&e.actualBounds.isReal()&&e.isVisible()&&r.actualBounds.isReal()&&r.isVisibleObject()&&(s=e.findAdornment(n),s===null?(s=this.makeAdornment(r,!0),e.addAdornment(n,s)):s.c())}s===null&&e.removeAdornment(n)}makeAdornment(e,n){const s=new Cn;s.type=Ut.Link;const r=n?this.toHandleArchetype:this.fromHandleArchetype;return r!==null&&s.add(r.copy().km()),s.adornedObject=e,s}get fromHandleArchetype(){return this.KP}set fromHandleArchetype(e){this.KP=e}get toHandleArchetype(){return this.YP}set toHandleArchetype(e){this.YP=e}get handle(){return this.us}set handle(e){if(e!==null&&!(e.part instanceof Cn))throw new Error("new handle is not in an Adornment: "+e);this.us=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowRelink||!e.model.Bw()||!e.lastInput.left)return!1;let n=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkFrom");return n===null&&(n=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkTo")),n!==null}doActivate(){const e=this.diagram;if(this.originalLink===null){let n=this.handle;if(n===null&&(n=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkFrom"),n===null&&(n=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkTo"))),n===null)return;const s=n.part;if(!(s instanceof Cn)||!(s.adornedPart instanceof Zt))return;this.handle=n,this.isForwards=s===null||s.category==="RelinkTo",this.originalLink=s.adornedPart}this.startTransaction(this.name),e.isMouseCaptured=!0,e.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.GP.set(this.originalLink.actualBounds),this.originalLink!==null&&this.originalLink.pointsCount>0&&(this.originalLink.fromNode===null&&(this.temporaryFromPort!==null&&(this.temporaryFromPort.desiredSize=_.ru),this.temporaryFromNode!==null&&(this.temporaryFromNode.location=this.originalLink.getPoint(0))),this.originalLink.toNode===null&&(this.temporaryToPort!==null&&(this.temporaryToPort.desiredSize=_.ru),this.temporaryToNode!==null&&(this.temporaryToNode.location=this.originalLink.getPoint(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),e.add(this.temporaryFromNode),e.add(this.temporaryToNode),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.invalidateRoute(),e.add(this.temporaryLink)),this.isActive=!0}copyLinkProperties(e,n){if(e===null||n===null)return;n.adjusting=e.adjusting,n.corner=e.corner;let s=e.curve;(s===11||s===10)&&(s=0),n.curve=s,n.curviness=e.curviness,n.isTreeLink=e.isTreeLink,n.points=e.points,n.routing=e.routing,n.smoothness=e.smoothness,n.fromSpot=e.fromSpot,n.fromEndSegmentLength=e.fromEndSegmentLength,n.fromShortLength=e.fromShortLength,n.toSpot=e.toSpot,n.toEndSegmentLength=e.toEndSegmentLength,n.toShortLength=e.toShortLength}doDeactivate(){this.isActive=!1;const e=this.diagram;e.remove(this.temporaryLink),e.remove(this.temporaryFromNode),e.remove(this.temporaryToNode),e.isMouseCaptured=!1,e.currentCursor="",this.stopTransaction()}doStop(){super.doStop(),this.handle=null}doMouseUp(){if(this.isActive){const e=this.diagram;this.transactionResult=null;let n=this.originalFromNode,s=this.originalFromPort,r=this.originalToNode,a=this.originalToPort,u=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null){const h=this.targetPort.part;h instanceof _t&&(this.isForwards?(r=h,a=this.targetPort):(n=h,s=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?(r=null,a=null):(n=null,s=null):u=null;u!==null?(this.reconnectLink(u,this.isForwards?r:n,this.isForwards?a:s,this.isForwards),this.targetPort===null&&(this.isForwards?u.defaultToPoint=e.lastInput.documentPoint:u.defaultFromPoint=e.lastInput.documentPoint,u.invalidateRoute()),this.transactionResult=this.name,e.v("LinkRelinked",u,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.invalidateOtherJumpOvers(this.GP)}finally{this.stopTool()}}}reconnectLink(e,n,s,r){const a=s!==null&&s.portId!==null?s.portId:"";return r?(e.toNode=n,e.toPortId=a):(e.fromNode=n,e.fromPortId=a),!0}doNoRelink(e,n){}doDraggingMouseMove(e,n,s,r){e!==null?(this.copyPortProperties(e,n,this.temporaryFromNode,this.temporaryFromPort,!1),this.diagram.add(this.temporaryFromNode)):this.diagram.remove(this.temporaryFromNode),s!==null?(this.copyPortProperties(s,r,this.temporaryToNode,this.temporaryToPort,!0),this.diagram.add(this.temporaryToNode)):this.diagram.remove(this.temporaryToNode)}stopDraggingMouseMove(){this.diagram.remove(this.temporaryFromNode),this.diagram.remove(this.temporaryToNode)}}var gt=(H=>(H[H.None=0]="None",H[H.Horizontal=1]="Horizontal",H[H.Vertical=2]="Vertical",H[H.All=3]="All",H))(gt||{});class Ye extends ue{constructor(e){super();k(this,"Lo");k(this,"jP");k(this,"HP");k(this,"us");k(this,"zw");k(this,"qP");k(this,"Pm");this.name="LinkReshaping",this.Lo=new cn("Rectangle",{desiredSize:_.$N,fill:"lightblue",stroke:"dodgerblue"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.jP=new cn("Diamond",{desiredSize:_.lu,fill:"lightblue",stroke:"dodgerblue",cursor:"move"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.HP=3,this.us=null,this.zw=null,this.qP=new T,this.Pm=new w,e&&Object.assign(this,e)}getReshapingBehavior(e){return e?e.xr:0}setReshapingBehavior(e,n){e.xr=n}updateAdornments(e){if(e===null||!(e instanceof Zt))return;let n=null;if(e.isSelected&&!this.diagram.isReadOnly){const s=e.path;s!==null&&e.canReshape()&&e.actualBounds.isReal()&&e.isVisible()&&s.actualBounds.isReal()&&s.isVisibleObject()&&(n=e.findAdornment(this.name),(n===null||n.WP!==e.pointsCount||n.JP!==e.resegmentable)&&(n=this.makeAdornment(s),n!==null&&(n.WP=e.pointsCount,n.JP=e.resegmentable,e.addAdornment(this.name,n))))}n===null&&e.removeAdornment(this.name)}makeAdornment(e){const n=e.part,s=n.points,r=n.pointsCount,a=n.isOrthogonal;let u=null;if(s!==null&&r>1){u=new Cn,u.type=Ut.Link;const h=n.firstPickIndex,f=n.lastPickIndex,m=a?1:0;if(n.resegmentable&&n.computeCurve()!==9)for(let y=h+m;y<f-m;y++){const x=this.makeResegmentHandle(e,y);x!==null&&(x.segmentIndex=y,x.segmentFraction=.5,x.fromMaxLinks=999,u.add(x))}for(let y=h+1;y<f;y++){const x=this.makeHandle(e,y);if(x!==null){if(x.segmentIndex=y,y!==h)if(y===h+1&&a){const S=n.getPoint(h);let E=n.getPoint(h+1);$.u(S.x,E.x)&&$.u(S.y,E.y)?(E=n.getPoint(h-1),$.u(S.x,E.x)?(this.setReshapingBehavior(x,2),x.cursor="n-resize"):$.u(S.y,E.y)&&(this.setReshapingBehavior(x,1),x.cursor="w-resize")):$.u(S.x,E.x)?(this.setReshapingBehavior(x,2),x.cursor="n-resize"):$.u(S.y,E.y)&&(this.setReshapingBehavior(x,1),x.cursor="w-resize")}else if(y===f-1&&a){let S=n.getPoint(f-1);const E=n.getPoint(f);$.u(S.x,E.x)&&$.u(S.y,E.y)?(S=n.getPoint(f+1),$.u(S.x,E.x)?(this.setReshapingBehavior(x,2),x.cursor="n-resize"):$.u(S.y,E.y)&&(this.setReshapingBehavior(x,1),x.cursor="w-resize")):$.u(S.x,E.x)?(this.setReshapingBehavior(x,2),x.cursor="n-resize"):$.u(S.y,E.y)&&(this.setReshapingBehavior(x,1),x.cursor="w-resize")}else y===f||(this.setReshapingBehavior(x,3),x.cursor="move");u.add(x)}}u.adornedObject=e}return u}makeHandle(e,n){const s=this.handleArchetype;return s===null?null:s.copy().km()}get handleArchetype(){return this.Lo}set handleArchetype(e){this.Lo=e}makeResegmentHandle(e,n){const s=this.midHandleArchetype;return s===null?null:s.copy().km()}get midHandleArchetype(){return this.jP}set midHandleArchetype(e){this.jP=e}get handle(){return this.us}set handle(e){if(e!==null&&!(e.part instanceof Cn))throw new Error("new handle is not in an Adornment: "+e);this.us=e}get adornedLink(){return this.zw}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||!e.allowReshape||!e.lastInput.left?!1:this.findToolHandleAt(e.firstInput.documentPoint,this.name)!==null}doActivate(){const e=this.diagram;if(this.handle===null&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),this.handle===null)return;const n=this.handle.part.adornedPart;if(n instanceof Zt){if(this.zw=n,e.isMouseCaptured=!0,this.startTransaction(this.name),n.resegmentable&&this.handle.fromMaxLinks===999){const s=n.points.copy(),r=this.getResegmentingPoint();if(s.insertAt(this.handle.segmentIndex+1,r),n.isOrthogonal&&s.insertAt(this.handle.segmentIndex+1,r),n.points=s,n.invalidateAdornments(),n.updateAdornments(),this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name),this.handle===null){this.doDeactivate();return}}this.qP=n.getPoint(this.handle.segmentIndex),this.Pm=n.points.copy(),this.isActive=!0}}doDeactivate(){this.stopTransaction(),this.handle=null,this.zw=null;const e=this.diagram;e.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}doCancel(){const e=this.adornedLink;e!==null&&(e.points=this.Pm),this.stopTool()}getResegmentingPoint(){return this.handle.getDocumentPoint(B.Center)}doMouseMove(){const e=this.diagram;if(this.isActive){const n=this.computeReshape(e.lastInput.documentPoint);this.reshape(n)}}doMouseUp(){const e=this.diagram;if(this.isActive){const n=this.computeReshape(e.lastInput.documentPoint);this.reshape(n);const s=this.adornedLink;if(s!==null&&s.resegmentable){const r=this.handle.segmentIndex,a=s.getPoint(r-1),u=s.getPoint(r),h=s.getPoint(r+1);if(s.isOrthogonal){if(r>s.firstPickIndex+1&&r<s.lastPickIndex-1){let f=s.getPoint(r-2);if(this.isWithinResegmentingDistance(a,u)&&(this.isInLineOrtho(f,a,u,h,!0)||this.isInLineOrtho(f,a,u,h,!1))){const m=s.points.copy();this.isInLineOrtho(f,a,u,h,!0)?(m.setElt(r-2,new T(f.x,(h.y+f.y)/2)),m.setElt(r+1,new T(h.x,(h.y+f.y)/2))):(m.setElt(r-2,new T((h.x+f.x)/2,f.y)),m.setElt(r+1,new T((h.x+f.x)/2,h.y))),m.removeAt(r),m.removeAt(r-1),s.points=m,s.invalidateAdornments()}else if(f=s.getPoint(r+2),this.isWithinResegmentingDistance(u,h)&&(this.isInLineOrtho(a,u,h,f,!0)||this.isInLineOrtho(a,u,h,f,!1))){const m=s.points.copy();this.isInLineOrtho(a,u,h,f,!0)?(m.setElt(r-1,new T(a.x,(a.y+f.y)/2)),m.setElt(r+2,new T(f.x,(a.y+f.y)/2))):(m.setElt(r-1,new T((a.x+f.x)/2,a.y)),m.setElt(r+2,new T((a.x+f.x)/2,f.y))),m.removeAt(r+1),m.removeAt(r),s.points=m,s.invalidateAdornments()}}}else{const f=T.l();if($.yl(a.x,a.y,h.x,h.y,u.x,u.y,f)&&f.distanceSquaredPoint(u)<this.resegmentingDistance*this.resegmentingDistance){const m=s.points.copy();m.removeAt(r),s.points=m,s.invalidateAdornments()}T.s(f)}}e.invalidateDocumentBounds(),this.transactionResult=this.name,e.v("LinkReshaped",this.adornedLink,this.Pm)}this.stopTool()}isWithinResegmentingDistance(e,n){return Math.abs(e.x-n.x)<this.resegmentingDistance&&Math.abs(e.y-n.y)<this.resegmentingDistance}isInLineOrtho(e,n,s,r,a){return a?Math.abs(e.y-n.y)<this.resegmentingDistance&&Math.abs(n.y-s.y)<this.resegmentingDistance&&Math.abs(s.y-r.y)<this.resegmentingDistance:Math.abs(e.x-n.x)<this.resegmentingDistance&&Math.abs(n.x-s.x)<this.resegmentingDistance&&Math.abs(s.x-r.x)<this.resegmentingDistance}get resegmentingDistance(){return this.HP}set resegmentingDistance(e){this.HP=e}reshape(e){const n=this.adornedLink;n.startRoute();let s=this.handle.segmentIndex;const r=this.getReshapingBehavior(this.handle);if(n.isOrthogonal)if(s===n.firstPickIndex+1){const a=n.firstPickIndex+1;r===2?(n.setPointAt(a,n.getPoint(a-1).x,e.y),n.setPointAt(a+1,n.getPoint(a+2).x,e.y)):r===1&&(n.setPointAt(a,e.x,n.getPoint(a-1).y),n.setPointAt(a+1,e.x,n.getPoint(a+2).y))}else if(s===n.lastPickIndex-1){const a=n.lastPickIndex-1;r===2?(n.setPointAt(a-1,n.getPoint(a-2).x,e.y),n.setPointAt(a,n.getPoint(a+1).x,e.y)):r===1&&(n.setPointAt(a-1,e.x,n.getPoint(a-2).y),n.setPointAt(a,e.x,n.getPoint(a+1).y))}else{let a=s;const u=n.getPoint(a),h=n.getPoint(a-1),f=n.getPoint(a+1);$.u(h.x,u.x)&&$.u(u.y,f.y)?($.u(h.x,n.getPoint(a-2).x)&&!$.u(h.y,n.getPoint(a-2).y)?(n.insertPointAt(a,e.x,h.y),s++,a++):n.setPointAt(a-1,e.x,h.y),$.u(f.y,n.getPoint(a+2).y)&&!$.u(f.x,n.getPoint(a+2).x)?n.insertPointAt(a+1,f.x,e.y):n.setPointAt(a+1,f.x,e.y)):$.u(h.y,u.y)&&$.u(u.x,f.x)?($.u(h.y,n.getPoint(a-2).y)&&!$.u(h.x,n.getPoint(a-2).x)?(n.insertPointAt(a,h.x,e.y),s++,a++):n.setPointAt(a-1,h.x,e.y),$.u(f.x,n.getPoint(a+2).x)&&!$.u(f.y,n.getPoint(a+2).y)?n.insertPointAt(a+1,e.x,f.y):n.setPointAt(a+1,e.x,f.y)):$.u(h.x,u.x)&&$.u(u.x,f.x)?($.u(h.x,n.getPoint(a-2).x)&&!$.u(h.y,n.getPoint(a-2).y)?(n.insertPointAt(a,e.x,h.y),s++,a++):n.setPointAt(a-1,e.x,h.y),$.u(f.x,n.getPoint(a+2).x)&&!$.u(f.y,n.getPoint(a+2).y)?n.insertPointAt(a+1,e.x,f.y):n.setPointAt(a+1,e.x,f.y)):$.u(h.y,u.y)&&$.u(u.y,f.y)&&($.u(h.y,n.getPoint(a-2).y)&&!$.u(h.x,n.getPoint(a-2).x)?(n.insertPointAt(a,h.x,e.y),s++,a++):n.setPointAt(a-1,h.x,e.y),$.u(f.y,n.getPoint(a+2).y)&&!$.u(f.x,n.getPoint(a+2).x)?n.insertPointAt(a+1,f.x,e.y):n.setPointAt(a+1,f.x,e.y)),n.setPointAt(s,e.x,e.y)}else{n.setPointAt(s,e.x,e.y);let a=n.fromNode,u=n.fromPort;if(a!==null){const m=a.findVisibleNode();m!==null&&m!==a&&(a=m,u=a.port)}if(s===1&&n.computeSpot(!0,u).isNoSpot()){const m=u.getDocumentPoint(B.Center,T.l()),y=n.getLinkPointFromPoint(a,u,m,e,!0,T.l());n.setPointAt(0,y.x,y.y),T.s(m),T.s(y)}let h=n.toNode,f=n.toPort;if(h!==null){const m=h.findVisibleNode();m!==null&&m!==h&&(h=m,f=h.port)}if(s===n.pointsCount-2&&n.computeSpot(!1,f).isNoSpot()){const m=f.getDocumentPoint(B.Center,T.l()),y=n.getLinkPointFromPoint(h,f,m,e,!1,T.l());n.setPointAt(n.pointsCount-1,y.x,y.y),T.s(m),T.s(y)}}n.commitRoute()}computeReshape(e){const n=this.adornedLink,s=this.handle.segmentIndex;switch(this.getReshapingBehavior(this.handle)){case 3:return e;case 2:{const r=n.getPoint(s);return new T(r.x,e.y)}case 1:{const r=n.getPoint(s);return new T(e.x,r.y)}default:case 0:return n.getPoint(s)}}get originalPoint(){return this.qP}get originalPoints(){return this.Pm}}k(Ye,"None",0),k(Ye,"Horizontal",1),k(Ye,"Vertical",2),k(Ye,"All",3);class Ze extends ue{constructor(e){super();k(this,"br");k(this,"kr");k(this,"Ao");k(this,"gc");k(this,"$P");k(this,"ds");k(this,"Lo");k(this,"us");k(this,"Mm");k(this,"ZP");k(this,"mc");k(this,"Xw");k(this,"Kw");k(this,"Yw");this.name="Resizing",this.br=new _(1,1).g(),this.kr=new _(9999,9999).g(),this.Ao=new _(NaN,NaN).g(),this.gc=!1,this.$P=!0,this.ds=null,this.Lo=new cn("Rectangle",{alignmentFocus:B.Center,desiredSize:_.$N,fill:"lightblue",stroke:"dodgerblue",strokeWidth:1,cursor:"pointer"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.us=null,this.Mm=new T,this.ZP=new _,this.mc=new T,this.Xw=new _(0,0),this.Kw=new _(1/0,1/0),this.Yw=new _(1,1),e&&Object.assign(this,e)}updateAdornments(e){if(!(e===null||e instanceof Zt)){if(e.isSelected&&!this.diagram.isReadOnly){const n=e.resizeObject;let s=e.findAdornment(this.name);if(n!==null&&e.canResize()&&e.actualBounds.isReal()&&e.isVisible()&&n.actualBounds.isReal()&&n.isVisibleObject()&&((s===null||s.adornedObject!==n)&&(s=this.makeAdornment(n)),s!==null)){const r=n.getDocumentAngle();e.Ll()&&this.updateResizeHandles(s,r),e.addAdornment(this.name,s);return}}e.removeAdornment(this.name)}}makeAdornment(e){let n=null;const s=e.part.resizeAdornmentTemplate;if(s===null){n=new Cn,n.type=Ut.Spot,n.locationSpot=B.Center;const r=new Gs;r.isPanelMain=!0,n.add(r),n.add(this.makeHandle(e,B.TopLeft)),n.add(this.makeHandle(e,B.TopRight)),n.add(this.makeHandle(e,B.BottomRight)),n.add(this.makeHandle(e,B.BottomLeft)),n.add(this.makeHandle(e,B.MiddleTop)),n.add(this.makeHandle(e,B.MiddleRight)),n.add(this.makeHandle(e,B.MiddleBottom)),n.add(this.makeHandle(e,B.MiddleLeft))}else if(s.hi(),n=s.copy(),n===null)return null;return n.adornedObject=e,n}makeHandle(e,n){const s=this.handleArchetype;if(s===null)return null;const r=s.copy().km();return r.alignment=n,r}updateResizeHandles(e,n){if(e!==null){if(!e.alignment.isDefault()&&(e.cursor==="pointer"||e.cursor.indexOf("resize")>0))this.QD(e,n);else if(e instanceof Ut){const s=e.elements;for(;s.next();){const r=s.value;this.updateResizeHandles(r,n)}}}}QD(e,n){let s=e.alignment;s.isNoSpot()&&(s=B.Center);let r=n;if(s.x<=0)s.y<=0?r+=225:s.y>=1?r+=135:r+=180;else if(s.x>=1)s.y<=0?r+=315:s.y>=1&&(r+=45);else if(s.y<=0)r+=270;else if(s.y>=1)r+=90;else return;r<0?r+=360:r>=360&&(r-=360),r<22.5?e.cursor="e-resize":r<67.5?e.cursor="se-resize":r<112.5?e.cursor="s-resize":r<157.5?e.cursor="sw-resize":r<202.5?e.cursor="w-resize":r<247.5?e.cursor="nw-resize":r<292.5?e.cursor="n-resize":r<337.5?e.cursor="ne-resize":e.cursor="e-resize"}get handleArchetype(){return this.Lo}set handleArchetype(e){this.Lo=e}get handle(){return this.us}set handle(e){if(e!==null&&!(e.part instanceof Cn))throw new Error("new handle is not in an Adornment: "+e);this.us=e}get adornedObject(){return this.ds}set adornedObject(e){if(e!==null&&e.part instanceof Cn)throw new Error("new handle must not be in an Adornment: "+e);this.ds=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||!e.allowResize||!e.lastInput.left?!1:this.findToolHandleAt(e.firstInput.documentPoint,this.name)!==null}doActivate(){const e=this.diagram;this.handle===null&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),this.handle!==null&&(this.adornedObject=this.handle.part.adornedObject,this.adornedObject!==null&&(e.isMouseCaptured=!0,e.animationManager.stopAnimation(),e.pu=!0,this.startTransaction(this.name),this.Mm.set(this.adornedObject.getDocumentPoint(this.handle.alignment.opposite())),this.mc.set(this.adornedObject.part.location),this.ZP.set(this.adornedObject.desiredSize),this.Yw=this.computeCellSize(),this.Xw=this.computeMinSize(),this.Kw=this.computeMaxSize(),this.isActive=!0))}doDeactivate(){const e=this.diagram;e.pu=!1,e.Pl=!0,this.stopTransaction(),this.handle=null,this.ds=null,e.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}doCancel(){this.adornedObject!==null&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()}doMouseMove(){const e=this.diagram;if(!this.isActive)return;const n=this.Xw,s=this.Kw,r=this.Yw,a=e.lastInput.documentPoint,u=this.adornedObject.getLocalPoint(a,T.l()),h=this.computeReshape(),f=this.computeResize(u,this.handle.alignment,n,s,r,h);this.resize(f),e.maybeUpdate(),T.s(u)}doMouseUp(){const e=this.diagram;if(this.isActive){const n=this.Xw,s=this.Kw,r=this.Yw,a=this.adornedObject.getLocalPoint(e.lastInput.documentPoint,T.l()),u=this.computeReshape(),h=this.computeResize(a,this.handle.alignment,n,s,r,u);this.resize(h),T.s(a),e.invalidateDocumentBounds(),this.transactionResult=this.name,e.v("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()}resize(e){const n=this.diagram,s=this.adornedObject;if(s===null)return;s.desiredSize=e.size;const r=s.part;r.ensureBounds();const a=s.getDocumentPoint(this.handle.alignment.opposite());if(r instanceof Wt){const u=new w;u.add(r);let h;!this.dragsMembers&&!r.hasPlaceholder()&&(h=new zn,h.dragsMembers=!1),n.moveParts(u,this.oppositePoint.copy().subtract(a),!0,h)}else r.location=r.location.copy().subtract(a).add(this.oppositePoint);n.maybeUpdate()}computeResize(e,n,s,r,a,u){n.isNoSpot()&&(n=B.Center);const h=this.adornedObject.naturalBounds,f=h.x,m=h.y,y=h.x+h.width,x=h.y+h.height;let S=1;if(!u){let D=h.width,F=h.height;D<=0&&(D=1),F<=0&&(F=1),S=F/D}const E=T.l();$.Eg(e.x,e.y,f,m,a.width,a.height,E);const L=h.copy();return n.x<=0?n.y<=0?(L.x=Math.max(E.x,y-r.width),L.x=Math.min(L.x,y-s.width),L.width=Math.max(y-L.x,s.width),L.y=Math.max(E.y,x-r.height),L.y=Math.min(L.y,x-s.height),L.height=Math.max(x-L.y,s.height),u||(L.height/L.width>=1?(L.height=Math.max(Math.min(S*L.width,r.height),s.height),L.width=L.height/S):(L.width=Math.max(Math.min(L.height/S,r.width),s.width),L.height=S*L.width),L.x=y-L.width,L.y=x-L.height)):n.y>=1?(L.x=Math.max(E.x,y-r.width),L.x=Math.min(L.x,y-s.width),L.width=Math.max(y-L.x,s.width),L.height=Math.max(Math.min(E.y-m,r.height),s.height),u||(L.height/L.width>=1?(L.height=Math.max(Math.min(S*L.width,r.height),s.height),L.width=L.height/S):(L.width=Math.max(Math.min(L.height/S,r.width),s.width),L.height=S*L.width),L.x=y-L.width)):(L.x=Math.max(E.x,y-r.width),L.x=Math.min(L.x,y-s.width),L.width=y-L.x,u||(L.height=Math.max(Math.min(S*L.width,r.height),s.height),L.width=L.height/S,L.y=m+.5*(x-m-L.height))):n.x>=1?n.y<=0?(L.width=Math.max(Math.min(E.x-f,r.width),s.width),L.y=Math.max(E.y,x-r.height),L.y=Math.min(L.y,x-s.height),L.height=Math.max(x-L.y,s.height),u||(L.height/L.width>=1?(L.height=Math.max(Math.min(S*L.width,r.height),s.height),L.width=L.height/S):(L.width=Math.max(Math.min(L.height/S,r.width),s.width),L.height=S*L.width),L.y=x-L.height)):n.y>=1?(L.width=Math.max(Math.min(E.x-f,r.width),s.width),L.height=Math.max(Math.min(E.y-m,r.height),s.height),u||(L.height/L.width>=1?(L.height=Math.max(Math.min(S*L.width,r.height),s.height),L.width=L.height/S):(L.width=Math.max(Math.min(L.height/S,r.width),s.width),L.height=S*L.width))):(L.width=Math.max(Math.min(E.x-f,r.width),s.width),u||(L.height=Math.max(Math.min(S*L.width,r.height),s.height),L.width=L.height/S,L.y=m+.5*(x-m-L.height))):n.y<=0?(L.y=Math.max(E.y,x-r.height),L.y=Math.min(L.y,x-s.height),L.height=x-L.y,u||(L.width=Math.max(Math.min(L.height/S,r.width),s.width),L.height=S*L.width,L.x=f+.5*(y-f-L.width))):n.y>=1&&(L.height=Math.max(Math.min(E.y-m,r.height),s.height),u||(L.width=Math.max(Math.min(L.height/S,r.width),s.width),L.height=S*L.width,L.x=f+.5*(y-f-L.width))),T.s(E),L}computeReshape(){let e=0;return this.adornedObject instanceof cn&&(e=this.adornedObject.QP()),!(e===6||this.diagram.lastInput.shift)}computeMinSize(){const e=this.adornedObject.minSize.copy(),n=this.minSize;return!isNaN(n.width)&&n.width>e.width&&(e.width=n.width),!isNaN(n.height)&&n.height>e.height&&(e.height=n.height),e}computeMaxSize(){const e=this.adornedObject.maxSize.copy(),n=this.maxSize;return!isNaN(n.width)&&n.width<e.width&&(e.width=n.width),!isNaN(n.height)&&n.height<e.height&&(e.height=n.height),e}computeCellSize(){const e=new _(NaN,NaN),n=this.adornedObject.part;if(n!==null){const a=n.resizeCellSize;!isNaN(a.width)&&a.width>0&&(e.width=a.width),!isNaN(a.height)&&a.height>0&&(e.height=a.height)}let s=this.cellSize;isNaN(e.width)&&!isNaN(s.width)&&s.width>0&&(e.width=s.width),isNaN(e.height)&&!isNaN(s.height)&&s.height>0&&(e.height=s.height);const r=this.diagram;if((isNaN(e.width)||isNaN(e.height))&&r){const a=r.grid;a!==null&&a.visible&&this.isGridSnapEnabled&&(s=a.gridCellSize,isNaN(e.width)&&!isNaN(s.width)&&s.width>0&&(e.width=s.width),isNaN(e.height)&&!isNaN(s.height)&&s.height>0&&(e.height=s.height))}return(isNaN(e.width)||e.width===0||e.width===1/0)&&(e.width=1),(isNaN(e.height)||e.height===0||e.height===1/0)&&(e.height=1),e}get minSize(){return this.br}set minSize(e){if(!this.br.equals(e)){let n=e.width;isNaN(n)&&(n=0);let s=e.height;isNaN(s)&&(s=0),this.br.e(n,s)}}get maxSize(){return this.kr}set maxSize(e){if(!this.kr.equals(e)){let n=e.width;isNaN(n)&&(n=1/0);let s=e.height;isNaN(s)&&(s=1/0),this.kr.e(n,s)}}get cellSize(){return this.Ao}set cellSize(e){this.Ao.equals(e)||this.Ao.a(e)}get isGridSnapEnabled(){return this.gc}set isGridSnapEnabled(e){this.gc=e}get dragsMembers(){return this.$P}set dragsMembers(e){this.$P=e}get oppositePoint(){return this.Mm}set oppositePoint(e){this.Mm.equals(e)||this.Mm.a(e)}get originalDesiredSize(){return this.ZP}get originalLocation(){return this.mc}}class mt extends ue{constructor(e){super();k(this,"_P");k(this,"tM");k(this,"ds");k(this,"Lo");k(this,"us");k(this,"iM");k(this,"Sm");k(this,"mc");k(this,"eM");k(this,"sM");this.name="Rotating",this._P=45,this.tM=2,this.mc=new T,this.ds=null,this.Lo=new cn("Ellipse",{desiredSize:_.lu,fill:"lightblue",stroke:"dodgerblue",strokeWidth:1,cursor:"pointer"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.us=null,this.iM=0,this.Sm=new T(NaN,NaN),this.eM=0,this.sM=50,e&&Object.assign(this,e)}updateAdornments(e){if(e!==null){if(e.Al()){const n=e.rotateObject;if(n===e||n===e.path||n.isPanelMain)return}if(e.isSelected&&!this.diagram.isReadOnly){const n=e.rotateObject;if(n!==null&&e.canRotate()&&e.actualBounds.isReal()&&e.isVisible()&&n.actualBounds.isReal()&&n.isVisibleObject()){let s=e.findAdornment(this.name);if((s===null||s.adornedObject!==n)&&(s=this.makeAdornment(n)),s!==null){s.angle=n.getDocumentAngle(),s.hasPlaceholder()||(s.location=this.computeAdornmentLocation(n)),e.addAdornment(this.name,s);return}}}e.removeAdornment(this.name)}}makeAdornment(e){let n=null;const s=e.part.rotateAdornmentTemplate;if(s===null){n=new Cn,n.type=Ut.Position,n.locationSpot=B.Center;const r=this.handleArchetype;r!==null&&n.add(r.copy().km())}else if(s.hi(),n=s.copy(),n===null)return null;return n.adornedObject=e,n}get handleArchetype(){return this.Lo}set handleArchetype(e){this.Lo=e}get handle(){return this.us}set handle(e){if(e!==null&&!(e.part instanceof Cn))throw new Error("new handle is not in an Adornment: "+e);this.us=e}get adornedObject(){return this.ds}set adornedObject(e){if(e!==null&&e.part instanceof Cn)throw new Error("new handle must not be in an Adornment: "+e);this.ds=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||!e.allowRotate||!e.lastInput.left?!1:this.findToolHandleAt(e.firstInput.documentPoint,this.name)!==null}doActivate(){const e=this.diagram;if(this.adornedObject===null){if(this.handle===null&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),this.handle===null)return;this.adornedObject=this.handle.part.adornedObject}this.adornedObject!==null&&(e.isMouseCaptured=!0,e.delaysLayout=!0,this.startTransaction(this.name),this.iM=this.adornedObject.angle,this.Sm=this.computeRotationPoint(this.adornedObject),this.mc=this.adornedObject.part.location.copy(),this.isActive=!0)}computeRotationPoint(e){const n=e.part,s=n.locationObject;return n.rotationSpot.isSpot()?e.getDocumentPoint(n.rotationSpot):e===n||e===s?s.getDocumentPoint(n.locationSpot):e.getDocumentPoint(B.Center)}computeAdornmentLocation(e){let n=this.rotationPoint;n.isReal()||(n=this.computeRotationPoint(e));const s=e.getLocalPoint(n);let r=this.handleAngle;r<0?r+=360:r>=360&&(r-=360),r=Math.round(Math.round(r/45)*45);const a=this.handleDistance;return r===0?s.x=e.naturalBounds.width+a:r===45?(s.x=e.naturalBounds.width+a,s.y=e.naturalBounds.height+a):r===90?s.y=e.naturalBounds.height+a:r===135?(s.x=-a,s.y=e.naturalBounds.height+a):r===180?s.x=-a:r===225?(s.x=-a,s.y=-a):r===270?s.y=-a:r===315&&(s.x=e.naturalBounds.width+a,s.y=-a),e.getDocumentPoint(s)}doDeactivate(){const e=this.diagram;this.stopTransaction(),this.handle=null,this.ds=null,this.Sm=new T(NaN,NaN),e.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}doCancel(){const e=this.diagram;e.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()}doMouseMove(){const e=this.diagram;if(this.isActive){const n=this.computeRotate(e.lastInput.documentPoint);this.rotate(n)}}doMouseUp(){const e=this.diagram;if(this.isActive){e.delaysLayout=!1;const n=this.computeRotate(e.lastInput.documentPoint);this.rotate(n),e.invalidateDocumentBounds(),this.transactionResult=this.name,e.v("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()}rotate(e){const n=this.adornedObject;if(n===null)return;n.angle=e;const s=n.part;s.ensureBounds();const r=s.locationObject,a=s.rotateObject;if(r===a||r.isContainedBy(a)){const u=this.mc.copy();s.location=u.subtract(this.rotationPoint).rotate(e-this.originalAngle).add(this.rotationPoint)}this.diagram.maybeUpdate()}computeRotate(e){let n=this.rotationPoint.directionPoint(e)-this.handleAngle;const s=this.adornedObject.panel;s!==null&&(n-=s.getDocumentAngle()),n>=360?n-=360:n<0&&(n+=360);const r=Math.min(Math.abs(this.snapAngleMultiple),180),a=Math.min(Math.abs(this.snapAngleEpsilon),r/2);return!this.diagram.lastInput.shift&&r>0&&a>0&&(n%r<a?n=Math.floor(n/r)*r:n%r>r-a&&(n=(Math.floor(n/r)+1)*r)),n>=360?n-=360:n<0&&(n+=360),n}get snapAngleMultiple(){return this._P}set snapAngleMultiple(e){this._P=e}get snapAngleEpsilon(){return this.tM}set snapAngleEpsilon(e){this.tM=e}get originalAngle(){return this.iM}get rotationPoint(){return this.Sm}set rotationPoint(e){this.Sm=e.copy()}get handleAngle(){return this.eM}set handleAngle(e){this.eM=e}get handleDistance(){return this.sM}set handleDistance(e){this.sM=e}}class Me extends ue{constructor(t){super(),this.name="ClickSelecting",t&&Object.assign(this,t)}canStart(){return!(!this.isEnabled||this.isBeyondDragSize())}doMouseUp(){this.isActive&&(this.standardMouseSelect(),this.standardMouseClick()||this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()}}class Ee extends ue{constructor(e){super();k(this,"pc");this.name="Action",this.pc=null,e&&Object.assign(this,e)}canStart(){if(!this.isEnabled)return!1;const e=this.diagram,n=e.lastInput,s=e.findObjectAt(n.documentPoint,r=>{for(;r.panel!==null;){if(r.isActionable)return r;r=r.panel}return r});return s!==null&&s.isActionable?(this.pc=s,e.cc=e.findObjectAt(n.documentPoint,null,null),!0):!1}doMouseDown(){if(!this.isActive)this.canStart()&&this.doActivate();else{const e=this.diagram.lastInput,n=this.pc;if(n===null)return;e.targetObject=n,n.actionDown!==null&&n.actionDown(e,n)}}doMouseMove(){if(this.isActive){const e=this.diagram.lastInput,n=this.pc;if(n===null)return;e.targetObject=n,n.actionMove!==null&&n.actionMove(e,n)}}doMouseUp(){if(this.isActive){const e=this.diagram.lastInput,n=this.pc;if(n===null)return;e.targetObject=n,n.actionUp!==null&&n.actionUp(e,n),this.standardMouseClick(s=>{for(;s.panel!==null;){if(s.isActionable&&s===n)return s;s=s.panel}return s},s=>s===n)}this.stopTool()}doCancel(){const e=this.diagram.lastInput,n=this.pc;n!==null&&(e.targetObject=n,n.actionCancel!==null&&n.actionCancel(e,n),this.stopTool())}doStop(){this.pc=null}}class We extends ue{constructor(e){super();k(this,"Tl");k(this,"nM");k(this,"gc");k(this,"oM");this.name="ClickCreating",this.Tl=null,this.nM=!0,this.gc=!1,this.oM=new T(0,0),e&&Object.assign(this,e)}canStart(){if(!this.isEnabled||this.archetypeNodeData===null)return!1;const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(e.lastInput.clickCount===1&&(this.oM=e.lastInput.viewPoint.copy()),e.lastInput.clickCount!==2||this.isBeyondDragSize(this.oM))return!1}else if(e.lastInput.clickCount!==1)return!1;return!(e.currentTool!==this&&e.findPartAt(e.lastInput.documentPoint,!0)!==null)}doMouseUp(){const e=this.diagram;this.isActive&&this.insertPart(e.lastInput.documentPoint),this.stopTool()}insertPart(e){const n=this.diagram,s=this.archetypeNodeData;if(s===null)return null;let r=null;try{if(n.v("ChangingSelection",n.selection),this.startTransaction(this.name),s instanceof Vn)s.Se()&&(s.hi(),r=s.copy(),r!==null&&n.add(r));else if(s!==null){const a=n.model.copyNodeData(s);o.wt(a)&&(n.model.addNodeData(a),r=n.findPartForData(a))}if(r!==null){const a=T.X(e.x,e.y);this.isGridSnapEnabled&&this.diagram.rM(r,e,a),r.location=a,n.allowSelect&&(n.clearSelection(!0),r.isSelected=!0),T.s(a)}n.invalidateDocumentBounds(),this.transactionResult=this.name,n.v("PartCreated",r)}finally{this.stopTransaction(),n.v("ChangedSelection",n.selection)}return r}get archetypeNodeData(){return this.Tl}set archetypeNodeData(e){this.Tl=e}get isDoubleClick(){return this.nM}set isDoubleClick(e){this.nM=e}get isGridSnapEnabled(){return this.gc}set isGridSnapEnabled(e){this.gc=e}}class ot extends ue{constructor(e){super();k(this,"Bh");k(this,"lM");k(this,"Dl");this.name="DragSelecting",this.Bh=175,this.lM=!1,this.Dl=new Vn({layerName:"Tool",selectable:!1}).add(new cn("Rectangle",{name:"SHAPE",fill:null,stroke:"magenta"}).theme("stroke","dragSelect")).hi(),e&&Object.assign(this,e)}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(!e.allowSelect)return!1;const n=e.lastInput;return!(!n.left||e.currentTool!==this&&(!this.isBeyondDragSize()||n.timestamp-e.firstInput.timestamp<this.delay||e.findPartAt(n.documentPoint,!0)!==null))}doActivate(){const e=this.diagram;this.isActive=!0,e.isMouseCaptured=!0,e.skipsUndoManager=!0,e.add(this.box),this.doMouseMove()}doDeactivate(){const e=this.diagram;e.stopAutoScroll(),e.remove(this.box),e.skipsUndoManager=!1,e.isMouseCaptured=!1,this.isActive=!1}doMouseMove(){const e=this.diagram;if(this.isActive&&this.box!==null){const n=this.computeBoxBounds();let s=this.box.findObject("SHAPE");s===null&&(s=this.box.findMainElement());const r=_.l().e(n.width,n.height);s.desiredSize=r,this.box.yc(n.x,n.y,!1),_.s(r),(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.doAutoScroll(e.lastInput.viewPoint)}}doMouseUp(){if(this.isActive){const e=this.diagram;e.remove(this.box);try{e.currentCursor="wait",e.v("ChangingSelection",e.selection),this.selectInRect(this.computeBoxBounds()),e.v("ChangedSelection",e.selection)}finally{e.currentCursor=""}}this.stopTool()}computeBoxBounds(){const e=this.diagram;return new I(e.firstInput.documentPoint,e.lastInput.documentPoint)}selectInRect(e){const n=this.diagram,s=n.lastInput,r=n.findPartsIn(e,this.isPartialInclusion);if(o.lr?s.meta:s.control)if(s.shift){const a=r.iterator;for(;a.next();){const u=a.value;u.isSelected&&(u.isSelected=!1)}}else{const a=r.iterator;for(;a.next();){const u=a.value;u.isSelected=!u.isSelected}}else if(s.shift){const a=r.iterator;for(;a.next();){const u=a.value;u.isSelected||(u.isSelected=!0)}}else{const a=new w,u=n.selection.iterator;for(;u.next();){const m=u.value;r.contains(m)||a.add(m)}const h=a.iterator;for(;h.next();){const m=h.value;m.isSelected=!1}const f=r.iterator;for(;f.next();){const m=f.value;m.isSelected||(m.isSelected=!0)}}}get delay(){return this.Bh}set delay(e){this.Bh=e}get isPartialInclusion(){return this.lM}set isPartialInclusion(e){this.lM=e}get box(){return this.Dl}set box(e){e!==null&&e.hi(),this.Dl=e}}class He extends ue{constructor(e){super();k(this,"Gw");k(this,"zC");k(this,"Co");k(this,"hM");this.name="Panning",this.Gw=new T,this.zC=new T,this.Co=!1;const n=this;this.hM=()=>{const s=n.diagram;s!==null&&s.Ni(i.document,"scroll",n.hM,!1),n.stopTool()},e&&Object.assign(this,e)}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return!(!e.allowHorizontalScroll&&!e.allowVerticalScroll||!e.lastInput.left||e.currentTool!==this&&!this.isBeyondDragSize())}doActivate(){const e=this.diagram;this.Co?(e.lastInput.bubbles=!0,e.Bt(i.document,"scroll",this.hM,!1)):(e.currentCursor="move",e.isMouseCaptured=!0,this.Gw.a(e.position)),this.isActive=!0}doDeactivate(){const e=this.diagram;e.currentCursor="",e.isMouseCaptured=!1,this.isActive=!1}doCancel(){const e=this.diagram;e.position=this.Gw,e.isMouseCaptured=!1,this.stopTool()}doMouseMove(){this.XC()}doMouseUp(){this.XC(),this.stopTool()}XC(){const e=this.diagram;if(this.isActive&&e){if(this.Co){e.lastInput.bubbles=!0;return}const n=e.position,s=e.firstInput.documentPoint,r=e.lastInput.documentPoint;let a=n.x+s.x-r.x,u=n.y+s.y-r.y;e.allowHorizontalScroll||(a=n.x),e.allowVerticalScroll||(u=n.y),e.position=this.zC.e(a,u)}}get bubbles(){return this.Co}set bubbles(e){this.Co=e}get originalPosition(){return this.Gw}}class Je{constructor(t){k(this,"jw");k(this,"Hw");k(this,"aM");k(this,"cM");this.jw=null,this.Hw=null,this.aM=null,this.cM=null,t&&Object.assign(this,t)}get mainElement(){return this.aM}set mainElement(t){this.aM=t}get show(){return this.jw}set show(t){this.jw!==t&&(this.jw=t)}get hide(){return this.Hw}set hide(t){this.Hw!==t&&(this.Hw=t)}get valueFunction(){return this.cM}set valueFunction(t){this.cM=t}}class nt{constructor(t,e,n){k(this,"ai");k(this,"Nm");k(this,"wc");this.ai=t,this.Nm=e,this.wc=n}}const ci=class ci extends ue{constructor(e){super();k(this,"fM");k(this,"qw");k(this,"uM");k(this,"dM");k(this,"Ww");k(this,"Jw");k(this,"$w");this.name="ContextMenu",this.fM=null,this.qw=null,this.uM=null,this.dM=new T,this.Ww=null,this.$w=!1;const n=this;this.Jw=()=>n.stopTool(),e&&Object.assign(this,e)}_D(){const e=new Je;e.show=(h,f,m)=>m.showDefaultContextMenu(),e.hide=(h,f)=>f.hideDefaultContextMenu(),ci.bu=e;const n=this;this.Jw=()=>n.stopTool();const s=o.en("div"),r=o.en("div");s.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",r.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";const a=o.en("style");i.document.getElementsByTagName("head")[0].appendChild(a),a.sheet.insertRule(".goCXul { list-style: none; }",0),a.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),a.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);const u=this.diagram;u!==null&&(u.Bt(s,"contextmenu",ci.Yh,!1),u.Bt(s,"selectstart",ci.Yh,!1),u.Bt(r,"contextmenu",ci.Yh,!1)),s.className="goCXforeground",r.className="goCXbackground",i.document.body&&(i.document.body.appendChild(s),i.document.body.appendChild(r)),ci.Cm=s,ci.Lm=r,ci.gM=!0}static Yh(e){return e.preventDefault(),!1}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return this.isBeyondDragSize()||!e.lastInput.right||e.lastInput.clickCount>1?!1:!!(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu!==null||this.findObjectWithContextMenu()!==null)}doStart(){const e=this.diagram;this.dM.set(e.firstInput.documentPoint)}doStop(){this.hideContextMenu(),this.currentObject=null}findObjectWithContextMenu(e){e===void 0&&(e=null);const n=this.diagram,s=n.lastInput;let r=null;if(e instanceof st||(e instanceof ai?r=e:r=n.findObjectAt(s.documentPoint,null,a=>!a.layer.isTemporary)),r!==null){let a=r;for(;a!==null;){if(a.contextMenu!==null)return a;a=a.panel}if(n.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return r.part}else if(n.contextMenu!==null)return n;return null}doActivate(){}doMouseDown(){if(super.doMouseDown(),this.isActive&&this.currentContextMenu instanceof Cn){const e=this.diagram.toolManager.findTool("Action");e!==null&&e.canStart()&&(e.doActivate(),e.doMouseDown(),e.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&this.doContextClick()}doMouseUp(){if(this.isActive&&this.currentContextMenu instanceof Cn){const e=this.diagram.toolManager.findTool("Action");e!==null&&e.canStart()&&(e.doActivate(),e.doCancel(),e.doDeactivate())}this.doContextClick()}doContextClick(){const e=this.diagram;if(!this.isActive)this.canStart()&&(this.openMenu(!0),this.isActive||this.stopTool());else{const n=this.currentContextMenu;if(n===null)return;let s=null;n instanceof Je||(s=e.findObjectAt(e.lastInput.documentPoint,null,null),s!==null&&s.isContainedBy(n)&&this.standardMouseClick(null,null)),this.maybeStopTool(s)}}maybeStopTool(e){this.stopTool(),this.canStart()&&(this.diagram.currentTool=this,this.doMouseUp())}openMenu(e,n){if(n===void 0&&(n=null),this.$w)return;this.$w=!0,e&&this.standardMouseSelect();const s=this.standardMouseClick();if(this.$w=!1,!s){this.isActive=!0;const r=ci.bu;if(n===null&&(n=this.findObjectWithContextMenu()),n!==null){const a=n.contextMenu;a!==null?(this.currentObject=n instanceof ai?n:null,this.showContextMenu(a,this.currentObject)):r!==null&&this.showContextMenu(r,this.currentObject)}else r!==null&&this.showContextMenu(r,null);this.currentContextMenu instanceof Cn&&!this.currentContextMenu.visible&&this.stopTool()}}doMouseMove(){const e=this.diagram.toolManager.findTool("Action");e!==null&&e.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()}showContextMenu(e,n){const s=this.diagram;if(e!==this.currentContextMenu&&this.hideContextMenu(),e instanceof Cn){const r=e;r.layerName="Tool",r.selectable=!1,r.scale=1/s.scale,r.category=this.name,r.hasPlaceholder()&&(r.placeholder.scale=s.scale);const a=r.diagram;a!==null&&a!==s&&a.remove(r),s.add(r),n!==null?r.adornedObject=n:r.data=s.model,r.ensureBounds(),this.positionContextMenu(r,n)}else e instanceof Je&&e.show(n,s,this);this.currentContextMenu=e}positionContextMenu(e,n){if(e.hasPlaceholder())return;const s=e,r=this.diagram,a=r.lastInput.documentPoint.copy(),u=s.measuredBounds,h=r.viewportBounds;r.lastInput.isTouchEvent&&(a.x-=u.width),a.x+u.width>h.right&&(a.x-=u.width+5/r.scale),a.x<h.x&&(a.x=h.x),a.y+u.height>h.bottom&&(a.y-=u.height+5/r.scale),a.y<h.y&&(a.y=h.y),s.position=a}hideContextMenu(){const e=this.diagram,n=this.currentContextMenu;n!==null&&(n instanceof Cn?(e.remove(n),this.qw!==null&&this.qw.removeAdornment(n.category),n.data=null,n.adornedObject=null):n instanceof Je&&(n.hide!==null?n.hide(e,this):n.mainElement!==null&&(n.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())}tF(){const e=this,n=new w;return n.add(new nt("Copy",s=>s.commandHandler.copySelection(),s=>s.commandHandler.canCopySelection())),n.add(new nt("Cut",s=>s.commandHandler.cutSelection(),s=>s.commandHandler.canCutSelection())),n.add(new nt("Delete",s=>s.commandHandler.deleteSelection(),s=>s.commandHandler.canDeleteSelection())),n.add(new nt("Paste",s=>s.commandHandler.pasteSelection(e.mouseDownPoint),s=>s.commandHandler.canPasteSelection(e.mouseDownPoint))),n.add(new nt("Select All",s=>s.commandHandler.selectAll(),s=>s.commandHandler.canSelectAll())),n.add(new nt("Undo",s=>s.commandHandler.undo(),s=>s.commandHandler.canUndo())),n.add(new nt("Redo",s=>s.commandHandler.redo(),s=>s.commandHandler.canRedo())),n.add(new nt("Scroll To Part",s=>s.commandHandler.scrollToPart(),s=>s.commandHandler.canScrollToPart())),n.add(new nt("Zoom To Fit",s=>s.commandHandler.zoomToFit(),s=>s.commandHandler.canZoomToFit())),n.add(new nt("Reset Zoom",s=>s.commandHandler.resetZoom(),s=>s.commandHandler.canResetZoom())),n.add(new nt("Group Selection",s=>s.commandHandler.groupSelection(),s=>s.commandHandler.canGroupSelection())),n.add(new nt("Ungroup Selection",s=>s.commandHandler.ungroupSelection(),s=>s.commandHandler.canUngroupSelection())),n.add(new nt("Edit Text",s=>s.commandHandler.editTextBlock(),s=>s.commandHandler.canEditTextBlock())),n}showDefaultContextMenu(){const e=this.diagram;this.Ww===null&&(this.Ww=this.tF()),ci.Cm.innerHTML="",ci.Lm.addEventListener("pointerdown",this.Jw,!1);const n=this,s=o.en("ul");s.className="goCXul",ci.Cm.appendChild(s),s.innerHTML="";const r=this.Ww.iterator;for(;r.next();){const a=r.value,u=a.Nm,h=a.wc;if(typeof u!="function"||typeof h=="function"&&!h(e))continue;const f=o.en("li");f.className="goCXli";const m=o.en("a");m.className="goCXa",m.href="#",m.Nm=a.Nm,m.addEventListener("pointerdown",function(y){return this.Nm(e),n.stopTool(),y.preventDefault(),!1},!1),m.textContent=a.ai,f.appendChild(m),s.appendChild(f)}ci.Cm.style.display="block",ci.Lm.style.display="block"}hideDefaultContextMenu(){if(this.currentContextMenu===null||this.currentContextMenu!==ci.bu)return;ci.Cm.style.display="none",ci.Lm.style.display="none";const e=this.diagram;e!==null&&e.Ni(ci.Lm,"pointerdown",this.Jw,!1),this.currentContextMenu=null}get currentContextMenu(){return this.fM}set currentContextMenu(e){this.fM=e,this.qw=e instanceof Cn?e.adornedPart:null}get defaultTouchContextMenu(){return ci.gM===!1&&ci.bu===null&&st.isUsingDOM()&&this._D(),ci.bu}set defaultTouchContextMenu(e){e===null&&(ci.gM=!0),ci.bu=e}get currentObject(){return this.uM}set currentObject(e){this.uM=e}get mouseDownPoint(){return this.dM}};k(ci,"bu",null),k(ci,"gM",!1),k(ci,"Lm",null),k(ci,"Cm",null);let rt=ci;var ht=(H=>(H[H.LostFocus=1]="LostFocus",H[H.MouseDown=2]="MouseDown",H[H.Tab=3]="Tab",H[H.Enter=4]="Enter",H))(ht||{}),qe=(H=>(H[H.SingleClick=1]="SingleClick",H[H.SingleClickSelected=2]="SingleClickSelected",H[H.DoubleClick=3]="DoubleClick",H))(qe||{}),Mt=(H=>(H[H.None=1]="None",H[H.Active=2]="Active",H[H.Editing=3]="Editing",H[H.Validating=4]="Validating",H[H.Invalid=5]="Invalid",H[H.Validated=6]="Validated",H))(Mt||{});const Li=class Li extends ue{constructor(e){super();k(this,"Ne");k(this,"mM");k(this,"pM");k(this,"Fl");k(this,"Yt");k(this,"yM");k(this,"wM");k(this,"xM");k(this,"Zw");k(this,"Qw");this.name="TextEditing",this.Ne=new yi,this.mM=null,this.pM=2,this.Fl=null,this.Yt=1,this.yM=1,this.wM=!0,this.xM=null,this.Zw=new Je,this.Qw=null,this.iF(this.Zw),e&&Object.assign(this,e)}iF(e){if(!st.isUsingDOM())return;const n=o.en("textarea");this.Qw=n;const s=this;n.addEventListener("input",function(r){if(s.textBlock===null)return;const a=s.measureTemporaryTextBlock(this.value),u=this.textScale;this.style.width=20+Math.max(s.textBlock.measuredBounds.width,a.measuredBounds.width)*u+"px",this.rows=Math.max(s.textBlock.lineCount,a.lineCount)},!1),n.addEventListener("keydown",function(r){if(r.isComposing||s.textBlock===null)return;const a=r.key;if(a==="Enter"){s.textBlock.isMultiline===!1&&r.preventDefault(),s.acceptText(4);return}else if(a==="Tab"){s.acceptText(3),r.preventDefault();return}else a==="Escape"&&(s.doCancel(),s.diagram!==null&&s.diagram.doFocus())},!1),n.addEventListener("focus",function(r){s.eF(r)},!1),n.addEventListener("blur",function(r){s.sF(r)},!1),e.valueFunction=()=>n.value,e.mainElement=n,e.show=(r,a,u)=>{if(!(r instanceof yi&&u instanceof Li))return;if(u.state===5){n.style.border="3px solid red",n.focus();return}const h=r.getDocumentPoint(B.Center),f=a.position,m=a.scale;let y=r.getDocumentScale()*m;y<u.minimumEditorScale&&(y=u.minimumEditorScale);const x=r.naturalBounds.width*y+6,S=r.naturalBounds.height*y+2,E=(h.x-f.x)*m,L=(h.y-f.y)*m,D=r.verticalAlignment,F=(r.lineHeight+r.spacingAbove+r.spacingBelow)*r.lineCount*y,V=.5*S-.5*F,U=D.y*S-D.y*F+D.offsetY-V-F/2;n.value=r.text,a.div.style.font=r.font;const W=1;n.style.position="absolute",n.style.zIndex="100",n.style.font="inherit",n.style.fontSize=y*100+"%",n.style.lineHeight="normal",n.style.width=x+"px",n.style.left=(E-x/2|0)-W+"px",n.style.top=(L+U|0)-W+"px",n.style.textAlign=r.textAlign,n.style.margin="0",n.style.padding=W+"px",n.style.border="0",n.style.outline="none",n.style.whiteSpace="pre-wrap",n.style.overflow="hidden",n.rows=r.lineCount,n.textScale=y,n.className="goTXarea",a.div.appendChild(n),n.focus(),u.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))},e.hide=(r,a)=>{r.div.removeChild(n)}}get textBlock(){return this.mM}set textBlock(e){this.mM=e}get currentTextEditor(){return this.xM}set currentTextEditor(e){this.xM=e}get defaultTextEditor(){return this.Zw}set defaultTextEditor(e){this.Zw=e}get starting(){return this.pM}set starting(e){this.pM=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e===null||e.isReadOnly||Li.xc&&Li.xc!==this&&(Li.xc.acceptText(2),Li.xc&&Li.xc!==this)||!e.lastInput.left||this.isBeyondDragSize())return!1;const n=e.lastInput.documentPoint,s=e.findObjectAt(n);if(s===null||!(s instanceof yi)||!s.editable||!s.part.canEdit())return!1;const r=s.part;return!(r===null||this.starting===2&&!r.isSelected||this.starting===3&&e.lastInput.clickCount<2)}doStart(){Li.xc=this,this.textBlock!==null&&this.doActivate()}doActivate(){if(this.isActive)return;const e=this.diagram;if(e===null)return;let n=this.textBlock;if(n===null&&(n=e.findObjectAt(e.lastInput.documentPoint)),n===null||!(n instanceof yi)||(this.textBlock=n,n.part===null))return;e.animationManager.stopAnimation(),this.isActive=!0,this.Yt=2;let s=this.defaultTextEditor;n.textEditor!==null&&(s=n.textEditor),this.Ne=this.textBlock.copy();const r=new I(this.textBlock.getDocumentPoint(B.TopLeft),this.textBlock.getDocumentPoint(B.BottomRight));e.scrollToRect(r),s.show(n,e,this),this.currentTextEditor=s}doCancel(){this.stopTool()}doMouseUp(){this.canStart()&&this.doActivate()}doMouseDown(){this.isActive&&this.acceptText(2)}acceptText(e){switch(e){case 2:this.Yt===6?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.Yt===2||this.Yt===5||this.Yt===3)&&(this.Yt=4,this.KC());break;case 1:case 4:case 3:if(e===4&&this.textBlock.isMultiline===!0)return;(this.Yt===2||this.Yt===5||this.Yt===3)&&(this.Yt=4,this.KC());break}}KC(){const e=this.textBlock,n=this.diagram,s=this.currentTextEditor;if(e!==null&&s!==null){const r=e.text;let a="";if(s.valueFunction!==null&&(a=s.valueFunction()),!this.isValidText(e,r,a)){this.Yt=5,this.doError(r,a);return}this.startTransaction(this.name),this.Yt=6,this.transactionResult=this.name,e.text=a,this.doSuccess(r,a),n!==null&&n.v("TextEdited",e,r),this.stopTransaction(),this.stopTool(),n!==null&&n.doFocus()}}doError(e,n){const s=this.textBlock;s.errorFunction!==null&&s.errorFunction(this,e,n);const r=this.currentTextEditor;r&&r.show(s,this.diagram,this)}doSuccess(e,n){const s=this.textBlock;s.textEdited!==null&&s.textEdited(s,e,n)}doDeactivate(){const e=this.diagram;e!==null&&(this.Yt=1,this.currentTextEditor!==null&&this.currentTextEditor.hide(e,this),this.textBlock=null,this.isActive=!1)}doStop(){Li.xc=null}eF(e){if(this.currentTextEditor===null||this.state===1)return;const n=this.Qw;this.Yt===2&&(this.Yt=3),typeof n.select=="function"&&this.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}sF(e){if(this.currentTextEditor===null||this.state===1)return;const n=this.Qw;typeof n.focus=="function"&&n.focus(),typeof n.select=="function"&&this.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}isValidText(e,n,s){const r=this.textValidation;if(r!==null&&!r(e,n,s))return!1;const a=e.textValidation;return!(a!==null&&!a(e,n,s))}get textValidation(){return this.Fl}set textValidation(e){this.Fl=e}get minimumEditorScale(){return this.yM}set minimumEditorScale(e){this.yM=e}get selectsTextOnActivate(){return this.wM}set selectsTextOnActivate(e){this.wM=e}get state(){return this.Yt}set state(e){this.Yt!==e&&(this.Yt=e)}measureTemporaryTextBlock(e){const n=this.Ne;return n.text=e,n.ut(this.textBlock.Rl,1/0),n}};k(Li,"LostFocus",1),k(Li,"MouseDown",2),k(Li,"Tab",3),k(Li,"Enter",4),k(Li,"SingleClick",1),k(Li,"SingleClickSelected",2),k(Li,"DoubleClick",3),k(Li,"StateNone",1),k(Li,"StateActive",2),k(Li,"StateEditing",3),k(Li,"StateValidating",4),k(Li,"StateInvalid",5),k(Li,"StateValidated",6),k(Li,"xc",null);let Nt=Li;var Ge=(H=>(H[H.Default=1]="Default",H[H.AnimateLocations=2]="AnimateLocations",H[H.None=3]="None",H))(Ge||{});const ao=class ao{constructor(t){k(this,"k");k(this,"Ci");k(this,"Oi");k(this,"Pr");k(this,"Gn");k(this,"To");k(this,"bM");k(this,"kM");k(this,"Am");k(this,"xi");k(this,"bc");k(this,"dn");k(this,"Tm");k(this,"Gh");k(this,"_w");k(this,"Dm");k(this,"tx");k(this,"kc");k(this,"wu");k(this,"Fm");this.k=st.pm(),this.Ci=!1,this.Am=!1,this.xi=!1,this.bc=!1,this.tx=!0,this.kc=1,this.wu=!1,this.Oi=!0,this.Pr=!0,this.To=600,this.bM=!1,this.kM=!1,this.Gn=new C,this.dn=new Ht,this.Tm=new Ht,this.dn.gs=this,this.Gh=new C,this._w=new C,this.Dm=new C,this.Fm=new C,t&&Object.assign(this,t)}Do(t){this.k=t}oE(){return this.k}canStart(t){return!0}vl(t){return!this.Oi||!this.canStart(t)?!1:(this.Gn.add(t),this.defaultAnimation.isAnimating&&this.stopAnimation(),this.k.Li(),this.xi=!0,!0)}getBundleAnimation(){return this.Tm}PM(){if(!this.Oi||(this.Tm.ue.count>0&&this.Tm.start(),!this.xi))return;const t=this.dn,e=this.k,n=this.Gn.contains("Model");if(n&&(this.bc=!0,this.kc===1?(t.isViewportUnconstrained=!0,t.ue.clear(),t.add(e,"position",e.position.copy().offset(0,-200),e.position),t.add(e,"opacity",0,1)):this.kc===3&&t.ue.clear(),this.kc===2&&e.ix.equals(e.st)?this.tx=!0:this.tx=!1,e.v("InitialAnimationStarting",this)),n&&!this.Pr||t.ue.count===0){this.Gn.clear(),this.xi=!1,t.ue.clear(),t.ex(e),this.bc=!1,e.C();return}this.Gn.clear(),e.Mr=!1;const s=t.ue.get(e);e.autoScale!==1&&s!==null&&(delete s.ei.scale,delete s.ms.scale);const r=this;i.requestAnimationFrame(()=>{r.xi===!1||t.Ci||(e.getRenderingHint("temporaryPixelRatio")&&e.Ew(),e.MM(),r.xi=!1,t.start(),t.Ci&&(r.ku(),e.invalidateDocumentBounds(),t.YC(0),e.wr(!0),r.Pu(),e.v("AnimationStarting",r)))})}SM(){return this.Gn.contains("Trigger")&&this.Gn.count===1}GC(t,e,n,s){this.isTicking||this.SM()||t instanceof Zt&&(t.fromNode!==null||t.toNode!==null)||this.dn.add(t,"position",e,n,s)}sx(t){return this.dn.sx(t)}NM(t){return this.dn.NM(t)}nF(t){const e=this.Gh,n=this;function s(){if(n.Dm.count>0&&(e.addAll(n.Dm),n.Dm.clear(),n.Ci=!0),n.Ci===!1||e.count===0)return;n._w.addAll(e);const r=n._w.iterator;for(;r.next();){const a=r.value;a.Ci!==!1&&(a.oF()?a.jC(!1):a.Pc=!0)}if(n._w.clear(),n.Ci===!1){i.requestAnimationFrame(s);return}n.ku(),n.k.wr(),n.Pu(),i.requestAnimationFrame(s)}this.Ci?this.rF(t):(this.Ci=!0,e.add(t),i.requestAnimationFrame(()=>s()))}rF(t){this.Dm.add(t)}lF(){const t=this.Gh.iterator;for(;t.next();)t.value.Pc=!1}ku(){if(this.Am)return;const t=this.k;this.bM=t.skipsUndoManager,this.kM=t.de,t.skipsUndoManager=!0,t.de=!0,this.Am=!0}Pu(){const t=this.k;t.skipsUndoManager=this.bM,t.de=this.kM,this.Am=!1}stopAnimation(t){const e=this.dn;if(this.xi===!0&&(this.xi=!1,this.bc=!1,this.Gn.clear(),e.hF()&&this.k.requestUpdate()),!this.Ci){e.ue.clear(),e.ex(this.k);return}if(e.Mu(!0),e.ex(null),t===!0){const n=this.Gh.toArray();for(let s=0;s<n.length;s++)n[s].Mu(!0)}}Mu(t){this.Gh.remove(t),this.Gh.count===0&&(this.Ci=!1,this.k.requestUpdate()),t===this.defaultAnimation&&this.k.v("AnimationFinished",this)}Mc(t,e){this.xi&&(!this.Gn.contains("Expand Tree")&&!this.Gn.contains("Expand SubGraph")||(this.dn.Mc(t,e),this.HC(t)))}Sc(t,e){this.xi&&(!this.Gn.contains("Collapse Tree")&&!this.Gn.contains("Collapse SubGraph")||(this.dn.Sc(t,e),this.dn.CM(e,"position",e.position,e.position),this.HC(t)))}qC(t,e){!this.xi||t.equals(e)||this.SM()||(this.k.Vh||(t=e.copy()),this.dn.CM(this.k,"position",t,e))}WC(t,e){this.xi&&(this.SM()||this.dn.add(this.k,"scale",t,e))}LM(t,e){t.Ce&&(t.Sr=e,this.Fm.add(t))}HC(t){const e=t.findLinksConnected();for(;e.next();){const n=e.value;n.Ce&&(n.Sr=n.points.copy(),this.Fm.add(n))}}get isEnabled(){return this.Oi}set isEnabled(t){this.Oi=t,t&&this.Gh.each(e=>{!e.isAnimating&&e.runCount===1/0&&e.start()})}get duration(){return this.To}set duration(t){t<1&&o.tt(t,">= 1",ao,"duration"),this.To=t}get isAnimating(){return this.Ci}get isTicking(){return this.Am}get isInitial(){return this.Pr}set isInitial(t){this.Pr=t}get defaultAnimation(){return this.dn}get activeAnimations(){return this.Gh}get initialAnimationStyle(){return this.kc}set initialAnimationStyle(t){this.kc=t}static defineAnimationEffect(t,e){ao.nx.add(t,e)}static AM(t,e,n,s,r){t===null&&(t=[0,0,0,0]),e===null&&(e=[0,0,0,0]);let a=t[0],u=t[1];const h=t[2],f=t[3];let m=e[0],y=e[1];const x=e[2],S=e[3];h===0||h===100?(a=m,u=y):(x===0||x===100)&&(m=a,y=u),Math.abs(m-a)>180&&(m>a?a+=360:m+=360);const E=r(n,a,m-a,s)%360,L=r(n,u,y-u,s),D=r(n,h,x-h,s),F=r(n,f,S-f,s);return"hsla("+E+", "+L+"%, "+D+"%, "+F+")"}};k(ao,"nx",new z),(()=>{const t=ao.nx,e=(n,s,r,a,u,h)=>{n.position=new T(a(u,s.x,r.x-s.x,h),a(u,s.y,r.y-s.y,h))};t.add("position:diagram",e),t.add("position",e),t.add("position:part",(n,s,r,a,u,h)=>{u<h?n.yc(a(u,s.x,r.x-s.x,h),a(u,s.y,r.y-s.y,h),!1):n.position=new T(a(u,s.x,r.x-s.x,h),a(u,s.y,r.y-s.y,h))}),t.add("location",(n,s,r,a,u,h)=>{u<h?n.yc(a(u,s.x,r.x-s.x,h),a(u,s.y,r.y-s.y,h),!0):n.location=new T(a(u,s.x,r.x-s.x,h),a(u,s.y,r.y-s.y,h))}),t.add("position:placeholder",(n,s,r,a,u,h)=>{u<h?n.yc(a(u,s.x,r.x-s.x,h),a(u,s.y,r.y-s.y,h),!1):n.position=new T(a(u,s.x,r.x-s.x,h),a(u,s.y,r.y-s.y,h))}),t.add("position:nodeCollapse",(n,s,r,a,u,h)=>{const f=n.actualBounds,m=r.actualBounds,y=m.x+m.width/2-f.width/2,x=m.y+m.height/2-f.height/2;u<h?n.yc(a(u,s.x,y-s.x,h),a(u,s.y,x-s.y,h),!1):n.position=new T(a(u,s.x,y-s.x,h),a(u,s.y,x-s.y,h))}),t.add("desiredSize",(n,s,r,a,u,h)=>{n.desiredSize=new _(a(u,s.width,r.width-s.width,h),a(u,s.height,r.height-s.height,h))}),t.add("width",(n,s,r,a,u,h)=>{n.width=a(u,s,r-s,h)}),t.add("height",(n,s,r,a,u,h)=>{n.height=a(u,s,r-s,h)}),t.add("fill",(n,s,r,a,u,h)=>{n.fill=ao.AM(s,r,u,h,a)}),t.add("stroke",(n,s,r,a,u,h)=>{n.stroke=ao.AM(s,r,u,h,a)}),t.add("strokeWidth",(n,s,r,a,u,h)=>{n.strokeWidth=a(u,s,r-s,h)}),t.add("strokeDashOffset",(n,s,r,a,u,h)=>{n.strokeDashOffset=a(u,s,r-s,h)}),t.add("background",(n,s,r,a,u,h)=>{n.background=ao.AM(s,r,u,h,a)}),t.add("opacity",(n,s,r,a,u,h)=>{n.opacity=a(u,s,r-s,h)}),t.add("scale",(n,s,r,a,u,h)=>{n.scale=a(u,s,r-s,h)}),t.add("angle",(n,s,r,a,u,h)=>{n.angle=a(u,s,r-s,h)})})(),k(ao,"Default",1),k(ao,"AnimateLocations",2),k(ao,"None",3);let kt=ao;const Rs=class Rs{constructor(t){k(this,"ox");k(this,"Rm");k(this,"Ci");k(this,"Su");k(this,"To");k(this,"ps");k(this,"JC");k(this,"Nc");k(this,"ue");k(this,"rx");k(this,"ei");k(this,"jn");k(this,"Nu");k(this,"Cc");k(this,"lx");k(this,"hx");k(this,"Pc");k(this,"TM");k(this,"ax");k(this,"gs");k(this,"k");k(this,"DM");k(this,"FM");k(this,"RM");this.k=null,this.gs=null,this.TM=null,this.ax=null,this.DM=!1,this.Ci=!1,this.Pc=!1,this.ei=0,this.jn=0,this.ox=Rs.EaseInOutQuad,this.Rm=Rs.EaseInOutQuad,this.Nu=!1,this.Cc=!1,this.lx=1,this.hx=0,this.To=NaN,this.ps=NaN,this.FM=0,this.Su=null,this.JC=T.Po,this.ue=new z,this.rx=new z,this.Nc=new C,this.RM=1,t&&Object.assign(this,t)}suspend(){this.Pc=!0}advanceTo(t,e){e&&(this.Pc=!1),this.Nu&&t>=this.ps&&(this.Cc=!0,t=t-this.ps),this.FM=t,this.jC(!0),this.gs.ku(),this.k.wr(),this.gs.Pu(),this.k.redraw()}ex(t){if(this.rx.clear(),this.Cc=!1,this.hx=0,this.ps=NaN,this.Nc.count>0&&this.Nc.clear(),t!==null){const e=t.links;for(;e.next();)e.value.Sr=null}}hF(){return this.ue.count>0}start(){if(this.ue.count===0)return this;if(this.Ci)return this;let t=this.k;const e=this.ue.iterator;for(;e.next();){const s=e.key;t===null&&(s instanceof st?t=s:s instanceof ai&&(t=s.diagram))}if(t!==null)this.k=t,this.gs=t.animationManager;else return this;const n=this.gs;return n.isEnabled===!1?this:(this.ps=isNaN(this.To)?n.duration:this.To,this.Rm=this.ox,n.bc&&n.kc===1&&this===n.defaultAnimation&&(this.Rm=Rs.EaseOutExpo,this.ps=isNaN(this.To)?n.duration===600?900:n.duration:this.To),this.RM=t.scrollMode,this.isViewportUnconstrained&&(t.jh=2),n.ku(),this.Nc.each(s=>{s.data=null,t.add(s)}),n.Pu(),this.Ci=!0,this.ei=+new Date,this.jn=this.ei+this.ps,n.nF(this),this)}addTemporaryPart(t,e){return t.Se()?(this.Nc.add(t),this.k=e,this):this}add(t,e,n,s,r){if(this.k===null&&(t instanceof st?this.k=t:t instanceof ai&&t.diagram!==null&&(this.k=t.diagram)),t instanceof Vn){if(!t.isAnimated)return this;e==="position"&&(e="position:part")}return this.CM(t,e,n,s,r),this}CM(t,e,n,s,r){const a=this.ue;let u,h,f;if(t instanceof st&&e==="position"&&(e="position:diagram"),(e==="fill"||e==="stroke"||e==="background")&&(Pt.Fo(n),Pt.vM(),n=[Pt.Ii.n0,Pt.Ii.n1,Pt.Ii.n2,Pt.Ii.n3],Pt.Fo(s),Pt.vM(),s=[Pt.Ii.n0,Pt.Ii.n1,Pt.Ii.n2,Pt.Ii.n3]),a.contains(t))u=a.getValue(t),h=u.ei,f=u.ms,h[e]===void 0&&(h[e]=this.Cu(n)),f[e]=this.Cu(s);else{if(e==="position"&&n.equalsApprox(s))return;h={},f={},h[e]=this.Cu(n),f[e]=this.Cu(s),u=new bn(h,f,r),a.add(t,u)}const m=h[e];m instanceof T&&!m.isReal()&&m.a(this.JC),r&&e.indexOf("position:")===0&&t instanceof Vn?u.cx.location=this.Cu(t.location):r&&(u.cx[e]=this.Cu(n))}Cu(t){return t instanceof T||t instanceof _?t.copy():t}aF(t){const e=this.ue;if(e.contains(t)){const n=e.getValue(t);n.fx=!0}}sx(t){if(!this.Ci)return!1;const e=this.ue.getValue(t);return e!==null&&e.fx}NM(t){if(!this.Ci)return!1;const e=this.ue.getValue(t);return e!==null&&!!(e.ei.position||e.ei["position:part"]||e.ei.location)}oF(){if(this.Nc.count>0)return!0;const t=this.ue.iterator;for(;t.next();){const e=t.key;if(e instanceof ai&&e.diagram!==null||e instanceof st)return!0}return!1}jC(t){if(this.Pc&&!t)return;const e=this.gs;if(this.Ci===!1)return;const n=+new Date;let s=n>this.jn?this.ps:n-this.ei;t&&(s=this.FM,s<this.ps?(this.ei=+new Date-s,this.jn=this.ei+this.ps):s=this.ps),e.ku(),this.YC(s),this.k.wr(!0),e.Pu(),n>this.jn&&(this.Nu&&!this.Cc?(this.ei=+new Date,this.jn=this.ei+this.ps,this.Cc=!0):this.Mu(!1))}YC(t){const e=this.ps,n=this.ue.iterator,s=this.Cc;for(;n.next();){const r=n.key;if(r instanceof ai&&r.diagram===null)continue;const a=n.value,u=s?a.ms:a.ei,h=s?a.ei:a.ms,f=kt.nx;for(const m in h)m==="position"&&(h["position:placeholder"]||h["position:nodeCollapse"])||f.get(m)!==null&&f.get(m)(r,u[m],h[m],this.Rm,t,e,this)}}stop(){return this.Ci?(this.Mu(!0),this):this}Mu(t){if(this.ax!==null&&this.ax.cF(this.TM),!this.Ci)return;const e=this.k,n=this.gs;n.bc=!1,this.Ci=!1,this.Pc=!1,n.ku();const s=this.ue,r=this.Nc.iterator;for(;r.next();)e.remove(r.value);const a=this.Nu,u=s.iterator,h=kt.nx;for(;u.next();){const m=u.key,y=u.value,x=a?y.ms:y.ei,S=a?y.ei:y.ms,E=y.cx;for(const L in S)if(h.get(L)!==null){let D=L;y.ux&&(D==="position:nodeCollapse"||D==="position:placeholder")&&(D="position"),h.get(D)(m,x[L],E[L]!==void 0?E[L]:y.ux?x[L]:S[L],this.Rm,this.ps,this.ps,this)}y.ux&&E.location!==void 0&&m instanceof Vn&&(m.location=E.location),y.fx&&m instanceof Vn&&m.Ei(!1)}this.hx++;const f=!t&&this.lx>this.hx;if(!f&&(this===n.Tm||this===n.defaultAnimation)&&this.ue.clear(),e.gx.clear(),e.pP(!1),e.invalidateDocumentBounds(),e.C(),e.wr(!0),n.defaultAnimation===this){const m=n.Fm.iterator;for(;m.next();)m.value.fF();n.Fm.clear()}if(e.wr(!0),this.isViewportUnconstrained&&(e.scrollMode=this.RM),n.Pu(),f){this.Cc=!1,this.start();return}this.ex(null),n.Mu(this),this.Su&&this.Su(this),e.requestUpdate()}Mc(t,e){const n=e.actualBounds;let s=null;if(e instanceof Wt&&(s=e.placeholder),s!==null&&s.visible){const r=s.getDocumentPoint(B.TopLeft),a=s.padding;r.x+=a.left,r.y+=a.top,this.add(t,"position",r,t.position,!1)}else this.add(t,"position",new T(n.x+n.width/2,n.y+n.height/2),t.position,!1);this.add(t,"scale",.01,t.scale,!1),t instanceof Wt&&this.uF(t,e)}uF(t,e){const n=t.memberParts;for(;n.next();){const s=n.value;s instanceof _t&&this.Mc(s,e)}}Sc(t,e){if(!t.isVisible())return;let n=null;if(e instanceof Wt&&(n=e.placeholder),n!==null&&n.visible){const s=n.getDocumentPoint(B.TopLeft),r=n.padding;s.x+=r.left,s.y+=r.top,this.add(t,"position:placeholder",t.position,s,!0)}else this.add(t,"position:nodeCollapse",t.position,e,!0);this.add(t,"scale",t.scale,.01,!0),this.aF(t),t instanceof Wt&&this.dF(t,e)}dF(t,e){const n=t.memberParts;for(;n.next();){const s=n.value;s instanceof _t&&this.Sc(s,e)}}get duration(){return this.To}set duration(t){o.i(t,"number",Rs,"duration"),t<1&&o.tt(t,">= 1",Rs,"duration"),this.To=t}get reversible(){return this.Nu}set reversible(t){this.Nu=t}get runCount(){return this.lx}set runCount(t){t>0?this.lx=t:o.o("Animation.runCount value must be a positive integer.")}get finished(){return this.Su}set finished(t){this.Su!==t&&(t!==null&&o.i(t,"function",Rs,"finished"),this.Su=t)}get easing(){return this.ox}set easing(t){this.ox=t}get isViewportUnconstrained(){return this.DM}set isViewportUnconstrained(t){this.DM=t}get isAnimating(){return this.Ci}getTemporaryState(t){let e=this.rx.get(t);return e===null&&(e={},this.rx.add(t,e)),e}};k(Rs,"EaseLinear",(t,e,n,s)=>n*t/s+e),k(Rs,"EaseInOutQuad",(t,e,n,s)=>(t/=s/2,t<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e)),k(Rs,"EaseInQuad",(t,e,n,s)=>n*(t/=s)*t+e),k(Rs,"EaseOutQuad",(t,e,n,s)=>-n*(t/=s)*(t-2)+e),k(Rs,"EaseInExpo",(t,e,n,s)=>t===0?e:n*Math.pow(2,10*(t/s-1))+e),k(Rs,"EaseOutExpo",(t,e,n,s)=>t===s?e+n:n*(-Math.pow(2,-10*t/s)+1)+e);let Ht=Rs;class bn{constructor(t,e,n){k(this,"ei");k(this,"ms");k(this,"cx");k(this,"ux");k(this,"fx");this.ei=t,this.ms=e,this.cx={},this.ux=n,this.fx=!1}}var hn=(H=>(H[H.Default=1]="Default",H[H.Immediate=2]="Immediate",H[H.Bundled=3]="Bundled",H))(hn||{});const kl=class kl{constructor(t,e,n){k(this,"Me");k(this,"an");k(this,"Lu");k(this,"Lc");this.Me=null,this.an=t,this.Lu=n||1,this.Lc=null,e!==void 0&&(this.Lc=e,n===void 0&&(this.Lu=2))}copy(){const t=new kl(this.an);t.Lu=this.Lu;const e=this.Lc;if(e!==null){const n={};e.duration!==void 0&&(n.duration=e.duration),e.finished!==void 0&&(n.finished=e.finished),e.easing!==void 0&&(n.easing=e.easing),t.Lc=n}return t}get propertyName(){return this.an}set propertyName(t){this.an=t}get animationSettings(){return this.Lc}set animationSettings(t){this.Lc=t}gF(t){const e=this.Lc;e!==null&&(e.duration&&(t.duration=e.duration),e.finished&&(t.finished=e.finished),e.easing&&(t.easing=e.easing))}get startCondition(){return this.Lu}set startCondition(t){this.Lu=t}};k(kl,"Default",1),k(kl,"Immediate",2),k(kl,"Bundled",3);let Vt=kl;class Ke{constructor(t){k(this,"k");k(this,"St");k(this,"Wt");k(this,"Nr");k(this,"Ol");k(this,"Il");k(this,"El");k(this,"Vl");k(this,"Ul");k(this,"Bl");k(this,"zl");k(this,"Xl");k(this,"Kl");k(this,"Yl");k(this,"Gl");k(this,"jl");k(this,"wc");k(this,"Hl");k(this,"mx");k(this,"vm");k(this,"Au");k(this,"At");C.Yi(this),this.k=null,this.At=new w,this.St="",this.Wt=1,this.Nr=!1,this.Ol=!0,this.Il=!0,this.El=!0,this.Vl=!0,this.Ul=!0,this.Bl=!0,this.zl=!0,this.Xl=!0,this.Kl=!0,this.Yl=!0,this.Gl=!0,this.jl=!0,this.wc=!0,this.Hl=!0,this.mx=!0,this.vm=!1,this.Au=[],t&&Object.assign(this,t)}mF(){const t=this.At;for(let e=0;e<t.length;e++)t.r[e].OM(null);t.clear(),this.Au.length=0}Do(t){this.k=t}toString(t){t===void 0&&(t=0);const e='Layer "'+this.name+'"';if(t<=0)return e;let n=0,s=0,r=0,a=0,u=0;const h=this.At.iterator;for(;h.next();){const m=h.value;m instanceof Wt?r++:m instanceof _t?s++:m instanceof Zt?a++:m instanceof Cn?u++:n++}let f="";if(n>0&&(f+=n+" Parts "),s>0&&(f+=s+" Nodes "),r>0&&(f+=r+" Groups "),a>0&&(f+=a+" Links "),u>0&&(f+=u+" Adornments "),t>1){const m=this.At.iterator;for(;m.next();){const y=m.value;f+=`
    `+y.toString();const x=y.data;x!==null&&C.cs(x)&&(f+=" #"+C.cs(x)),y instanceof _t?f+=" "+o.toString(x):y instanceof Zt&&(f+=" "+o.toString(y.fromNode)+" "+o.toString(y.toNode))}}return e+" "+this.At.count+": "+f}findObjectAt(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),this.Hl===!1)return null;let s=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(t)&&(s=!0);const r=T.l(),a=this.At.r,u=a.length;for(let h=u;h--;){const f=a[h];if(s===!0&&f.Ll()===!1||!f.isVisible())continue;r.a(t),r.Ve(f.ys);let m=f.$C(r,e,n);if(m!==null&&(e!==null&&(m=e(m)),m!==null&&(n===null||n(m))))return T.s(r),m}return T.s(r),null}findObjectsAt(t,e,n,s){if(e===void 0&&(e=null),n===void 0&&(n=null),!(s instanceof w)&&!(s instanceof C)&&(s=new C),this.Hl===!1)return s;let r=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(t)&&(r=!0);const a=T.l(),u=this.At.r,h=u.length;for(let f=h;f--;){const m=u[f];if(r===!0&&m.Ll()===!1||!m.isVisible())continue;a.a(t),a.Ve(m.ys);let y=m;m.ZC(a,e,n,s)&&(e!==null&&(y=e(y)),y!==null&&(n===null||n(y))&&s.add(y))}return T.s(a),s}findObjectsIn(t,e,n,s,r){if(e===void 0&&(e=null),n===void 0&&(n=null),s===void 0&&(s=!1),!(r instanceof w)&&!(r instanceof C)&&(r=new C),this.Hl===!1)return r;let a=!1;this.diagram!==null&&this.diagram.viewportBounds.containsRect(t)&&(a=!0);const u=this.At.r,h=u.length;for(let f=h;f--;){const m=u[f];if(a===!0&&m.Ll()===!1||!m.isVisible())continue;let y=m;m.Om(t,e,n,s,r)&&(e!==null&&(y=e(y)),y!==null&&(n===null||n(y))&&r.add(y))}return r}SP(t,e,n,s,r,a,u){if(this.Hl===!1)return r;const h=this.At.r,f=h.length;for(let m=f;m--;){const y=h[m];if(u===!0&&y.Ll()===!1||!a(y)||!y.isVisible())continue;let x=y;y.Om(t,e,n,s,r)&&(e!==null&&(x=e(x)),x!==null&&(n===null||n(x))&&r.add(x))}return r}findObjectsNear(t,e,n,s,r,a){if(n===void 0&&(n=null),s===void 0&&(s=null),r===void 0&&(r=!0),r!==!1&&r!==!0&&((r instanceof w||r instanceof C)&&(a=r),r=!0),!(a instanceof w)&&!(a instanceof C)&&(a=new C),this.Hl===!1)return a;let u=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(t)&&(u=!0);const h=T.l(),f=T.l(),m=this.At.r,y=m.length;for(let x=y;x--;){const S=m[x];if(u===!0&&S.Ll()===!1||!S.isVisible())continue;h.a(t),h.Ve(S.ys),f.e(t.x+e,t.y),f.Ve(S.ys);let E=S;S.QC(h,f,n,s,r,a)&&(n!==null&&(E=n(E)),E!==null&&(s===null||s(E))&&a.add(E))}return T.s(h),T.s(f),a}IM(){return this.At.r}Vs(t,e){if(!this.visible)return;const n=this.At.r,s=n.length;if(s===0)return;const r=o.rt(),a=o.rt();for(let u=0;u<s;u++){const h=n[u];if(h.EM=u,h instanceof Zt){if(h.Ce===!1)continue}else if(h instanceof Cn&&h.adornedPart!==null)continue;const f=h.actualBounds;h.isVisible()&&f.intersectsRectPlus(e,10)?(h.Vs(!0),r.push(h)):(h.Vs(!1),h.adornments!==null&&h.adornments.count>0&&a.push(h))}for(let u=0;u<r.length;u++){const h=r[u];h.VM();const f=h.adornments;for(;f.next();){const m=f.value;m.ut(1/0,1/0),m.zt(),m.Vs(!0)}}for(let u=0;u<a.length;u++)a[u].VM();o.it(r),o.it(a)}Tu(t){let e=1;return this.Wt!==1&&(e=t.globalAlpha,t.globalAlpha=e*this.Wt),e}_C(t,e){for(let n=0;n<e;n++)t[n].Du()}Gi(t,e,n){if(!this.visible||this.Wt===0||(n===void 0&&(n=!0),!n&&this.isTemporary))return;const s=this.At.r,r=s.length;if(r===0)return;t.Nr&&this._C(s,r);const a=this.Tu(t),u=this.Au;u.length=0;const h=e.scale,f=I.l();for(let m=0;m<r;m++){const y=s[m];this.Im(t,y,e,u,h,f,!0)}I.s(f),t.Nr&&this._C(s,r),t.globalAlpha=a}rE(t,e,n){if(!this.visible||this.Wt===0)return;const s=this.At.r,r=s.length;if(r===0)return;const a=this.Tu(t),u=this.Au;u.length=0;const h=e.scale,f=I.l();for(let m=0;m<r;m++){const y=s[m];n.contains(y)||this.Im(t,y,e,u,h,f,!0)}I.s(f),t.globalAlpha=a}pF(t,e,n,s){if(!this.visible||this.Wt===0||!s&&this.isTemporary)return;const r=this.At.r,a=r.length;if(a===0)return;const u=this.Tu(t),h=this.Au;h.length=0;const f=e.scale,m=I.l();for(let y=0;y<a;y++){const x=r[y];n.contains(x)&&this.Im(t,x,e,h,f,m,!1)}I.s(m),t.globalAlpha=u}yF(t,e,n,s,r){if(!this.visible||this.opacity===0)return;const a=this.diagram.grid.part;if(!s&&this.isTemporary){if(r&&a.layer===this){const u=this.Tu(t);a.Gi(t,n),t.globalAlpha=u}}else{const u=this.Tu(t),h=n.scale,f=I.l(),m=this.At.r,y=m.length;for(let x=0;x<y;x++){const S=m[x];!r&&S===a||this.Im(t,S,n,null,h,f,!1)}I.s(f),t.globalAlpha=u}}lE(t,e,n){if(!this.visible||this.Wt===0)return;const s=this.Tu(t),r=this.Au;r.length=0;const a=e.scale,u=I.l(),h=this.At.r,f=h.length,m=n.length;for(let y=0;y<f;y++){const x=h[y],S=x.Hh(x.actualBounds);this.wF(S,n,m,a)&&this.Im(t,x,e,r,a,u,!0)}I.s(u),t.globalAlpha=s}Im(t,e,n,s,r,a,u){if(u&&!e.Ll()){t.removePartFromView(e);return}if(s!==null&&e instanceof Zt&&(e.isOrthogonal&&s.push(e),e.Ce===!1)){t.removePartFromView(e);return}let h=!1,f=e.containingGroup;for(;f!==null;)h?f.si!==null&&a.intersectRect(f.si):f.si!==null&&(h=!0,a.a(f.si)),f=f.containingGroup;const m=e.actualBounds;let y=!1;if(h&&e.isVisible()){if(!a.intersectsRect(m)){t.removePartFromView(e);return}y=!a.containsRect(m)}y&&(t.save(),t instanceof Gi?t.partClipRect=a.copy():(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.clip())),m.width*r>n.Em||m.height*r>n.Em?e.Gi(t,n):this.xF(t,e),y&&(t.restore(),t.clearContextCache(!0))}xF(t,e){const n=e.actualBounds,s=e.naturalBounds;if(n.width===0||n.height===0||isNaN(n.x)||isNaN(n.y)||!e.isVisible())return;const r=e.L;if(e.background===null&&(e.gn(t,"rgba(0,0,0,0.3)",!0,!1,s,n),t.fillRect(n.x,n.y,n.width,n.height)),e.background!==null&&(t.transform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),e.gn(t,e.background,!0,!1,s,n),t.fillRect(0,0,s.width/2,s.height/2),!r.vk())){const a=1/(r.m11*r.m22-r.m12*r.m21);t.transform(r.m22*a,-r.m12*a,-r.m21*a,r.m11*a,a*(r.m21*r.dy-r.m22*r.dx),a*(r.m12*r.dx-r.m11*r.dy))}}wF(t,e,n,s){const r=2/s,a=4/s;for(let u=0;u<n;u++){const h=e[u];if(!(h.width===0||h.height===0)&&t.intersects(h.x-r,h.y-r,h.width+a,h.height+a))return!0}return!1}t(t,e,n,s,r){const a=this.diagram;a!==null&&a.raiseChangedEvent(2,t,this,e,n,s,r)}qh(t,e,n){const s=this.At;if(e.OM(this),t>=s.count)t=s.count;else if(s.elt(t)===e)return-1;s.insertAt(t,e),e.Vm(n);const r=this.diagram;return r!==null&&(n?r.C():r.qh(e)),this.px(t,e),t}te(t,e,n){if(!n&&e.layer!==this&&e.layer!==null)return e.layer.te(t,e,n);const s=this.At;if(t<0||t>=s.length){if(t=s.indexOf(e),t<0)return-1}else if(s.elt(t)!==e&&(t=s.indexOf(e),t<0))return-1;e.Um(n),s.removeAt(t);const r=this.diagram;return r!==null&&(n?r.C():r.te(e)),e.OM(null),t}px(t,e){t=this.bF(t,e),e instanceof Wt&&this.kF(t,e),e.svg!==null&&e.svg.remove()}bF(t,e){const n=e.zOrder;if(isNaN(n))return t;const s=this.At,r=s.count;if(r<=1)return t;if(t<0&&(t=s.indexOf(e)),t<0)return-1;let a=t-1,u=NaN;for(;a>=0&&(u=s.elt(a).zOrder,!!isNaN(u));)a--;let h=t+1,f=NaN;for(;h<r&&(f=s.elt(h).zOrder,!!isNaN(f));)h++;if(!isNaN(u)&&u>n)for(;;){if(a===-1||u<=n)return a++,a===t?t:(s.removeAt(t),s.insertAt(a,e),a);for(u=NaN;--a>=0&&(u=s.elt(a).zOrder,!!isNaN(u)););}else if(!isNaN(f)&&f<n)for(;;){if(h===r||f>=n)return h--,h===t?t:(s.removeAt(t),s.insertAt(h,e),h);for(f=NaN;++h<r&&(f=s.elt(h).zOrder,!!isNaN(f)););}return t}kF(t,e){if(e===null||!isNaN(e.zOrder))return;this.PF(t,e);const n=e.containingGroup;n!==null&&this.px(-1,n)}PF(t,e){if(e.memberParts.count===0)return;let n=-1;const s=this.At.r,r=s.length;for(let a=0;a<r;a++){const u=s[a];if(u===e&&(t=a,n>=0)||n<0&&u.containingGroup===e&&(n=a,t>=0))break}if(!(n<0)&&n<t){const a=this.At;a.removeAt(t),a.insertAt(n,e)}}get parts(){return this.At.iterator}get partsBackwards(){return this.At.iteratorBackwards}get diagram(){return this.k}get name(){return this.St}set name(t){const e=this.St;if(e!==t){const n=this.diagram;if(n!==null){e===""&&o.o("Cannot rename default Layer to: "+t);const r=n.layers;for(;r.next();)r.value.name===t&&o.o("Layer.name is already present in this diagram: "+t)}this.St=t,this.t("name",e,t);const s=this.At.iterator;for(;s.next();){const r=s.value;r.layerName=this.St}}}get opacity(){return this.Wt}set opacity(t){const e=this.Wt;if(e!==t){(t<0||t>1)&&o.tt(t,"0 <= value <= 1",Ke,"opacity"),this.Wt=t;const n=this.diagram;n!==null&&n.C(),this.t("opacity",e,t)}}get isViewportAligned(){return this.vm}set isViewportAligned(t){const e=this.vm;e!==t&&(this.vm=t,this.diagram&&(this.tL(),this.diagram.C()),this.t("isViewportAligned",e,t),t&&(this.isInDocumentBounds=!1))}tL(){if(!this.vm)return;const t=this.diagram,e=this.At.r,n=e.length,s=t.kt,r=t.Pt;for(let a=0;a<n;a++){const u=e[a],h=u.naturalBounds.width,f=u.naturalBounds.height;let m=u.alignment;(m.isDefault()||!m.isSpot())&&(m=B.BottomRight);let y=u.alignmentFocus;y.isDefault()&&(y=new B(m.x,m.y));const x=m.x*s+m.offsetX-(y.x*h+y.offsetX),S=m.y*r+m.offsetY-(y.y*f+y.offsetY),E=T.X(x,S);t.MF(E),u.yc(E.x,E.y,!0),T.s(E),u.K=1/t.scale}}get isTemporary(){return this.Nr}set isTemporary(t){const e=this.Nr;e!==t&&(this.Nr=t,this.t("isTemporary",e,t))}get visible(){return this.wc}set visible(t){const e=this.wc;if(e!==t){this.wc=t;const n=this.At.iterator;for(;n.next();)n.value.Ei(t);const s=this.diagram;s!==null&&s.C(),this.t("visible",e,t)}}get pickable(){return this.Hl}set pickable(t){const e=this.Hl;e!==t&&(this.Hl=t,this.t("pickable",e,t))}get isInDocumentBounds(){return this.mx}set isInDocumentBounds(t){const e=this.mx;e!==t&&(this.mx=t,this.diagram!==null&&this.diagram.invalidateDocumentBounds(),this.t("isInDocumentBounds",e,t))}get allowCopy(){return this.Ol}set allowCopy(t){const e=this.Ol;e!==t&&(this.Ol=t,this.t("allowCopy",e,t))}get allowDelete(){return this.Il}set allowDelete(t){const e=this.Il;e!==t&&(this.Il=t,this.t("allowDelete",e,t))}get allowTextEdit(){return this.El}set allowTextEdit(t){const e=this.El;e!==t&&(this.El=t,this.t("allowTextEdit",e,t))}get allowGroup(){return this.Vl}set allowGroup(t){const e=this.Vl;e!==t&&(this.Vl=t,this.t("allowGroup",e,t))}get allowUngroup(){return this.Ul}set allowUngroup(t){const e=this.Ul;e!==t&&(this.Ul=t,this.t("allowUngroup",e,t))}get allowLink(){return this.Bl}set allowLink(t){const e=this.Bl;e!==t&&(this.Bl=t,this.t("allowLink",e,t))}get allowRelink(){return this.zl}set allowRelink(t){const e=this.zl;e!==t&&(this.zl=t,this.t("allowRelink",e,t))}get allowMove(){return this.Xl}set allowMove(t){const e=this.Xl;e!==t&&(this.Xl=t,this.t("allowMove",e,t))}get allowReshape(){return this.Kl}set allowReshape(t){const e=this.Kl;e!==t&&(this.Kl=t,this.t("allowReshape",e,t))}get allowResize(){return this.Yl}set allowResize(t){const e=this.Yl;e!==t&&(this.Yl=t,this.t("allowResize",e,t))}get allowRotate(){return this.Gl}set allowRotate(t){const e=this.Gl;e!==t&&(this.Gl=t,this.t("allowRotate",e,t))}get allowSelect(){return this.jl}set allowSelect(t){const e=this.jl;e!==t&&(this.jl=t,this.t("allowSelect",e,t))}}var wt=(H=>(H[H.None=1]="None",H[H.Uniform=2]="Uniform",H[H.UniformToFill=3]="UniformToFill",H))(wt||{}),it=(H=>(H[H.All=1]="All",H[H.NotDirected=2]="NotDirected",H[H.NotDirectedFast=3]="NotDirectedFast",H[H.NotUndirected=4]="NotUndirected",H[H.DestinationTree=5]="DestinationTree",H[H.SourceTree=6]="SourceTree",H))(it||{}),$e=(H=>(H[H.Document=1]="Document",H[H.Infinite=2]="Infinite",H))($e||{}),et=(H=>(H[H.TreeParent=1]="TreeParent",H[H.AllParents=2]="AllParents",H[H.AnyParents=3]="AnyParents",H))(et||{});const ut=class ut{constructor(t,e){k(this,"gs");k(this,"gi");k(this,"UM");k(this,"yx");k(this,"Cr");k(this,"Fu");k(this,"wx");k(this,"xx");k(this,"bx");k(this,"kx");k(this,"Px");k(this,"Mx");k(this,"Ac");k(this,"jh");k(this,"Sx");k(this,"Nx");k(this,"Cx");k(this,"ql");k(this,"Tc");k(this,"Lr");k(this,"Bm");k(this,"Lx");k(this,"Ax");k(this,"Ru");k(this,"Hn");k(this,"Ar");k(this,"Wh");k(this,"Ro");k(this,"zm");k(this,"Dc");k(this,"Xm");k(this,"Fc");k(this,"vu");k(this,"Tr");k(this,"qn");k(this,"BM");k(this,"zM");k(this,"Tx");k(this,"Dx");k(this,"XM");k(this,"Fx");k(this,"KM");k(this,"YM");k(this,"GM");k(this,"Rx");k(this,"Km");k(this,"Dr");k(this,"Fr");k(this,"Rr");k(this,"vr");k(this,"Or");k(this,"Ir");k(this,"vx");k(this,"Er");k(this,"Ox");k(this,"Vr");k(this,"Ur");k(this,"Br");k(this,"zr");k(this,"Ix");k(this,"jM");k(this,"vo");k(this,"HM");k(this,"Ex");k(this,"Vx");k(this,"qM");k(this,"Si");k(this,"WM");k(this,"JM");k(this,"$M");k(this,"Os");k(this,"Oo");k(this,"Oi");k(this,"Ux");k(this,"Ol");k(this,"Il");k(this,"Bx");k(this,"zx");k(this,"El");k(this,"Vl");k(this,"Ul");k(this,"Xx");k(this,"Bl");k(this,"zl");k(this,"Xl");k(this,"Kl");k(this,"Yl");k(this,"Gl");k(this,"jl");k(this,"Kx");k(this,"Yx");k(this,"ZM");k(this,"Ou");k(this,"Iu");k(this,"Gx");k(this,"jx");k(this,"Hx");k(this,"qx");k(this,"Ym");k(this,"Wx");k(this,"Jx");k(this,"$x");k(this,"Zt");k(this,"QM");k(this,"Zx");k(this,"_M");k(this,"Eu");k(this,"mn");k(this,"Wn");k(this,"ie");k(this,"Jn");k(this,"iL");k(this,"Wl");k(this,"tS");k(this,"iS");k(this,"Qx");k(this,"Vu");k(this,"Gm");k(this,"_x");k(this,"Xr");k(this,"Jl");k(this,"Jh");k(this,"SF");k(this,"NF");k(this,"jm");k(this,"tb");k(this,"ib");k(this,"is");k(this,"Hm");k(this,"qm");k(this,"Uu");k(this,"$l");k(this,"Rc");k(this,"Wm");k(this,"Kr");k(this,"$h");k(this,"eS");k(this,"Jm");k(this,"Ht");k(this,"L");k(this,"ze");k(this,"Mr");k(this,"Vi");k(this,"ws");k(this,"CF");k(this,"Zl");k(this,"Yr");k(this,"Pl");k(this,"Gr");k(this,"Zh");k(this,"vc");k(this,"sS");k(this,"Bu");k(this,"Qh");k(this,"zu");k(this,"Gt");k(this,"Ql");k(this,"st");k(this,"K");k(this,"Xu");k(this,"kt");k(this,"Pt");k(this,"dt");k(this,"Oc");k(this,"Iw");k(this,"eb");k(this,"_h");k(this,"Ic");k(this,"sb");k(this,"nb");k(this,"ob");k(this,"LF");k(this,"AF");k(this,"Ui");k(this,"Sl");k(this,"Em");k(this,"$m");k(this,"nS");k(this,"oS");k(this,"eL");k(this,"Zm");k(this,"TF");k(this,"DF");k(this,"FF");k(this,"rb");k(this,"RF");k(this,"vF");k(this,"OF");k(this,"ta");k(this,"sL");k(this,"_l");k(this,"ia");k(this,"ea");k(this,"sa");k(this,"na");k(this,"yu");k(this,"Yh");k(this,"ni");k(this,"Tt");k(this,"Ec");k(this,"qk");k(this,"Wk");k(this,"cc");k(this,"Wt");k(this,"pu");k(this,"hb");k(this,"ab");k(this,"cb");k(this,"fb");k(this,"ub");k(this,"Qm");k(this,"hS");k(this,"_m");k(this,"t0");k(this,"i0");k(this,"ix");k(this,"aS");k(this,"db");k(this,"Vc");if(ut.fw||(ut.Ok(),ut.fw=!0),C.Yi(this),ut.oL(this),this.Ht=!0,this.Tt=null,this.kt=0,this.Pt=0,this.dt=null,ut.isUsingDOM()){const s=this,r=()=>{s.Ni(i.document,"DOMContentLoaded",r,!1),s.setRTL()};i.document.body!==null?this.setRTL():s.Bt(i.document,"DOMContentLoaded",r,!1)}this.Oc=null,ut.cS("Model",Ea);const n=this;return this.WM=s=>n.partManager.doModelDataChanged(s),this.JM=s=>n.partManager.doModelChanged(s),this.sb=null,this.nb=null,this.rL(),this.model=nn.initDiagramModel(),this.db=null,this.themeManager=new Au,this.vo=!0,this.lL(),this.layout=new es,this.vo=!1,this.TF=null,this.DF=null,this.FF=null,this.rb=null,this.RF=null,this.vF=null,this.OF=null,this.ta=null,this.sL=null,this._l=null,this.ia=null,this.ea=null,this.sa=null,this.na=null,this.yu=()=>{},this.Yh=null,this.Uu=!1,this.Ec=new Ve(this),t!==void 0&&(typeof t=="string"||i.Element&&t instanceof Element?this.fS(t):e=t),e&&this.setProperties(e),this.Ht=!1,this.requestUpdate(),this}KD(){return this.dt!==null}get renderer(){return this.Rc}set renderer(t){if(this instanceof mi)return;t===""&&(t="default");const e=t.toLowerCase(),n=this.Rc;if(e===n)return;this.Rc=e;let s=null;e==="default"||e==="canvas"?(s=this.$l.get("svg"),s!==null&&s.Ft.remove(),this.dt&&(this.ni=this.dt.ci)):e==="svg"?(this.$l.contains("svg")?s=this.$l.get("svg"):(s=new no(this,i.document),this.addRenderer("svg",s)),this.div!==null&&this.div.appendChild(s.Ft),this.ni=s.ci,this.dt&&(this.dt.ci.setTransform(this.Ui,0,0,this.Ui,0,0),this.dt.ci.clearRect(0,0,this.kt,this.Pt))):e==="debug"&&(this.$l.contains("SVG")||(s=new no(this,i.document),this.addRenderer("SVG",s),s.Ft.style.backgroundColor="whitesmoke",this.div!==null&&this.div.after(s.Ft))),this.Ht||this.redraw()}rL(){this.Vc=new w,this.setupRouters(),this.gs=new kt,this.gs.Do(this),this.gi=17,this.UM=!1,this.Xu=!1,this.yx="default",this.Gt=new w,this.$l=new z,this.Rc="default",this.resetRenderingHints(),this.IF(),this.Wt=1,this.st=new T(NaN,NaN).g(),this.ix=new T(NaN,NaN),this.K=1,this.Jm=1,this.wx=new T(NaN,NaN).g(),this.xx=NaN,this.bx=1e-4,this.kx=100,this.L=new G,this.Px=new T(NaN,NaN).g(),this.Mx=new I(NaN,NaN,NaN,NaN).g(),this.Ac=new K(0,0,0,0).g(),this.jh=1,this.Sx=!1,this.Nx=null,this.Cx=null,this.ql=1,this.Tc=B.Default,this.Lr=1,this.Bm=B.Default,this.Lx=B.None,this.Ax=B.None,this.ze=!0,this.Ru=!1,this.Hn=new Set,this.Ar=new C,this.Wh=new C,this.Ro=!1,this.Ql=new z,this.Bu=!0,this.zm=250,this.Dc=-1,this.Xm=new K(16,16,16,16).g(),this.Mr=!1,this.Fc=!1,this.vu=!0,this.Wm=new ve,this.Wm.diagram=this,this.Kr=new ve,this.Kr.diagram=this,this.$h=new ve,this.$h.diagram=this,this.Tr=null,this.qn=null,this.Iw=!1,this.EF(),this.Gr=new C,this.Tx=!0,this.Dx=1,this.XM=!1,this.Fx=1,this.Rx="auto",this.Km="auto",this.Dr=null,this.Fr=null,this.Rr=null,this.vr=null,this.Or=null,this.Ir=null,this.vx=null,this.Er=null,this.Ox=!1,this.Vr=null,this.Ur=null,this.Br=null,this.zr=null,this.Ix=!1,this.eb={},this._h=[null,null],this.vo=!1,this.HM=!1,this.Ex=!1,this.Vx=!1,this.qM=!0,this.ws=!1,this.Qh=!1,this.$M=!0,this.Os=-2,this.Zl=new z,this.zu=new w,this.Oo=!1,this.Oi=!0,this.Ux=!0,this.Ol=!0,this.Il=!0,this.Bx=!1,this.zx=!0,this.El=!0,this.Vl=!0,this.Ul=!0,this.Xx=!0,this.Bl=!0,this.zl=!0,this.Xl=!0,this.Kl=!0,this.Yl=!0,this.Gl=!0,this.jl=!0,this.Kx=!0,this.Yx=!0,this.ZM=!1,this.Ic=!1,this.Ou=!0,this.Iu=!0,this.Gx=!0,this.jx=!0,this.Hx=16,this.qx=16,this.Ym=!1,this.Wx=!1,this.Jx=0,this.$x=0,this.Zt=new K(5).g(),this.QM=new C().g(),this.Zx=999999999,this._M=new C().g(),this.Zh=!0,this.Eu=!0,this.vc=!0,this.mn=!1,this.Wn=!1,this.Yr=!0,this.Pl=!1,this.Jn=!1,this.iL=new C,this.sS=new C,this.Wl=null,this.tS=new _(8,8),this.iS=999,this.qk=1,this.Wk=0,this.Vi={scale:1,position:new T,bounds:new I,canvasSize:new _,newCanvasSize:new _,isScroll:!1},this.Vi.canvasSize=this.Vi.canvasSize,this.Vi.newCanvasSize=this.Vi.newCanvasSize,this.Vi.isScroll=!1,this.Qx=new I(NaN,NaN,NaN,NaN).g(),this.Vu=new _(NaN,NaN).g(),this.Gm=new I(NaN,NaN,NaN,NaN).g(),this._x=!1,this.VF(),this.is=null,this.Hm=!1,this.cc=null,this.partManager=new Ea,this.toolManager=new Ne,this.toolManager.initializeStandardTools(),this.defaultTool=this.toolManager,this.currentTool=this.defaultTool,this.ab=null,this.cb=new zn,this.fb=null,this.ub=null,this.hb=!1,this.pu=!1,this.commandHandler=new Un,this.t0=null,this.i0=T.Ck,this.aS=!1,this.Ui=1,this.Sl=null,this.Em=1,this.Qm=0,this.hS=[0,0,0,0,0],this._m=0,this.$m=1,this.nS=0,this.oS=new T,this.eL=500,this.qm=new T,this.Zm=!1}static isUsingDOM(){return ut.hL}static useDOM(t){ut.hL=t?i.document!==void 0:!1}clear(){this.animationManager.stopAnimation(),this.model.clear(),ut.aL(),this.cL(!1),this.zu.clear(),this.fL(),this.Wl=null,this.invalidateDocumentBounds(),this.ensureBounds(),this.C()}cL(t){this.animationManager.stopAnimation(!0),this.QM=new C().g(),this._M=new C().g();const e=this.skipsUndoManager,n=this.Si!==null&&this.Si!==void 0;n&&(this.skipsUndoManager=!0);let s=null;this.is!==null&&(s=this.is.part,s!==null&&this.remove(s));const r=[],a=this.Gt.length;if(t){for(let u=0;u<a;u++){const h=this.Gt.r[u].parts;for(;h.next();){const f=h.value;f!==s&&f.data===null&&r.push(f)}}for(let u=0;u<r.length;u++){const h=r[u];this.remove(h)}}for(let u=0;u<a;u++)this.Gt.r[u].mF();return this.partManager.clear(),this.Hn.clear(),this.Ar.clear(),this.Wh.clear(),this.Ql.clear(),this.Gr.clear(),this.cc=null,this.zu.clear(),this.fL(),o.Sk=[],s!==null&&(this.add(s),this.partManager.parts.remove(s)),n&&(this.skipsUndoManager=e),r}static aL(){ut.e0=null,ut.gb=""}static hE(){return null}reset(){this.clear(),this.Ht=!0,this.rL(),this.themeManager=new Au,this.jr(),this.vo=!0,this.lL(),this.layout=new es,this.vo=!1,this.model=nn.initDiagramModel(),this.model.undoManager=new te,this.Uu=!1,this.Ht=!1,this.C()}VF(){this.Xr=new z,this.Xr.add("",new _t().add(new yi({stroke:"black",font:"10pt sans-serif"}).bind("text","",o.toString).theme("stroke","text").theme("font","normal"))),this.Xr.add("Comment",new _t().add(new yi({stroke:"brown",font:"10pt sans-serif"}).bind("text","",o.toString).theme("stroke","comment").theme("font","normal"))),this.Xr.add("LinkLabel",new _t({selectable:!1,avoidable:!1}).add(new cn("Ellipse",{fill:"black",stroke:null,desiredSize:new _(3,3).et()}).theme("fill","link"))),this.Jh=new z,this.Jh.add("",new Wt(Ut.Vertical,{selectionObjectName:"GROUPPANEL"}).add(new yi({stroke:"black",font:"bold 12pt sans-serif"}).bind("text","",o.toString).theme("stroke","text").theme("font","bold"),new Ut(Ut.Auto,{name:"GROUPPPANEL"}).add(new cn({fill:"rgba(128,128,128,0.2)",stroke:"black",strokeWidth:1}).theme("fill","group").theme("stroke","outline").theme("strokeWidth","group"),new Gs({padding:5}).theme("padding","group")))),this.Jl=new z,this.Jl.add("",new Zt().add(new cn({isPanelMain:!0,stroke:"black"}).theme("stroke","link"),new cn({toArrow:"Standard",fill:"black",stroke:null,strokeWidth:0}).theme("toArrow").theme("fill","link"))),this.Jl.add("Comment",new Zt().add(new cn({isPanelMain:!0,stroke:"brown"}).theme("stroke","comment"))),this.jm=new Cn(Ut.Auto).add(new cn({fill:null,stroke:"dodgerblue",strokeWidth:3}).theme("stroke","selection").theme("strokeWidth","selection"),new Gs({margin:1.5}).theme("margin","selection","numbers",null,t=>t?new K(t/2):1.5)),this.tb=this.jm,this.ib=new Cn(Ut.Link).add(new cn({isPanelMain:!0,fill:null,stroke:"dodgerblue",strokeWidth:3}).theme("stroke","selection").theme("strokeWidth","selection"))}setRTL(t){let e=t===void 0?this.div:t;e===null&&(e=i.document.body);const n=o.en("div");n.dir="rtl",n.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",n.textContent="A",e.appendChild(n);let s="reverse";n.scrollLeft>0?s="default":(n.scrollLeft=1,n.scrollLeft===0&&(s="negative")),e.removeChild(n),this.yx=s}setScrollWidth(t){let e=t===void 0?this.div:t;e===null&&(e=i.document.body);let n=0;if(ut.isUsingDOM()){let s=ut.lS,r=ut.rS;s===null&&(ut.lS=o.en("p"),s=ut.lS,s.style.width="100%",s.style.height="200px",s.style.boxSizing="content-box",ut.rS=o.en("div"),r=ut.rS,r.style.position="absolute",r.style.visibility="hidden",r.style.width="200px",r.style.height="150px",r.style.boxSizing="content-box",r.appendChild(s)),r.style.overflow="hidden",e.appendChild(r);const a=s.offsetWidth;r.style.overflow="scroll";let u=s.offsetWidth;a===u&&(u=r.clientWidth),e.removeChild(r),n=a-u,n===0&&!o.lr&&(n=11)}this.gi=n,this.UM=!0}li(t){t in wt?this.autoScale=t:o.hr(this,t)}toString(t){t===void 0&&(t=0);let e="";this.div&&this.div.id&&(e=this.div.id);let n='Diagram "'+e+'"';if(t<=0)return n;const s=this.Gt.iterator;for(;s.next();){const r=s.value;n+=`
  `+r.toString(t-1)}return n}static oL(t){ut.lb=t}static pm(){return ut.lb}static fromDiv(t){let e=t;return typeof t=="string"&&(e=i.document.getElementById(t)),e instanceof HTMLDivElement&&ut.ee.has(e)?ut.ee.get(e):null}get div(){return this.Tt}set div(t){if(this.Tt!==t){const e=this.Tt;if(e!==null){if(ut.ee.delete(e),e.goDiagram=void 0,e.go=void 0,e.innerHTML="",this.dt!==null){const s=this.dt.Ft;this.Ni(s,"pointermove",this.ia,!1),this.Ni(s,"pointerdown",this._l,!1),this.Ni(s,"pointerup",this.ea,!1),this.Ni(s,"pointerout",this.sa,!1),this.Ni(s,"pointercancel",this.na,!1),this.dt.dispose()}this.Oc&&(this.Oc.disconnect(),this.Oc=null);const n=this.toolManager;n!==null&&(n.mouseDownTools.each(s=>s.cancelWaitAfter()),n.mouseMoveTools.each(s=>s.cancelWaitAfter()),n.mouseUpTools.each(s=>s.cancelWaitAfter())),n.cancelWaitAfter(),this.currentTool.doCancel(),this.dt=null,this.Ni(i,"resize",this.rb,!1),this.Ni(i,"wheel",this.ta,!0),ut.pm()===this&&ut.oL(null)}else this._l===null&&(this.Jn=!1);if(this.Tt=null,t!==null){const n=ut.ee.get(t);n&&(n.div=null),this.fS(t),this.yu(),this.themeManager&&this.themeManager.UF()}else this.themeManager&&this.themeManager.BF()}}setupRouters(){this.Vc.push(new _M)}fS(t){const e=this;if(!ut.isUsingDOM())return;t==null&&o.o("Diagram setup requires an argument DIV."),e.Tt!==null&&o.o("Diagram has already completed setup."),typeof t=="string"?e.Tt=i.document.getElementById(t):t instanceof HTMLDivElement?e.Tt=t:o.o("No DIV or DIV id supplied: "+t),e.Tt===null&&o.o("Invalid DIV id; could not get element with id: "+t);const n=ut.ee.get(e.Tt);if(n&&n!==this&&o.o("Invalid div id; div already has a Diagram associated with it."),!e.Oc&&i.ResizeObserver){const y=i.ResizeObserver,x=o.Mk(()=>e.requestUpdate(),250,!1);e.Oc=new y(()=>x()),e.Oc.observe(e.Tt)}i.getComputedStyle(e.Tt,null).position==="static"&&(e.Tt.style.position="relative");let s=5;const r="rgba(2"+s+"5, 255, 255, 0)";s--,e.Tt.style["-webkit-tap-highlight-color"]=r,e.Tt.innerHTML="",ut.ee.set(e.Tt,e),e.Tt.goDiagram=e,e.Tt.go=i.go;const a=new io(e);a.style!==void 0&&(a.style.position="absolute",a.style.top="0px",a.style.left="0px",i.getComputedStyle(e.Tt,null).getPropertyValue("direction")==="rtl"&&(e.Xu=!0),a.style.zIndex="2",a.style.userSelect="none",a.style.MozUserSelect="none",a.style.touchAction="none",a.style.letterSpacing="normal !important",a.style.wordSpacing="normal !important",a.style.lang="unknown"),e.dt=a,e.ni=a.ci;const u=e.ni;e.Ui=e.computePixelRatio(),e.viewSize.isReal()||(e.kt=e.Tt.clientWidth||1,e.Pt=e.Tt.clientHeight||1),e.uL(e.kt,e.Pt);const h=e;e.Tt.insertBefore(a.Ft,e.Tt.firstChild);const f=new io(null);if(f.width=1,f.height=1,e.LF=f,e.AF=f.ci,ut.isUsingDOM()){const y=o.en("div"),x=o.en("div");y.style.position="absolute",y.style.overflow="auto",y.style.width=e.kt+"px",y.style.height=e.Pt+"px",y.style.zIndex="1",x.style.position="absolute",x.style.width="1px",x.style.height="1px",e.Tt.appendChild(y),y.appendChild(x),y.onscroll=ut.zF,y.addEventListener("pointerdown",ut.XF),y.k=e,y.KF=!0,y.YF=!0,e.sb=y,e.nb=x}e.yu=o.Mk(()=>{e.Sl=null,e.C()},300,!1),e.rb=o.Mk(()=>{e.MM()},250,!1),e.Yh=y=>(y.preventDefault(),!1),e.ta=y=>{if(!h.isEnabled)return;const x=h.Uc(y,!0);x.bubbles=!0;let S=0,E=0;x.delta=0,y.deltaX!==void 0?(y.deltaX!==0&&(S=y.deltaX>0?1:-1),y.deltaY!==0&&(E=y.deltaY>0?1:-1),x.delta=Math.abs(y.deltaX)>Math.abs(y.deltaY)?-S:-E):y.wheelDeltaX!==void 0?(y.wheelDeltaX!==0&&(S=y.wheelDeltaX>0?-1:1),y.wheelDeltaY!==0&&(E=y.wheelDeltaY>0?-1:1),x.delta=Math.abs(y.wheelDeltaX)>Math.abs(y.wheelDeltaY)?-S:-E):y.wheelDelta!==void 0&&y.wheelDelta!==0&&(x.delta=y.wheelDelta>0?1:-1),h.doMouseWheel(),h.oa(x,y)},e.sL=y=>{if(!h.isEnabled)return;e.Ic=!1,h.Uc(y,!0);const x=h.currentTool;x.cancelWaitAfter(),x.standardMouseOver()},e._l=y=>{if(!h.isEnabled)return;e.Ic=!0;const x=h.eb;x[y.pointerId]===void 0&&(x[y.pointerId]=y);const S=h._h;let E=!1;if(S[0]!==null&&(S[0].pointerId===y.pointerId||S[0].pointerType!==y.pointerType))S[0]=y;else if(S[1]!==null&&S[1].pointerId===y.pointerId)S[1]=y,E=!0;else if(S[0]===null)S[0]=y;else if(S[1]===null)S[1]=y,E=!0;else{y.preventDefault();return}const L=y.pointerType==="touch"||y.pointerType==="pen";L&&(h.Iw=!1,h.Zm=!0);const D=h.GF(y,y,E),F=h.oS,V=L?25:10;if(y.timeStamp-h.nS<h.eL&&!(Math.abs(F.x-y.screenX)>V||Math.abs(F.y-y.screenY)>V)?h.$m++:h.$m=1,D.clickCount=h.$m,h.nS=y.timeStamp,h.oS.setTo(y.screenX,y.screenY),h.doMouseDown(),y.button===1){y.preventDefault();return}h.oa(D,y)},e.ia=y=>{if(!h.isEnabled)return;e.Ic=!0;const x=h._h;if(x[0]!==null&&(x[0].pointerId===y.pointerId||x[0].pointerType!==y.pointerType))x[0]=y;else if(x[1]!==null&&x[1].pointerId===y.pointerId){x[1]=y;return}else if(x[0]===null)x[0]=y;else return;if(x[0].pointerId!==y.pointerId)return;const S=h.jF(y,y,x[1]!==null);h.doMouseMove(),h.oa(S,y)},e.ea=y=>{if(!h.isEnabled)return;e.Ic=!0;const x=y.pointerType==="touch"||y.pointerType==="pen",S=h.eb;if(x&&h.Iw){delete S[y.pointerId],y.preventDefault();return}const E=h._h;if(E[0]!==null&&(E[0].pointerId===y.pointerId||E[0].pointerType!==y.pointerType))E[0]=null;else if(E[1]!==null&&E[1].pointerId===y.pointerId){E[1]=null;return}else return;const L=h.uS(y,!1,!0,!1,!0,!1);let D=i.document.elementFromPoint(y.clientX,y.clientY)||null;D!==null&&D.shadowRoot!==void 0&&D.shadowRoot!==null&&(D=D.shadowRoot.elementFromPoint(y.clientX,y.clientY)),D!==null&&D.k instanceof ut&&D.k!==h&&D.k.s0(y,L),D===null&&(D=y.target),h.s0(y,L),L.clickCount=h.$m,L.targetDiagram=h.dS(y,D),L.targetObject=null,h.doMouseUp(),h.oa(L,y),x&&(h.Zm=!1)},e.sa=y=>{if(!h.isEnabled)return;e.Ic=!1;const x=h.eb;x[y.pointerId]&&delete x[y.pointerId];const S=h._h;if(S[0]!==null&&S[0].pointerId===y.pointerId&&(S[0]=null),S[1]!==null&&S[1].pointerId===y.pointerId&&(S[1]=null),y.pointerType==="touch"||y.pointerType==="pen")return;const E=h.currentTool;E.cancelWaitAfter(),E.standardMouseOver()},e.na=y=>{const x=h._h;x[0]!==null&&x[0].pointerId===y.pointerId?(x[0]=null,h.Zm=!1):x[1]!==null&&x[1].pointerId===y.pointerId&&(x[1]=null)};const m=u;if(e.ob=m.U[o.As("7eba17a4ca3b1a8346")][o.As("78a118b7")](m.U,ut.Ku,s,s),u.clearContextCache(!0),e.HF(),this.Rc==="svg"){const y=this.$l.get("svg");this.Tt.appendChild(y.Ft),this.ni=y.ci}}addEventListener(t,e,n,s){t.addEventListener(e,n,{capture:s,passive:!1})}Bt(t,e,n,s){t.addEventListener(e,n,{capture:s,passive:!1})}removeEventListener(t,e,n,s){t.removeEventListener(e,n,{capture:s})}Ni(t,e,n,s){t.removeEventListener(e,n,{capture:s})}HF(){const t=this;let e=this.dt.Ft;e instanceof HTMLCanvasElement||(e=t.div),this.Bt(e,"pointerdown",t._l,!1),this.Bt(e,"pointermove",t.ia,!1),this.Bt(e,"pointerup",t.ea,!1),this.Bt(e,"pointerout",t.sa,!1),this.Bt(e,"pointercancel",t.na,!1),this.Bt(e,"pointerenter",t.qF,!1),this.Bt(e,"pointerleave",t.WF,!1),this.Bt(e,"wheel",t.ta,!1),this.Bt(e,"keydown",t.JF,!1),this.Bt(e,"keyup",t.$F,!1),this.Bt(e,"blur",t.ZF,!1),this.Bt(e,"focus",t.QF,!1),this.Bt(e,"selectstart",n=>(n.preventDefault(),!1),!1),this.Bt(e,"contextmenu",n=>(n.preventDefault(),!1),!1),this.Bt(i,"resize",t.rb,!1)}Ew(){this.Qm>30&&(this.Sl=1)}pP(t){this.Sl!==null&&(this.Sl=null,t&&this.yu(),this.Qm=0,this.hS=[0,0,0,0,0],this._m=0)}computePixelRatio(){return this.Sl!==null?this.Sl:i.devicePixelRatio||1}get avgSpf(){return this.Qm}doMouseDown(){this.currentTool.doMouseDown()}doMouseMove(){this.currentTool.doMouseMove()}doMouseUp(){this.currentTool.doMouseUp()}doMouseWheel(){this.currentTool.doMouseWheel()}doKeyDown(){this.currentTool.doKeyDown()}doKeyUp(){this.currentTool.doKeyUp()}doFocus(){this.focus()}focus(){if(this.dt)if(this.scrollsPageOnFocus)this.dt.focus();else{const t=i.scrollX,e=i.scrollY;this.dt.focus(),i.scrollTo(t,e)}}QF(t){ut.ee.get(this).v("GainedFocus")}ZF(t){ut.ee.get(this).v("LostFocus")}MM(){if(this.dt===null)return;const t=this.Tt;if(t===null||t.clientWidth===0||t.clientHeight===0)return;this.UM||this.setScrollWidth();const e=this.Wn?this.gi:0,n=this.mn?this.gi:0,s=this.Ui;if(this.Ui=this.computePixelRatio(),this.Ui!==s&&(this.Ru=!0,this.requestUpdate()),t.clientWidth!==this.kt+e||t.clientHeight!==this.Pt+n){this.ra(),this.ze=!0;const r=this.layout;r!==null&&r.isViewportSized&&this.autoScale===1&&(this.Fc=!0,r.invalidateLayout()),this.ws||this.requestUpdate()}}lL(){let t=0,e=new Ke;e.name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,e.isInDocumentBounds=!1,this.Hr(e,t++),e=new Ke,e.name="ViewportBackground",e.isViewportAligned=!0,e.isTemporary=!0,e.isInDocumentBounds=!1,this.Hr(e,t++),e=new Ke,e.name="Background",this.Hr(e,t++),e=new Ke,e.name="",this.Hr(e,t++),e=new Ke,e.name="Foreground",this.Hr(e,t++),e=new Ke,e.name="ViewportForeground",e.isViewportAligned=!0,e.isTemporary=!0,e.isInDocumentBounds=!1,this.Hr(e,t++),e=new Ke,e.name="Adornment",e.isTemporary=!0,e.isInDocumentBounds=!1,this.Hr(e,t++),e=new Ke,e.name="Tool",e.isTemporary=!0,e.isInDocumentBounds=!0,this.Hr(e,t++)}dL(){const t=new Ut(Ut.Grid,{name:"GRID"}).add(new cn("LineH",{stroke:"lightgray",strokeWidth:.5,interval:1}).theme("stroke","gridMinor"),new cn("LineV",{stroke:"lightgray",strokeWidth:.5,interval:1}).theme("stroke","gridMinor"),new cn("LineH",{stroke:"gray",strokeWidth:.5,interval:5}).theme("stroke","gridMajor"),new cn("LineV",{stroke:"gray",strokeWidth:.5,interval:5}).theme("stroke","gridMajor"),new cn("LineH",{stroke:"gray",strokeWidth:1,interval:10}).theme("stroke","gridMajor"),new cn("LineV",{stroke:"gray",strokeWidth:1,interval:10}).theme("stroke","gridMajor")),e=new Vn({layerName:"Grid",zOrder:0,isInDocumentBounds:!1,isAnimated:!1,pickable:!1,locationObjectName:"GRID"}).add(t);return this.add(e),this.partManager.parts.remove(e),t.visible=!1,t}static zF(){const t=ut.ee.get(this.parentElement||this);if(t){if(t.Wx){t.Wx=!1;return}if(!t.isEnabled){t.gL();return}t.diagramScroll(this)}}static XF(t){if(!this.k.isEnabled){this.k.updateScroll();return}this.k.Jx=t.target.scrollTop,this.k.$x=t.target.scrollLeft}diagramScroll(t){if(this.dt===null)return;const e=this.sb,n=this.nb;this.Ym=!0;let s=this.documentBounds,r=this.viewportBounds;const a=this.Ac;let u=s.x-a.left,h=s.y-a.top;const f=s.width+a.left+a.right,m=s.height+a.top+a.bottom;let y=s.right+a.right,x=s.bottom+a.bottom,S=r.x,E=r.y;const L=r.width,D=r.height;let F=r.right,V=r.bottom;const U=this.scale;let W,q=t.scrollLeft;if(this.Xu)switch(this.yx){case"negative":q=q+t.scrollWidth-t.clientWidth;break;case"reverse":q=t.scrollWidth-q-t.clientWidth;break}const le=q;if(L<f||D<m){W=T.X(this.position.x,this.position.y),this.allowHorizontalScroll&&this.$x!==le&&(W.x=le/U+u,this.$x=le),this.allowVerticalScroll&&this.Jx!==t.scrollTop&&(W.y=t.scrollTop/U+h,this.Jx=t.scrollTop),this.position=W,T.s(W),this.Ym=!1,this.Eu=!1;return}if(W=T.l(),t.KF&&this.allowHorizontalScroll&&(u<S&&(this.position=W.e(le+u,this.position.y)),y>F)){const oe=e.scrollWidth-this.kt;this.position=W.e(-oe+le-this.kt/U+y,this.position.y)}if(t.YF&&this.allowVerticalScroll&&(h<E&&(this.position=W.e(this.position.x,t.scrollTop+h)),x>V)){const oe=e.scrollHeight-this.Pt;this.position=W.e(this.position.x,-oe+t.scrollTop-this.Pt/U+x)}T.s(W),this.th(),this.Ym=!1,this.Eu=!1,s=this.documentBounds,r=this.viewportBounds,y=s.right,F=r.right,x=s.bottom,V=r.bottom,u=s.x,S=r.x,h=s.y,E=r.y,L>=f&&u>=S&&y<=F&&(n.style.width="1px"),D>=m&&h>=E&&x<=V&&(n.style.height="1px")}computeBounds(t){return t===void 0&&(t=new I),this.Li(),this.mL(t)}mL(t){if(this.fixedBounds.isReal())return t.a(this.fixedBounds),t.addMargin(this.Zt),t;let e=!0;const n=this.Gt.r,s=n.length;for(let r=0;r<s;r++){const a=n[r];if(!a.visible||!a.isInDocumentBounds)continue;const u=a.At.r,h=u.length;for(let f=0;f<h;f++){const m=u[f];if(!m.isInDocumentBounds||!m.isVisible())continue;const y=m.actualBounds;y.isReal()&&(e?(e=!1,t.a(y)):t.unionRect(y))}}return e&&t.e(0,0,0,0),t.addMargin(this.Zt),t}computePartsBounds(t,e){e===void 0&&(e=!1);let n=null;if(Array.isArray(t))for(let s=0;s<t.length;s++){const r=t[s];!e&&r instanceof Zt||(r.ensureBounds(),n===null?n=r.actualBounds.copy():n.unionRect(r.actualBounds))}else{const s=t.iterator;for(;s.next();){const r=s.value;!e&&r instanceof Zt||(r.ensureBounds(),n===null?n=r.actualBounds.copy():n.unionRect(r.actualBounds))}}return n===null?new I(NaN,NaN,0,0):n}Us(t){if(!t&&!this.Jn||this.Ht||this.dt===null||!this.documentBounds.isReal())return;if(this.Ht=!0,t){const x=this.initialPosition;if(x.isReal()){this.Ht=!1,this.position=x;return}let S=this.initialDocumentSpot,E=this.initialViewportSpot;S.isNoSpot()&&(S=B.TopLeft),E.isNoSpot()&&(E=B.TopLeft);const L=T.l();L.setRectSpot(this.documentBounds,S);const D=this.viewportBounds,F=I.X(0,0,D.width,D.height),V=T.l();V.setRectSpot(F,E),V.e(L.x-V.x,L.y-V.y),this.Ht=!1,this.position=V,I.s(F),T.s(V)}let e=this.ql;t&&this.Lr!==1&&(e=this.Lr);const n=e!==1?this.Yu(e):this.scale,s=this.st.x,r=this.st.y,a=this.kt/n,u=this.Pt/n;let h=this.Tc;const f=this.Bm;if(t&&!h.isSpot()&&(f.isSpot()||f.isDefault())){const x=this.initialDocumentSpot.isSpot()&&this.initialViewportSpot.isSpot();h=f.isDefault()&&!x?B.Center:f}this.gS(this.documentBounds,a,u,h,t);const m=this.scale;this.scale=n,this.Ht=!1;const y=this.viewportBounds;y.equalsApproxTo(s,r,a,u)||this.onViewportBoundsChanged(new I(s,r,a,u),y,m,!1)}Yu(t){const e=this.Jm;if(this.dt===null)return e;this.ensureBounds();const n=this.documentBounds;if(!n.isReal())return e;const s=n.width,r=n.height,a=this.kt+(this.Wn?this.gi:0),u=this.Pt+(this.mn?this.gi:0),h=a/s,f=u/r;let m;return t===2?(m=Math.min(f,h),m>e&&(m=e),m<this.minScale&&(m=this.minScale),m>this.maxScale&&(m=this.maxScale),m):t===3?(m=0,f>h?m=(u-this.gi)/r:m=(a-this.gi)/s,m>e&&(m=e),m<this.minScale&&(m=this.minScale),m>this.maxScale&&(m=this.maxScale),m):this.scale}zoomToFit(){const t=this.jh;this.jh=1,this.scale=this.Yu(2),t!==1&&(this.Us(!1),this.gS(this.documentBounds,this.kt/this.K,this.Pt/this.K,this.Tc,!1)),this.jh=t}zoomToRect(t,e){e===void 0&&(e=2);const n=t.width,s=t.height;if(n===0||s===0||isNaN(n)&&isNaN(s))return;let r=1;if(e===2||e===3)if(isNaN(n))r=this.viewportBounds.height*this.scale/s;else if(isNaN(s))r=this.viewportBounds.width*this.scale/n;else{const a=this.kt,u=this.Pt;e===3?u/s>a/n?r=(u-(this.mn?this.gi:0))/s:r=(a-(this.Wn?this.gi:0))/n:r=Math.min(u/s,a/n)}this.scale=r,this.position=new T(t.x,t.y)}get _F(){return this.Ht}set _F(t){this.Ht=t}alignDocument(t,e){this.ensureBounds();const n=this.documentBounds,s=this.viewportBounds;this.position=new T(n.x+(t.x*n.width+t.offsetX)-(e.x*s.width-e.offsetX),n.y+(t.y*n.height+t.offsetY)-(e.y*s.height-e.offsetY))}focusObject(t){if(t instanceof ai){this.t0=t;const e=T.l();this.i0=this.transformDocToView(t.getDocumentPoint(B.TopLeft,e)),T.s(e)}else this.t0=null,this.i0=T.Ck}gS(t,e,n,s,r){const a=T.X(this.st.x,this.st.y);let u=a.x,h=a.y;if(this.t0!==null){let f=T.l();f=this.t0.getDocumentPoint(B.TopLeft,f),u=f.x-this.i0.x/this.scale,h=f.y-this.i0.y/this.scale,s=B.None,T.s(f)}if(r||this.scrollMode===1){s.isSpot()&&(e>t.width&&(u=t.x+(s.x*t.width+s.offsetX)-(s.x*e-s.offsetX)),n>t.height&&(h=t.y+(s.y*t.height+s.offsetY)-(s.y*n-s.offsetY)));const f=this.Ac,m=e-t.width;if(e<t.width+f.left+f.right){let x=u+e/2;x=Math.min(x,t.right+Math.max(m,f.right)-e/2),x=Math.max(x,t.left-Math.max(m,f.left)+e/2),u=x-e/2}else u>t.left?u=t.left:u<t.right-e&&(u=t.right-e);const y=n-t.height;if(n<t.height+f.top+f.bottom){let x=h+n/2;x=Math.min(x,t.bottom+Math.max(y,f.bottom)-n/2),x=Math.max(x,t.top-Math.max(y,f.top)+n/2),h=x-n/2}else h>t.top?h=t.top:h<t.bottom-n&&(h=t.bottom-n)}if(a.x=isFinite(u)?u:-this.Zt.left,a.y=isFinite(h)?h:-this.Zt.top,this.positionComputation!==null){const f=this.positionComputation(this,a);a.x=f.x,a.y=f.y}this.gs.qC(this.st,a),a.x=Math.round(a.x),a.y=Math.round(a.y),this.st.e(a.x,a.y),this.jr(),this.tR(),T.s(a)}findPartAt(t,e){if(e===void 0&&(e=!0),e){const n=this.kP(t,s=>s.part,s=>s.canSelect());if(n instanceof Vn)return n}else{const n=this.kP(t,s=>s.part);if(n instanceof Vn)return n}return null}findObjectAt(t,e,n){e===void 0&&(e=null),n===void 0&&(n=null),this.Li();const s=this.Gt.iteratorBackwards;for(;s.next();){const r=s.value;if(!r.visible)continue;const a=r.findObjectAt(t,e,n);if(a!==null)return a}return null}kP(t,e,n){e===void 0&&(e=null),n===void 0&&(n=null),this.Li();const s=this.Gt.iteratorBackwards;for(;s.next();){const r=s.value;if(!r.visible||r.isTemporary)continue;const a=r.findObjectAt(t,e,n);if(a!==null)return a}return null}findPartsAt(t,e,n){return e===void 0&&(e=!0),this.iR(t,s=>s.part,e?s=>s instanceof Vn&&s.canSelect():null,n)}iR(t,e,n,s){e===void 0&&(e=null),n===void 0&&(n=null),!(s instanceof w)&&!(s instanceof C)&&(s=new C),this.Li();const r=this.Gt.iteratorBackwards;for(;r.next();){const a=r.value;!a.visible||a.isTemporary||a.findObjectsAt(t,e,n,s)}return s}findObjectsAt(t,e,n,s){e===void 0&&(e=null),n===void 0&&(n=null),!(s instanceof w)&&!(s instanceof C)&&(s=new C),this.Li();const r=this.Gt.iteratorBackwards;for(;r.next();){const a=r.value;a.visible&&a.findObjectsAt(t,e,n,s)}return s}findPartsIn(t,e,n,s){return e===void 0&&(e=!1),n===void 0&&(n=!0),this.eR(t,null,r=>r instanceof Vn&&(!n||r.canSelect()),e,s)}findObjectsIn(t,e,n,s,r){e===void 0&&(e=null),n===void 0&&(n=null),s===void 0&&(s=!1),!(r instanceof w)&&!(r instanceof C)&&(r=new C),this.Li();const a=this.Gt.iteratorBackwards;for(;a.next();){const u=a.value;u.visible&&u.findObjectsIn(t,e,n,s,r)}return r}SP(t,e,n,s,r,a){const u=new C;this.Li();const h=this.Gt.iteratorBackwards;for(;h.next();){const f=h.value;f.visible&&f.SP(t,e,n,s,u,r,a)}return u}eR(t,e,n,s,r){e===void 0&&(e=null),n===void 0&&(n=null),s===void 0&&(s=!1),!(r instanceof w)&&!(r instanceof C)&&(r=new C),this.Li();const a=this.Gt.iteratorBackwards;for(;a.next();){const u=a.value;!u.visible||u.isTemporary||u.findObjectsIn(t,e,n,s,r)}return r}findPartsNear(t,e,n,s,r){return n===void 0&&(n=!0),s===void 0&&(s=!0),this.sR(t,e,null,a=>a instanceof Vn&&(!s||a.canSelect()),n,r)}findObjectsNear(t,e,n,s,r,a){n===void 0&&(n=null),s===void 0&&(s=null),r===void 0&&(r=!0),r!==!1&&r!==!0&&((r instanceof w||r instanceof C)&&(a=r),r=!0),!(a instanceof w)&&!(a instanceof C)&&(a=new C),this.Li();const u=this.Gt.iteratorBackwards;for(;u.next();){const h=u.value;h.visible&&h.findObjectsNear(t,e,n,s,r,a)}return a}sR(t,e,n,s,r,a){n===void 0&&(n=null),s===void 0&&(s=null),r===void 0&&(r=!0),r!==!1&&r!==!0&&((r instanceof w||r instanceof C)&&(a=r),r=!0),!(a instanceof w)&&!(a instanceof C)&&(a=new C),this.Li();const u=this.Gt.iteratorBackwards;for(;u.next();){const h=u.value;!h.visible||h.isTemporary||h.findObjectsNear(t,e,n,s,r,a)}return a}acceptEvent(t){return this.Uc(t,t instanceof MouseEvent)}Uc(t,e){const n=this.Kr;this.Kr=this.$h,this.$h=n,n.diagram=this,n.event=t,e?this.s0(t,n):(n.viewPoint=this.Kr.viewPoint,n.documentPoint=this.Kr.documentPoint);let s=0;const r=t;return r.ctrlKey&&(s+=1),r.altKey&&(s+=2),r.shiftKey&&(s+=4),r.metaKey&&(s+=8),n.modifiers=s,n.button=r.button,r.buttons!==void 0&&(n.buttons=r.buttons),o.lr&&r.button===0&&r.ctrlKey&&(n.button=2),n.down=!1,n.up=!1,n.clickCount=1,n.delta=0,n.handled=!1,n.bubbles=!1,n.timestamp=t.timeStamp,n.isMultiTouch=!1,n.targetDiagram=this.dS(t,t.target),n.targetObject=null,n}dS(t,e){if(e===null)return null;const n=ut.ee.get(e);if(n)return n;let s=t.path;return!s&&typeof t.composedPath=="function"&&(s=t.composedPath()),s&&s[0]&&ut.ee.has(s[0])?ut.ee.get(s[0]):null}GF(t,e,n){const s=this.uS(t,!0,!1,!1,!0,n);return this.s0(e,s),s.targetDiagram=this.dS(t,t.target),s.targetObject=null,n||s.clone(this.Wm),s}jF(t,e,n){const s=this.uS(t,!1,!1,!1,!1,n);let r=i.document.elementFromPoint(e.clientX,e.clientY)||null;r!==null&&r.shadowRoot!==void 0&&r.shadowRoot!==null&&(r=r.shadowRoot.elementFromPoint(e.clientX,e.clientY));let a=this,u=t;return r&&ut.ee.get(r)&&(u=e,a=ut.ee.get(r)),s.targetDiagram=a,this.s0(u,s),s.targetObject=null,s}uS(t,e,n,s,r,a){const u=this.Kr;this.Kr=this.$h,this.$h=u,u.diagram=this,u.clickCount=1,u.delta=0;let h=0;return t.ctrlKey&&(h+=1),t.altKey&&(h+=2),t.shiftKey&&(h+=4),t.metaKey&&(h+=8),u.modifiers=h,u.event=t,u.timestamp=t.timeStamp,u.button=n?this.firstInput.button:t.button,u.buttons=t.buttons,o.lr&&t.button===0&&t.ctrlKey&&(u.button=2),u.down=e,u.up=n,u.handled=s,u.bubbles=r,u.isMultiTouch=a,u}oa(t,e){return t.bubbles?!0:(e.stopPropagation!==void 0&&e.stopPropagation(),e.cancelable!==!1&&e.preventDefault(),e.cancelBubble=!0,!1)}JF(t){const e=ut.ee.get(this);if(!e.isEnabled)return!1;const n=e.Uc(t,!1);return n.key=t.key,n.code=t.code,n.down=!0,e.doKeyDown(),e.oa(n,t)}$F(t){const e=ut.ee.get(this);if(!e.isEnabled)return!1;const n=e.Uc(t,!1);return n.key=t.key,n.code=t.code,n.up=!0,e.doKeyUp(),e.oa(n,t)}qF(t){const e=ut.ee.get(this);if(!e.isEnabled)return!1;const n=e.Uc(t,!0);return e.mouseEnter!==null&&e.mouseEnter(n),e.currentTool.standardMouseOver(),e.oa(n,t)}WF(t){const e=ut.ee.get(this);if(!e.isEnabled)return!1;const n=e.Uc(t,!0);return e.mouseLeave!==null&&e.mouseLeave(n),e.oa(n,t)}getMouse(t){const e=this.dt;if(e===null)return new T(0,0);const n=e.getBoundingClientRect(),s=(t.clientX-n.left)*(this.kt/n.width),r=(t.clientY-n.top)*(this.Pt/n.height);return this.L!==null?new T(s,r).Ve(this.L):new T(s,r)}s0(t,e){const n=this.dt;let s=0,r=0;if(n!==null){const a=n.getBoundingClientRect();s=(t.clientX-a.left)*(this.kt/a.width),r=(t.clientY-a.top)*(this.Pt/a.height)}if(e.viewPoint.e(s,r),this.L!==null){const a=T.X(s,r);this.L.ts(a),e.documentPoint.a(a),T.s(a)}else e.documentPoint.e(s,r)}wC(t,e,n){let s;if(this._h[0]!==null)s=this._h[e];else return;const r=this.dt;if(r!==null){const a=r.getBoundingClientRect();n.e((s.clientX-a.left)*(this.kt/a.width),(s.clientY-a.top)*(this.Pt/a.height))}}invalidateDocumentBounds(){this.Zh||(this.Zh=!0,this.requestUpdate(!1))}nR(){this.ws||this.Li(),this.ensureBounds()}redraw(){this.Ht||this.ws||(this.C(),this.maybeUpdate())}isUpdateRequested(){return this.Mr}delayInitialization(t){t===void 0&&(t=null);const e=this.animationManager,n=e.isEnabled;e.stopAnimation(),e.isEnabled=!1,this.wr(),this.Jn=!1,this.ix=new T(NaN,NaN),e.isEnabled=n,this.ws=!0;const s=this;t!==null&&o.Oh(()=>{s.ws=!1,e.vl("Model"),t(s)},1)}requestUpdate(t){if(t===void 0&&(t=!1),this.Mr===!0||this.Ht||t===!1&&this.ws)return;this.Mr=!0;const e=this;i.requestAnimationFrame(()=>{e.Mr&&e.maybeUpdate()})}maybeUpdate(){this.vu&&!this.Mr||(this.vu&&(this.vu=!1),this.wr())}mS(t,e){!this.Eu||this.Ht||this.animationManager.defaultAnimation.isAnimating||this.gL()||(t&&this.Li(),e&&this.Us(!1))}wr(t){if(this.ws||(this.Mr=!1,this.Tt===null&&!this.Vu.isReal()))return;this.ws=!0;const e=this.animationManager,n=this.zu;if(!e.isAnimating&&n.length!==0){const y=n.r,x=y.length;for(let S=0;S<x;S++){const E=y[S];E.se(!1),E.c()}n.clear()}const s=this.sS;s.count>0&&(s.each(y=>y.pS()),s.clear());let r=!1,a=!1;e.defaultAnimation.isAnimating&&(a=!0,r=this.skipsUndoManager,this.skipsUndoManager=!0),e.xi||this.MM(),t||this.mS(!1,!0),this.is!==null&&(this.is.visible&&!this.Hm&&(this.qr(),this.Hm=!0),!this.is.visible&&this.Hm&&(this.Hm=!1));const u=!this.undoManager.isUndoingRedoing&&(this.Pl||this.Vc.count!==0&&this.Ar.size!==0),h=!this.Jn||this.Yr;this.Li(!0);let f=!1;(h||u)&&(this.Jn?this.yS(!this.Fc,u):(this.startTransaction("Initial Layout"),e.isEnabled===!1&&e.stopAnimation(),this.yS(!1,u)),f=h),this.Fc=!1,this.Pl=!1,this.Li(),this.Ex||this.nR(),t||this.mS(!0,!1);let m=!1;if(f){const y=I.l();y.a(this.viewportBounds),this.Jn||(this.Jn=!0,m=!0,this.skipsUndoManager||(this.undoManager.Rw=!0),this.undoManager.vw=!0,this.oR()),this.rR(),this.Li(!1),t||this.mS(!0,!0),I.s(y)}else if(e.bc&&e.tx){if(this.Lr!==1)this.scale=this.Yu(this.Lr);else if(this.ql!==1)this.scale=this.Yu(this.ql);else{const y=this.initialScale;isFinite(y)&&y>0&&(this.scale=y)}this.Us(!0)}f&&m&&this.commitTransaction("Initial Layout"),t||this.Gi(this.ni),a&&(this.skipsUndoManager=r),this.ws=!1}get Vh(){return this.Jn}oR(){if(this.Lr!==1)this.scale=this.Yu(this.Lr);else if(this.ql!==1)this.scale=this.Yu(this.ql);else{const e=this.initialScale;isFinite(e)&&e>0&&(this.scale=e)}this.Us(!0);const t=this.Gt.r;this.Vs(t,t.length,this,this.viewportBounds),this.v("InitialLayoutCompleted"),this.ix.a(this.st),this.qr()}rR(){this.v("LayoutCompleted")}o0(t){this.Hn.add(t)}addInvalidRoute(t){this.Ro?this.Wh.add(t):this.Ar.add(t)}Li(t){if(this.Hn.size!==0&&!(!this.ws&&this.animationManager.isTicking)){if(this.ws||(this.Pl=!0),t){this.pL(this.Hn);return}for(let e=0;e<23&&this.Hn.size!==0;e++){const n=new Set(this.Hn);this.Hn.clear(),this.pS(n,this.Hn)}this.nodes.each(e=>{e instanceof Wt&&e.yL(!1)})}}pL(t,e){for(const n of t)!n.Se()||n instanceof Wt||(n.Wr()?(n.ut(1/0,1/0),n.zt()):e&&e.add(n));for(const n of t)if(n instanceof Wt){if(!n.isVisible())continue;this.mb(n)}}pS(t,e){this.pL(t,e);for(const n of t){if(!(n instanceof Zt))continue;const s=n;s.isVisible()&&(s.Wr()?(s.ut(1/0,1/0),s.zt()):e.add(s))}for(const n of t)n instanceof Cn&&n.isVisible()&&(n.Wr()?(n.ut(1/0,1/0),n.zt()):e.add(n))}r0(t){const e=t instanceof ut,n=e?t.links:t.memberParts,s=this.Hn;if(e)this.Li(!0);else{for(;n.next();){const r=n.value;s.has(r)&&(!r.Se()||r instanceof Wt||r.Wr()&&(r.ut(1/0,1/0),r.zt()))}for(n.reset();n.next();){const r=n.value;if(s.has(r)&&r instanceof Wt){if(!r.isVisible())continue;this.mb(r)}}n.reset()}for(;n.next();){const r=n.value;r instanceof Zt&&s.has(r)&&r.isVisible()&&r.Wr()&&(r.ut(1/0,1/0),r.zt())}}mb(t){const e=o.rt(),n=o.rt(),s=t.memberParts;for(;s.next();){const a=s.value;a.isVisible()&&(a instanceof Wt?(a.Io()||a.es()||a.ih())&&this.mb(a):a instanceof Zt?a.fromNode===t||a.toNode===t?n.push(a):e.push(a):(a.ut(1/0,1/0),a.zt()))}let r=e.length;for(let a=0;a<r;a++){const u=e[a];u.ut(1/0,1/0),u.zt()}o.it(e),t.ut(1/0,1/0),t.zt(),r=n.length;for(let a=0;a<r;a++){const u=n[a];u.ut(1/0,1/0),u.zt()}o.it(n)}Vs(t,e,n,s){if(!(!this.vc&&!this.animationManager.isAnimating)){for(let r=0;r<e;r++)t[r].Vs(n,s);this.Li()}}Gi(t){this.Tt!==null&&(this.dt===null&&o.o("No canvas specified"),this.Rc==="svg"?this.lR(t):this.hR(t))}hR(t){const e=this.animationManager;if(e.xi||e.isAnimating&&!e.isTicking)return;const n=new Date;if(this.l0(),this.Tt.style.opacity==="0")return;const s=t!==this.ni,r=this.Gt.r,a=r.length,u=this;if(this.Vs(r,a,u,u.viewportBounds),s)t.clearContextCache(!0),this.th();else if(!this.ze&&!e.isAnimating)return;const h=this.L;h.Jt();const f=this.Ui,m=this.st,y=this.K;y!==1&&h.K(y),(m.x!==0||m.y!==0)&&h.Zi(-m.x,-m.y),t.setTransform(f,0,0,f,0,0),t.clearRect(0,0,this.kt,this.Pt),this.Wt!==1&&(t.globalAlpha=this.Wt),this.wS(t);for(let D=0;D<a;D++)t.setTransform(f,0,0,f,0,0),t.transform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),t.commitTransform(),r[D].Gi(t,u);let x=!1;this.Ec?this.Ec.Ku(this)&&(x=this.ob()):x=!0,x&&(G.prototype.ts=G.prototype.pw),s?(this.ni.clearContextCache(!0),this.th()):(this.vc=!1,this.ze=!1);const S=+new Date-+n,E=!1,L=this.hS;if(this.Sl===null){L[this._m]=S,this._m=(this._m+1)%L.length;let D=0;for(let F=0;F<L.length;F++)D+=L[F];this.Qm=D/L.length}this.Wt!==1&&(t.globalAlpha=1)}lR(t){if(this.Tt===null)return;const e=this.animationManager;if(e.xi||e.isAnimating&&!e.isTicking)return;this.l0();const n=this.kt,s=this.Pt;t.surface.resize(n,s,n,s);const r=this.Gt.r,a=r.length,u=this;if(this.Vs(r,a,u,u.viewportBounds),!this.ze&&!e.isAnimating)return;const h=this.st,f=this.K,m=this.L;m.Jt(),f!==1&&m.K(f),(h.x!==0||h.y!==0)&&m.Zi(-h.x,-h.y),t.lastDrawnPart=null,t.setDiagramPosScale(m.m11,m.m12,m.m21,m.m22,m.dx,m.dy),this.Wt!==1&&(t.globalAlpha=this.Wt),this.wS(t);const y=this.Ui;this.dt.ci.setTransform(y,0,0,y,0,0),this.dt.ci.clearRect(0,0,this.kt,this.Pt);for(let S=0;S<a;S++)r[S].Gi(t,u);let x=!1;this.Ec?this.Ec.Ku(this)&&(x=this.ob()):x=!0,x&&(G.prototype.ts=G.prototype.pw),this.vc=!1,this.ze=!1}pb(t,e,n,s,r,a,u,h,f){if(this.Tt===null)return;this.dt===null&&o.o("No canvas specified"),a===void 0&&(a=null),u===void 0&&(u=null),h===void 0&&(h=!1),f===void 0&&(f=!1),this.l0(),this.ni.clearContextCache(!0),this.th(),this.Qh=!0;const m=this.K;this.K=s;const y=this,x=this.Gt.r,S=x.length;try{const E=new I(r.x,r.y,n.width/s,n.height/s),L=E.copy();L.addMargin(e),this.qr(L),this.Li(),this.Vs(x,S,y,E),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.width,n.height),u!==null&&u!==""&&(t.fillStyle=u,t.fillBackground(0,0,n.width,n.height));const D=this.Ui;t.scale(D,D);const F=G.l();F.Jt(),F.Zi(e.left,e.top),F.K(s),(r.x!==0||r.y!==0)&&F.Zi(-r.x,-r.y),t.setTransform(F.m11,F.m12,F.m21,F.m22,F.dx,F.dy),t.commitTransform(),t instanceof Gi&&t.setDiagramPosScale(F.m11,F.m12,F.m21,F.m22,F.dx,F.dy),G.s(F),this.wS(t),t.globalAlpha=this.Wt;const V=this.findLayer("Grid");if(a){const U=new C,W=a.iterator;for(W.reset();W.next();){const q=W.value;q instanceof Vn&&(!f&&q.layer===V||(q.Du(),U.add(q)))}for(let q=0;q<S;q++)x[q].pF(t,y,U,h);U.each(q=>q.Du())}else for(let U=0;U<S;U++){const W=x[U];W===V?f&&W.Gi(t,y,!0):W.Gi(t,y,h)}this.Qh=!1,this.Ec&&this.Ec.Ku(this)&&this.ob()}finally{this.K=m,this.ni.clearContextCache(!0),this.th(),this.Vs(x,S,y,y.viewportBounds),this.qr(),this.ni instanceof Gi&&(this.ni.diagramGroup.replaceChildren(),this.redraw())}}getRenderingHint(t){return this.Cr[t]}setRenderingHint(t,e){t==="minDrawingLength"&&(this.Em=e),this.Cr[t]=e,this.redraw()}resetRenderingHints(){this.Cr=new c,this.Cr.drawShadows=!0,this.Cr.textGreeking=!0,this.Cr.viewportOptimizations=!o.lr,this.Cr.temporaryPixelRatio=!0,this.Cr.pictureRatioOptimization=!0,this.Cr.minDrawingLength=1,this.Em=1}wS(t){const e=this.Cr;if(e===null)return;if(e.imageSmoothingEnabled!==void 0){const s=!!e.imageSmoothingEnabled;t.setImageSmoothingEnabled(s)}const n=e.defaultFont;n!=null&&(t.font=n)}getInputOption(t){return this.Fu[t]}setInputOption(t,e){this.Fu[t]=e}IF(){this.Fu=new c,this.Fu.extraTouchArea=10,this.Fu.extraTouchThreshold=10,this.Fu.hasGestureZoom=!0}set(t){return Object.assign(this,t),this}attach(t){return this.setProperties(t)}setProperties(t){return ut.h0(this,t),this}static h0(t,e){const n=t instanceof Ut,s=t instanceof ut;for(const r in e){r===""&&o.o("Setting properties requires non-empty property names");let a=t,u=r;if(n||s){const f=r.indexOf(".");if(f>0){const m=r.substring(0,f);n?a=t.findObject(m):(a=t[m],a==null&&(a=t.toolManager[m])),o.wt(a)?u=r.substring(f+1):o.o("Unable to find object named: "+m+" in "+t.toString()+" when trying to set property: "+r)}}if(u[0]!=="_"&&!o.cw(a,u))if(s&&u==="ModelChanged"){t.addModelChangedListener(e[u]);continue}else if(s&&u==="Changed"){t.addChangedListener(e[u]);continue}else if(s&&o.cw(t.toolManager,u))a=t.toolManager;else if(s&&t.wL(u)){t.addDiagramListener(u,e[u]);continue}else if(t instanceof nn&&u==="Changed"){t.addChangedListener(e[u]);continue}else o.o('Trying to set undefined property "'+u+'" on object: '+a.toString());const h=e[r];a[u]=h,u[0]==="_"&&a instanceof ai&&a.addCopyProperty(u)}}aR(){if(this.Ql.count!==0&&!(this.undoManager.transactionLevel>1)){for(;this.Ql.count>0;){const t=this.Ql;this.Ql=new z;const e=t.iterator;for(;e.next();){const n=e.key;n.invalidateOtherJumpOvers(e.value),n.ne()}}this.C()}}C(t){if(t===void 0)this.ze=!0,this.requestUpdate();else{const e=this.viewportBounds;t.isReal()&&e.intersectsRect(t)&&(this.ze=!0,this.requestUpdate())}this.v("InvalidateDraw")}invalidateViewport(t,e){if(this.ze!==!0){if(this.ze=!0,this.Rc==="svg"){this.maybeUpdate();return}this.getRenderingHint("temporaryPixelRatio")===!0?(this.Ew(),this.maybeUpdate(),this.pP(!0)):this.maybeUpdate()}}ra(){this.Eu=!0}th(){this.vc=!0}l0(){this.Ru!==!1&&(this.Ru=!1,this.uL(this.kt,this.Pt))}uL(t,e){this.jr();const n=this.Ui,s=t*n,r=e*n;this.dt.resize(s,r,t,e)&&(this.ze=!0,this.ni.clearContextCache(!0))}gL(){const t=this.dt;if(t===null||this.Vu.isReal())return!0;const e=this.kt,n=this.Pt,s=this.Tt;let r=!1,a=this.Wn?this.gi:0,u=this.mn?this.gi:0,h=s.clientWidth||e+a,f=s.clientHeight||n+u;const m=this.viewportBounds,y=m.x,x=m.y,S=m.width,E=m.height;if((h!==e+a||f!==n+u)&&(this.Wn=!1,this.mn=!1,a=0,u=0,this.kt=h,this.Pt=f,this.Ru=!0,r=!0,this.jr()),!this.Jn||!this.viewportBounds.isReal())return!0;const L=this.sb,D=this.nb;if(this.Eu=!1,!r&&!this.Wn&&!this.mn&&!this.Ou&&!this.Iu)return!0;const F=this.documentBounds;let V=0,U=0,W=0,q=0;const le=m.width,oe=m.height,ce=this.Ac;this.contentAlignment.isSpot()?(F.width>le&&(V=ce.left,U=ce.right),F.height>oe&&(W=ce.top,q=ce.bottom)):(V=ce.left,U=ce.right,W=ce.top,q=ce.bottom);const Se=F.width+V+U,he=F.height+W+q,ge=this.scale,ke=ge;let we=Se>h/ge,Pe=he>f/ge;if(!r&&!this.Wn&&!this.mn&&!we&&!Pe)return!0;const Re=F.x-V,Xe=m.x,at=F.right+U;let je=m.right+a;const ft=F.y-W,Ct=m.y,sn=F.bottom+q;let Dt=m.bottom+u,Bt="1px",It="1px";if(this.scrollMode===1&&(we||Pe)){if(we&&this.hasHorizontalScrollbar&&this.allowHorizontalScroll){let Ot=1;Re+1<Xe&&(Ot=Math.max((Xe-Re)*ge+this.kt,Ot)),at>je+1&&(Ot=Math.max((at-je)*ge+this.kt,Ot)),le+a+1<Se&&(Ot=Math.max((Se-le)*ge+this.kt,Ot)),Bt=Ot.toString()+"px"}if(Pe&&this.hasVerticalScrollbar&&this.allowVerticalScroll){let Ot=1;ft+1<Ct&&(Ot=Math.max((Ct-ft)*ge+this.Pt,Ot)),sn>Dt+1&&(Ot=Math.max((sn-Dt)*ge+this.Pt,Ot)),oe+u+1<he&&(Ot=Math.max((he-oe)*ge+this.Pt,Ot)),It=Ot.toString()+"px"}}let zt=Bt!=="1px",xn=It!=="1px";if(!(zt&&xn)&&(zt||xn)){if(we=!(Se<le+a),Pe=!(he<oe+u),xn&&(je-=this.gi),zt&&(Dt-=this.gi),we&&this.hasHorizontalScrollbar&&this.allowHorizontalScroll){let Jt=1;Re+1<Xe&&(Jt=Math.max((Xe-Re)*ge+this.kt,Jt)),at>je+1&&(Jt=Math.max((at-je)*ge+this.kt,Jt)),le+1<Se&&(Jt=Math.max((Se-le)*ge+this.kt,Jt)),Bt=Jt.toString()+"px"}zt=Bt!=="1px";let Ot=this.Pt;if(zt!==this.mn&&(Ot=zt?this.Pt-this.gi:this.Pt+this.gi),Pe&&this.hasVerticalScrollbar&&this.allowVerticalScroll){let Jt=1;ft+1<Ct&&(Jt=Math.max((Ct-ft)*ge+Ot,Jt)),sn>Dt+1&&(Jt=Math.max((sn-Dt)*ge+Ot,Jt)),oe+1<he&&(Jt=Math.max((he-oe)*ge+Ot,Jt)),It=Jt.toString()+"px"}xn=It!=="1px"}if(this.Ym&&!(zt!==this.mn||xn!==this.Wn))return(e!==this.kt||n!==this.Pt)&&this.maybeUpdate(),!1;if(zt!==this.mn&&(Bt==="1px"?this.Pt=this.Pt+this.gi:this.Pt=Math.max(this.Pt-this.gi,1),r=!0),this.mn=zt,D.style.width=Bt,xn!==this.Wn&&(It==="1px"?this.kt=this.kt+this.gi:this.kt=Math.max(this.kt-this.gi,1),r=!0,this.Xu)){const Ot=T.l();xn?(t.style.left=this.gi+"px",this.position=Ot.e(this.st.x+this.gi/this.scale,this.st.y)):(t.style.left="0px",this.position=Ot.e(this.st.x-this.gi/this.scale,this.st.y)),T.s(Ot)}r&&this.jr(),this.Wn=xn,D.style.height=It,this.Wx=!0,r&&(this.Ru=!0);let mn=L.scrollLeft;if(this.hasHorizontalScrollbar&&this.allowHorizontalScroll&&(le+1<Se?mn=(this.position.x-Re)*ge:Re+1<Xe?mn=L.scrollWidth-L.clientWidth:at>je+1&&(mn=this.position.x*ge)),this.Xu)switch(this.yx){case"negative":mn=-(L.scrollWidth-mn-L.clientWidth);break;case"reverse":mn=L.scrollWidth-mn-L.clientWidth;break}if(L.scrollLeft=mn,this.hasVerticalScrollbar&&this.allowVerticalScroll&&(oe+1<he?L.scrollTop=(this.position.y-ft)*ge:ft+1<Ct?L.scrollTop=L.scrollHeight-L.clientHeight:sn>Dt+1&&(L.scrollTop=this.position.y*ge)),h=this.kt,f=this.Pt,L.style.width=h+(this.Wn?this.gi:0)+"px",L.style.height=f+(this.mn?this.gi:0)+"px",e!==h||n!==f||this.animationManager.xi){const Ot=I.X(y,x,S,E);return this.onViewportBoundsChanged(Ot,this.viewportBounds,ke,r),I.s(Ot),!1}return!0}add(t){const e=t.diagram;if(e===this)return;e!==null&&o.o("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString());let n=this.findLayer(t.layerName);if(n===null&&(n=this.findLayer("")),n===null&&o.o('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer===n)return;const s=n.qh(99999999,t,t.diagram===this);s>=0&&this.raiseChangedEvent(3,"parts",n,null,t,null,s),n.isTemporary||this.invalidateDocumentBounds(),t.invalidateLayout(1);const r=t.layerChanged;r!==null&&r(t,null,n)}qh(t){this.partManager.qh(t);const e=this;t.Jr(n=>e.xL(n)),t.data||t.Eo(),t.hasPlaceholder()&&t.c(),t.data!==null&&t.Jr(n=>e.partManager.xS(n,null)),(t.es()===!0||t.ih()===!0)&&this.o0(t),t.bL(!0,this),t.kL()?(t.actualBounds.isReal()&&this.C(t.Hh(t.actualBounds)),this.invalidateDocumentBounds()):t.isVisible()&&t.actualBounds.isReal()&&this.C(t.Hh(t.actualBounds)),this.requestUpdate()}te(t){t.clearAdornments(),this.partManager.te(t);const e=this;t.data!==null&&t.Jr(n=>e.partManager.bS(n,e)),this.Hn.delete(t),t instanceof Zt&&this.Ar.delete(t),t.kL()?(t.actualBounds.isReal()&&this.C(t.Hh(t.actualBounds)),this.invalidateDocumentBounds()):t.isVisible()&&t.actualBounds.isReal()&&this.C(t.Hh(t.actualBounds)),this.requestUpdate()}remove(t){this.kS(t,!0)}kS(t,e){const n=t.layer;if(n===null||n.diagram!==this)return;t.isSelected=!1,t.isHighlighted=!1,t.invalidateLayout(2),e&&t.Bc();const s=n.te(-1,t,!1);s>=0&&this.raiseChangedEvent(4,"parts",n,t,null,s,null);const r=t.layerChanged;r!==null&&r(t,n,null)}removeParts(t,e){if(e===void 0&&(e=!1),Array.isArray(t)){const n=t.length;for(let s=0;s<n;s++){const r=t[s];e&&!r.canDelete()||this.remove(r)}}else{const n=new C;n.addAll(t);const s=n.iterator;for(;s.next();){const r=s.value;e&&!r.canDelete()||this.remove(r)}}}copyParts(t,e,n){return n===void 0&&(n=!1),this.partManager.copyParts(t,e,n)}moveParts(t,e,n,s){if(n===void 0&&(n=!1),s===void 0&&(s=this.a0()),this.toolManager===null)return;const r=new z;if(t!==null)if(Array.isArray(t))for(let a=0;a<t.length;a++)this.$r(r,t[a],n,s);else{const a=t.iterator;for(;a.next();)this.$r(r,a.value,n,s)}else{let a=this.parts;for(;a.next();){const u=a.value;this.$r(r,u,n,s)}for(a=this.nodes;a.next();){const u=a.value;this.$r(r,u,n,s)}for(a=this.links;a.next();){const u=a.value;this.$r(r,u,n,s)}}this.xP(r,e,s,n)}$r(t,e,n,s,r){if(!t.contains(e)&&(r===void 0&&(r=!1),!(n&&!r&&!e.canMove()&&!e.canCopy())))if(s===void 0&&(s=this.a0()),e instanceof _t){if(t.add(e,this.Es(s,e,e.location)),e instanceof Wt&&(e.hasPlaceholder()||s.dragsMembers)){const u=e.memberParts;for(;u.next();){const h=u.value;this.$r(t,h,n,s,s.groupsAlwaysMove)}}const a=e.linksConnected;for(;a.next();){const u=a.value;if(t.contains(u))continue;const h=u.fromNode,f=u.toNode;h!==null&&t.contains(h)&&f!==null&&t.contains(f)&&this.$r(t,u,n,s)}if(s.dragsTree){const u=e.findTreeChildrenNodes();for(;u.next();){const h=u.value;this.$r(t,h,n,s)}}}else if(e instanceof Zt){t.add(e,this.Es(s,e));const a=e.labelNodes;for(;a.next();){const u=a.value;this.$r(t,u,n,s)}}else e instanceof Cn||t.add(e,this.Es(s,e,e.location))}xP(t,e,n,s){if(t===null||t.count===0)return;const r=T.l(),a=T.l();a.a(e),isNaN(a.x)&&(a.x=0),isNaN(a.y)&&(a.y=0);const u=this.hb;u||this.Vw(t);const h=o.rt(),f=o.rt(),m=t.iterator;let y=T.l();for(;m.next();){const D=m.key,F=m.value;if(D.Se()){const V=this.PL(D,t);if(V!==null)h.push(new Sn(D,F,V));else if(!s||D.canMove()){const U=F.point;r.a(U),this.computeMove(D,r.add(a),n,y),D.location=y,F.shifted===void 0&&(F.shifted=new T),F.shifted.a(y.subtract(U))}}else m.key instanceof Zt&&f.push(new R(m.key,m.value))}T.s(y);const x=h.length;for(let D=0;D<x;D++){const F=h[D],V=F.ML.point;r.a(V),F.yb.shifted===void 0&&(F.yb.shifted=new T),F.ge.location=r.add(F.yb.shifted)}const S=T.l(),E=T.l(),L=f.length;for(let D=0;D<L;D++){const F=f[D],V=F.key;if(V instanceof Zt){if(V.un){V.Sr=null;const U=V.fromNode,W=V.toNode;if(this.draggedLink!==null&&n.dragsLink){const q=F.value.point;if(V.dragComputation===null){t.add(V,this.Es(n,V,a));const le=a.x-q.x,oe=a.y-q.y;V.yr(le,oe)}else{const le=T.X(0,0),oe=V.getPoint(0);oe&&oe.isReal()&&le.a(oe),y=T.l().a(le).add(a);let ce=y;n.isGridSnapEnabled&&(n.isGridSnapRealtime||this.lastInput.up)&&(ce=T.l(),this.rM(V,y,ce,n)),y.a(V.dragComputation(V,y,ce)).subtract(le),t.add(V,this.Es(n,V,y));const Se=y.x-q.x,he=y.y-q.y;V.yr(Se,he),T.s(le),T.s(y),ce!==y&&T.s(ce)}}else{if(U!==null){S.a(U.location);const q=t.getValue(U);q!==null&&S.subtract(q.point)}if(W!==null){E.a(W.location);const q=t.getValue(W);q!==null&&E.subtract(q.point)}if(U!==null&&W!==null)if(S.equalsApprox(E)){const q=F.value.point,le=r;le.a(S),le.subtract(q),t.add(V,this.Es(n,V,S)),V.yr(le.x,le.y)}else V.un=!1,V.invalidateRoute();else{const q=F.value.point;let le;U!==null?le=S:W!==null?le=E:le=a,t.add(V,this.Es(n,V,le));const oe=le.x-q.x,ce=le.y-q.y;V.yr(oe,ce)}}}else if(V.fromNode===null||V.toNode===null){const U=F.value.point;t.add(V,this.Es(n,V,a));const W=a.x-U.x,q=a.y-U.y;V.yr(W,q)}}}T.s(r),T.s(a),T.s(S),T.s(E),o.it(h),o.it(f),u||(this.Li(),this.bm(t))}computeMove(t,e,n,s){if(s===void 0&&(s=new T),s.a(e),t===null)return s;let r=e;const a=n.isGridSnapEnabled;a&&(n.isGridSnapRealtime||this.lastInput.up)&&(r=T.l(),this.rM(t,e,r,n));const u=t.dragComputation!==null?t.dragComputation(t,e,r):r,h=t.minLocation;let f=h.x;isNaN(f)&&(f=a?Math.round(t.location.x*1e3)/1e3:t.location.x);let m=h.y;isNaN(m)&&(m=a?Math.round(t.location.y*1e3)/1e3:t.location.y);const y=t.maxLocation;let x=y.x;isNaN(x)&&(x=a?Math.round(t.location.x*1e3)/1e3:t.location.x);let S=y.y;return isNaN(S)&&(S=a?Math.round(t.location.y*1e3)/1e3:t.location.y),s.e(Math.max(f,Math.min(u.x,x)),Math.max(m,Math.min(u.y,S))),r!==e&&T.s(r),s}a0(){const t=this.toolManager.findTool("Dragging");return t instanceof Be?t.dragOptions:this.cb}rM(t,e,n,s){if(s===void 0&&(s=this.a0()),n.a(e),t===null)return n;const r=this.grid,a=s.gridSnapCellSize;let u=a.width,h=a.height;const f=s.gridSnapOrigin;let m=f.x,y=f.y;const x=s.gridSnapCellSpot;if(r!==null){const E=r.gridCellSize;isNaN(u)&&(u=E.width),isNaN(h)&&(h=E.height);const L=r.gridOrigin;isNaN(m)&&(m=L.x),isNaN(y)&&(y=L.y)}const S=T.X(0,0);return S.setSpot(0,0,u,h,x),$.Eg(e.x,e.y,m+S.x,y+S.y,u,h,n),T.s(S),n}Vw(t){if(t===null)return;this.hb=!0;const e=t.iterator;for(;e.next();){const n=e.key;n instanceof Zt&&(n.un=!0)}}bm(t){if(t===null)return;const e=t.iterator;for(;e.next();){const n=e.key;n instanceof Zt&&(n.un=!1,n.SL()&&n.invalidateRoute())}this.hb=!1}get draggedLink(){return this.ab}set draggedLink(t){this.ab!==t&&(this.ab=t,t!==null&&(this.fb=t.fromPort,this.ub=t.toPort))}get PP(){return this.fb}set PP(t){this.fb=t}get MP(){return this.ub}set MP(t){this.ub=t}PL(t,e){const n=t.containingGroup;if(n!==null){let s=this.PL(n,e);if(s!==null||(s=e.getValue(n),s!==null))return s}return null}Es(t,e,n){if(n===void 0)return new Lt(T.Po);let s=t.isGridSnapEnabled;return!t.groupsSnapMembers&&e.containingGroup!==null&&(s=!1),s?new Lt(new T(Math.round(n.x*1e3)/1e3,Math.round(n.y*1e3)/1e3)):new Lt(n.copy())}PS(t,e){if(t.diagram!==null&&t.diagram!==this&&o.o("Cannot share a Layer with another Diagram: "+t+" of "+t.diagram),e===null?t.diagram!==null&&o.o("Cannot add an existing Layer to this Diagram again: "+t):(e.diagram!==this&&o.o("Existing Layer must be in this Diagram: "+e+" not in "+e.diagram),t===e&&o.o("Cannot move a Layer before or after itself: "+t)),t.diagram===this)return;const n=t.name,s=this.Gt,r=s.count;for(let a=0;a<r;a++)s.elt(a).name===n&&o.o("Cannot add Layer with the name '"+n+"'; a Layer with the same name is already present in this Diagram.")}addLayer(t){this.PS(t,null),t.Do(this);const e=this.Gt;let n=e.count-1;if(!t.isTemporary)for(;n>=0&&e.elt(n).isTemporary;)n--;return e.insertAt(n+1,t),this.Si!==null&&this.raiseChangedEvent(3,"layers",this,null,t,null,n+1),this.C(),this.invalidateDocumentBounds(),this}addLayerBefore(t,e){this.PS(t,e),t.Do(this);const n=this.Gt,s=n.indexOf(t);s>=0&&(n.remove(t),this.Si!==null&&this.raiseChangedEvent(4,"layers",this,t,null,s,null));const r=n.count;let a;for(a=0;a<r;a++)if(n.elt(a)===e){n.insertAt(a,t);break}return this.Si!==null&&this.raiseChangedEvent(3,"layers",this,null,t,null,a),this.C(),s<0&&this.invalidateDocumentBounds(),this}addLayerAfter(t,e){this.PS(t,e),t.Do(this);const n=this.Gt,s=n.indexOf(t);s>=0&&(n.remove(t),this.Si!==null&&this.raiseChangedEvent(4,"layers",this,t,null,s,null));const r=n.count;let a;for(a=0;a<r;a++)if(n.elt(a)===e){n.insertAt(a+1,t);break}return this.Si!==null&&this.raiseChangedEvent(3,"layers",this,null,t,null,a+1),this.C(),s<0&&this.invalidateDocumentBounds(),this}Hr(t,e){t.Do(this),this.Gt.insertAt(e,t)}NL(t){this.Gt.removeAt(t)}removeLayer(t){if(t.diagram!==this&&o.o("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),t.name==="")return;const e=this.Gt,n=e.indexOf(t);if(e.remove(t)){const s=t.At.copy().iterator;for(;s.next();){const r=s.value,a=r.layerName;a!==t.name?r.layerName=a:r.layerName=""}this.Si!==null&&this.raiseChangedEvent(4,"layers",this,t,null,n,null),this.C(),this.invalidateDocumentBounds()}}findLayer(t){const e=this.layers;for(;e.next();){const n=e.value;if(n.name===t)return n}return null}findRouter(t){for(const e of this.Vc)if(e.name===t)return e;return null}addModelChangedListener(t){return o.i(t,"function",ut,"addModelChangedListener:listener"),this.qn===null&&(this.qn=new w),this.qn.add(t),this.model.addChangedListener(t),this}removeModelChangedListener(t){o.i(t,"function",ut,"removeModelChangedListener:listener"),this.qn!==null&&(this.qn.remove(t),this.qn.count===0&&(this.qn=null)),this.model.removeChangedListener(t)}addChangedListener(t){return o.i(t,"function",ut,"addChangedListener:listener"),this.Tr===null&&(this.Tr=new w),this.Tr.add(t),this}removeChangedListener(t){o.i(t,"function",ut,"removeChangedListener:listener"),this.Tr!==null&&(this.Tr.remove(t),this.Tr.count===0&&(this.Tr=null))}Ow(t){if(!this.skipsUndoManager&&!this.model.skipsUndoManager&&this.model.undoManager.handleChanged(t),t.change!==1&&(this.isModified=!0),this.Tr!==null){const e=this.Tr,n=e.length;for(let s=0;s<n;s++)e.elt(s)(t)}}raiseChangedEvent(t,e,n,s,r,a,u){a===void 0&&(a=null),u===void 0&&(u=null);const h=new ie;h.diagram=this,h.change=t,h.propertyName=e,h.object=n,h.oldValue=s,h.oldParam=a,h.newValue=r,h.newParam=u,this.Ow(h)}raiseChanged(t,e,n,s,r){this.raiseChangedEvent(2,t,this,e,n,s,r)}t(t,e,n,s,r){this.raiseChangedEvent(2,t,this,e,n,s,r)}get animationManager(){return this.gs}get undoManager(){return this.Si.undoManager}get skipsUndoManager(){return this.vo}set skipsUndoManager(t){o.i(t,"boolean",ut,"skipsUndoManager"),this.vo=t,this.Si.skipsUndoManager=t}get delaysLayout(){return this.Vx}set delaysLayout(t){this.Vx=t}xC(t,e){if(t===null||t.diagram!==this)return;const n=this.de;try{this.de=!0;const s=t.change;if(s===2){const r=t.object,a=t.propertyName,u=t.getValue(e);if(nn.ht(r,a,u),r instanceof ai){const h=r.part;h!==null&&h.invalidateAdornments()}this.isModified=!0}else if(s===3){const r=t.object,a=t.newParam,u=t.newValue;if(r instanceof Ut)if(typeof a=="number"&&u instanceof ai){e?r.te(a):r.insertAt(a,u);const h=r.part;h!==null&&h.invalidateAdornments()}else typeof a=="number"&&u instanceof ps&&(u.isRow?r.CL(a,e?void 0:u):r.LL(a,e?void 0:u));else if(r instanceof Ke){const h=t.oldParam===!0;typeof a=="number"&&u instanceof Vn&&(e?(u.isSelected=!1,u.isHighlighted=!1,u.invalidateAdornments(),r.te(h?a:-1,u,h)):r.qh(a,u,h))}else r instanceof ut?typeof a=="number"&&u instanceof Ke&&(e?this.NL(a):this.Hr(u,a)):o.o("unknown ChangeType.Insert object: "+t.toString());this.isModified=!0}else if(s===4){const r=t.object,a=t.oldParam,u=t.oldValue;if(r instanceof Ut)typeof a=="number"&&u instanceof ai?e?r.insertAt(a,u):r.te(a):typeof a=="number"&&u instanceof ps&&(u.isRow?r.CL(a,e?u:void 0):r.LL(a,e?u:void 0));else if(r instanceof Ke){const h=t.newParam===!0;typeof a=="number"&&u instanceof Vn&&(e?r.At.indexOf(u)<0&&r.qh(a,u,h):(u.isSelected=!1,u.isHighlighted=!1,u.invalidateAdornments(),r.te(h?a:-1,u,h)))}else r instanceof ut?typeof a=="number"&&u instanceof Ke&&(e?this.Hr(u,a):this.NL(a)):o.o("unknown ChangeType.Remove object: "+t.toString());this.isModified=!0}else s===1||o.o("unknown ChangedEvent: "+t.toString())}finally{this.de=n}}startTransaction(t){return this.undoManager.startTransaction(t)}commitTransaction(t){return this.undoManager.commitTransaction(t)}rollbackTransaction(){return this.undoManager.rollbackTransaction()}commit(t,e){let n=e;n===void 0&&(n="");const s=this.skipsUndoManager;n===null&&(this.skipsUndoManager=!0,n=""),this.undoManager.startTransaction(n);let r=!1;try{t(this),r=!0}finally{r?this.undoManager.commitTransaction(n):this.undoManager.rollbackTransaction(),this.skipsUndoManager=s}}updateAllTargetBindings(t){this.partManager.updateAllTargetBindings(t)}updateAllThemeBindings(){if(this.partManager.updateAllThemeBindings(),this.is!==null){const t=this.is.part;t!==null&&t.Eo()}}setDivBackground(t){this.div&&(this.div.style.backgroundColor=t)}updateAllRelationshipsFromData(){this.partManager.updateAllRelationshipsFromData()}AL(t,e){const n=this.animationManager;if(this.Ht||this.ws){this.K=e,this.jr(),this.C(),this.ra(),n.WC(t,this.K);return}if(this.dt===null){this.K=e,this.jr();return}this.Ht=!0;const s=this.viewportBounds.copy(),r=this.kt,a=this.Pt;let u=this.zoomPoint.x,h=this.zoomPoint.y;const f=this.contentAlignment;isNaN(u)&&(f.isSide()?f.includesSide(B.LeftSide)?u=0:f.includesSide(B.RightSide)&&(u=r-1):f.isSpot()?u=f.x*(r-1):u=r/2),isNaN(h)&&(f.isSide()?f.includesSide(B.TopSide)?h=0:f.includesSide(B.BottomSide)&&(h=a-1):f.isSpot()?h=f.y*(a-1):h=a/2),this.scaleComputation!==null&&!this.animationManager.defaultAnimation.isAnimating&&(e=this.scaleComputation(this,e)),e<this.minScale&&(e=this.minScale),e>this.maxScale&&(e=this.maxScale);const m=T.X(this.st.x+u/t-u/e,this.st.y+h/t-h/e);this.position=m,T.s(m),this.K=e,this.jr(),this.Ht=!1,this.onViewportBoundsChanged(s,this.viewportBounds,t,!1),this.Us(!1),n.WC(t,this.K),this.C()}tR(){const t=this.Gt.r;for(let e=0;e<t.length;e++)t[e].tL()}onViewportBoundsChanged(t,e,n,s){if(t.equals(e))return;s===void 0&&(s=!1),s||this.ra(),this.th();const r=this.layout;r!==null&&r.isViewportSized&&this.autoScale===1&&(t.width!==e.width||t.height!==e.height)&&r.invalidateLayout();const a=this.currentTool;this.Ic===!0&&a instanceof Ne&&!this.animationManager.isTicking&&(this.lastInput.documentPoint=this.transformViewToDoc(this.lastInput.viewPoint),a.standardMouseActivity(this)),this.Ht||this.invalidateViewport(t,e),this.qr(),this.Vi.scale=n,this.Vi.position.x=t.x,this.Vi.position.y=t.y,this.Vi.bounds.a(t),this.Vi.canvasSize.width=Math.round(t.width*n),this.Vi.canvasSize.height=Math.round(t.height*n),this.Vi.newCanvasSize.width=this.kt,this.Vi.newCanvasSize.height=this.Pt,this.Vi.isScroll=s,this.v("ViewportBoundsChanged",this.Vi,t),this.isVirtualized&&this.links.each(u=>{u.isAvoiding&&u.actualBounds.intersectsRect(e)&&u.invalidateRoute()})}qr(t){const e=this.is;if(e===null||!e.visible||e.layer===null)return;const n=t!==void 0?t:this.Qx;if(!n.isReal())return;const s=n.width,r=n.height;if(e.scale=1,e.angle=0,e.layer.isViewportAligned)e.width=s*this.scale,e.height=r*this.scale,e.part.alignment=B.TopLeft;else{e.bi===null&&(e.bi=new vl);const a=e.bi.zc;if(!a.isReal())return;e.width=s+a.width*2,e.height=r+a.height*2;const u=T.l();$.Eg(n.x,n.y,0,0,a.width,a.height,u),u.offset(-a.width,-a.height),e.part.location=u,T.s(u)}}clearSelection(t){t===void 0&&(t=!1);const e=this.selection;if(e.count===0)return;t||this.v("ChangingSelection",e);const n=e.toArray(),s=n.length;for(let r=0;r<s;r++){const a=n[r];a.isSelected=!1}e.lt(),e.clear(),e.g(),t||this.v("ChangedSelection",e)}select(t){t!==null&&t.diagram===this&&(!t.isSelected||this.selection.count>1)&&(this.v("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.v("ChangedSelection",this.selection))}selectCollection(t){if(this.v("ChangingSelection",this.selection),this.clearSelection(!0),Array.isArray(t)){const e=t.length;for(let n=0;n<e;n++){const s=t[n];s instanceof Vn||o.o("Diagram.selectCollection given something that is not a Part: "+s),s.isSelected=!0}}else{const e=t.iterator;for(;e.next();){const n=e.value;n instanceof Vn||o.o("Diagram.selectCollection given something that is not a Part: "+n),n.isSelected=!0}}this.v("ChangedSelection",this.selection)}clearHighlighteds(){const t=this.highlighteds;if(t.count>0){const e=t.toArray(),n=e.length;for(let s=0;s<n;s++){const r=e[s];r.isHighlighted=!1}t.lt(),t.clear(),t.g()}}highlight(t){t!==null&&t.diagram===this&&(!t.isHighlighted||this.highlighteds.count>1)&&(this.clearHighlighteds(),t.isHighlighted=!0)}highlightCollection(t){const e=new C().addAll(t),n=this.highlighteds.copy().removeAll(e).iterator;for(;n.next();){const r=n.value;r.isHighlighted=!1}const s=e.iterator;for(;s.next();){const r=s.value;r instanceof Vn||o.o("Diagram.highlightCollection given something that is not a Part: "+r),r.isHighlighted=!0}}scroll(t,e,n){n===void 0&&(n=1);const s=e==="up"||e==="down";let r=0;const a=T.l();if(t==="pixel")r=n;else if(t==="line")r=n*(s?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if(t==="page"){let h=s?this.viewportBounds.height:this.viewportBounds.width;if(h*=this.scale,h!==0){const f=Math.max(h-(s?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0);r=n*f}}else if(t==="document"){const h=this.documentBounds,f=this.viewportBounds;e==="up"?this.position=a.e(f.x,h.y):e==="left"?this.position=a.e(h.x,f.y):e==="down"?this.position=a.e(f.x,h.bottom-f.height):e==="right"&&(this.position=a.e(h.right-f.width,f.y)),T.s(a);return}else o.o("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t);r/=this.scale;const u=this.position;e==="up"?this.position=a.e(u.x,u.y-r):e==="down"?this.position=a.e(u.x,u.y+r):e==="left"?this.position=a.e(u.x-r,u.y):e==="right"?this.position=a.e(u.x+r,u.y):o.o("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),T.s(a)}scrollToRect(t){const e=this.viewportBounds;if(e.containsRect(t))return;const n=t.center;n.x-=e.width/2,n.y-=e.height/2,this.position=n}centerRect(t){const e=this.viewportBounds,n=t.center;n.x-=e.width/2,n.y-=e.height/2,this.position=n}transformDocToView(t){const e=this.L;e.Jt(),this.K!==1&&e.K(this.K);const n=this.st;return(n.x!==0||n.y!==0)&&isFinite(n.x)&&isFinite(n.y)&&e.Zi(-n.x,-n.y),t.copy().L(e)}transformViewToDoc(t){const e=this.L;e.Jt(),this.K!==1&&e.K(this.K);const n=this.st;return(n.x!==0||n.y!==0)&&isFinite(n.x)&&isFinite(n.y)&&e.Zi(-n.x,-n.y),t.copy().Ve(e)}MF(t){const e=this.L;e.Jt(),this.K!==1&&e.K(this.K);const n=this.st;return(n.x!==0||n.y!==0)&&isFinite(n.x)&&isFinite(n.y)&&e.Zi(-n.x,-n.y),t.Ve(this.L)}get opacity(){return this.Wt}set opacity(t){const e=this.Wt;e!==t&&(o.i(t,"number",ut,"opacity"),(t<0||t>1)&&o.tt(t,"0 <= value <= 1",ut,"opacity"),this.Wt=t,this.t("opacity",e,t),this.C())}get validCycle(){return this.Fx}set validCycle(t){const e=this.Fx;e!==t&&(this.Fx=t,this.t("validCycle",e,t))}get layers(){return this.Gt.iterator}get isModelReadOnly(){const t=this.Si;return t===null?!1:t.isReadOnly}set isModelReadOnly(t){const e=this.Si;e!==null&&(e.isReadOnly=t)}get isReadOnly(){return this.Oo}set isReadOnly(t){const e=this.Oo;e!==t&&(o.i(t,"boolean",ut,"isReadOnly"),this.Oo=t,this.t("isReadOnly",e,t))}get isEnabled(){return this.Oi}set isEnabled(t){const e=this.Oi;e!==t&&(o.i(t,"boolean",ut,"isEnabled"),this.Oi=t,this.t("isEnabled",e,t))}get allowClipboard(){return this.Ux}set allowClipboard(t){const e=this.Ux;e!==t&&(o.i(t,"boolean",ut,"allowClipboard"),this.Ux=t,this.t("allowClipboard",e,t))}get allowCopy(){return this.Ol}set allowCopy(t){const e=this.Ol;e!==t&&(o.i(t,"boolean",ut,"allowCopy"),this.Ol=t,this.t("allowCopy",e,t))}get allowDelete(){return this.Il}set allowDelete(t){const e=this.Il;e!==t&&(o.i(t,"boolean",ut,"allowDelete"),this.Il=t,this.t("allowDelete",e,t))}get allowDragOut(){return this.Bx}set allowDragOut(t){const e=this.Bx;e!==t&&(o.i(t,"boolean",ut,"allowDragOut"),this.Bx=t,this.t("allowDragOut",e,t))}get allowDrop(){return this.zx}set allowDrop(t){const e=this.zx;e!==t&&(o.i(t,"boolean",ut,"allowDrop"),this.zx=t,this.t("allowDrop",e,t))}get allowTextEdit(){return this.El}set allowTextEdit(t){const e=this.El;e!==t&&(o.i(t,"boolean",ut,"allowTextEdit"),this.El=t,this.t("allowTextEdit",e,t))}get allowGroup(){return this.Vl}set allowGroup(t){const e=this.Vl;e!==t&&(o.i(t,"boolean",ut,"allowGroup"),this.Vl=t,this.t("allowGroup",e,t))}get allowUngroup(){return this.Ul}set allowUngroup(t){const e=this.Ul;e!==t&&(o.i(t,"boolean",ut,"allowUngroup"),this.Ul=t,this.t("allowUngroup",e,t))}get allowInsert(){return this.Xx}set allowInsert(t){const e=this.Xx;e!==t&&(o.i(t,"boolean",ut,"allowInsert"),this.Xx=t,this.t("allowInsert",e,t))}get allowLink(){return this.Bl}set allowLink(t){const e=this.Bl;e!==t&&(o.i(t,"boolean",ut,"allowLink"),this.Bl=t,this.t("allowLink",e,t))}get allowRelink(){return this.zl}set allowRelink(t){const e=this.zl;e!==t&&(o.i(t,"boolean",ut,"allowRelink"),this.zl=t,this.t("allowRelink",e,t))}get allowMove(){return this.Xl}set allowMove(t){const e=this.Xl;e!==t&&(o.i(t,"boolean",ut,"allowMove"),this.Xl=t,this.t("allowMove",e,t))}get allowReshape(){return this.Kl}set allowReshape(t){const e=this.Kl;e!==t&&(o.i(t,"boolean",ut,"allowReshape"),this.Kl=t,this.t("allowReshape",e,t))}get allowResize(){return this.Yl}set allowResize(t){const e=this.Yl;e!==t&&(o.i(t,"boolean",ut,"allowResize"),this.Yl=t,this.t("allowResize",e,t))}get allowRotate(){return this.Gl}set allowRotate(t){const e=this.Gl;e!==t&&(o.i(t,"boolean",ut,"allowRotate"),this.Gl=t,this.t("allowRotate",e,t))}get allowSelect(){return this.jl}set allowSelect(t){const e=this.jl;e!==t&&(o.i(t,"boolean",ut,"allowSelect"),this.jl=t,this.t("allowSelect",e,t))}get allowUndo(){return this.Kx}set allowUndo(t){const e=this.Kx;e!==t&&(o.i(t,"boolean",ut,"allowUndo"),this.Kx=t,this.t("allowUndo",e,t))}get allowZoom(){return this.Yx}set allowZoom(t){const e=this.Yx;e!==t&&(o.i(t,"boolean",ut,"allowZoom"),this.Yx=t,this.t("allowZoom",e,t))}get hasVerticalScrollbar(){return this.Iu}set hasVerticalScrollbar(t){const e=this.Iu;e!==t&&(o.i(t,"boolean",ut,"hasVerticalScrollbar"),this.Iu=t,this.ra(),this.C(),this.t("hasVerticalScrollbar",e,t),this.Us(!1))}get hasHorizontalScrollbar(){return this.Ou}set hasHorizontalScrollbar(t){const e=this.Ou;e!==t&&(o.i(t,"boolean",ut,"hasHorizontalScrollbar"),this.Ou=t,this.ra(),this.C(),this.t("hasHorizontalScrollbar",e,t),this.Us(!1))}get allowHorizontalScroll(){return this.Gx}set allowHorizontalScroll(t){const e=this.Gx;e!==t&&(o.i(t,"boolean",ut,"allowHorizontalScroll"),this.Gx=t,this.t("allowHorizontalScroll",e,t),this.Us(!1))}get allowVerticalScroll(){return this.jx}set allowVerticalScroll(t){const e=this.jx;e!==t&&(o.i(t,"boolean",ut,"allowVerticalScroll"),this.jx=t,this.t("allowVerticalScroll",e,t),this.Us(!1))}get scrollHorizontalLineChange(){return this.Hx}set scrollHorizontalLineChange(t){const e=this.Hx;e!==t&&(o.i(t,"number",ut,"scrollHorizontalLineChange"),t<0&&o.tt(t,">= 0",ut,"scrollHorizontalLineChange"),this.Hx=t,this.t("scrollHorizontalLineChange",e,t))}get scrollVerticalLineChange(){return this.qx}set scrollVerticalLineChange(t){const e=this.qx;e!==t&&(o.i(t,"number",ut,"scrollVerticalLineChange"),t<0&&o.tt(t,">= 0",ut,"scrollVerticalLineChange"),this.qx=t,this.t("scrollVerticalLineChange",e,t))}get lastInput(){return this.$h}set lastInput(t){this.$h=t}get previousInput(){return this.Kr}set previousInput(t){this.Kr=t}get firstInput(){return this.Wm}set firstInput(t){this.Wm=t}get currentCursor(){return this.Rx}set currentCursor(t){if(t===""&&(t=this.Km),this.Rx!==t){o.i(t,"string",ut,"currentCursor");const e=this.dt,n=this.Tt;if(e===null||n===null)return;this.Rx=t;const s=e.style.cursor;e.style.cursor=t,n.style.cursor=t,e.style.cursor===s&&(e.style.cursor="-webkit-"+t,n.style.cursor="-webkit-"+t,e.style.cursor===s&&(e.style.cursor="-moz-"+t,n.style.cursor="-moz-"+t,e.style.cursor===s&&(e.style.cursor=t,n.style.cursor=t)))}}get defaultCursor(){return this.Km}set defaultCursor(t){t===""&&(t="auto");const e=this.Km;e!==t&&(o.i(t,"string",ut,"defaultCursor"),this.Km=t,this.t("defaultCursor",e,t))}get click(){return this.Dr}set click(t){const e=this.Dr;e!==t&&(t!==null&&o.i(t,"function",ut,"click"),this.Dr=t,this.t("click",e,t))}get doubleClick(){return this.Fr}set doubleClick(t){const e=this.Fr;e!==t&&(t!==null&&o.i(t,"function",ut,"doubleClick"),this.Fr=t,this.t("doubleClick",e,t))}get contextClick(){return this.Rr}set contextClick(t){const e=this.Rr;e!==t&&(t!==null&&o.i(t,"function",ut,"contextClick"),this.Rr=t,this.t("contextClick",e,t))}get mouseOver(){return this.vr}set mouseOver(t){const e=this.vr;e!==t&&(t!==null&&o.i(t,"function",ut,"mouseOver"),this.vr=t,this.t("mouseOver",e,t))}get mouseHover(){return this.Or}set mouseHover(t){const e=this.Or;e!==t&&(t!==null&&o.i(t,"function",ut,"mouseHover"),this.Or=t,this.t("mouseHover",e,t))}get mouseHold(){return this.Ir}set mouseHold(t){const e=this.Ir;e!==t&&(t!==null&&o.i(t,"function",ut,"mouseHold"),this.Ir=t,this.t("mouseHold",e,t))}get mouseDragOver(){return this.vx}set mouseDragOver(t){const e=this.vx;e!==t&&(t!==null&&o.i(t,"function",ut,"mouseDragOver"),this.vx=t,this.t("mouseDragOver",e,t))}get mouseDrop(){return this.Er}set mouseDrop(t){const e=this.Er;e!==t&&(this.Er=t,this.t("mouseDrop",e,t))}get handlesDragDropForTopLevelParts(){return this.Ox}set handlesDragDropForTopLevelParts(t){const e=this.Ox;e!==t&&(o.i(t,"boolean",ut,"handlesDragDropForTopLevelParts"),this.Ox=t,this.t("handlesDragDropForTopLevelParts",e,t))}get mouseEnter(){return this.Vr}set mouseEnter(t){const e=this.Vr;e!==t&&(t!==null&&o.i(t,"function",ut,"mouseEnter"),this.Vr=t,this.t("mouseEnter",e,t))}get mouseLeave(){return this.Ur}set mouseLeave(t){const e=this.Ur;e!==t&&(t!==null&&o.i(t,"function",ut,"mouseLeave"),this.Ur=t,this.t("mouseLeave",e,t))}get toolTip(){return this.Br}set toolTip(t){const e=this.Br;e!==t&&(this.Br=t,this.t("toolTip",e,t))}get contextMenu(){return this.zr}set contextMenu(t){const e=this.zr;e!==t&&(this.zr=t,this.t("contextMenu",e,t))}get commandHandler(){return this.jM}set commandHandler(t){this.jM!==t&&(this.jM=t,t.Do(this))}get toolManager(){return this.KM}set toolManager(t){this.KM!==t&&(this.KM=t,t.diagram=this)}get defaultTool(){return this.YM}set defaultTool(t){const e=this.YM;e!==t&&(this.YM=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}get currentTool(){return this.GM}set currentTool(t){const e=this.GM;e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),t===null&&(t=this.defaultTool),t!==null&&(this.GM=t,t.diagram=this,t.doStart())}get selection(){return this.QM}get maxSelectionCount(){return this.Zx}set maxSelectionCount(t){const e=this.Zx;if(e!==t)if(o.i(t,"number",ut,"maxSelectionCount"),t>=0&&!isNaN(t)){if(this.Zx=t,this.t("maxSelectionCount",e,t),!this.undoManager.isUndoingRedoing){const n=this.selection.count-t;if(n>0){this.v("ChangingSelection",this.selection);const s=this.selection.toArray();for(let r=0;r<n;r++)s[r].isSelected=!1;this.v("ChangedSelection",this.selection)}}}else o.tt(t,">= 0",ut,"maxSelectionCount")}get nodeSelectionAdornmentTemplate(){return this.jm}set nodeSelectionAdornmentTemplate(t){const e=this.jm;e!==t&&(this.jm=t,this.t("nodeSelectionAdornmentTemplate",e,t))}get groupSelectionAdornmentTemplate(){return this.tb}set groupSelectionAdornmentTemplate(t){const e=this.tb;e!==t&&(this.tb=t,this.t("groupSelectionAdornmentTemplate",e,t))}get linkSelectionAdornmentTemplate(){return this.ib}set linkSelectionAdornmentTemplate(t){const e=this.ib;e!==t&&(this.ib=t,this.t("linkSelectionAdornmentTemplate",e,t))}get highlighteds(){return this._M}get isModified(){const t=this.undoManager;return t.isEnabled?t.currentTransaction!==null?!0:this.Uu&&this.Os!==t.historyIndex:this.Uu}set isModified(t){if(this.Uu!==t){o.i(t,"boolean",ut,"isModified"),this.Uu=t;const e=this.undoManager;!t&&e.isEnabled&&(this.Os=e.historyIndex),t||this.TL()}}TL(){const t=this.isModified;this.$M!==t&&(this.$M=t,this.v("Modified"))}get model(){return this.Si}set model(t){const e=this.Si;if(e!==t){this.currentTool.doCancel(),e&&e.undoManager!==t.undoManager&&e.undoManager.isInTransaction&&o.o("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.stopAnimation(!0);const n=this.cL(!0);this.Jn=!1,this.vu=!0,this.Os=-2,this.Mr=!1;const s=this.Ht;this.Ht=!0,this.animationManager.vl("Model"),e&&(this.qn!==null&&this.qn.each(r=>e.removeChangedListener(r)),e.removeChangedListener(this.JM)),this.Si=t,this.partManager=this.cR(this.Si.type),this.initializePartManager(this.partManager);for(let r=0;r<n.length;r++)this.add(n[r]);t.addChangedListener(this.WM),this.partManager.MS(),t.removeChangedListener(this.WM),t.addChangedListener(this.JM),this.qn!==null&&this.qn.each(r=>t.addChangedListener(r)),this.Ht=s,this.invalidateDocumentBounds(),this.Ht||this.C(),e&&t.undoManager.copyProperties(e.undoManager)}}get themeManager(){return this.db}set themeManager(t){const e=this.db;e!==t&&(e!==null&&e.removeDiagram(this),this.db=t,t!==null&&t.addDiagram(this))}initializePartManager(t){}static cS(t,e){ut.nL.add(t,e)}static get licenseKey(){return ut.SS.last()}static set licenseKey(t){ut.SS.add(t.replace(/\s/g,""))}static get version(){return ut.fR}cR(t){const e=ut.nL.get(t);return e!==null?new e:new Ea}get G(){return this.qM}set G(t){this.qM=t}get gx(){return this.iL}uR(t){if(t.model!==this.model)return;const e=t.change,n=t.propertyName;if(e===1&&n[0]==="S"){if(n==="StartingFirstTransaction"){const s=this,r=this.toolManager;r.mouseDownTools.each(a=>a.diagram=s),r.mouseMoveTools.each(a=>a.diagram=s),r.mouseUpTools.each(a=>a.diagram=s),this.routers.each(a=>a.diagram=s),!this.ws&&!this.Jn&&(this.Fc=!0,this.vu&&(this.Mr=!0))}else if(n==="StartingUndo"||n==="StartingRedo"){const s=this.animationManager;this.skipsUndoManager||(s.defaultAnimation.isAnimating&&s.stopAnimation(),s.getBundleAnimation().isAnimating&&s.getBundleAnimation().stop()),this.v("ChangingSelection",this.selection)}else if(n==="StartedTransaction"){const s=this.animationManager;s.defaultAnimation.isAnimating&&!this.skipsUndoManager&&s.stopAnimation()}return}if(this.G){this.G=!1;try{if(t.modelChange===""&&e===1){(n==="FinishedUndo"||n==="FinishedRedo")&&(this.v("ChangedSelection",this.selection),this.Li());const s=this.animationManager;n==="RolledBackTransaction"&&s.stopAnimation(),this.aR(),this.Fc=!0,this.maybeUpdate(),(this.undoManager.transactionLevel===0||this.undoManager.transactionLevel===1)&&s.PM(),n==="CommittedTransaction"&&this.undoManager.isJustDiscarded&&(this.Os=Math.min(this.Os,this.undoManager.historyIndex-1)),(n==="CommittedTransaction"||n==="RolledBackTransaction")&&this.undoManager.vw&&setTimeout(()=>{this.isModified=!1},1);const r=t.isTransactionFinished;if(r&&(this.TL(),this.gx.clear(),this.animationManager.lF()),!this.Ix&&r&&this.lastInput.targetDiagram){this.Ix=!0;const a=this;o.Oh(()=>{a.currentTool.standardMouseOver(),a.Ix=!1},10)}}}finally{this.G=!0}}}get de(){return this.HM}set de(t){this.HM=t}get xm(){return this.Ex}set xm(t){this.Ex=t}xL(t){const e=t.T.r;for(const n of e)n instanceof qs&&this.NS(n)}NS(t){const e=t.element;if(e===null||!(e instanceof HTMLImageElement)||(e.ss instanceof C&&e.ss.add(this),t.dR(),!e.c0))return;const n=e.getAttribute("src")||"",s=this.Zl.getValue(n);if(s===null){qs.DL(t,e);const r=[];r.push(t),this.Zl.add(n,r)}else{for(let r=0;r<s.length;r++)if(s[r]===t)return;s.push(t)}}gR(t){const e=t.T.r,n=e.length;for(let s=0;s<n;s++)this.CS(e[s])}CS(t){if(!(t instanceof qs))return;const e=t.element;if(e===null||!(e instanceof HTMLImageElement)||!e.c0)return;const n=e.getAttribute("src")||"",s=this.Zl.getValue(n);if(s!==null){for(let r=0;r<s.length;r++)if(s[r]===t){s.splice(r,1),s.length===0&&(this.Zl.remove(n),qs.mR(e),e.ss instanceof C&&e.ss.remove(this),qs.clearCache(n));return}}}fL(){qs.clearCache(),this.Zl.clear()}rebuildParts(){this.partManager.rebuildParts()}Sc(t,e){this.gs.Sc(t,e)}Mc(t,e){this.gs.Mc(t,e)}findPartForKey(t){return this.partManager.findPartForKey(t)}findNodeForKey(t){return this.partManager.findNodeForKey(t)}findLinkForKey(t){return this.partManager.findLinkForKey(t)}findPartForData(t){return this.partManager.findPartForData(t)}findNodeForData(t){return this.partManager.findNodeForData(t)}findLinkForData(t){return this.partManager.findLinkForData(t)}findNodesByExample(...t){return this.partManager.findNodesByExample(...t)}findLinksByExample(...t){return this.partManager.findLinksByExample(...t)}get nodeTemplate(){return this.Xr.getValue("")}set nodeTemplate(t){const e=this.Xr.getValue("");e!==t&&(this.Xr.add("",t),this.t("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get nodeTemplateMap(){return this.Xr}set nodeTemplateMap(t){const e=this.Xr;e!==t&&(this.Xr=t,this.t("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get groupTemplate(){return this.Jh.getValue("")}set groupTemplate(t){const e=this.Jh.getValue("");e!==t&&(this.Jh.add("",t),this.t("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get groupTemplateMap(){return this.Jh}set groupTemplateMap(t){const e=this.Jh;e!==t&&(this.Jh=t,this.t("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get linkTemplate(){return this.Jl.getValue("")}set linkTemplate(t){const e=this.Jl.getValue("");e!==t&&(this.Jl.add("",t),this.t("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get linkTemplateMap(){return this.Jl}set linkTemplateMap(t){const e=this.Jl;e!==t&&(this.Jl=t,this.t("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.rebuildParts())}get isMouseCaptured(){return this.ZM}set isMouseCaptured(t){const e=this.dt;if(e===null)return;const n=e.Ft;n instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.Ni(n,"pointermove",this.ia,!1),this.Ni(n,"pointerdown",this._l,!1),this.Ni(n,"pointerup",this.ea,!1),this.Ni(n,"pointerout",this.sa,!1),this.Ni(n,"pointercancel",this.na,!1),this.Bt(i,"pointermove",this.ia,!0),this.Bt(i,"pointerdown",this._l,!0),this.Bt(i,"pointerup",this.ea,!0),this.Bt(i,"pointerout",this.sa,!0),this.Bt(i,"pointercancel",this.na,!0),this.Ni(n,"wheel",this.ta,!1),this.Bt(i,"wheel",this.ta,!0),this.Bt(i,"selectstart",this.Yh,!1)):(this.Ni(i,"pointermove",this.ia,!0),this.Ni(i,"pointerdown",this._l,!0),this.Ni(i,"pointerup",this.ea,!0),this.Ni(i,"pointerout",this.sa,!0),this.Ni(i,"pointercancel",this.na,!0),this.Bt(n,"pointermove",this.ia,!1),this.Bt(n,"pointerdown",this._l,!1),this.Bt(n,"pointerup",this.ea,!1),this.Bt(n,"pointerout",this.sa,!1),this.Bt(n,"pointercancel",this.na,!1),this.Ni(i,"wheel",this.ta,!0),this.Ni(i,"selectstart",this.Yh,!1),this.Bt(n,"wheel",this.ta,!1)),this.ZM=t)}get position(){return this.st}set position(t){if(this.st.equals(t))return;const e=T.l().a(this.st),n=this.viewportBounds.copy();if(this.st.a(t),this.animationManager.qC(e,this.st),!this.Ht&&!(this.dt===null&&!this.Vu.isReal())){this.Ht=!0;const s=this.scale,r=this.kt/s,a=this.Pt/s;this.gS(this.Gm,r,a,this.Tc,!1),this.Ht=!1}else this.jr();if(!this.Ht){const s=this.viewportBounds;this.onViewportBoundsChanged(n,s,this.K,!1)}T.s(e)}get initialPosition(){return this.wx}set initialPosition(t){this.wx.equals(t)||(this.wx=t.N())}get initialScale(){return this.xx}set initialScale(t){this.xx!==t&&(o.i(t,"number",ut,"initialScale"),this.xx=t)}get grid(){return this.is===null&&(this.is=this.dL()),this.is}set grid(t){let e=this.is;if(e!==t){e===null&&(this.is=this.dL(),e=this.is),t.type!==Ut.Grid&&o.o("Diagram.grid must be a Panel of type Panel.Grid");const n=e.panel;n!==null&&n.remove(e),this.is=t,t.name="GRID",n!==null&&n.add(t),this.qr(),this.C(),this.t("grid",e,t)}}get viewportBounds(){return this.Qx}jr(){const t=this.Qx,e=this.st,n=this.K;t.e(e.x,e.y,Math.max(this.kt,0)/n,Math.max(this.Pt,0)/n),this.th()}get viewSize(){return this.Vu}set viewSize(t){const e=this.viewSize;if(!e.equals(t)){t=t.N(),this.Vu=t;let n=0,s=0;t.isReal()?(n=t.width,s=t.height):this.Tt!==null&&(n=this.Tt.clientWidth||1,s=this.Tt.clientHeight||1),this.kt=n,this.Pt=s,this.jr(),this.invalidateDocumentBounds(),this.t("viewSize",e,t),this.C()}}get fixedBounds(){return this.Mx}set fixedBounds(t){const e=this.Mx;e.equals(t)||((t.width===-1/0||t.height===1/0||t.height===-1/0)&&o.o("fixedBounds width/height must not be Infinity"),t=t.N(),this.Mx=t,this.invalidateDocumentBounds(),this.t("fixedBounds",e,t))}get scrollMargin(){return this.Ac}set scrollMargin(t){typeof t=="number"&&(t=new K(t));const e=this.Ac;e.equals(t)||(t=t.N(),this.Ac=t,this.t("scrollMargin",e,t),this.yu())}get scrollMode(){return this.jh}set scrollMode(t){const e=this.jh;e!==t&&(this.jh=t,t===1&&this.Us(!1),this.t("scrollMode",e,t),this.ra(),this.C())}get scrollsPageOnFocus(){return this.Sx}set scrollsPageOnFocus(t){const e=this.Sx;e!==t&&(o.i(t,"boolean",ut,"scrollsPageOnFocus"),this.Sx=t,this.t("scrollsPageOnFocus",e,t))}get positionComputation(){return this.Nx}set positionComputation(t){const e=this.Nx;e!==t&&(t!==null&&o.i(t,"function",ut,"positionComputation"),this.Nx=t,this.Us(!1),this.t("positionComputation",e,t))}get scaleComputation(){return this.Cx}set scaleComputation(t){const e=this.Cx;e!==t&&(t!==null&&o.i(t,"function",ut,"scaleComputation"),this.Cx=t,this.AL(this.scale,this.scale),this.t("scaleComputation",e,t))}get documentBounds(){return this.Gm}FL(t){this.Zh=!1;let e=this.Gm;e.equals(t)||(e=e.copy(),this.Gm.a(t),this.Us(!1),this.v("DocumentBoundsChanged",void 0,e),this.ra(),this.C())}ensureBounds(){if(this.Zh){const t=I.l();this.FL(this.computeBounds(t)),I.s(t)}}get isVirtualized(){return this._x}set isVirtualized(t){const e=this._x;e!==t&&(o.i(t,"boolean",ut,"isVirtualized"),this._x=t,this.t("isVirtualized",e,t))}get scale(){return this.K}set scale(t){const e=this.K;e!==t&&this.AL(e,t)}get defaultScale(){return this.Jm}set defaultScale(t){this.Jm=t}get autoScale(){return this.ql}set autoScale(t){const e=this.ql;e!==t&&(this.ql=t,this.t("autoScale",e,t),t!==1&&this.Us(!1))}get initialAutoScale(){return this.Lr}set initialAutoScale(t){const e=this.Lr;e!==t&&(this.Lr=t,this.t("initialAutoScale",e,t))}get initialViewportSpot(){return this.Ax}set initialViewportSpot(t){const e=this.Ax;e!==t&&(t.isSpot()||o.o("initialViewportSpot must be a specific Spot: "+t),this.Ax=t,this.t("initialViewportSpot",e,t))}get initialDocumentSpot(){return this.Lx}set initialDocumentSpot(t){const e=this.Lx;e!==t&&(t.isSpot()||o.o("initialViewportSpot must be a specific Spot: "+t),this.Lx=t,this.t("initialDocumentSpot",e,t))}get minScale(){return this.bx}set minScale(t){const e=this.bx;e!==t&&(t>0?(this.bx=t,this.t("minScale",e,t),t>this.scale&&(this.scale=t)):o.tt(t,"> 0",ut,"minScale"))}get maxScale(){return this.kx}set maxScale(t){const e=this.kx;e!==t&&(t>0?(this.kx=t,this.t("maxScale",e,t),t<this.scale&&(this.scale=t)):o.tt(t,"> 0",ut,"maxScale"))}get zoomPoint(){return this.Px}set zoomPoint(t){this.Px.equals(t)||(t=t.N(),this.Px=t)}get contentAlignment(){return this.Tc}set contentAlignment(t){const e=this.Tc;e.equals(t)||(t=t.N(),this.Tc=t,this.t("contentAlignment",e,t),this.Us(!1))}get initialContentAlignment(){return this.Bm}set initialContentAlignment(t){const e=this.Bm;e.equals(t)||(t=t.N(),this.Bm=t,this.t("initialContentAlignment",e,t))}get padding(){return this.Zt}set padding(t){typeof t=="number"&&(t=new K(t));const e=this.Zt;e.equals(t)||(t=t.N(),this.Zt=t,this.invalidateDocumentBounds(),this.t("padding",e,t))}get partManager(){return this.eS}set partManager(t){const e=this.eS;e!==t&&(t.diagram!==null&&o.o("Cannot share PartManagers between Diagrams: "+t.toString()),e&&e.Do(null),this.eS=t,t.Do(this))}get nodes(){return this.partManager.nodes.iterator}get links(){return this.partManager.links.iterator}get parts(){return this.partManager.parts.iterator}findTopLevelNodesAndLinks(){const t=new C,e=this.nodes;for(;e.next();){const s=e.value;s.isTopLevel&&t.add(s)}const n=this.links;for(;n.next();){const s=n.value;s.isTopLevel&&t.add(s)}return t.iterator}findTopLevelGroups(){return this.Gr.iterator}get routers(){return this.Vc}doLinkRouting(t){this.Ro=!0;const e=this.Vc.r;for(let n=0;n<e.length;n++)e[n].canRoute(t)&&e[n].routeLinks(this.Ar,t);this.Ro=!1}get layout(){return this.ie}set layout(t){const e=this.ie;e!==t&&(this.ie=t,t.diagram=this,t.group=null,this.Yr=!0,this.t("layout",e,t),this.requestUpdate())}layoutDiagram(t){this.Li(),t&&this.wb(!0),this.ws?this.yS(!1,this.Pl||this.Vc.count!==0&&this.Hn.size!==0):(this.Fc=!0,this.wr())}wb(t){const e=this.Gr.iterator;for(;e.next();)this.RL(e.value,t);this.layout&&(t?this.layout.isValidLayout=!1:this.layout.invalidateLayout())}RL(t,e){if(t===null)return;const n=t.la.iterator;for(;n.next();){const s=n.value;this.RL(s,e)}t.layout!==null&&(e?t.layout.isValidLayout=!1:t.layout.invalidateLayout())}yS(t,e){if(this.Vx)return;const n=this.G;this.G=!0;const s="Layout",r=this.undoManager.transactionLevel,a=this.layout,u=this.animationManager;try{r===0&&(this.undoManager.kl=!0,this.startTransaction(s)),r<=1&&!u.defaultAnimation.isAnimating&&!u.xi&&(t||u.vl(s)),this.Yr=!1;let h=this.Gr.iterator;for(;h.next();)this.vL(h.value,t,r,e);let f=!1;if(a.isValidLayout||(!t||a.isRealtime||a.isRealtime===null||r===0?(a.doLayout(this),this.r0(this),f=!0,a.isValidLayout=!0):this.Yr=!0),f||this.r0(this),this.doLinkRouting(this),this.Ar.clear(),this.Wh.size!==0){for(let m=0;m<23&&this.Wh.size!==0;m++){for(h=this.Gr.iterator;h.next();)this.OL(h.value);const y=this.Ar;this.Ar=this.Wh,this.Wh=y,this.r0(this),this.doLinkRouting(this)}this.Ar.clear(),this.Wh.clear()}}finally{const h=this.undoManager.kl;r===0&&(this.commitTransaction(s),this.undoManager.kl=!1),h&&(r===0||r===1)&&u.PM(),this.Yr&&(this.Yr=!a.isValidLayout),this.G=n}}vL(t,e,n,s){const r=t.la.iterator;for(;r.next();)this.vL(r.value,e,n,s);const a=t.layout;a!==null&&!a.isValidLayout?!e||a.isRealtime||n===0?(t.Zr=!t.location.isReal(),a.doLayout(t),t.invalidateLayout(32),this.mb(t),this.r0(t),this.doLinkRouting(t),a.isValidLayout=!0):(this.doLinkRouting(t),this.Yr=!0):s&&this.doLinkRouting(t)}OL(t){const e=t.la.iterator;for(;e.next();)this.OL(e.value);this.r0(t),this.doLinkRouting(t)}get isTreePathToChildren(){return this.Tx}set isTreePathToChildren(t){const e=this.Tx;if(e!==t&&(o.i(t,"boolean",ut,"isTreePathToChildren"),this.Tx=t,this.t("isTreePathToChildren",e,t),!this.undoManager.isUndoingRedoing)){const n=this.nodes;for(;n.next();)n.value.f0()}}findTreeRoots(){const t=new w,e=this.nodes;for(;e.next();){const n=e.value;n.isTopLevel&&n.findTreeParentLink()===null&&t.add(n)}return t.iterator}get treeCollapsePolicy(){return this.Dx}set treeCollapsePolicy(t){const e=this.Dx;e!==t&&(t!==1&&t!==2&&t!==3&&o.o("Unknown Diagram.treeCollapsePolicy: "+t),this.Dx=t,this.t("treeCollapsePolicy",e,t))}get isCollapsingExpanding(){return this.XM}set isCollapsingExpanding(t){this.XM=t}EF(){const t=new z,e=new z;function n(s){const r=s.toLowerCase(),a=new w;t.add(s,a),t.add(r,a),e.add(s,s),e.add(r,s)}n("InitialAnimationStarting"),n("AnimationStarting"),n("AnimationFinished"),n("BackgroundSingleClicked"),n("BackgroundDoubleClicked"),n("BackgroundContextClicked"),n("ClipboardChanged"),n("ClipboardPasted"),n("DocumentBoundsChanged"),n("ExternalObjectsDropped"),n("GainedFocus"),n("InitialLayoutCompleted"),n("LayoutCompleted"),n("LinkDrawn"),n("LinkRelinked"),n("LinkReshaped"),n("LostFocus"),n("Modified"),n("ObjectSingleClicked"),n("ObjectDoubleClicked"),n("ObjectContextClicked"),n("PartCreated"),n("PartResized"),n("PartRotated"),n("SelectionMoved"),n("SelectionCopied"),n("SelectionDeleting"),n("SelectionDeleted"),n("SelectionGrouped"),n("SelectionUngrouped"),n("ChangingSelection"),n("ChangedSelection"),n("SubGraphCollapsed"),n("SubGraphExpanded"),n("TextEdited"),n("ThemeChanged"),n("TreeCollapsed"),n("TreeExpanded"),n("ViewportBoundsChanged"),n("InvalidateDraw"),this.BM=t,this.zM=e}wL(t){const e=this.zM.getValue(t);return e!==null?e:this.zM.getValue(t.toLowerCase())}LS(t){let e=this.BM.getValue(t);if(e!==null)return e;const n=t.toLowerCase();if(e=this.BM.getValue(n),e!==null)return e;o.o("Unknown DiagramEvent name: "+t)}addDiagramListener(t,e){o.i(t,"string",ut,"addDiagramListener:name"),o.i(e,"function",ut,"addDiagramListener:listener");const n=this.LS(t);return n!==null&&n.add(e),this}removeDiagramListener(t,e){o.i(t,"string",ut,"removeDiagramListener:name"),o.i(e,"function",ut,"addDiagramListener:listener");const n=this.LS(t);n!==null&&n.remove(e)}raiseDiagramEvent(t,e,n){this.v(t,e,n)}v(t,e,n){const s=this.LS(t),r=new me;r.diagram=this;const a=this.wL(t);a!==null&&(r.name=a),e!==void 0&&(r.subject=e),n!==void 0&&(r.parameter=n);const u=s.length;if(u===1)s.elt(0)(r);else if(u!==0){const h=s.toArray();for(let f=0;f<u;f++){const m=h[f];m(r)}}}isUnoccupied(t,e){return this.getPositions(!1,null,e||null).isUnoccupied(t.x,t.y,t.width,t.height)}computeOccupiedArea(t){return this.isVirtualized?this.viewportBounds.copy():this.Zh?this.mL(t):t.a(this.documentBounds)}getPositions(t,e,n){let s=this.Wl;s===null&&(this.Wl=s=new gr(this.avoidanceCellSize));let r=e;if(s.Vo||s.ha!==r||s.AS!==n){if(s.TS=Math.max(s.Xc+1,Math.floor(this.avoidanceLimit/this.avoidanceCellSize.width)),s.DS=Math.max(s.Xc+1,Math.floor(this.avoidanceLimit/this.avoidanceCellSize.height)),r!==null&&(r=this.IL(r)),r===null){const a=I.l();this.computeOccupiedArea(a),a.inflate(100,100),s.xb(a);const u=this.nodes;for(;u.next();){const h=u.value,f=h.layer;f===null||!f.visible||f.isTemporary||this.FS(h,n,a)}I.s(a)}else{if(r.memberParts.count>0){const h=this.computePartsBounds(r.memberParts,!1);h.inflate(20,20),s.xb(h)}const a=I.l(),u=r.memberParts;for(;u.next();){const h=u.value;h instanceof _t&&this.FS(h,n,a)}I.s(a)}s.ha=r,s.AS=n,s.Vo=!1}else t&&s.EL();return s}get avoidanceCellSize(){return this.tS}set avoidanceCellSize(t){this.Wl=null,this.tS=new _(Math.max(1,t.width),Math.max(1,t.height))}get avoidanceLimit(){return this.iS}set avoidanceLimit(t){this.iS=Math.max(1,t)}IL(t){return t.canAvoid()?t:t.containingGroup!==null?this.IL(t.containingGroup):null}FS(t,e,n){if(t===e||!t.isVisible())return;const s=t.canAvoid();if(s){const r=t.getAvoidableRect(n);this.Wl.pR(r.x,r.y,r.width,r.height)}if(t instanceof Wt&&(!s||t.avoidableMembers)){const r=t.memberParts;for(;r.next();){const a=r.value;a instanceof _t&&this.FS(a,e,n)}}}RS(t){this.Wl!==null&&!this.Wl.Vo&&(t===void 0||t.canAvoid())&&(this.Wl.Vo=!0)}get autoScrollInterval(){return this.zm}set autoScrollInterval(t){const e=this.zm;e!==t&&(this.zm=t,this.t("autoScrollInterval",e,t))}get autoScrollRegion(){return this.Xm}set autoScrollRegion(t){typeof t=="number"&&(t=new K(t));const e=this.Xm;e.equals(t)||(t=t.N(),this.Xm=t,this.invalidateDocumentBounds(),this.t("autoScrollRegion",e,t))}doAutoScroll(t){this.qm.a(t),this.computeAutoScrollPosition(this.qm).equalsApprox(this.position)?this.stopAutoScroll():this.VL()}VL(){if(this.Dc!==-1)return;const t=this.zm,e=this;this.Dc=o.Oh(()=>{if(e.Dc===-1||(e.stopAutoScroll(),e.lastInput.event===null))return;const n=e.computeAutoScrollPosition(e.qm);if(n.equalsApprox(e.position))return;e.position=n,e.lastInput.documentPoint=e.transformViewToDoc(e.qm),e.doMouseMove(),e.Zh=!0;const s=I.l();e.computeBounds(s),s.unionRect(e.documentBounds),e.FL(s),I.s(s),e.ze=!0,e.maybeUpdate(),e.VL()},t)}stopAutoScroll(){this.Dc!==-1&&(o.Ig(this.Dc),this.Dc=-1)}computeAutoScrollPosition(t){let e=this.position;const n=this.Xm;if(n.top<=0&&n.left<=0&&n.right<=0&&n.bottom<=0)return e;const s=this.viewportBounds,r=this.scale,a=I.X(0,0,s.width*r,s.height*r),u=T.X(0,0);if(t.x>=a.x&&t.x<a.x+n.left&&this.allowHorizontalScroll){let h=Math.max(this.scrollHorizontalLineChange,1);h=h|0,u.x-=h,t.x<a.x+n.left/2&&(u.x-=h),t.x<a.x+n.left/4&&(u.x-=4*h)}else if(t.x<=a.x+a.width&&t.x>a.x+a.width-n.right&&this.allowHorizontalScroll){let h=Math.max(this.scrollHorizontalLineChange,1);h=h|0,u.x+=h,t.x>a.x+a.width-n.right/2&&(u.x+=h),t.x>a.x+a.width-n.right/4&&(u.x+=4*h)}if(t.y>=a.y&&t.y<a.y+n.top&&this.allowVerticalScroll){let h=Math.max(this.scrollVerticalLineChange,1);h=h|0,u.y-=h,t.y<a.y+n.top/2&&(u.y-=h),t.y<a.y+n.top/4&&(u.y-=4*h)}else if(t.y<=a.y+a.height&&t.y>a.y+a.height-n.bottom&&this.allowVerticalScroll){let h=Math.max(this.scrollVerticalLineChange,1);h=h|0,u.y+=h,t.y>a.y+a.height-n.bottom/2&&(u.y+=h),t.y>a.y+a.height-n.bottom/4&&(u.y+=4*h)}return u.equalsApprox(T.Po)||(e=new T(e.x+u.x/r,e.y+u.y/r)),I.s(a),T.s(u),e}makeSvg(t){this.$l.contains("SVG")||this.addRenderer("SVG",new no(this,i.document));const e=new no(this,i.document,!0);t===void 0&&(t={});const n=this;function s(r,a){const u=n.UL(r,"SVG",e),h=u!==null?u.svg:null;return typeof a=="function"?(a(h),null):h}return this.BL(s,t)}makeSVG(t){return this.makeSvg(t)}addRenderer(t,e){this.$l.add(t,e)}removeRenderer(t){this.$l.remove(t)}cacheGroupExternalLinks(t){this.aS=t,t||this.nodes.each(e=>{e instanceof Wt&&(e.u0=null)})}BL(t,e){const n=e.callback;let s=!0;const r=this.Zl.iterator;for(;r.next();)if(!r.value[0].pn){s=!1;break}if(typeof n!="function"||s)return t(e,n,this);const a=this;function u(){const m=+new Date;for(s=!0,r.reset();r.next();)if(!r.value[0].pn){s=!1;break}if(s||m-f>h){t(e,n,a);return}i.requestAnimationFrame(u)}const h=e.callbackTimeout||300,f=+new Date;return i.requestAnimationFrame(()=>u()),null}makeImage(t){return ut.isUsingDOM()?(t===void 0&&(t={}),t.returnType="Image",this.makeImageData(t)):null}makeImageData(t){return t===void 0&&(t={}),this.BL(this.yR,t)}yR(t,e,n){const s=n.UL(t,"canvas",null);if(s===null)return null;const r=s.U.canvas;let a=null;if(r!==null){let u=t.returnType;switch(u===void 0?u="string":u=u.toLowerCase(),u){case ut.img+"data":a=s.getImageData(0,0,r.width,r.height);break;case ut.img:const h=(t.document||document).createElement("img");h.src=r.toDataURL(t.type,t.details),a=h;break;case"blob":{const f=r;return typeof e!="function"&&(a="",o.o('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.')),typeof f.toBlob=="function"?(f.toBlob(e,t.type,t.details),"toBlob"):(e(null),null)}case"string":default:a=r.toDataURL(t.type,t.details)}}return typeof e=="function"?(e(a),null):a}UL(t,e,n){if(this.animationManager.stopAnimation(),this.maybeUpdate(),this.dt===null)return null;typeof t!="object"&&o.o("properties argument must be an Object.");let s=!1,r=t.size||null,a=t.scale||null;t.scale!==void 0&&isNaN(t.scale)&&(a="NaN");let u=t.maxSize;t.maxSize===void 0&&(s=!0,e==="SVG"?u=new _(1/0,1/0):u=new _(2e3,2e3));const h=t.position||null;let f=t.parts||null;Array.isArray(f)&&(f=new w(f));let m=t.padding===void 0?1:t.padding;const y=t.background||null;let x=t.omitTemporary;x===void 0&&(x=!0);const S=t.document||document,E=t.elementFinished||null;let L=t.showTemporary;L===void 0&&(L=!x);let D=t.showGrid;D===void 0&&(D=L),r!==null&&isNaN(r.width)&&isNaN(r.height)&&(r=null),typeof m=="number"?m=new K(m):m instanceof K||o.o("MakeImage padding must be a Margin or a number."),m.left=Math.max(m.left,0),m.right=Math.max(m.right,0),m.top=Math.max(m.top,0),m.bottom=Math.max(m.bottom,0),this.ni.clearContextCache(!0);const F=new io(null,S,void 0,!0),V=F.ci;if(!(r||a||f||h))return F.width=this.kt+Math.ceil(m.left+m.right),F.height=this.Pt+Math.ceil(m.top+m.bottom),e==="SVG"?n===null?null:(n.resize(F.width,F.height,F.width,F.height),n.aa=S,n.Gu=E,this.pb(n.ci,m,new _(F.width,F.height),this.K,this.st,f,y,L,D),n.ci):(this.Bu=!1,this.pb(V,m,new _(F.width,F.height),this.K,this.st,f,y,L,D),this.Bu=!0,F.ci);const U=this.Jm,W=this.documentBounds.copy();if(W.subtractMargin(this.Zt),L){const ke=this.Gt.r,we=ke.length;for(let Pe=0;Pe<we;Pe++){const Re=ke[Pe];if(!Re.visible||!Re.isTemporary)continue;const Xe=Re.At.r,at=Xe.length;for(let je=0;je<at;je++){const ft=Xe[je];if(!ft.isInDocumentBounds||!ft.isVisible())continue;const Ct=ft.actualBounds;Ct.isReal()&&W.unionRect(Ct)}}}let q=new T(W.x,W.y);if(f!==null){const ke=new I(0,0,0,0);let we=!0;const Pe=f.iterator;for(Pe.reset();Pe.next();){const Re=Pe.value;if(!(Re instanceof Vn))continue;const Xe=Re.layer;if(Xe!==null&&!Xe.visible||Xe!==null&&!L&&Xe.isTemporary||!Re.isVisible())continue;const at=Re.actualBounds;at.isReal()&&(we?(we=!1,ke.a(at)):ke.unionRect(at))}W.width=ke.width,W.height=ke.height,q.x=ke.x,q.y=ke.y}h!==null&&h.isReal()&&(q=h,a||(a=U));let le=0,oe=0;m!==null&&(le=m.left+m.right,oe=m.top+m.bottom);let ce=0,Se=0;r!==null&&(ce=r.width,Se=r.height,isFinite(ce)&&(ce=Math.max(0,ce-le)),isFinite(Se)&&(Se=Math.max(0,Se-oe)));let he=0,ge=0;if(r!==null&&a!==null?(a==="NaN"&&(a=U),r.isReal()?(he=ce,ge=Se):isNaN(Se)?(he=ce,ge=W.height*a):(he=W.width*a,ge=Se)):r!==null?r.isReal()?(a=Math.min(ce/W.width,Se/W.height),he=ce,ge=Se):isNaN(Se)?(a=ce/W.width,he=ce,ge=W.height*a):(a=Se/W.height,he=W.width*a,ge=Se):a!==null?a==="NaN"&&u.isReal()?(a=Math.min((u.width-le)/W.width,(u.height-oe)/W.height),a>U?(a=U,he=W.width,ge=W.height):(he=u.width,ge=u.height)):(he=W.width*a,ge=W.height*a):(a=U,he=W.width,ge=W.height),m!==null?(he+=le,ge+=oe):m=new K(0),u!==null){let ke=u.width,we=u.height;e!=="SVG"&&s&&ut.wR,isNaN(ke)&&(ke=2e3),isNaN(we)&&(we=2e3),isFinite(ke)&&(he=Math.min(he,ke)),isFinite(we)&&(ge=Math.min(ge,we))}return F.width=Math.ceil(he),F.height=Math.ceil(ge),e==="SVG"?n===null?null:(n.resize(F.width,F.height,F.width,F.height),n.aa=S,n.Gu=E,this.pb(n.ci,m,new _(Math.ceil(he),Math.ceil(ge)),a,q,f,y,L,D),n.ci):(this.Bu=!1,this.pb(V,m,new _(Math.ceil(he),Math.ceil(ge)),a,q,f,y,L,D),this.Bu=!0,F.ci)}};k(ut,"lb",null),k(ut,"nL",new z),k(ut,"rS"),k(ut,"lS",null),k(ut,"hL",i.document!==void 0),k(ut,"ee",new WeakMap),k(ut,"e0",null),k(ut,"gb",""),k(ut,"None",1),k(ut,"Uniform",2),k(ut,"UniformToFill",3),k(ut,"CycleAll",1),k(ut,"CycleNotDirected",2),k(ut,"CycleNotDirectedFast",3),k(ut,"CycleNotUndirected",4),k(ut,"CycleDestinationTree",5),k(ut,"CycleSourceTree",6),k(ut,"DocumentScroll",1),k(ut,"InfiniteScroll",2),k(ut,"TreeParentCollapsed",1),k(ut,"AllParentsCollapsed",2),k(ut,"AnyParentsCollapsed",3),k(ut,"SS",new w),k(ut,"fR","3.0.4"),k(ut,"img","image"),k(ut,"wR",!1),k(ut,"Ku",null),k(ut,"zL","5da73c80a36555d4038e4972187c3cae51fd22"),k(ut,"fw",!1),k(ut,"Ok",()=>{if(ut.zL[5]===void 0&&(G.prototype.ts=G.prototype.pw),!ut.isUsingDOM())return;const t=i.document.createElement("canvas"),e=t.getContext("2d"),n=o.As("7ca11abfd022028846");e[n]=o.As("398c3597c01238");const s="7ca11abfd7330390",r=[ut.zL,o.fw+"4ae6247590da4bb21c324ba3a84e385776",G.Ok+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",$.za],a=10,u=0;for(let h=1;h<5;h++)e[o.As(s)](o.As(r[h-1]),a,h*15+u);e[n]=o.As("39f046ebb36e4b");for(let h=1;h<5;h++)e[o.As(s)](o.As(r[h-1]),a,h*15+u);(r.length!==4||r[0][0]!=="5"||r[3][0]!=="7")&&(G.prototype.ts=G.prototype.pw),ut.Ku=t});let st=ut;class Ve{constructor(t){k(this,"XL");k(this,"KL");k(this,"vS");k(this,"Le");if(this.XL=null,this.KL="63ad05bbe23a1786468a4c741b6d2",this.vS="@onz",this.KL===this._tk){this.vS=!0,this.Le=this.vS;return}this.Le=null}xR(t,e){let n="f";const s=i[o.As("76a715b2f73f148a")][o.As("72ba13b5")]||"",r=o.As;if(this.Le=!0,!st.isUsingDOM())return;let a=st[r("76a115b6ed251eaf4692")];if(!a){const h=s[r("76ad18b4f73e")];for(let m=s[r("73a612b6fb191d")](r("35e7"))+2;m<h;m++)n+=s[m];const f=n[r("73a612b6fb191d")](r("7da71ca0ad381e90"));this.Le=!(f>=0&&f<n[r("73a612b6fb191d")](r("35")));return}const u=st.SS.iterator;for(;u.next();){a=u.value;const h=r(a).split(r("39e9"));if(h.length<6)return;const f=r(h[1]).split(".");if(h[4]!=="7da71ca0")return;const m=r(o[r("6cae19")]).split(".");if(!(f[0]>m[0]||f[0]===m[0]&&f[1]>=m[1]))continue;const y="73a612b6fb191d",x=i[r("74a900bae4370f8b51")][r("6fbb13a1c2311e8a57")].toLowerCase(),S=x[r(y)](r("3aad1ab6e022098b4dc4")),E=r(h[2]);if(S>-1){const he=x[r(y)](E.toLowerCase()+"/");if(this.Le=!(he>-1&&he<S),!this.Le)return}const L=s[r("76ad18b4f73e")];for(let he=s[r(y)](r("35e7"))+2;he<L;he++)n+=s[he];let D=n[r(y)](E);if(D<0&&E!==r("7da71ca0ad381e90")&&(D=n[r(y)](r("76a715b2ef3e149757"))),D<0&&(D=n[r(y)](r("76a715b2ef3e149757"))),D<0&&(D=n[r(y)](r("2bfa41fdb3784bca12"))),D<0&&(D=s[r(y)](r("7baa19a6f76c1988428554"))),this.Le=!(D>=0&&D<n[r(y)](r("35"))||n[r(y)](r("35"))===-1),!this.Le||s[r(y)](r("7fb002b6ed25128b4da25b2e"))&&(this.Le=!(s[r(y)](E)>-1),!this.Le))return;const F=i[o.As("76a715b2f73f148a")][o.As("69ad17a1e03e")],V=F[r(y)](r("7fb002b6ed25128b4da25b2e"));if(V>-1&&(this.Le=!(F[r(y)](E)>V),!this.Le))return;const U=E;if(U[0]!=="#")continue;const W=i.document.createElement("div");let q=h[0].replace(/[A-Za-z]/g,"");for(;q.length<4;)q+="9";const le=q;q=q.substring(q.length-4);let oe="";const ce=["gsh","gsf"],Se=["Header","Background","Display","Feedback"];if(oe+=ce[parseInt(q.substring(0,1),10)%2],oe+=Se[parseInt(q.substring(0,1),10)%4],W[r("79a417a0f0181a8946")]=oe,i.document[r("78a712aa")]){i.document[r("78a712aa")][r("7bb806b6ed32388c4a875b")](W);const he=i.getComputedStyle(W).getPropertyValue(r("78a704b7e62456904c9b12701b6532a8")),ge=i.getComputedStyle(W).getPropertyValue(r("75b817b0ea2202"));if(i.document[r("78a712aa")][r("68ad1bbcf533388c4a875b")](W),!he)continue;const ke=i[r("77a902b0eb1b1e804a8a")],we="0."+parseInt(le,10)%100;if(ge===we||he.indexOf(parseInt(U[1]+U[2],16))!==-1&&he.indexOf(parseInt(U[3]+U[4],16))!==-1){this.Le=!1;return}else if(ke&&ke(r("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches){oe="."+oe;for(let Pe=0;Pe<document.styleSheets.length;Pe++){const Re=document.styleSheets[Pe].rules||document.styleSheets[Pe].cssRules;for(const Xe in Re)if(oe===Re[Xe].selectorText){this.Le=!1;return}}}}else this.Le=null,e&&(this.Le=!1)}}Ku(t){return t.ni.setTransform(t.Ui,0,0,t.Ui,0,0),t.ni.commitTransform(),this.Le===null&&this.xR(t,!0),0<this.Le&&this!==this.XL}}class Lt{constructor(t){k(this,"OS");k(this,"IS");this.OS=t===void 0?new T:t,this.IS=new T}get point(){return this.OS}set point(t){this.OS=t}get shifted(){return this.IS}set shifted(t){this.IS=t}}class Sn{constructor(t,e,n){k(this,"ge");k(this,"ML");k(this,"yb");this.ge=t,this.ML=e,this.yb=n}}class zn{constructor(t){k(this,"isGridSnapEnabled");k(this,"isGridSnapRealtime");k(this,"gridSnapCellSize");k(this,"gridSnapCellSpot");k(this,"gridSnapOrigin");k(this,"dragsLink");k(this,"dragsTree");k(this,"groupsSnapMembers");k(this,"groupsAlwaysMove");k(this,"dragsMembers");this.Jt(),t&&Object.assign(this,t)}Jt(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new _(NaN,NaN).g(),this.gridSnapCellSpot=B.TopLeft,this.gridSnapOrigin=new T(NaN,NaN).g(),this.dragsLink=!1,this.dragsTree=!1,this.groupsSnapMembers=!1,this.groupsAlwaysMove=!0,this.dragsMembers=!0}}class ki extends st{constructor(t,e){return typeof t=="string"||i.Element&&t instanceof Element?super(t):(super(),e=t),this.YL(),e&&this.setProperties(e),this}YL(){this.allowDragOut=!0,this.allowMove=!1,this.isReadOnly=!0,this.contentAlignment=B.TopCenter,this.layout=new Qc}setupRouters(){}reset(){super.reset(),this.YL()}}class mi extends st{constructor(e,n){var t=(...Pte)=>(super(...Pte),k(this,"bb"),k(this,"kb"),k(this,"Pb"),k(this,"Mb"),k(this,"d0"),k(this,"Kc"),k(this,"Dl"),k(this,"ES"),k(this,"VS"),k(this,"Sb"),k(this,"US"),this);return typeof e=="string"||i.Element&&e instanceof Element?t(e):(t(),n=e),this.animationManager.isEnabled=!1,this.Ht=!0,this.bb=null,this.Ou=!1,this.Iu=!1,this.kb=!0,this.Pb=!0,this.Mb=0,this.d0=!1,this.Kc=null,this.setRenderingHint("drawShadows",!1),this.Dl=new Vn({selectable:!0,selectionAdorned:!1,selectionObjectName:"BOXSHAPE",locationObjectName:"BOXSHAPE",resizeObjectName:"BOXSHAPE",cursor:"move"}).add(new cn({name:"BOXSHAPE",fill:"transparent",stroke:"magenta",strokeWidth:2}).theme("stroke","overviewBox")).hi(),this.allowCopy=!1,this.allowDelete=!1,this.allowSelect=!0,this.autoScrollRegion=new K(0,0,0,0),this.st.e(0,0),this.toolManager.$t("Dragging",new Ln,this.toolManager.mouseMoveTools),this.click=()=>{const s=this.observed;if(s===null)return;const r=s.viewportBounds,a=this.lastInput.documentPoint;s.position=new T(a.x-r.width/2,a.y-r.height/2)},this.ES=s=>{this.invalidateDocumentBounds(),this.g0()},this.VS=s=>{this.observed!==null&&(this.invalidateDocumentBounds(),this.C())},this.Sb=s=>{this.updateDelay<1?this.C():this.d0||(this.d0=!0,setTimeout(()=>this.redraw(),this.updateDelay))},this.US=s=>{this.observed!==null&&this.g0()},this.autoScale=2,this.Ht=!1,n&&Object.assign(this,n),this}setupRouters(){}computePixelRatio(){return 1}redraw(){this.d0&&this.updateDelay>=1&&(this.d0=!1,this.bR()),super.redraw()}Gi(){if(this.Tt===null&&o.o("No div specified"),this.dt===null&&o.o("No canvas specified"),this.dt instanceof no||(this.box.VM(),!this.ze))return;const e=this.observed;if(e===null||e.animationManager.defaultAnimation.isAnimating||!e.Vh)return;this.l0();const n=this.dt,s=this.ni;if(s.clearContextCache(!0),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,n.width,n.height),this.updateDelay<1)this.GL();else if(this.Kc!==null){s.drawImage(this.Kc.Ft,0,0);const u=this.L;u.Jt(),this.scale!==1&&u.K(this.scale),(this.position.x!==0||this.position.y!==0)&&u.Zi(-this.position.x,-this.position.y),s.scale(this.Ui,this.Ui),s.transform(u.m11,u.m12,u.m21,u.m22,u.dx,u.dy),s.commitTransform()}const r=this.Gt.r,a=r.length;for(let u=0;u<a;u++)r[u].Gi(s,this);this.vc=!1,this.ze=!1}bR(){const e=this.dt,n=this.ni;if(!(e===null||n===null)){if(this.l0(),this.Kc===null){const s=new io(null);s.width=e.width,s.height=e.height,this.Kc=s}try{this.dt=this.Kc,this.ni=this.dt.ci,this.ni.clearContextCache(!0),this.ni.setTransform(1,0,0,1,0,0),this.ni.clearRect(0,0,this.dt.width,this.dt.height),this.GL()}finally{this.dt=e,this.ni=n}}}GL(){const e=this.observed;if(e===null)return;const n=this.drawsTemporaryLayers,s=this.drawsGrid&&n,r=e.grid;if(s&&r!==null&&r.visible&&!(isNaN(r.width)||isNaN(r.height))){const y=I.l().a(this.viewportBounds).unionRect(e.viewportBounds);e.qr(y),I.s(y),e.Li()}const a=this.L;a.Jt(),this.scale!==1&&a.K(this.scale),(this.position.x!==0||this.position.y!==0)&&a.Zi(-this.position.x,-this.position.y);const u=this.ni;u.scale(this.Ui,this.Ui),u.transform(a.m11,a.m12,a.m21,a.m22,a.dx,a.dy),u.commitTransform();const h=this.viewportBounds,f=e.Gt.r,m=f.length;for(let y=0;y<m;y++)f[y].yF(u,h,this,n,s)}get observed(){return this.bb}set observed(e){const n=this.bb;if(e instanceof mi&&o.o("Overview.observed Diagram may not be an Overview itself: "+e),n!==e){if(this.kR(n),this.bb=e,this.PR(e),this.invalidateDocumentBounds(),e===null){this.Kc=null;const s=this.dt,r=this.ni;s&&r&&(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,s.width,s.height))}else this.Sb(null),this.g0(),this.C();this.t("observed",n,e)}}get box(){return this.Dl}set box(e){const n=this.Dl;n!==e&&(e.hi(),this.Dl=e,this.remove(n),this.add(this.Dl),this.g0(),this.t("box",n,e))}get drawsTemporaryLayers(){return this.kb}set drawsTemporaryLayers(e){this.kb!==e&&(this.kb=e,this.redraw())}get drawsGrid(){return this.Pb}set drawsGrid(e){this.Pb!==e&&(this.Pb=e,this.redraw())}get updateDelay(){return this.Mb}set updateDelay(e){e<0&&(e=0),this.Mb!==e&&(this.Mb=e)}PR(e){e!==null&&(e.addDiagramListener("ViewportBoundsChanged",this.ES),e.addDiagramListener("DocumentBoundsChanged",this.VS),e.addDiagramListener("InvalidateDraw",this.Sb),e.addDiagramListener("AnimationFinished",this.US),this.add(this.box))}kR(e){e!==null&&(this.remove(this.box),e.removeDiagramListener("ViewportBoundsChanged",this.ES),e.removeDiagramListener("DocumentBoundsChanged",this.VS),e.removeDiagramListener("InvalidateDraw",this.Sb),e.removeDiagramListener("AnimationFinished",this.US))}g0(){const e=this.box;if(e===null)return;const n=this.observed;if(n===null)return;this.ze=!0;const s=n.viewportBounds,r=e.selectionObject,a=_.l();a.e(s.width,s.height),r.desiredSize=a,_.s(a);const u=2/this.scale;r instanceof cn&&(r.strokeWidth=u),e.location=new T(s.x-u/2,s.y-u/2),e.isSelected=!0}computeBounds(){const e=this.observed;if(e===null)return I.Tk;const n=e.documentBounds.copy();return n.unionRect(e.viewportBounds),n}invalidateViewport(e,n){this.ze!==!0&&(this.ze=!0,this.requestUpdate())}onViewportBoundsChanged(e,n,s,r){this.Ht||(this.th(),this.C(),this.ra(),this.invalidateDocumentBounds(),this.g0(),this.Vi.scale=s,this.Vi.position.x=e.x,this.Vi.position.y=e.y,this.Vi.bounds.a(e),this.Vi.isScroll=r,this.v("ViewportBoundsChanged",this.Vi,e))}}class Ln extends Be{constructor(){super();k(this,"eh");this.eh=null}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e===null||!e.allowMove||!e.allowSelect)return!1;const n=e.observed;if(n===null)return!1;const s=e.lastInput;if(!s.left||e.currentTool!==this&&(!this.isBeyondDragSize()||s.isTouchEvent&&s.timestamp-e.firstInput.timestamp<this.delay))return!1;if(this.findDraggablePart()===null){const r=n.viewportBounds;this.eh=new T(r.width/2,r.height/2);const a=e.firstInput.documentPoint;n.position=new T(a.x-this.eh.x,a.y-this.eh.y)}return!0}doActivate(){this.eh=null,super.doActivate()}doUpdateCursor(e){const n=this.diagram,s=n.box;s!==null&&s.cursor&&(n.currentCursor=s.cursor)}moveParts(e,n,s){const r=this.diagram,a=r.observed;if(a===null)return;const u=r.box;if(u===null)return;if(this.eh===null){const f=r.firstInput.documentPoint,m=u.location;this.eh=new T(f.x-m.x,f.y-m.y)}const h=r.lastInput.documentPoint;a.position=new T(h.x-this.eh.x,h.y-this.eh.y)}}class Un{constructor(t){k(this,"k");k(this,"BS");k(this,"zS");k(this,"XS");k(this,"KS");k(this,"YS");k(this,"GS");k(this,"jS");k(this,"HS");k(this,"sh");k(this,"qS");k(this,"Nb");k(this,"WS");k(this,"Cb");k(this,"Lb");k(this,"JS");k(this,"Uo");k(this,"$S");C.Yi(this),this.k=st.pm(),this.BS=!0,this.zS=!0,this.XS=!0,this.KS=!1,this.YS=!1,this.GS=!1,this.jS=!1,this.HS=null,this.sh=null,this.qS=1.05,this.Nb=NaN,this.WS=null,this.Cb=NaN,this.Lb=I.Tk,this.JS=!1,this.Uo=null,this.$S=200,t&&Object.assign(this,t)}toString(){return"CommandHandler"}get diagram(){return this.k}Do(t){this.k=t}doKeyDown(){const t=this.diagram,e=t.lastInput,n=o.lr?e.meta:e.control,s=e.shift,r=e.alt,a=e.code,u=e.key.toLowerCase();n&&(a==="KeyC"||a==="Insert"||u==="c")?this.canCopySelection()&&this.copySelection():n&&a==="KeyX"||u==="x"||s&&a==="Delete"?this.canCutSelection()&&this.cutSelection():n&&a==="KeyV"||u==="v"||s&&a==="Insert"?this.canPasteSelection()&&this.pasteSelection():n&&a==="KeyY"||u==="y"||r&&s&&a==="Backspace"?this.canRedo()&&this.redo():n&&a==="KeyZ"||u==="z"||r&&a==="Backspace"?this.canUndo()&&this.undo():a==="Delete"||a==="Backspace"?this.canDeleteSelection()&&this.deleteSelection():n&&a==="KeyA"||u==="a"?this.canSelectAll()&&this.selectAll():a==="Escape"?this.canStopCommand()&&this.stopCommand():a==="ArrowUp"?t.allowVerticalScroll&&(n?t.scroll("pixel","up"):t.scroll("line","up")):a==="ArrowDown"?t.allowVerticalScroll&&(n?t.scroll("pixel","down"):t.scroll("line","down")):a==="ArrowLeft"?t.allowHorizontalScroll&&(n?t.scroll("pixel","left"):t.scroll("line","left")):a==="ArrowRight"?t.allowHorizontalScroll&&(n?t.scroll("pixel","right"):t.scroll("line","right")):a==="PageUp"?s&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):a==="PageDown"?s&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):a==="Home"?n&&t.allowVerticalScroll?t.scroll("document","up"):!n&&t.allowHorizontalScroll&&t.scroll("document","left"):a==="End"?n&&t.allowVerticalScroll?t.scroll("document","down"):!n&&t.allowHorizontalScroll&&t.scroll("document","right"):a==="Space"?this.canScrollToPart()&&this.scrollToPart():a==="Minus"||a==="NumpadSubtract"?this.canDecreaseZoom()&&this.decreaseZoom():a==="Equal"||a==="NumpadAdd"?this.canIncreaseZoom()&&this.increaseZoom():n&&a==="Digit0"?this.canResetZoom()&&this.resetZoom():s&&(a==="KeyZ"||u==="z")?this.canZoomToFit()&&this.zoomToFit():n&&!s&&(a==="KeyG"||u==="g")?this.canGroupSelection()&&this.groupSelection():n&&s&&(a==="KeyG"||u==="g")?this.canUngroupSelection()&&this.ungroupSelection():a==="F2"?this.canEditTextBlock()&&this.editTextBlock():a==="ContextMenu"?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0}doKeyUp(){const t=this.diagram.lastInput;t.bubbles=!0}stopCommand(){const t=this.diagram,e=t.currentTool;e instanceof Ne&&t.allowSelect&&t.clearSelection(),e!==null&&e.doCancel()}canStopCommand(){return!0}selectAll(){const t=this.diagram;t.C();try{t.currentCursor="wait",t.v("ChangingSelection",t.selection);const e=t.parts;for(;e.next();){const r=e.value;r.canSelect()&&!r.layer.isTemporary&&(r.isSelected=!0)}const n=t.nodes;for(;n.next();){const r=n.value;r.canSelect()&&!r.layer.isTemporary&&(r.isSelected=!0)}const s=t.links;for(;s.next();){const r=s.value;r.canSelect()&&!r.layer.isTemporary&&(r.isSelected=!0)}}finally{t.v("ChangedSelection",t.selection),t.currentCursor=""}}canSelectAll(){return this.diagram.allowSelect}deleteSelection(){const t=this.diagram;try{t.currentCursor="wait",t.v("ChangingSelection",t.selection),t.startTransaction("Delete"),t.v("SelectionDeleting",t.selection);const e=new C,n=t.selection.iterator;for(;n.next();){const s=n.value;Vn.nh(e,s,!0,this.deletesTree?1/0:0,this.deletesConnectedLinks?null:!1,r=>r.canDelete())}t.removeParts(e,!0),t.v("SelectionDeleted",e)}finally{t.commitTransaction("Delete"),t.v("ChangedSelection",t.selection),t.currentCursor=""}}canDeleteSelection(){const t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||t.selection.count===0)}copySelection(){const t=this.diagram;try{const e=new C,n=t.selection.iterator;for(;n.next();){const s=n.value;Vn.nh(e,s,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,r=>r.canCopy())}this.copyToClipboard(e)}finally{}}canCopySelection(){const t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||t.selection.count===0)}cutSelection(){this.copySelection(),this.deleteSelection()}canCutSelection(){const t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||t.selection.count===0)}copyToClipboard(t){const e=this.diagram;let n=null;if(t===null)st.aL();else{const s=e.model;let r=!1,a=!1,u=null;try{s.ju()&&(r=s.copiesParentKeyOfNodeData,s.copiesParentKeyOfNodeData=this.copiesParentKey),(s.uc()||s.Hu())&&(a=s.copiesGroupKeyOfNodeData,s.copiesGroupKeyOfNodeData=this.copiesGroupKey),u=e.copyParts(t,null,!0)}finally{s.ju()&&(s.copiesParentKeyOfNodeData=r),(s.uc()||s.Hu())&&(s.copiesGroupKeyOfNodeData=a),n=new w,n.addAll(u.iteratorValues),st.e0=n,st.gb=e.model.dataFormat}}e.v("ClipboardChanged",n)}pasteFromClipboard(){const t=new C,e=st.e0;if(e===null)return t;const n=this.diagram;if(st.gb!==n.model.dataFormat)return t;const s=n.model;let r=!1,a=!1,u=null;try{s.ju()&&(r=s.copiesParentKeyOfNodeData,s.copiesParentKeyOfNodeData=this.copiesParentKey),(s.uc()||s.Hu())&&(a=s.copiesGroupKeyOfNodeData,s.copiesGroupKeyOfNodeData=this.copiesGroupKey),u=n.copyParts(e,n,!1)}finally{s.ju()&&(s.copiesParentKeyOfNodeData=r),(s.uc()||s.Hu())&&(s.copiesGroupKeyOfNodeData=a);const h=u.iterator;for(;h.next();){const f=h.value,m=h.key;f.location.isReal()||(m.location.isReal()?f.location=m.location:!f.position.isReal()&&m.position.isReal()&&(f.position=m.position)),t.add(f)}}return t}pasteSelection(t){t===void 0&&(t=null);const e=this.diagram;try{e.currentCursor="wait",e.v("ChangingSelection",e.selection),e.startTransaction("Paste");const n=this.pasteFromClipboard();n.count>0&&e.clearSelection(!0);const s=n.iterator;for(;s.next();){const r=s.value;r.isSelected=!0}if(t!==null){const r=e.computePartsBounds(e.selection);if(r.isReal()){const a=this.computeEffectiveCollection(e.selection,e.cb);e.xP(a,new T(t.x-r.centerX,t.y-r.centerY),e.cb,!1)}}e.v("ClipboardPasted",n)}finally{e.commitTransaction("Paste"),e.v("ChangedSelection",e.selection),e.currentCursor=""}}canPasteSelection(t){const e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowClipboard||st.e0===null||st.e0.count===0||st.gb!==e.model.dataFormat)}undo(){this.diagram.undoManager.undo()}canUndo(){const t=this.diagram;return t.isReadOnly||t.isModelReadOnly?!1:t.allowUndo&&t.undoManager.canUndo()}redo(){this.diagram.undoManager.redo()}canRedo(){const t=this.diagram;return t.isReadOnly||t.isModelReadOnly?!1:t.allowUndo&&t.undoManager.canRedo()}decreaseZoom(t){t===void 0&&(t=1/this.zoomFactor);const e=this.diagram;if(e.autoScale!==1)return;const n=e.scale*t;n<e.minScale||n>e.maxScale||(e.scale=n)}canDecreaseZoom(t){t===void 0&&(t=1/this.zoomFactor);const e=this.diagram;if(e.autoScale!==1)return!1;const n=e.scale*t;return n<e.minScale||n>e.maxScale?!1:e.allowZoom}increaseZoom(t){t===void 0&&(t=this.zoomFactor);const e=this.diagram;if(e.autoScale!==1)return;const n=e.scale*t;n<e.minScale||n>e.maxScale||(e.scale=n)}canIncreaseZoom(t){t===void 0&&(t=this.zoomFactor);const e=this.diagram;if(e.autoScale!==1)return!1;const n=e.scale*t;return n<e.minScale||n>e.maxScale?!1:e.allowZoom}resetZoom(t){t===void 0&&(t=this.defaultScale);const e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)}canResetZoom(t){t===void 0&&(t=this.defaultScale);const e=this.diagram;return t<e.minScale||t>e.maxScale?!1:e.allowZoom}zoomToFit(){const t=this.diagram,e=t.animationManager;e.stopAnimation(),t.redraw();const n=t.position,s=t.scale;e.vl("Zoom To Fit"),this.isZoomToFitRestoreEnabled&&s===this.Cb&&!isNaN(this.Nb)&&t.documentBounds.equals(this.Lb)?(t.scale=this.Nb,t.position=this.WS,this.Cb=NaN,this.Lb=I.Tk):(this.Nb=s,this.WS=n.copy(),t.zoomToFit(),this.Cb=t.scale,this.Lb=t.documentBounds.copy()),e.PM()}canZoomToFit(){return this.diagram.allowZoom}scrollToPart(t){t===void 0&&(t=null);const e=this.diagram;if(e.ensureBounds(),t===null){try{this.Uo!==null&&(this.Uo.next()?t=this.Uo.value:this.Uo=null)}catch{this.Uo=null}t===null&&(e.highlighteds.count>0?this.Uo=e.highlighteds.iterator:e.selection.count>0&&(this.Uo=e.selection.iterator),this.Uo!==null&&this.Uo.next()&&(t=this.Uo.value))}if(t!==null){const n=e.animationManager;n.vl("Scroll To Part");const s=this.scrollToPartPause;if(s>0){const r=this.Yc(t,[t]);if(r.length===1)e.startTransaction(),e.centerRect(t.actualBounds),e.commitTransaction("Scroll To Part");else{const a=()=>{e.startTransaction();let h=r.pop();for(;r.length>0&&h instanceof _t&&h.isTreeExpanded&&(!(h instanceof Wt)||h.isSubGraphExpanded);)h=r.pop();r.length>0?(h instanceof Vn&&e.scrollToRect(h.actualBounds),h instanceof _t&&!h.isTreeExpanded&&(h.isTreeExpanded=!0),h instanceof Wt&&!h.isSubGraphExpanded&&(h.isSubGraphExpanded=!0)):(h instanceof Vn&&e.centerRect(h.actualBounds),e.removeDiagramListener("LayoutCompleted",u)),e.commitTransaction("Scroll To Part")},u=()=>{o.Oh(a,(n.isEnabled?n.duration:0)+s)};e.addDiagramListener("LayoutCompleted",u),a()}}else{const r=e.position.copy();e.centerRect(t.actualBounds),r.equalsApprox(e.position)&&n.stopAnimation()}}}Yc(t,e){if(t.isVisible())return e;if(t instanceof Cn)this.Yc(t.adornedPart,e);else if(t instanceof Zt){const n=t.fromNode;n!==null&&this.Yc(n,e);const s=t.toNode;s!==null&&this.Yc(s,e)}else{if(t instanceof _t){const s=t.labeledLink;s!==null&&this.Yc(s,e);const r=t.findTreeParentNode();r!==null&&(!r.isTreeExpanded&&!r.wasTreeExpanded&&e.push(r),this.Yc(r,e))}const n=t.containingGroup;n!==null&&(!n.isSubGraphExpanded&&!n.wasSubGraphExpanded&&e.push(n),this.Yc(n,e))}return e}canScrollToPart(t){if(t===void 0&&(t=null),t!==null&&!(t instanceof Vn))return!1;const e=this.diagram;return e.selection.count===0&&e.highlighteds.count===0?!1:e.allowHorizontalScroll&&e.allowVerticalScroll}collapseTree(t){t===void 0&&(t=null);const e=this.diagram,n="Collapse Tree";try{e.startTransaction(n),e.animationManager.vl(n);const s=new w;if(t!==null&&t.isTreeExpanded)t.collapseTree(),s.add(t);else if(t===null){const r=e.selection.iterator;for(;r.next();){const a=r.value;a instanceof _t&&a.isTreeExpanded&&(a.collapseTree(),s.add(a))}}e.v("TreeCollapsed",s)}finally{e.commitTransaction(n)}}canCollapseTree(t){t===void 0&&(t=null);const e=this.diagram;if(e.isReadOnly)return!1;if(t!==null){if(!(t instanceof _t)||!t.isTreeExpanded)return!1;if(t.findTreeChildrenLinks().count>0)return!0}else{const n=e.selection.iterator;for(;n.next();){const s=n.value;if(s instanceof _t){if(!s.isTreeExpanded)continue;if(s.findTreeChildrenLinks().count>0)return!0}}}return!1}expandTree(t){t===void 0&&(t=null);const e=this.diagram,n="Expand Tree";try{e.startTransaction(n),e.animationManager.vl(n);const s=new w;if(t!==null&&!t.isTreeExpanded)t.expandTree(),s.add(t);else if(t===null){const r=e.selection.iterator;for(;r.next();){const a=r.value;a instanceof _t&&(a.isTreeExpanded||(a.expandTree(),s.add(a)))}}e.v("TreeExpanded",s)}finally{e.commitTransaction(n)}}canExpandTree(t){t===void 0&&(t=null);const e=this.diagram;if(e.isReadOnly)return!1;if(t!==null){if(!(t instanceof _t)||t.isTreeExpanded)return!1;if(t.findTreeChildrenLinks().count>0)return!0}else{const n=e.selection.iterator;for(;n.next();){const s=n.value;if(s instanceof _t){if(s.isTreeExpanded)continue;if(s.findTreeChildrenLinks().count>0)return!0}}}return!1}groupSelection(){const t=this.diagram,e=t.model;if(!e.Gc())return;const n=this.archetypeGroupData;if(n===null)return;let s=null;try{t.currentCursor="wait",t.v("ChangingSelection",t.selection),t.startTransaction("Group");const r=new w,a=t.selection.iterator;for(;a.next();){const f=a.value;f.Se()&&f.canGroup()&&r.add(f)}const u=new w,h=r.iterator;for(;h.next();){const f=h.value;let m=!1;const y=r.iterator;for(;y.next();){const x=y.value;if(f.isMemberOf(x)){m=!0;break}}m||u.add(f)}if(u.count>0){let f=u.first().containingGroup;if(f!==null)for(;f!==null;){let m=!1;const y=u.iterator;for(;y.next();)if(!y.value.isMemberOf(f)){m=!0;break}if(m)f=f.containingGroup;else break}if(n instanceof Wt)n.hi(),s=n.copy(),s!==null&&t.add(s);else if(e.isGroupForData(n)){const m=e.copyNodeData(n);o.wt(m)&&(e.addNodeData(m),s=t.findNodeForData(m))}if(s!==null){f!==null&&this.isValidMember(f,s)&&(s.containingGroup=f);const m=u.iterator;for(;m.next();){const y=m.value;this.isValidMember(s,y)&&(y.containingGroup=s)}t.clearSelection(!0),s.isSelected=!0}}t.v("SelectionGrouped",s)}finally{t.commitTransaction("Group"),t.v("ChangedSelection",t.selection),t.currentCursor=""}}canGroupSelection(){const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Gc()||this.archetypeGroupData===null)return!1;const e=t.selection.iterator;for(;e.next();){const n=e.value;if(n.Se()&&n.canGroup())return!0}return!1}ZS(t){const e=o.rt();if(Array.isArray(t))t.forEach(r=>{r instanceof Zt||r instanceof Vn&&e.push(r)});else{const r=t.iterator;for(;r.next();){const a=r.value;a instanceof Zt||a instanceof Vn&&e.push(a)}}const n=new C,s=e.length;for(let r=0;r<s;r++){const a=e[r];let u=!0;for(let h=0;h<s;h++)if(a.isMemberOf(e[h])){u=!1;break}u&&n.add(a)}return o.it(e),n}isValidMember(t,e){if(e===null||t===e||e instanceof Zt)return!1;let n;return t!==null&&(t===e||t.isMemberOf(e)||(n=t.memberValidation,n!==null&&!n(t,e))||t.data===null&&e.data!==null||t.data!==null&&e.data===null)?!1:(n=this.memberValidation,n!==null?n(t,e):!0)}ungroupSelection(t){t===void 0&&(t=null);const e=this.diagram,n=e.model;if(n.Gc())try{e.currentCursor="wait",e.v("ChangingSelection",e.selection),e.startTransaction("Ungroup");const s=new w;if(t!==null)s.add(t);else{const a=e.selection.iterator;for(;a.next();){const u=a.value;u instanceof Wt&&u.canUngroup()&&s.add(u)}}const r=new w;if(s.count>0){e.clearSelection(!0);const a=s.iterator;for(;a.next();){const u=a.value;u.expandSubGraph();const h=u.containingGroup,f=h!==null&&h.data!==null?n.getKeyForNodeData(h.data):void 0;r.addAll(u.memberParts);const m=r.iterator;for(;m.next();){const y=m.value;if(y.isSelected=!0,y instanceof Zt)continue;const x=y.data;x!==null?n.setGroupForData(x,f):y.containingGroup=h}e.remove(u)}}e.v("SelectionUngrouped",s,r)}finally{e.commitTransaction("Ungroup"),e.v("ChangedSelection",e.selection),e.currentCursor=""}}canUngroupSelection(t){t===void 0&&(t=null);const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.Gc())return!1;if(t!==null){if(!(t instanceof Wt))return!1;if(t.canUngroup())return!0}else{const n=e.selection.iterator;for(;n.next();){const s=n.value;if(s instanceof Wt&&s.canUngroup())return!0}}return!1}addTopLevelParts(t,e){const n=this.ZS(t);let s=!0;const r=n.iterator;for(;r.next();){const a=r.value;a.containingGroup!==null&&(!e||this.isValidMember(null,a)?a.containingGroup=null:s=!1)}return s}collapseSubGraph(t){t===void 0&&(t=null);const e=this.diagram,n="Collapse SubGraph";try{e.startTransaction(n),e.animationManager.vl(n);const s=new w;if(t!==null&&t.isSubGraphExpanded)t.collapseSubGraph(),s.add(t);else if(t===null){const r=e.selection.iterator;for(;r.next();){const a=r.value;a instanceof Wt&&a.isSubGraphExpanded&&(a.collapseSubGraph(),s.add(a))}}e.v("SubGraphCollapsed",s)}finally{e.commitTransaction(n)}}canCollapseSubGraph(t){t===void 0&&(t=null);const e=this.diagram;if(e.isReadOnly)return!1;if(t!==null)return!(!(t instanceof Wt)||!t.isSubGraphExpanded);{const n=e.selection.iterator;for(;n.next();){const s=n.value;if(s instanceof Wt&&s.isSubGraphExpanded)return!0}}return!1}expandSubGraph(t){t===void 0&&(t=null);const e=this.diagram,n="Expand SubGraph",s=new w;try{if(e.startTransaction(n),e.animationManager.vl(n),t!==null&&!t.isSubGraphExpanded)t.expandSubGraph(),s.add(t);else if(t===null){const r=e.selection.iterator;for(;r.next();){const a=r.value;a instanceof Wt&&(a.isSubGraphExpanded||(a.expandSubGraph(),s.add(a)))}}e.v("SubGraphExpanded",s)}finally{for(const r of s)this.jL(e,r);t&&this.jL(e,t),e.commitTransaction(n)}}jL(t,e){for(const n of e.memberParts)n instanceof _t&&t.Mc(n,e)}canExpandSubGraph(t){t===void 0&&(t=null);const e=this.diagram;if(e.isReadOnly)return!1;if(t!==null)return!(!(t instanceof Wt)||t.isSubGraphExpanded);{const n=e.selection.iterator;for(;n.next();){const s=n.value;if(s instanceof Wt&&!s.isSubGraphExpanded)return!0}}return!1}editTextBlock(t){t===void 0&&(t=null);const e=this.diagram,n=e.toolManager.findTool("TextEditing");if(n!==null){if(t===null){let s=null;const r=e.selection.iterator;for(;r.next();){const a=r.value;if(a.canEdit()){s=a;break}}if(s===null)return;t=s.findInVisualTree(a=>a instanceof yi&&a.editable)}t!==null&&(e.currentTool=null,n.textBlock=t,e.currentTool=n)}}canEditTextBlock(t){t===void 0&&(t=null);const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||e.toolManager.findTool("TextEditing")===null)return!1;if(t!==null){if(!(t instanceof yi))return!1;const n=t.part;if(n!==null&&n.canEdit())return!0}else{const n=e.selection.iterator;for(;n.next();){const s=n.value;if(s.canEdit()&&(t=s.findInVisualTree(r=>r instanceof yi&&r.editable),t!==null))return!0}}return!1}showContextMenu(t){const e=this.diagram,n=e.toolManager.findTool("ContextMenu");if(n===null)return;t===void 0&&(e.selection.count>0?t=e.selection.first():t=e);const s=n.findObjectWithContextMenu(t);if(s!==null){const r=e.lastInput;let a=null;if(s instanceof ai)a=s.getDocumentPoint(B.Center);else if(!e.viewportBounds.containsPoint(r.documentPoint)){const u=e.viewportBounds;a=new T(u.x+u.width/2,u.y+u.height/2)}a!==null&&(r.viewPoint=e.transformDocToView(a),r.documentPoint=a,r.left=!1,r.right=!0,r.up=!0),e.currentTool=n,n.openMenu(!1,s)}}canShowContextMenu(t){const e=this.diagram,n=e.toolManager.findTool("ContextMenu");return!(n===null||(t===void 0&&(e.selection.count>0?t=e.selection.first():t=e),n.findObjectWithContextMenu(t)===null))}get copiesClipboardData(){return this.BS}set copiesClipboardData(t){o.i(t,"boolean",Un,"copiesClipboardData"),this.BS=t}get copiesConnectedLinks(){return this.zS}set copiesConnectedLinks(t){o.i(t,"boolean",Un,"copiesConnectedLinks"),this.zS=t}get deletesConnectedLinks(){return this.XS}set deletesConnectedLinks(t){o.i(t,"boolean",Un,"deletesConnectedLinks"),this.XS=t}get copiesTree(){return this.KS}set copiesTree(t){o.i(t,"boolean",Un,"copiesTree"),this.KS=t}get deletesTree(){return this.YS}set deletesTree(t){o.i(t,"boolean",Un,"deletesTree"),this.YS=t}get copiesParentKey(){return this.GS}set copiesParentKey(t){o.i(t,"boolean",Un,"copiesParentKey"),this.GS=t}get copiesGroupKey(){return this.jS}set copiesGroupKey(t){o.i(t,"boolean",Un,"copiesGroupKey"),this.jS=t}get archetypeGroupData(){return this.HS}set archetypeGroupData(t){t!==null&&o.i(t,"object",Un,"archetypeGroupData"),this.diagram,this.HS=t}get memberValidation(){return this.sh}set memberValidation(t){t!==null&&o.i(t,"function",Un,"memberValidation"),this.sh=t}get defaultScale(){return this.diagram.defaultScale}set defaultScale(t){this.diagram.defaultScale=t}get zoomFactor(){return this.qS}set zoomFactor(t){t>1||o.o("zoomFactor must be larger than 1.0, not: "+t),this.qS=t}get isZoomToFitRestoreEnabled(){return this.JS}set isZoomToFitRestoreEnabled(t){o.i(t,"boolean",Un,"isZoomToFitRestoreEnabled"),this.JS=t}get scrollToPartPause(){return this.$S}set scrollToPartPause(t){this.$S=t}computeEffectiveCollection(t,e){const n=this.diagram,s=n.toolManager.findTool("Dragging"),r=n.currentTool===s;e===void 0&&(e=n.a0());const a=new z;if(t===null)return a;let u=t.iterator;for(;u.next();){const h=u.value;n.$r(a,h,r,e)}if(n.draggedLink!==null&&e.dragsLink)return a;for(u=t.iterator;u.next();){const h=u.value;if(h instanceof Zt){const f=h.fromNode;if(f!==null&&!a.contains(f))a.remove(h);else{const m=h.toNode;m!==null&&!a.contains(m)&&a.remove(h)}}}return a}}var hr=(H=>(H[H.None=0]="None",H[H.Default=1]="Default",H[H.Vertical=4]="Vertical",H[H.Horizontal=5]="Horizontal",H[H.Fill=2]="Fill",H))(hr||{}),_r=(H=>(H[H.None=0]="None",H[H.Along=21]="Along",H[H.Plus90=22]="Plus90",H[H.Minus90=23]="Minus90",H[H.Opposite=24]="Opposite",H[H.Upright=25]="Upright",H[H.Plus90Upright=26]="Plus90Upright",H[H.Minus90Upright=27]="Minus90Upright",H[H.Upright45=28]="Upright45",H))(_r||{}),La=(H=>(H[H.None=0]="None",H[H.Vertical=1]="Vertical",H[H.Horizontal=2]="Horizontal",H[H.Both=3]="Both",H))(La||{});const rn=class rn{constructor(){k(this,"n");k(this,"qu");k(this,"Wu");k(this,"Bo");k(this,"f");k(this,"oh");k(this,"W");k(this,"st");k(this,"oe");k(this,"Wt");k(this,"Ju");k(this,"Bs");k(this,"Ct");k(this,"Xe");k(this,"Qr");k(this,"rh");k(this,"ki");k(this,"jc");k(this,"K");k(this,"Xt");k(this,"_r");k(this,"Ai");k(this,"Bi");k(this,"$u");k(this,"oi");k(this,"Hc");k(this,"Vt");k(this,"si");k(this,"tl");k(this,"QS");k(this,"Zu");C.Yi(this),this.n=30723,this.Wt=1,this.Ju="",this.Bs=null,this.Ct=null,this.st=new T(NaN,NaN).g(),this.Xe=_.dw,this.Qr=new G,this.rh=new G,this.ki=null,this.jc=1,this.K=1,this.Xt=0,this._r=K.Vg,this.oe=new I(NaN,NaN,NaN,NaN).g(),this.Ai=new I(NaN,NaN,NaN,NaN).g(),this.Bi=new I(0,0,NaN,NaN).g(),this.$u=null,this.qu=null,this.W=null,this.oi=B.Default,this.Hc=B.Default,this.Wu=0,this.Bo=0,this.Vt=null,this.f=null,this.oh=null,this.si=null,this.QS=null,this.tl=null,this.Zu=null}cloneProtected(t){t.n=(this.n|2048|4096)&-32769,t.Wt=this.Wt,t.Ju=this.Ju,t.Ct=this.Ct,t.st.a(this.st),t.Xe=this.Xe.N(),this.ki!==null?t.ki=this.ki.copy():t.ki=null,t.K=this.K,t.Xt=this.Xt,t._r=this._r.N(),t.oe.a(this.oe),t.Ai.a(this.Ai),t.Bi.a(this.Bi),t.qu=this.qu,this.W!==null&&(t.W=this.W.copy()),t.oi=this.oi.N(),t.Hc=this.Hc.N(),t.Wu=this.Wu,t.Bo=this.Bo,this.Vt!==null&&(t.Vt=this.Vt.copy()),this.f!==null&&(this.f.mi?t.f=this.f:t.f=this.f.copy()),this.oh!==null&&(t.oh=this.oh.slice()),this.si!==null&&(t.si=this.si.copy())}addCopyProperty(t){let e=this.oh;if(!Array.isArray(e))e=[],this.oh=e;else for(let n=0;n<e.length;n++)if(e[n]===t)return;e.push(t)}zo(t){t.$u=null,t.tl=null,t.c()}clone(){const t=new this.constructor;if(this.cloneProtected(t),this.oh!==null)for(let e=0;e<this.oh.length;e++){const n=this.oh[e];t[n]=this[n]}return t}copy(){return this.clone()}km(){const t=this.Ti;if(t!==null){this.Ti=null;for(const e of t)e.Qu()&&(e.isToData?this.themeData(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter):e.isToObject?this.themeObject(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter,e.sourceName):e.isToModel?this.themeModel(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter):this.theme(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter))}return this}li(t){t in _r?this.segmentOrientation=t:t in hr?this.stretch=t:o.hr(this,t)}toString(){return o.sn(this.constructor)+"#"+C.cs(this)}lh(){this.f!==null&&(this.f.mi=!0)}jt(){this.f===null?this.f=new ds:this.f.mi&&(this.f=this.f.copy())}Ke(){if(this.W===null){const t=new Jc;t.ca=B.None,t.fa=B.None,t.ua=10,t.da=10,t.ga=0,t.ma=0,this.W=t}}raiseChangedEvent(t,e,n,s,r,a,u){const h=this.part;if(h!==null){h.qc(t,e,n,s,r,a,u),n===this&&t===2&&this.Wc()&&this.pa(h,e);const f=this.diagram;if(this.xs!==null&&f!==null&&f.Vh&&!f.undoManager.isUndoingRedoing&&!f.animationManager.wu){const m=this.xs.get(e);if(m!==null&&f.animationManager.isEnabled&&!f.animationManager.isTicking){this.Zu===null&&(this.Zu=new z);let y=f.undoManager.transactionLevel===0;if(m.startCondition===2?y=!0:m.startCondition===3&&(y=!1),y){const x=new Ht;m.gF(x);const S=this.Zu.get(m);S!==null&&S.stop(),this.Zu.add(m,x),x.ax=this,x.TM=m,x.add(this,e,s,r),x.start()}else f.animationManager.getBundleAnimation().add(this,e,s,r)}}if(this instanceof Ut&&n===h&&h._S()&&h.data!==null){const m=this.T.r,y=m.length;for(let x=0;x<y;x++){const S=m[x];S instanceof Ut&&S.Jr(E=>{E.data!==null&&E._S()&&E.updateTargetBindings(e)})}}}}cF(t){this.Zu.remove(t)}Eo(){if(this.diagram!==null&&this.findBindingPanel()===null&&this.Ti!==null){const t=this.Ti.iterator;for(;t.next();){const e=t.value;if(!e.isToTheme)continue;let n=null;const s=e.sourceName;e.isToObject&&(n=this.HL(s));let r=this;const a=e.targetId;a!==-1&&(r=this.m0(a),r===null)||(s==="/"?n=r.part:s==="."?n=r:s===".."&&(n=r.panel),e.updateTarget(r,n))}}}pa(t,e){const n=this.findBindingPanel();if(n!==null){const s=this.Ti.iterator;for(;s.next();){const r=s.value;let a=null;if(r.isToObject){if(a=r.qL(n,this),a===null)continue;r.updateSource(this,a,e,null)}else if(r.isToModel){const u=t.diagram;u!==null&&!u.de&&r.updateSource(this,u.model.modelData,e,n)}else if(!r.isToTheme){const u=n.data;if(u===null)continue;const h=t.diagram;h!==null&&!h.de&&r.updateSource(this,u,e,n)}if(a===this){const u=r.targetId,h=n.m0(u);h!==null&&r.updateTarget(h,a,e)}}}}m0(t){return this.$n===t?this:null}HL(t){let e;return t===""?e=this:t==="/"?e=this:t==="."?e=this:t===".."?e=this:e=this.part.findObject(t),e}get $n(){return this.f!==null?this.f.$n:-1}set $n(t){this.$n!==t&&(this.f===null&&(this.f=new ds),this.f.$n=t)}get Ti(){return this.f!==null?this.f.Ti:null}set Ti(t){this.Ti!==t&&(this.f===null&&(this.f=new ds),this.f.Ti=t)}get Zn(){return this.f!==null?this.f.Zn:null}set Zn(t){this.Zn!==t&&(this.f===null&&(this.f=new ds),this.f.Zn=t)}raiseChanged(t,e,n){this.raiseChangedEvent(2,t,this,e,n)}t(t,e,n){this.raiseChangedEvent(2,t,this,e,n)}Qn(t,e,n,s){const r=this.oe;if(r.e(t,e,n,s),this.K!==1||this.Xt!==0){this.ki===null&&(this.ki=new G);const a=this.ki;a.Jt(),this.p0(a,t,e,n,s),a.yw(r)}}WL(t,e,n){return this.pickable===!1?!1:(n.tc(this.L),e?this.intersectsRect(t,n):this.containedInRect(t,n))}JL(t,e,n){if(this.pickable===!1)return!1;const s=this.naturalBounds,r=t.distanceSquaredPoint(e);return n?T.distanceLineSegmentSquared(t.x,t.y,0,0,0,s.height)<=r||T.distanceLineSegmentSquared(t.x,t.y,0,s.height,s.width,s.height)<=r||T.distanceLineSegmentSquared(t.x,t.y,s.width,s.height,s.width,0)<=r||T.distanceLineSegmentSquared(t.x,t.y,s.width,0,0,0)<=r:t.distanceSquared(0,0)<=r&&t.distanceSquared(0,s.height)<=r&&t.distanceSquared(s.width,0)<=r&&t.distanceSquared(s.width,s.height)<=r}yn(){return!0}containsPoint(t){const e=T.l();e.a(t),this.L.xt(e);const n=this.actualBounds;if(!n.isReal())return T.s(e),!1;const s=this.diagram;if(s!==null&&s.Zm){const a=s.getInputOption("extraTouchThreshold"),u=s.getInputOption("extraTouchArea"),h=u/2,f=this.naturalBounds,m=this.getDocumentScale()*s.scale,y=1/m;if(f.width*m<a&&f.height*m<a){const x=I.contains(n.x-h*y,n.y-h*y,n.width+u*y,n.height+u*y,e.x,e.y);return T.s(e),x}}let r=!1;return(this instanceof Cn||this instanceof cn?I.contains(n.x-5,n.y-5,n.width+10,n.height+10,e.x,e.y):n.containsPoint(e))&&(this.si&&!this.si.containsPoint(e)?r=!1:this.Ct!==null&&this.Bi.containsPoint(t)?r=!0:r=this.hh(t)),T.s(e),r}hh(t){const e=this.naturalBounds;return I.contains(0,0,e.width,e.height,t.x,t.y)}containsRect(t){if(this.angle===0)return this.actualBounds.containsRect(t);const e=this.naturalBounds,n=I.X(0,0,e.width,e.height),s=this.L;let r=!1;const a=T.X(t.x,t.y);return n.containsPoint(s.ts(a))&&(a.e(t.x,t.bottom),n.containsPoint(s.ts(a))&&(a.e(t.right,t.bottom),n.containsPoint(s.ts(a))&&(a.e(t.right,t.y),n.containsPoint(s.ts(a))&&(r=!0)))),T.s(a),I.s(n),r}containedInRect(t,e){if(e===void 0)return t.containsRect(this.actualBounds);const n=this.naturalBounds,s=e;let r=!1;const a=T.X(0,0);return t.containsPoint(s.xt(a))&&(a.e(0,n.height),t.containsPoint(s.xt(a))&&(a.e(n.width,n.height),t.containsPoint(s.xt(a))&&(a.e(n.width,0),t.containsPoint(s.xt(a))&&(r=!0)))),T.s(a),r}intersectsRect(t,e){if(e===void 0&&(e=this.L,this.angle===0))return t.intersectsRect(this.actualBounds);const n=this.naturalBounds,s=e,r=T.X(0,0),a=T.X(0,n.height),u=T.X(n.width,n.height),h=T.X(n.width,0);let f=!1;if(t.containsPoint(s.xt(r))||t.containsPoint(s.xt(a))||t.containsPoint(s.xt(u))||t.containsPoint(s.xt(h)))f=!0;else{const m=I.X(0,0,n.width,n.height),y=T.X(t.x,t.y);m.containsPoint(s.ts(y))?f=!0:(y.e(t.x,t.bottom),m.containsPoint(s.ts(y))?f=!0:(y.e(t.right,t.bottom),m.containsPoint(s.ts(y))?f=!0:(y.e(t.right,t.y),m.containsPoint(s.ts(y))&&(f=!0)))),T.s(y),I.s(m),f||($.bw(t,r,a)||$.bw(t,a,u)||$.bw(t,u,h)||$.bw(t,h,r))&&(f=!0)}return T.s(r),T.s(a),T.s(u),T.s(h),f}getDocumentPoint(t,e){if(e===void 0&&(e=new T),t instanceof B){const n=t,s=this.naturalBounds;return e.e(n.x*s.width+n.offsetX,n.y*s.height+n.offsetY),this.ys.xt(e),e}else return e.set(t),this.ys.xt(e),e}getDocumentBounds(t){t===void 0&&(t=new I);const e=this.naturalBounds,n=this.ys,s=T.X(0,0).L(n);return t.e(s.x,s.y,0,0),s.e(e.width,0).L(n),t.unionNoCheck(s.x,s.y,0,0),s.e(e.width,e.height).L(n),t.unionNoCheck(s.x,s.y,0,0),s.e(0,e.height).L(n),t.unionNoCheck(s.x,s.y,0,0),T.s(s),t}getDocumentAngle(){return this.ys.ND()}getDocumentScale(){if(this.y0()===!1)return this.jc;const t=this.K;return this.panel!==null?t*this.panel.getDocumentScale():t}getLocalPoint(t,e){return e===void 0&&(e=new T),e.a(t),this.ys.ts(e),e}getNearestIntersectionPoint(t,e,n){return this.Jc(t.x,t.y,e.x,e.y,n)}Jc(t,e,n,s,r){const a=this.L,u=1/(a.m11*a.m22-a.m12*a.m21),h=a.m22*u,f=-a.m12*u,m=-a.m21*u,y=a.m11*u,x=u*(a.m21*a.dy-a.m22*a.dx),S=u*(a.m12*a.dx-a.m11*a.dy),E=t*h+e*m+x,L=t*f+e*y+S,D=n*h+s*m+x,F=n*f+s*y+S;r.e(0,0);const V=this.naturalBounds,U=$.wl(0,0,V.width,V.height,E,L,D,F,r);return r.L(a),U}ut(t,e,n,s){if(this.Io()===!1)return;const r=this._r,a=r.right+r.left,u=r.top+r.bottom;t=Math.max(t-a,0),e=Math.max(e-u,0),n=n||0,s=s||0,n=Math.max(n-a,0),s=Math.max(s-u,0);const h=this.angle;let f=0;const m=this.desiredSize,y=this.Ab();h===90||h===270?(t=isFinite(m.height)?m.height+y:t,e=isFinite(m.width)?m.width+y:e):(t=isFinite(m.width)?m.width+y:t,e=isFinite(m.height)?m.height+y:e);let x=n||0,S=s||0;const E=this instanceof Ut;switch(this.zs(!0)){case 0:x=0,S=0,E&&(t=1/0,e=1/0);break;case 2:isFinite(t)&&t>n&&(x=t),isFinite(e)&&e>s&&(S=e);break;case 5:isFinite(t)&&t>n&&(x=t),S=0,E&&(e=1/0);break;case 4:isFinite(e)&&e>s&&(S=e),x=0,E&&(t=1/0);break}const L=this.maxSize,D=this.minSize;x>L.width&&D.width<L.width&&(x=L.width),S>L.height&&D.height<L.height&&(S=L.height),n=Math.max(x,D.width),s=Math.max(S,D.height),L.width<n&&(n=Math.min(D.width,n)),L.height<s&&(s=Math.min(D.height,s)),t=Math.min(L.width,t),e=Math.min(L.height,e),t=Math.max(n,t),e=Math.max(s,e),(h===90||h===270)&&(f=t,t=e,e=f,f=n,n=s,s=f),this.oe.lt(),this._u(t,e,n,s),this.oe.g(),this.oe.isReal()||o.o("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.oe.toString()),this.se(!1)}_u(t,e,n,s){}Xs(){return!1}zt(t,e,n,s,r){this.td();const a=I.l();a.a(this.Ai),this.Ai.lt(),this.es()===!1?this.Ai.e(t,e,n,s):this.ah(t,e,n,s),this.Ai.g(),r===void 0?this.si=null:this.si=r;let u=!1;if(r!==void 0)u=!0;else{let h=this.panel;if(h!==null&&h.il()&&(h=h.panel),h!==null){const f=h.Bi,m=this.measuredBounds,y=e+m.height,x=t+m.width;if(u=!(0<=t+.05&&x<=f.width+.05&&0<=e+.05&&y<=f.height+.05),this instanceof yi){const S=this.naturalBounds;(this.w0>S.height||this.pi>S.width)&&(u=!0)}}}u?this.n|=256:this.n&=-257,this.Ai.isReal()||o.o("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Ai.toString()),this.ed(a,this.Ai),this._n(!1),I.s(a)}ah(t,e,n,s){}commonArrange(t,e,n,s){if(this.Ai.e(t,e,n,s),this.desiredSize.isReal())return;const r=this.oe,a=this._r,u=a.right+a.left,h=a.top+a.bottom,f=r.width+u,m=r.height+h;n+=u,s+=h;let y=this.zs(!0);switch(f===n&&m===s&&(y=0),y){case 0:(f>n||m>s)&&(this.se(!0),this.ut(f>n?n:f,m>s?s:m,0,0));break;case 2:this.se(!0),this.ut(n,s,0,0);break;case 5:this.se(!0),this.ut(n,m,0,0);break;case 4:this.se(!0),this.ut(f,s,0,0);break}}ed(t,e){const n=this.part;n!==null&&n.diagram!==null&&((n.selectionObject===this||n.resizeObject===this||n.rotateObject===this)&&n.t2(!0),this.C(),!t.equalsApproxClose(e)&&(n.ch(),this.x0(n)))}x0(t){this.portId!==null&&(t.t2(!0),t instanceof _t&&t.$L(this))}get shadowVisible(){return this.f!==null?this.f.b0:null}set shadowVisible(t){const e=this.shadowVisible;e!==t&&(this.jt(),this.f.b0=t,this.ns(!0),this.C(),this.t("shadowVisible",e,t))}MR(t,e){const n=this.naturalBounds,s=this.rh,r=s.m11,a=s.m21,u=s.dx,h=s.m12,f=s.m22,m=s.dy;let y=0,x=0,S=y,E=x;y=S*r+E*a+u,x=S*h+E*f+m;let L=y,D=x,F=0,V=0;S=n.width+e,E=0,y=S*r+E*a+u,x=S*h+E*f+m;let U=Math.min(L,y),W=Math.min(D,x);F=Math.max(L+F,y)-U,V=Math.max(D+V,x)-W,L=U,D=W,S=n.width+e,E=n.height+e,y=S*r+E*a+u,x=S*h+E*f+m,U=Math.min(L,y),W=Math.min(D,x),F=Math.max(L+F,y)-U,V=Math.max(D+V,x)-W,L=U,D=W,S=0,E=n.height+e,y=S*r+E*a+u,x=S*h+E*f+m,U=Math.min(L,y),W=Math.min(D,x),F=Math.max(L+F,y)-U,V=Math.max(D+V,x)-W,L=U,D=W;const q=t.viewportBounds,le=q.x,oe=q.y,ce=q.width,Se=q.height;return L>ce+le||le>F+L||D>Se+oe||oe>V+D}Gi(t,e){if(this.SR(t,e)||!this.visible)return;const n=this.opacity;if(n===0)return;let s=1;n!==1&&(s=t.globalAlpha,t.globalAlpha=s*n);let r="";this.filter!==""&&(r=t.filter,t.filter=this.filter);const a=this.L,u=this.panel;this.y0()===!0&&this.Tb();const h=this.part;let f=!1,m=0;if(h&&e.getRenderingHint("drawShadows")&&(f=h.isShadowed,f)){const D=h.shadowOffset;m=Math.max(D.y,D.x)*e.scale*e.Ui}const y=this instanceof Ut&&this.il(),x=this.Ai;if(y&&(this.ZL(f,t,!1,u),this.NR(t,e),this.QL(f,t,!1,u),this._L(f,t,!1)),y||!y&&(x.width===0||x.height===0||isNaN(x.x)||isNaN(x.y))){n!==1&&(t.globalAlpha=s),this.filter!==""&&(t.filter=r);return}const S=this.Xs();if(!e.Qh&&S&&this.MR(e,m)){n!==1&&(t.globalAlpha=s),this.filter!==""&&(t.filter=r);return}let E=(this.n&256)!==0;if(t.clipInsteadOfFill&&(E=!1),this instanceof yi&&(t.font=this.font),E){const D=u.yn()?u.naturalBounds:u.actualBounds;let F=Math.max(x.x,D.x),V=Math.max(x.y,D.y),U=Math.min(x.right,D.right)-F,W=Math.min(x.bottom,D.bottom)-V;const q=this.si;if(q!==null&&(F=q.x,V=q.y,U=q.width,W=q.height),F>x.width+x.x||x.x>D.width+D.x){n!==1&&(t.globalAlpha=s),this.filter!==""&&(t.filter=r);return}t.save(),t.beginPath(),t.rect(F,V,U,W),t.clip()}if(S){if(!h.isVisible()){n!==1&&(t.globalAlpha=s),this.filter!==""&&(t.filter=r);return}if(f){const D=h.shadowOffset;t.shadowsSet(D.x*e.scale*this.scale*e.Ui,D.y*e.scale*this.scale*e.Ui,h.shadowBlur),t.shadowsOn(),t.shadowColor=h.shadowColor}}const L=this.naturalBounds;if(t.transform(a.m11,a.m12,a.m21,a.m22,a.dx,a.dy),this.ZL(f,t,S,u),this.Ct!==null&&(t.commitTransform(),this.Db(t,L,x)),this.QL(f,t,S,u),this.fh(t,e),this._L(f,t,S),E&&(t.restore(),t.clearContextCache(this instanceof Ut)),!a.vk()){const D=1/(a.m11*a.m22-a.m12*a.m21);t.transform(a.m22*D,-a.m12*D,-a.m21*D,a.m11*D,D*(a.m21*a.dy-a.m22*a.dx),D*(a.m12*a.dx-a.m11*a.dy))}n!==1&&(t.globalAlpha=s),this.filter!==""&&(t.filter=r)}ZL(t,e,n,s){t&&this.shadowVisible===!0?e.shadowsOn():t&&this.shadowVisible===!1&&e.shadowsOff(),t&&this.Fb(s)&&this.shadowVisible===null&&e.shadowsOff()}QL(t,e,n,s){t&&(this.Ct!==null||this.Fb(s))?(this.Rb(!0),this.shadowVisible===null&&e.shadowsOff()):this.Rb(!1)}_L(t,e,n){t&&this.i2()===!0&&e.shadowsOn(),n&&t&&e.shadowsOff()}CR(t,e,n){const s=this.part;let r=!1;s&&t.getRenderingHint("drawShadows")&&(r=s.isShadowed),e.clipInsteadOfFill&&(r=!1),this.Xs()&&r&&e.shadowsOn(),r&&this.shadowVisible===!0?e.shadowsOn():r&&this.shadowVisible===!1&&e.shadowsOff();const a=this.panel;if(r&&this.Fb(a)&&this.shadowVisible===null&&e.shadowsOff(),e.el){const u=t.computePixelRatio(),h=`drop-shadow(${e.shadowOffsetX/u}px ${e.shadowOffsetY/u}px ${e.shadowBlur/u/2}px ${e.shadowColor})`;this.background!==null&&n.Ct.setAttributeNS(null,"filter",h)}return r&&(this.Ct!==null||this.Fb(a))?(this.Rb(!0),this.shadowVisible===null&&e.shadowsOff()):this.Rb(!1),r}LR(t,e,n,s){if(n.el){const r=e.computePixelRatio(),a=`drop-shadow(${n.shadowOffsetX/r}px ${n.shadowOffsetY/r}px ${n.shadowBlur/r/2}px ${n.shadowColor})`;this.e2(t,a)}s&&this.i2()===!0&&n.shadowsOn(),this.Xs()&&n.shadowsOff()}Fb(t){return t===null?!1:(t.il()&&(t=t.panel),t.i2()||(t.type===Ut.Auto||t.type===Ut.Spot)&&t.findMainElement()!==this)}e2(t,e){}Db(t,e,n){const s=this.Ab(),r=e.x,a=e.y,u=e.width+s,h=e.height+s;this.gn(t,this.Ct,!0,!1,e,n),this.Ct instanceof Pt&&this.Ct.type===3?(t.beginPath(),t.rect(r-s/2,a-s/2,u,h),t.fillContext(this.Ct,!1,null)):t.fillRect(r-s/2,a-s/2,u,h)}tA(t,e){let n=t.AR(this);if(n!==-1)if(n===0)if(t.svg.Ct)t.svg.Ct.after(e);else if(t.type===Ut.Table){const s=t.svg.getElementsByClassName("gojs-ts"),r=s.length!==0?s[0]:null;r!==null&&r.after(e)}else t.svg.prepend(e);else{for(;n!==0&&!t.elt(n-1).isVisibleObject();)n--;if(n===0)t.svg.prepend(e);else{const s=t.elt(n-1).svg;s!==null?s.after(e):t.svg.appendChild(e)}}}SR(t,e){if(!(t instanceof Gi))return!1;if(!this.visible||this.opacity===0)return this.svg!==null&&this.svg.parentNode!==null&&this.svg.remove(),!0;if(this.Xs()&&!this.isVisible())return this.svg!==null&&this.svg.parentNode!==null&&this.svg.remove(),!0;const n=this.panel,s=this.sd(t);if(this.$c(t,e,s))return this.iA(this.svg),this.svg.parentElement!==null?(this.Xs()&&(t.lastDrawnPart=this.svg),!0):(this.Xs()?(t.lastDrawnPart!==null?t.lastDrawnPart.after(this.svg):t.diagramGroup.prepend(this.svg),t.lastDrawnPart=this.svg):n&&this.tA(n,this.svg),!0);if(this.Xs()&&this.isShadowed){const L=this.shadowOffset;t.shadowsSet(L.x*e.scale*this.scale*e.Ui,L.y*e.scale*this.scale*e.Ui,this.shadowBlur),t.shadowsOn(),t.shadowColor=this.shadowColor}this instanceof yi&&(t.font=this.font),t.currentElement=null;const r=this.L,a=this instanceof Ut,u=this instanceof Ut?this.il():!1,h=this.svg;this.y0()===!0&&this.Tb();const f=this.Ai;t.setCurrentTransform(1,0,0,1,0,0),t.outerGroup=!1,s&&(t.outerGroup=!0,a&&u?(t.newGroup(1,0,0,1,0,0),this.svg=t.lastCreatedElement):a?(t.newGroup(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),this.svg=t.lastCreatedElement):t.newGroup(1,0,0,1,0,0));const m=this.naturalBounds;a||t.setCurrentTransform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),this.background!==null&&(a?(u&&t.setCurrentTransform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),this.Db(t,m,f),u&&t.setCurrentTransform(1,0,0,1,0,0)):(t.setCurrentTransform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),this.Db(t,m,f)),t.currentElement.Ct=t.lastCreatedElement,t.currentElement.prepend(t.lastCreatedElement));const y=this.CR(e,t,t.currentElement);this.fh(t,e),a&&t.endGroup(),t.outerGroup&&t.endGroup();const x=t.surface.Gu,S=a?this.svg:t.currentElement;if(!a&&h!==null&&S!==h&&h.parentNode===this.panel.svg){const L=this.svg.getAttribute("filter");return L!==null&&S.setAttribute("filter",L),this.svg.replaceWith(S),this.svg=S,S!==null&&this.k0(t,n,f,S),this.eA(t,h),!0}if(this.svg=S,x!==null&&S===null&&t.dummyGroup(),S===null)return!0;this.k0(t,n,f,S),this.LR(S,e,t,y);const E=this.Xs()?this.opacity*t.globalAlpha:this.opacity;if(E!==1&&S.setAttributeNS(null,"opacity",E.toString()),this.filter!==""&&S.setAttributeNS(null,"filter",this.filter),this.Xs()){if(h!==null&&S!==h&&h.parentNode===t.diagramGroup){const L=h.getAttribute("filter");L!==null&&S.setAttribute("filter",L),h.replaceWith(S)}else t.lastDrawnPart?t.lastDrawnPart.after(S):t.diagramGroup.prepend(S);t.lastDrawnPart=S}else n!==null&&this.tA(n,S);return x!==null&&x(this,S),this.iA(S),!0}iA(t){const e=this,n=t.dataset;e instanceof rn&&(e.portId!==null&&(n.portId=e.portId),e instanceof Ut&&(isNaN(e.itemIndex)||(n.itemIndex=e.itemIndex.toString()),e instanceof Vn&&(n.className=o.sn(e),e.key!==void 0&&(n.key=e.key.toString()),e instanceof Zt&&(e.fromNode!==null&&e.fromNode.key!==void 0&&(n.fromKey=e.fromNode.key.toString()),e.fromPortId!==""&&(n.fromPortId=e.fromPortId),e.toNode!==null&&e.toNode.key!==void 0&&(n.toKey=e.toNode.key.toString()),e.toPortId!==""&&(n.toPortId=e.toPortId)))))}k0(t,e,n,s){let r=(this.n&256)!==0;if(t.clipInsteadOfFill&&(r=!1),!r){s.removeAttributeNS(null,"clip-path"),this.eA(t,s);return}const a=e.yn()?e.naturalBounds:e.actualBounds;let u=Math.max(n.x,a.x),h=Math.max(n.y,a.y),f=Math.min(n.right,a.right)-u,m=Math.min(n.bottom,a.bottom)-h;const y=this.si;y!==null&&(u=y.x,h=y.y,f=y.width,m=y.height);const x=s.getAttribute("clip-path");let S=null;if(x!==null&&(S=t.svg.getElementById(x.split("#")[1].slice(0,-1))),S===null){const E="CLIP"+C.su++,L={id:E},D=t.makeElement("clipPath",L),F=t.makeElement("rect",{x:u,y:h,width:f,height:m});if(this instanceof Ut){const V=this.L.copy().mw();F.setAttribute("transform",`matrix(${V.m11}, ${V.m12}, ${V.m21}, ${V.m22}, ${V.dx}, ${V.dy})`)}D.appendChild(F),t.svg.appendChild(D),s.setAttributeNS(null,"clip-path","url(#"+E+")")}else{const E=S.firstElementChild;E.setAttribute("x",u.toString()),E.setAttribute("y",h.toString()),E.setAttribute("width",f.toString()),E.setAttribute("height",m.toString())}}eA(t,e){const n=e.getAttribute("clip-path");if(n===null)return;const s=t.svg.getElementById(n.split("#")[1].slice(0,-1));s!==null&&s.remove()}TR(){if(this.svg===null)return;const t=this.svg.innerHTML.match(/url\(#((CLIP|GRAD).+?)\)/g),e=this.svg.ownerDocument;if(t!==null)for(const n of t){const s=e.getElementById(n.split("#")[1].slice(0,-1));s!==null&&s.remove()}this.svg.remove()}NR(t,e){const n=this.Ai,s=this.Bi,r=this.Ct;r!==null&&t.commitTransform(),r!==null&&(this.gn(t,r,!0,!1,s,n),r instanceof Pt&&r.type===3?(t.beginPath(),t.rect(n.x,n.y,n.width,n.height),t.fillContext(r,!1,null)):t.fillRect(n.x,n.y,n.width,n.height)),this.fh(t,e)}fh(t,e){}s2(){this.ns(!0)}$c(t,e,n){const s=this.svg;if(this.DR()){if(this.s2(),this.ns(!1),s===null)return!1;const f=this.svg.getAttribute("clip-path");if(f!==null){const m=t.svg.getElementById(f.split("#")[1].slice(0,-1));m!==null&&m.remove()}return!1}if(s===null)return!1;if(!this.visible)return s.remove(),!1;if(s.nodeName!=="g"&&n||s.nodeName==="g"&&!n)return!1;const r=this.L,a=this instanceof Ut,u=this instanceof Ut?this.il():!1;if(!(a&&u))if(this instanceof qs){const f=this.vb;t.setCurrentTransform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),f!==null&&t.amendImageTransform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7]),n?s.lastElementChild.setAttributeNS(null,"transform",t.getCurrentTransform()):s.setAttributeNS(null,"transform",t.getCurrentTransform())}else if(n&&!(this instanceof Ut))if(this instanceof cn){const f=s.getElementsByTagName("path");for(let m=0;m<f.length;m++)f[m].setAttributeNS(null,"transform","matrix("+r.m11+", "+r.m12+", "+r.m21+", "+r.m22+", "+r.dx+", "+r.dy+")")}else(s.lastElementChild||s).setAttributeNS(null,"transform","matrix("+r.m11+", "+r.m12+", "+r.m21+", "+r.m22+", "+r.dx+", "+r.dy+")");else s.setAttributeNS(null,"transform","matrix("+r.m11+", "+r.m12+", "+r.m21+", "+r.m22+", "+r.dx+", "+r.dy+")");const h=this.Xs()?this.opacity*t.globalAlpha:this.opacity;if(h===1?s.removeAttribute("opacity"):s.setAttributeNS(null,"opacity",h.toString()),t.setCurrentTransform(1,0,0,1,0,0),this.background!==null||s.Ct!==void 0){const f=s.Ct;if(this.background===null)t.removeOldGradient(this,s.Ct,"fill"),s.Ct.remove(),s.Ct=void 0;else{if((u||n&&!(this instanceof Ut))&&t.setCurrentTransform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),this.Db(t,this.naturalBounds,this.actualBounds),s.Ct){t.removeOldGradient(this,s.Ct,"fill");const m=s.Ct.getAttribute("filter");m!==null&&t.lastCreatedElement.setAttribute("filter",m),s.Ct.replaceWith(t.lastCreatedElement)}else s.prepend(t.lastCreatedElement);s.Ct=t.lastCreatedElement}f&&t.removeOldGradient(this,f,"fill")}return this.k0(t,this.panel,this.actualBounds,s),!0}sd(t){if(this.background!==null)return!0;let e=(this.n&256)!==0;return t.clipInsteadOfFill&&(e=!1),!!e}static aE(t,e,n,s,r,a,u){let h=.001;const f=a.length;t.moveTo(e,n);let m=s-e;const y=r-n;m===0&&(m=.001);const x=y/m;let S=Math.sqrt(m*m+y*y),E=0,L=!0;h=a[E%f];let D=u!==0;for(;S>=.1;){if(D){for(h=a[E++%f],h-=u;h<0;)h+=a[E++%f],L=!L;D=!1}else h=a[E++%f];h>S&&(h=S);let F=Math.sqrt(h*h/(1+x*x));m<0&&(F=-F),e+=F,n+=x*F,L?t.lineTo(e,n):t.moveTo(e,n),S-=h,L=!L}}gn(t,e,n,s,r,a){let u=1,h=1;if(typeof e=="string"){n?t.fillStyle=e:t.strokeStyle=e;return}else if(e.type===1){n?t.fillStyle=e.color:t.strokeStyle=e.color;return}let f;const m=this.Ab();u=r.width,h=r.height,s?(u=a.width,h=a.height):n||(u+=m,h+=m);const y=t instanceof pr;if(y&&e.wn&&(e.type===4||e.Zc===u&&e.Ob===h))f=e.wn;else{let x=0,S=0,E=0,L=0,D=0,F=0,V=0,U=0;if(s?(V=a.x,U=a.y):n||(V-=m/2,U-=m/2),x=e.start.x*u+e.start.offsetX+V,S=e.start.y*h+e.start.offsetY+U,E=e.end.x*u+e.end.offsetX+V,L=e.end.y*h+e.end.offsetY+U,e.type===2)f=t.createLinearGradient(x,S,E,L);else if(e.type===3)F=isNaN(e.endRadius)?Math.max(u,h)/2:e.endRadius,isNaN(e.startRadius)?(D=0,F=Math.max(u,h)/2):D=e.startRadius,f=t.createRadialGradient(x,S,D,E,L,F);else if(e.type===4)try{f=t.createPattern(e.pattern,"repeat")}catch{f=null}else o.be(e.type,"Brush type");if(e.type!==4){const W=e.colorStops;if(W!==null){const q=W.iterator;for(;q.next();)f.addColorStop(q.key,q.value)}}if(y&&(e.wn=f,f!==null&&(e.Zc=u,e.Ob=h),f===null&&e.type===4&&e.Zc!==-1)){e.Zc=-1;const W=this.diagram;W!==null&&e.Zc===-1&&o.Oh(()=>{W.redraw()},600)}}n?t.fillStyle=f:t.strokeStyle=f}isContainedBy(t){return t instanceof Ut?this.FR(this,t):!1}FR(t,e){if(t===e||e===null)return!1;let n=t.panel;for(;n!==null;){if(n===e)return!0;n=n.panel}return!1}isVisibleObject(){if(!this.visible)return!1;const t=this.panel;return t!==null?t.isVisibleObject():!0}isEnabledObject(){let t=this instanceof Ut?this:this.panel;for(;t!==null&&t.isEnabled;)t=t.panel;return t===null}get enabledChanged(){return this.f!==null?this.f.P0:null}set enabledChanged(t){const e=this.enabledChanged;e!==t&&(t!==null&&o.i(t,"function",rn,"enabledChanged"),this.jt(),this.f.P0=t,this.t("enabledChanged",e,t))}Tb(){if(this.Ib()===!0){const t=this.Qr;if(t.Jt(),!this.Ai.isReal()||!this.oe.isReal()){this.nd(!1);return}if(t.Zi(this.Ai.x-this.oe.x,this.Ai.y-this.oe.y),this.scale!==1||this.angle!==0){const e=this.naturalBounds;this.p0(t,e.x,e.y,e.width,e.height)}this.nd(!1),this.ya(!0)}if(this.y0()===!0){const t=this.panel;if(t===null)this.rh.set(this.Qr),this.jc=this.scale;else if(t.ys!==null){const e=this.rh;e.Jt(),t.yn()?e.tc(t.rh):t.panel!==null&&e.tc(t.panel.rh),e.tc(this.Qr),this.jc=this.scale*t.jc}this.ya(!1)}}p0(t,e,n,s,r){if(this.K!==1&&t.K(this.K),this.Xt===0)return;const a=T.l();a.setSpot(e,n,s,r,B.Center),t.fs(this.Xt,a.x,a.y),T.s(a)}c(t){if(this.Io())return;t===void 0&&(t=!1),this.se(!0),this._n(!0);const e=this.panel;e!==null&&!t&&e.c()}Qc(){this.Io()||(this.se(!0),this._n(!0))}_c(t){if(this.es())return;const e=this.panel;!t&&e!==null&&e.c(),this._n(!0)}td(){this.Ib()===!1&&(this.nd(!0),this.ya(!0))}o2(){this.ya(!0)}C(){const t=this.part;t!==null&&t.C()}zs(t){const e=this.stretch,n=this.panel;if(n!==null&&n.type===Ut.Table)return this.M0(n.getRowDefinition(this.row),n.getColumnDefinition(this.column),t);if(n!==null&&n.type===Ut.Auto&&n.findMainElement()===this)return this.Xo(2,t);if(e===1){if(n!==null){if(n.type===Ut.Spot&&n.findMainElement()===this)return this.Xo(2,t);const s=n.defaultStretch;return s===1?this.Xo(0,t):this.Xo(s,t)}return this.Xo(0,t)}return this.Xo(e,t)}M0(t,e,n){const s=this.stretch;if(s!==1)return this.Xo(s,n);let r=null,a=null;switch(t.stretch){case 1:case 5:break;case 4:a=!0;break;case 2:a=!0;break}switch(e.stretch){case 1:case 4:break;case 5:r=!0;break;case 2:r=!0;break}const u=this.panel.defaultStretch;return r===null&&(r=u===5||u===2),a===null&&(a=u===4||u===2),r===!0&&a===!0?this.Xo(2,n):r===!0?this.Xo(5,n):a===!0?this.Xo(4,n):this.Xo(0,n)}Xo(t,e){if(e)return t;if(t===0)return 0;const n=this.desiredSize;if(n.isReal())return 0;const s=!isNaN(n.width),r=!isNaN(n.height),a=this.angle;if(s)if(a!==90&&a!==270){if(t===5)return 0;if(t===2)return 4}else{if(t===4)return 0;if(t===2)return 5}if(r)if(a!==90&&a!==270){if(t===4)return 0;if(t===2)return 5}else{if(t===5)return 0;if(t===2)return 4}return t}get segmentOrientation(){return this.Vt!==null?this.Vt.S0:0}set segmentOrientation(t){const e=this.segmentOrientation;e!==t&&(this.Vt===null&&(this.Vt=new jr),this.Vt.S0=t,this.c(),this.t("segmentOrientation",e,t),t===0&&(this.angle=0))}RR(){this.segmentOrientation=21}get segmentIndex(){return this.Vt!==null?this.Vt.N0:-1/0}set segmentIndex(t){t=Math.round(t);const e=this.segmentIndex;e!==t&&(this.Vt===null&&(this.Vt=new jr),this.Vt.N0=t,this.c(),this.t("segmentIndex",e,t))}get segmentFraction(){return this.Vt!==null?this.Vt.C0:0}set segmentFraction(t){isNaN(t)||t<0?t=0:t>1&&(t=1);const e=this.segmentFraction;e!==t&&(this.Vt===null&&(this.Vt=new jr),this.Vt.C0=t,this.c(),this.t("segmentFraction",e,t))}get segmentOffset(){return this.Vt!==null?this.Vt.L0:T.Po}set segmentOffset(t){const e=this.segmentOffset;e.equals(t)||(t=t.N(),this.Vt===null&&(this.Vt=new jr),this.Vt.L0=t,this.c(),this.t("segmentOffset",e,t))}get stretch(){return this.f!==null?this.f.to:1}set stretch(t){const e=this.stretch;e!==t&&(this.jt(),this.f.to=t,this.c(),this.t("stretch",e,t))}get name(){return this.f!==null?this.f.St:""}set name(t){const e=this.name;e!==t&&(this.jt(),this.f.St=t,this.part!==null&&this.part.A0(),this.t("name",e,t))}get opacity(){return this.Wt}set opacity(t){const e=this.Wt;if(e!==t){o.i(t,"number",rn,"opacity"),(t<0||t>1)&&o.tt(t,"0 <= value <= 1",rn,"opacity"),this.Wt=t,this.t("opacity",e,t);const n=this.diagram,s=this.part;n!==null&&s!==null&&n.C(s.Hh(s.actualBounds))}}get filter(){return this.Ju}set filter(t){const e=this.Ju;if(e!==t){this.Ju=t,this.ns(!0),this.t("filter",e,t);const n=this.diagram,s=this.part;n!==null&&s!==null&&n.C(s.Hh(s.actualBounds))}}get visible(){return(this.n&1)!==0}set visible(t){const e=(this.n&1)!==0;if(e!==t){this.n=this.n^1,this.t("visible",e,t);const n=this.panel;n!==null?n.c():this.Xs()&&this.Ei(t),this.C(),this.sA()}}get pickable(){return(this.n&2)!==0}set pickable(t){const e=(this.n&2)!==0;e!==t&&(this.n=this.n^2,this.t("pickable",e,t))}get fromLinkableDuplicates(){return(this.n&4)!==0}set fromLinkableDuplicates(t){const e=(this.n&4)!==0;e!==t&&(this.n=this.n^4,this.t("fromLinkableDuplicates",e,t))}get fromLinkableSelfNode(){return(this.n&8)!==0}set fromLinkableSelfNode(t){const e=(this.n&8)!==0;e!==t&&(this.n=this.n^8,this.t("fromLinkableSelfNode",e,t))}get toLinkableDuplicates(){return(this.n&16)!==0}set toLinkableDuplicates(t){const e=(this.n&16)!==0;e!==t&&(this.n=this.n^16,this.t("toLinkableDuplicates",e,t))}get toLinkableSelfNode(){return(this.n&32)!==0}set toLinkableSelfNode(t){const e=(this.n&32)!==0;e!==t&&(this.n=this.n^32,this.t("toLinkableSelfNode",e,t))}get isPanelMain(){return(this.n&64)!==0}set isPanelMain(t){const e=(this.n&64)!==0;e!==t&&(this.n=this.n^64,this.c(),this.t("isPanelMain",e,t))}get isActionable(){return(this.n&128)!==0}set isActionable(t){const e=(this.n&128)!==0;e!==t&&(this.n=this.n^128,this.t("isActionable",e,t))}get background(){return this.Ct}set background(t){const e=this.Ct;e!==t&&(t!==null&&Pt.od(t,"GraphObject.background"),t instanceof Pt&&t.g(),this.Ct=t,this.C(),this.t("background",e,t))}i2(){return(this.n&512)!==0}Rb(t){t?this.n|=512:this.n&=-513}Wc(){return(this.n&1024)!==0}l2(t){t?this.n|=1024:this.n&=-1025}Ib(){return(this.n&2048)!==0}nd(t){t?this.n|=2048:this.n&=-2049}y0(){return(this.n&4096)!==0}ya(t){t?this.n|=4096:this.n&=-4097}Io(){return(this.n&8192)!==0}se(t){t?this.n|=8192:this.n&=-8193}es(){return(this.n&16384)!==0}_n(t){t?this.n|=16384:this.n&=-16385}DR(){return(this.n&32768)!==0}ns(t){t?this.n|=32768:this.n&=-32769}get part(){if(this.Xs())return this;if(this.tl!==null)return this.tl;let t=this;for(t=t.panel;t;){if(t instanceof Vn)return this.tl=t,t;t=t.panel}return null}get svg(){return this.QS}set svg(t){this.QS=t}Du(){this.svg=null}get panel(){return this.Bs}wa(t){this.Bs=t,this.svg!==null&&this.svg.remove()}get layer(){const t=this.part;return t!==null?t.layer:null}get diagram(){const t=this.part;return t!==null?t.diagram:null}get position(){return this.st}set position(t){const e=t.x,n=t.y,s=this.st,r=s.x,a=s.y;r!==e&&(!isNaN(r)||!isNaN(e))||a!==n&&(!isNaN(a)||!isNaN(n))?(t=t.copy(),this.h2(t,r,a)&&this.t("position",new T(r,a),t)):this.a2()}a2(){}h2(t,e,n){return this.st=t,this._c(),!0}yc(t,e,n){this.st.x===t&&this.st.y===e||(this.st.e(t,e),this.td())}get actualBounds(){return this.Ai}get scale(){return this.K}set scale(t){const e=this.K;e!==t&&(t<=0&&o.o("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.K=t,this.c(),this.t("scale",e,t))}get angle(){return this.Xt}set angle(t){const e=this.Xt;if(e!==t){if(t=t%360,t<0&&(t+=360),e===t)return;this.Xt=t,this.sA(),this.c(),this.t("angle",e,t)}}get desiredSize(){return this.Xe}set desiredSize(t){const e=t.width,n=t.height,s=this.Xe,r=s.width,a=s.height;if((r!==e&&(!isNaN(r)||!isNaN(e))||a!==n&&(!isNaN(a)||!isNaN(n)))&&(t=t.N(),this.Xe=t,this.c(),this instanceof cn&&this.ne(),this.t("desiredSize",s,t),this.Wc())){const u=this.part;u!==null&&(this.pa(u,"width"),this.pa(u,"height"))}}get width(){return this.Xe.width}set width(t){const e=this.Xe.width;if(e!==t&&(!isNaN(e)||!isNaN(t))){const n=this.Xe,s=new _(t,this.Xe.height).g();if(this.Xe=s,this.c(),this instanceof cn&&this.ne(),this.t("desiredSize",n,s),this.Wc()){const r=this.part;r!==null&&this.pa(r,"width")}}}get height(){return this.Xe.height}set height(t){const e=this.Xe.height;if(e!==t&&(!isNaN(e)||!isNaN(t))){const n=this.Xe,s=new _(this.Xe.width,t).g();if(this.Xe=s,this.c(),this instanceof cn&&this.ne(),this.t("desiredSize",n,s),this.Wc()){const r=this.part;r!==null&&this.pa(r,"height")}}}get minSize(){return this.f!==null?this.f.br:_.ru}set minSize(t){const e=this.minSize;e.equals(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.g(),this.jt(),this.f.br=t,this.c(),this.t("minSize",e,t))}get maxSize(){return this.f!==null?this.f.kr:_.QN}set maxSize(t){const e=this.maxSize;e.equals(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.g(),this.jt(),this.f.kr=t,this.c(),this.t("maxSize",e,t))}get measuredBounds(){return this.oe}get naturalBounds(){return this.Bi}Ab(){return 0}get margin(){return this._r}set margin(t){typeof t=="number"&&(t=new K(t));const e=this._r;e.equals(t)||(t=t.N(),this._r=t,this.c(),this.t("margin",e,t))}get L(){return this.Ib()===!0&&this.Tb(),this.Qr}get ys(){return this.y0()===!0&&this.Tb(),this.rh}trigger(t,e,n){let s=null;return typeof t=="string"?s=new Vt(t,e,n):s=t,s.Me=this,this.xs===null&&(this.xs=new z),this.xs.add(s.propertyName,s),this}get xs(){return this.f!==null?this.f.xs:null}set xs(t){this.xs!==t&&(this.jt(),this.f.xs=t)}get xr(){return this.f!==null?this.f.xr:0}set xr(t){this.xr!==t&&(this.jt(),this.f.xr=t)}get alignment(){return this.oi}set alignment(t){const e=this.oi;e.equals(t)||(t.isNoSpot()&&!t.isDefault()&&o.o("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),t=t.N(),this.oi=t,this._c(),this.t("alignment",e,t))}get column(){return this.Bo}set column(t){t=Math.round(t);const e=this.Bo;e!==t&&(t<0&&o.tt(t,">= 0",rn,"column"),this.Bo=t,this.c(),this.t("column",e,t),this.svg!==null&&this.svg.remove())}get columnSpan(){return this.f!==null?this.f.T0:1}set columnSpan(t){t=Math.round(t);const e=this.columnSpan;e!==t&&(t<1&&o.tt(t,">= 1",rn,"columnSpan"),this.jt(),this.f.T0=t,this.c(),this.t("columnSpan",e,t))}get row(){return this.Wu}set row(t){t=Math.round(t);const e=this.Wu;e!==t&&(t<0&&o.tt(t,">= 0",rn,"row"),this.Wu=t,this.c(),this.t("row",e,t),this.svg!==null&&this.svg.remove())}get rowSpan(){return this.f!==null?this.f.D0:1}set rowSpan(t){t=Math.round(t);const e=this.rowSpan;e!==t&&(t<1&&o.tt(t,">= 1",rn,"rowSpan"),this.jt(),this.f.D0=t,this.c(),this.t("rowSpan",e,t))}get spanAllocation(){return this.f!==null?this.f.F0:null}set spanAllocation(t){const e=this.spanAllocation;e!==t&&(t!==null&&o.i(t,"function",rn,"spanAllocation"),this.jt(),this.f.F0=t,this.c(),this.t("spanAllocation",e,t))}get alignmentFocus(){return this.Hc}set alignmentFocus(t){const e=this.Hc;e.equals(t)||(t=t.N(),this.Hc=t,this.c(),this.t("alignmentFocus",e,t))}get portId(){return this.qu}set portId(t){const e=this.qu;if(e!==t){const n=this.part;n!==null&&!(n instanceof _t)&&o.o("Cannot set portID on a Link: "+t);const s=n;e!==null&&s!==null&&s.c2(this),this.qu=t,t!==null&&s!==null&&(s.xn=!0,s.nA(this)),this.t("portId",e,t)}}xa(){const t=this.part;if(t instanceof _t&&(this.portId!==null||this===t.port)){const e=t.diagram;e!==null&&!e.undoManager.isUndoingRedoing&&t.$L(this)}}sA(){const t=this.diagram;t===null||t.undoManager.isUndoingRedoing||(this instanceof Ut?this instanceof _t?this.invalidateConnectedLinks():this.walkVisualTreeFrom(this,e=>{e.xa()}):this.xa())}get toSpot(){return this.W!==null?this.W.fa:B.None}set toSpot(t){const e=this.toSpot;e.equals(t)||(t=t.N(),this.Ke(),this.W.fa=t,this.t("toSpot",e,t),this.xa())}get toEndSegmentLength(){return this.W!==null?this.W.da:10}set toEndSegmentLength(t){const e=this.toEndSegmentLength;e!==t&&(t<0&&o.tt(t,">= 0",rn,"toEndSegmentLength"),this.Ke(),this.W.da=t,this.t("toEndSegmentLength",e,t),this.xa())}get toShortLength(){return this.W!==null?this.W.ma:0}set toShortLength(t){const e=this.toShortLength;e!==t&&(this.Ke(),this.W.ma=t,this.t("toShortLength",e,t),this.xa())}get toLinkable(){return this.W!==null?this.W.R0:null}set toLinkable(t){const e=this.toLinkable;e!==t&&(this.Ke(),this.W.R0=t,this.t("toLinkable",e,t))}get toMaxLinks(){return this.W!==null?this.W.v0:1/0}set toMaxLinks(t){const e=this.toMaxLinks;e!==t&&(t<0&&o.tt(t,">= 0",rn,"toMaxLinks"),this.Ke(),this.W.v0=t,this.t("toMaxLinks",e,t))}get fromSpot(){return this.W!==null?this.W.ca:B.None}set fromSpot(t){const e=this.fromSpot;e.equals(t)||(t=t.N(),this.Ke(),this.W.ca=t,this.t("fromSpot",e,t),this.xa())}get fromEndSegmentLength(){return this.W!==null?this.W.ua:10}set fromEndSegmentLength(t){const e=this.fromEndSegmentLength;e!==t&&(t<0&&o.tt(t,">= 0",rn,"fromEndSegmentLength"),this.Ke(),this.W.ua=t,this.t("fromEndSegmentLength",e,t),this.xa())}get fromShortLength(){return this.W!==null?this.W.ga:0}set fromShortLength(t){const e=this.fromShortLength;e!==t&&(this.Ke(),this.W.ga=t,this.t("fromShortLength",e,t),this.xa())}get fromLinkable(){return this.W!==null?this.W.O0:null}set fromLinkable(t){const e=this.fromLinkable;e!==t&&(this.Ke(),this.W.O0=t,this.t("fromLinkable",e,t))}get fromMaxLinks(){return this.W!==null?this.W.I0:1/0}set fromMaxLinks(t){const e=this.fromMaxLinks;e!==t&&(t<0&&o.tt(t,">= 0",rn,"fromMaxLinks"),this.Ke(),this.W.I0=t,this.t("fromMaxLinks",e,t))}get cursor(){return this.f!==null?this.f.Nl:""}set cursor(t){const e=this.cursor;e!==t&&(o.i(t,"string",rn,"cursor"),this.jt(),this.f.Nl=t,this.t("cursor",e,t))}get click(){return this.f!==null?this.f.Dr:null}set click(t){const e=this.click;e!==t&&(t!==null&&o.i(t,"function",rn,"click"),this.jt(),this.f.Dr=t,this.t("click",e,t))}get doubleClick(){return this.f!==null?this.f.Fr:null}set doubleClick(t){const e=this.doubleClick;e!==t&&(t!==null&&o.i(t,"function",rn,"doubleClick"),this.jt(),this.f.Fr=t,this.t("doubleClick",e,t))}get contextClick(){return this.f!==null?this.f.Rr:null}set contextClick(t){const e=this.contextClick;e!==t&&(t!==null&&o.i(t,"function",rn,"contextClick"),this.jt(),this.f.Rr=t,this.t("contextClick",e,t))}get mouseEnter(){return this.f!==null?this.f.Vr:null}set mouseEnter(t){const e=this.mouseEnter;e!==t&&(t!==null&&o.i(t,"function",rn,"mouseEnter"),this.jt(),this.f.Vr=t,this.t("mouseEnter",e,t))}get mouseLeave(){return this.f!==null?this.f.Ur:null}set mouseLeave(t){const e=this.mouseLeave;e!==t&&(t!==null&&o.i(t,"function",rn,"mouseLeave"),this.jt(),this.f.Ur=t,this.t("mouseLeave",e,t))}get mouseOver(){return this.f!==null?this.f.vr:null}set mouseOver(t){const e=this.mouseOver;e!==t&&(t!==null&&o.i(t,"function",rn,"mouseOver"),this.jt(),this.f.vr=t,this.t("mouseOver",e,t))}get mouseHover(){return this.f!==null?this.f.Or:null}set mouseHover(t){const e=this.mouseHover;e!==t&&(t!==null&&o.i(t,"function",rn,"mouseHover"),this.jt(),this.f.Or=t,this.t("mouseHover",e,t))}get mouseHold(){return this.f!==null?this.f.Ir:null}set mouseHold(t){const e=this.mouseHold;e!==t&&(t!==null&&o.i(t,"function",rn,"mouseHold"),this.jt(),this.f.Ir=t,this.t("mouseHold",e,t))}get mouseDragEnter(){return this.f!==null?this.f.E0:null}set mouseDragEnter(t){const e=this.mouseDragEnter;e!==t&&(t!==null&&o.i(t,"function",rn,"mouseDragEnter"),this.jt(),this.f.E0=t,this.t("mouseDragEnter",e,t))}get mouseDragLeave(){return this.f!==null?this.f.V0:null}set mouseDragLeave(t){const e=this.mouseDragLeave;e!==t&&(t!==null&&o.i(t,"function",rn,"mouseDragLeave"),this.jt(),this.f.V0=t,this.t("mouseDragLeave",e,t))}get mouseDrop(){return this.f!==null?this.f.Er:null}set mouseDrop(t){const e=this.mouseDrop;e!==t&&(t!==null&&o.i(t,"function",rn,"mouseDrop"),this.jt(),this.f.Er=t,this.t("mouseDrop",e,t))}get actionDown(){return this.f!==null?this.f.U0:null}set actionDown(t){const e=this.actionDown;e!==t&&(t!==null&&o.i(t,"function",rn,"actionDown"),this.jt(),this.f.U0=t,this.t("actionDown",e,t))}get actionMove(){return this.f!==null?this.f.B0:null}set actionMove(t){const e=this.actionMove;e!==t&&(t!==null&&o.i(t,"function",rn,"actionMove"),this.jt(),this.f.B0=t,this.t("actionMove",e,t))}get actionUp(){return this.f!==null?this.f.z0:null}set actionUp(t){const e=this.actionUp;e!==t&&(t!==null&&o.i(t,"function",rn,"actionUp"),this.jt(),this.f.z0=t,this.t("actionUp",e,t))}get actionCancel(){return this.f!==null?this.f.X0:null}set actionCancel(t){const e=this.actionCancel;e!==t&&(t!==null&&o.i(t,"function",rn,"actionCancel"),this.jt(),this.f.X0=t,this.t("actionCancel",e,t))}get toolTip(){return this.f!==null?this.f.Br:null}set toolTip(t){const e=this.toolTip;e!==t&&(this.jt(),this.f.Br=t,this.t("toolTip",e,t))}get contextMenu(){return this.f!==null?this.f.zr:null}set contextMenu(t){const e=this.contextMenu;e!==t&&(this.jt(),this.f.zr=t,this.t("contextMenu",e,t))}findBindingPanel(){let t=this instanceof Ut?this:this.panel;for(;t!==null;){if(t.f2())return t;t=t.panel}return null}bind(t,e,n,s){return this.tf(t,e,n,s),this}bindTwoWay(t,e,n,s){return this.tf(t,e,n,s).makeTwoWay(),this}bindModel(t,e,n,s){return this.tf(t,e,n,s).ofModel(),this}bindObject(t,e,n,s,r){return this.tf(t,e,n,s).ofObject(r),this}theme(t,e,n,s,r){return this.uh(t,e,n,s,r),this}themeData(t,e,n,s,r){return this.uh(t,e,n,s,r).ofData(),this}themeObject(t,e,n,s,r,a){return this.uh(t,e,n,s,r).ofObject(a),this}themeModel(t,e,n,s,r){return this.uh(t,e,n,s,r).ofModel(),this}tf(t,e,n,s){let r=null;return typeof t=="string"?r=new mr(t,e,n,s):r=t,this.K0(r),r}uh(t,e,n,s,r){let a=null;return typeof t=="string"?a=new wl(t,e,n,s,r):a=t,this.K0(a),a}K0(t){t.Me=this;const e=this.findBindingPanel();e!==null&&e.oA()&&o.o("Cannot add a Binding to a template that has already been copied: "+t),this.Ti===null&&(this.Ti=new w),this.Ti.add(t)}set(t){return Object.assign(this,t),this}attach(t){return rn.u2(this,t),this}apply(t){return t(this),this}setProperties(t){return st.h0(this,t),this}static build(t,e,...n){const s=rn.Y0.getValue(t);if(typeof s=="function"){const r=s([t].concat(n));if(r instanceof rn)return e&&r.setProperties(e),r}o.o('GraphObject.build invoked object builder "'+t+'", but it did not return an Object')}static make(t,...e){let n=arguments,s=null,r=null;if(typeof t=="function")r=t;else if(typeof t=="string"){const u=rn.Y0.getValue(t);typeof u=="function"?(n=Array.prototype.slice.call(n),s=u(n),o.wt(s)||o.o('GraphObject.make invoked object builder "'+t+'", but it did not return an Object')):r=i.go[t]}s===null&&((r==null||!r.constructor)&&o.o("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),s=new r);let a=1;if(s instanceof st&&n.length>1){const u=s,h=n[1];(typeof h=="string"||h instanceof HTMLDivElement)&&(u.fS(h),a++)}for(let u=a;u<n.length;u++){const h=n[u];h===void 0?o.o("Undefined value at argument "+u+" for object being constructed by GraphObject.make: "+s):rn.u2(s,h)}return s}static u2(t,e){if(typeof e=="number")rn.vR(t,e);else if(typeof e=="string")rn.OR(t,e);else if(e instanceof rn)t instanceof Ut||o.o("A GraphObject can only be added to a Panel, not to: "+t),t.add(e);else if(e instanceof ps){let n;e.isRow&&typeof t.getRowDefinition=="function"?n=t.getRowDefinition(e.index):!e.isRow&&typeof t.getColumnDefinition=="function"&&(n=t.getColumnDefinition(e.index)),n instanceof ps?n.Eb(e):o.o("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(e instanceof on){const n=t;n.type=e}else if(e instanceof mr)t instanceof rn||t instanceof ps?t.bind(e):o.o("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof Vt)t instanceof rn?t.trigger(e):o.o("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(e instanceof X)t instanceof Q&&t.type===4?t.figures.add(e):o.o("A PathFigure can only be added to a Path Geometry, not to: "+t);else if(e instanceof de)t instanceof X?t.segments.add(e):o.o("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof es)t instanceof st||t instanceof Wt?t.layout=e:o.o("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(let n=0;n<e.length;n++){const s=e[n];rn.u2(t,s)}else typeof e=="object"&&e!==null?rn.IR(t,e):o.o('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}static OR(t,e){if(t instanceof yi)t.text=e;else if(t instanceof cn)t.figure=e;else if(t instanceof qs)t.source=e;else if(t instanceof Ut){const n=on.Layouts.getValue(e);n!==null&&(t.type=n)}else if(t instanceof Pt){const n=o.Ih(To,e);n!==null?t.type=n:o.o("Unknown Brush type as an argument to GraphObject.make: "+e)}else if(t instanceof Q){const n=o.Ih(J,e);n!==null&&(t.type=n)}else if(t instanceof de){const n=o.Ih(se,e);n!==null&&(t.type=n)}}static vR(t,e){typeof t.li=="function"?t.li(e):o.hr(t,e)}static IR(t,e){if(t instanceof Pt){const n=new c;for(const s in e){const r=parseFloat(s);isNaN(r)?n[s]=e[s]:t.addColorStop(r,e[s])}st.h0(t,n)}else if(t instanceof ps){if(e.row!==void 0){const s=e.row;(s==null||s===1/0||isNaN(s)||s<0)&&o.o("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+s),t.isRow=!0,t.index=s}else if(e.column!==void 0){const s=e.column;(s==null||s===1/0||isNaN(s)||s<0)&&o.o("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+s),t.isRow=!1,t.index=s}const n=new c;for(const s in e)s==="row"||s==="column"||(n[s]=e[s]);st.h0(t,n)}else st.h0(t,e)}static cE(){const t=new z;for(const e in rn.Y0){if(e===e.toLowerCase())continue;const n=rn.Y0.getValue(e);typeof n=="function"&&t.add(e,n)}return t.g(),t}static defineBuilder(t,e){o.i(t,"string",rn,"defineBuilder:name"),o.i(e,"function",rn,"defineBuilder:func"),t.toLowerCase(),rn.Y0.add(t,e)}static takeBuilderArgument(t,e,n){n===void 0&&(n=null);const s=t[1];if(typeof n=="function"?n(s):typeof s=="string")return t.splice(1,1),s;if(e===void 0)throw new Error("no "+(typeof n=="function"?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e}};k(rn,"None",0),k(rn,"Default",1),k(rn,"Fill",2),k(rn,"Vertical"),k(rn,"Horizontal"),k(rn,"Uniform",6),k(rn,"UniformToFill",7),k(rn,"FlipVertical",1),k(rn,"FlipHorizontal",2),k(rn,"FlipBoth",3),k(rn,"Y0",new z),rn.Vertical=4,rn.Horizontal=5,rn.defineBuilder("Button",t=>{const e="#f5f5f5",n="#737373",s="#d4d4d4",r="#737373",a="#a3a3a3",u=2.76142374915397,h=2.761423749153969,f=new Ut(Ut.Auto,{isActionable:!0,enabledChanged:(m,y)=>{if(m instanceof Ut){const x=m.findObject("ButtonBorder");x!==null&&(y?(m._buttonFillDisabled=x.fill,x.fill=m._buttonFillNormal):(m._buttonFillNormal=x.fill,x.fill=m._buttonFillDisabled))}},cursor:"pointer"}).attach({_buttonFillNormal:e,_buttonStrokeNormal:n,_buttonFillOver:s,_buttonStrokeOver:r,_buttonFillDisabled:a}).add(new cn("RoundedRectangle",{name:"ButtonBorder",spot1:new B(0,0,u,h),spot2:new B(1,1,-u,-h),parameter1:2,fill:e,stroke:n}));return f.mouseEnter=(m,y,x)=>{if(!y.isEnabledObject()||!(y instanceof Ut))return;const S=y.findObject("ButtonBorder");S instanceof cn&&(y._buttonFillNormal=S.fill,S.fill=y._buttonFillOver,y._buttonStrokeNormal=S.stroke,S.stroke=y._buttonStrokeOver)},f.mouseLeave=(m,y,x)=>{if(!y.isEnabledObject()||!(y instanceof Ut))return;const S=y.findObject("ButtonBorder");S instanceof cn&&(S.fill=y._buttonFillNormal,S.stroke=y._buttonStrokeNormal)},f}),rn.defineBuilder("TreeExpanderButton",t=>{const e=rn.build("Button");return e.attach({_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine",visible:!1}),e.add(new cn("MinusLine",{name:"ButtonIcon",stroke:"#0a0a0a",strokeWidth:2,desiredSize:_.lu}).bindObject("figure","isTreeExpanded",(n,s)=>{const r=s.panel;return n?r._treeExpandedFigure:r._treeCollapsedFigure})),e.bindObject("visible","isTreeLeaf",n=>!n),e.click=(n,s)=>{let r=s.part;if(r instanceof Cn&&(r=r.adornedPart),!(r instanceof _t))return;const a=r.diagram;if(a===null)return;const u=a.commandHandler;if(r.isTreeExpanded){if(!u.canCollapseTree(r))return}else if(!u.canExpandTree(r))return;n.handled=!0,r.isTreeExpanded?u.collapseTree(r):u.expandTree(r)},e}),rn.defineBuilder("SubGraphExpanderButton",t=>{const e=rn.build("Button");return e.attach({_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"}),e.add(new cn("MinusLine",{name:"ButtonIcon",stroke:"#0a0a0a",strokeWidth:2,desiredSize:_.lu}).bindObject("figure","isSubGraphExpanded",(n,s)=>{const r=s.panel;return n?r._subGraphExpandedFigure:r._subGraphCollapsedFigure})),e.click=(n,s)=>{let r=s.part;if(r instanceof Cn&&(r=r.adornedPart),!(r instanceof Wt))return;const a=r.diagram;if(a===null)return;const u=a.commandHandler;if(r.isSubGraphExpanded){if(!u.canCollapseSubGraph(r))return}else if(!u.canExpandSubGraph(r))return;n.handled=!0,r.isSubGraphExpanded?u.collapseSubGraph(r):u.expandSubGraph(r)},e}),rn.defineBuilder("ToolTip",t=>new Cn(Ut.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new T(0,2)}).add(new cn("RoundedRectangle",{name:"Border",parameter1:1,fill:"#f5f5f5",strokeWidth:0,spot1:new B(0,0,4,6),spot2:new B(1,1,-4,-4)}))),rn.defineBuilder("ContextMenu",t=>new Cn(Ut.Vertical,{background:"#f5f5f5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new T(0,2)}).bindObject("background","",e=>e.adornedPart!==null&&e.hasPlaceholder()?null:"#f5f5f5")),rn.defineBuilder("ContextMenuButton",t=>{const e=rn.build("Button");e.stretch=5;const n=e.findObject("ButtonBorder");return n instanceof cn&&(n.figure="Rectangle",n.strokeWidth=0,n.spot1=new B(0,0,4,6),n.spot2=new B(1,1,-4,-4)),e}),rn.defineBuilder("PanelExpanderButton",t=>{const e=rn.takeBuilderArgument(t,"COLLAPSIBLE"),n=rn.build("Button");n.attach({_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null}),n.add(new cn({name:"ButtonIcon",strokeWidth:2}).bindObject("geometryString","visible",r=>r?n._buttonExpandedFigure:n._buttonCollapsedFigure,void 0,e));const s=n.findObject("ButtonBorder");return s instanceof cn&&(s.stroke=null,s.fill="rgba(0, 0, 0, 0)"),n.click=(r,a)=>{if(!(a instanceof Ut))return;const u=a.diagram;if(u===null||u.isReadOnly)return;let h=a.findBindingPanel();if(h===null&&(h=a.part),h!==null){const f=h.findObject(e);f!==null&&(r.handled=!0,u.startTransaction("Collapse/Expand Panel"),f.visible=!f.visible,u.commitTransaction("Collapse/Expand Panel"))}},n}),rn.defineBuilder("CheckBoxButton",t=>{const e=rn.takeBuilderArgument(t),n=rn.build("Button",{desiredSize:new _(14,14)});n.attach({"ButtonBorder.spot1":new B(0,0,1,1),"ButtonBorder.spot2":new B(1,1,-1,-1)});const s=new cn({name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:2,geometryStretch:6,visible:!1});return e!==""&&s.bindTwoWay("visible",e),n.add(s),n.click=(r,a)=>{if(!(a instanceof Ut))return;const u=r.diagram;if(u===null||u.isReadOnly||e!==""&&u.model.isReadOnly)return;r.handled=!0;const h=a.findObject("ButtonIcon");u.startTransaction("checkbox"),h!==null&&(h.visible=!h.visible),typeof a._doClick=="function"&&a._doClick(r,a),u.commitTransaction("checkbox")},n}),rn.defineBuilder("CheckBox",t=>{const e=rn.takeBuilderArgument(t),n=rn.build("CheckBoxButton",{name:"Button",isActionable:!1,margin:new K(0,1,0,0)},e),s=new Ut("Horizontal",{isActionable:!0,cursor:n.cursor,margin:new K(1),mouseEnter:n.mouseEnter,mouseLeave:n.mouseLeave,click:n.click}).attach({_buttonFillNormal:n._buttonFillNormal,_buttonStrokeNormal:n._buttonStrokeNormal,_buttonFillOver:n._buttonFillOver,_buttonStrokeOver:n._buttonStrokeOver,_buttonFillDisabled:n._buttonFillDisabled,_buttonClick:n.click});return s.add(n),n.mouseEnter=null,n.mouseLeave=null,n.click=null,s});let ai=rn;class ds{constructor(){k(this,"mi");k(this,"St");k(this,"$n");k(this,"Ti");k(this,"Zn");k(this,"Ks");k(this,"Nl");k(this,"Dr");k(this,"Fr");k(this,"Rr");k(this,"Vr");k(this,"Ur");k(this,"vr");k(this,"Or");k(this,"Ir");k(this,"E0");k(this,"V0");k(this,"Er");k(this,"U0");k(this,"B0");k(this,"z0");k(this,"X0");k(this,"Br");k(this,"zr");k(this,"P0");k(this,"F0");k(this,"xs");k(this,"br");k(this,"kr");k(this,"to");k(this,"D0");k(this,"T0");k(this,"xr");k(this,"b0");k(this,"G0");k(this,"j0");this.mi=!1,this.St="",this.$n=-1,this.Ti=null,this.Zn=null,this.Ks=null,this.Nl="",this.Dr=null,this.Fr=null,this.Rr=null,this.Vr=null,this.Ur=null,this.vr=null,this.Or=null,this.Ir=null,this.E0=null,this.V0=null,this.Er=null,this.U0=null,this.B0=null,this.z0=null,this.X0=null,this.Br=null,this.zr=null,this.P0=null,this.F0=null,this.xs=null,this.br=_.ru,this.kr=_.QN,this.to=1,this.D0=1,this.T0=1,this.xr=0,this.b0=null,this.G0=null,this.j0="category"}copy(){const t=new ds;return t.St=this.St,t.$n=this.$n,t.Ti=this.Ti,t.Ks=this.Ks,t.Nl=this.Nl,t.Dr=this.Dr,t.Fr=this.Fr,t.Rr=this.Rr,t.Vr=this.Vr,t.Ur=this.Ur,t.vr=this.vr,t.Or=this.Or,t.Ir=this.Ir,t.E0=this.E0,t.V0=this.V0,t.Er=this.Er,t.U0=this.U0,t.B0=this.B0,t.z0=this.z0,t.X0=this.X0,t.Br=this.Br,t.zr=this.zr,t.P0=this.P0,t.F0=this.F0,t.xs=this.xs,t.br=this.br.N(),t.kr=this.kr.N(),t.to=this.to,t.D0=this.D0,t.T0=this.T0,t.xr=this.xr,t.b0=this.b0,t.G0=this.G0,t.j0=this.j0,t}}class dr{constructor(){k(this,"m");this.m=[1,0,0,1,0,0]}copy(){const t=new dr;return t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5],t}translate(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e}scale(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e}rotate(t,e,n){if(t>=360?t-=360:t<0&&(t+=360),t===0)return;this.translate(e,n);let s=0,r=0;if(t===90)s=0,r=1;else if(t===180)s=-1,r=0;else if(t===270)s=0,r=-1;else{const m=t*Math.PI/180;s=Math.cos(m),r=Math.sin(m)}const a=this.m[0]*s+this.m[2]*r,u=this.m[1]*s+this.m[3]*r,h=this.m[0]*-r+this.m[2]*s,f=this.m[1]*-r+this.m[3]*s;this.m[0]=a,this.m[1]=u,this.m[2]=h,this.m[3]=f,this.translate(-e,-n)}}class fr{constructor(t){k(this,"type");k(this,"x1");k(this,"y1");k(this,"r1");k(this,"x2");k(this,"y2");k(this,"r2");k(this,"colors");k(this,"pattern");this.type=t,this.x1=0,this.y1=0,this.r1=0,this.x2=0,this.y2=0,this.r2=0,this.colors=[],this.pattern=null}addColorStop(t,e){this.colors.push({offset:t,color:e})}}class no{constructor(t,e,n){k(this,"Ft");k(this,"ci");k(this,"aa");k(this,"Gu");k(this,"d2");const s=e===void 0?i.document:e;this.aa=s,this.d2="http://www.w3.org/2000/svg";const r="http://www.w3.org/2000/xmlns/";s!==void 0&&(this.Ft=this.makeElement("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.style.display="block",this.style.letterSpacing="normal",this.style.wordSpacing="normal",n||(this.style.position="absolute"),this.Ft.setAttributeNS(r,"xmlns",this.d2),this.Ft.setAttributeNS(r,"xmlns:xlink","http://www.w3.org/1999/xlink")),this.Gu=null,this.ci=new Gi(this,n)}resize(t,e,n,s){return this.width!==t||this.height!==e?(this.width=t,this.height=e,this.style.width=n+"px",this.style.height=s+"px",this.Ft.setAttributeNS(null,"width",n+"px"),this.Ft.setAttributeNS(null,"height",s+"px"),this.Ft.setAttributeNS(null,"viewBox","0 0 "+n+" "+s),this.ci.g2.firstElementChild.setAttributeNS(null,"width",n+"px"),this.ci.g2.firstElementChild.setAttributeNS(null,"height",s+"px"),!0):!1}makeElement(t,e,n){const s=this.aa.createElementNS(this.d2,t);if(o.wt(e))for(const r in e)s.setAttributeNS(r==="href"?"http://www.w3.org/1999/xlink":"",r,e[r]);return n!==void 0&&(s.textContent=n),s}getBoundingClientRect(){return this.Ft.getBoundingClientRect()}focus(){this.Ft.focus()}get width(){return this.Ft.width.baseVal.value}set width(t){this.Ft.setAttribute("width",t+"px")}get height(){return this.Ft.height.baseVal.value}set height(t){this.Ft.setAttribute("height",t+"px")}dispose(){this.aa=null}get style(){return this.Ft.style}}class Gi{constructor(t,e){k(this,"ef");k(this,"sf");k(this,"bn");k(this,"Di");k(this,"Ye");k(this,"fillStyle");k(this,"font");k(this,"globalAlpha");k(this,"lineCap");k(this,"lineDashOffset");k(this,"lineJoin");k(this,"lineWidth");k(this,"miterLimit");k(this,"shadowBlur");k(this,"shadowColor");k(this,"shadowOffsetX");k(this,"shadowOffsetY");k(this,"strokeStyle");k(this,"textAlign");k(this,"imageSmoothingEnabled");k(this,"clipInsteadOfFill");k(this,"lastCreatedElement");k(this,"nf");k(this,"of");k(this,"surface");k(this,"svg");k(this,"g2");k(this,"rA");k(this,"Vb");k(this,"Ko");k(this,"dh");k(this,"ba");k(this,"currentElement");k(this,"clipPathGroup");k(this,"diagramGroup");k(this,"lastDrawnPart");k(this,"currentPath");k(this,"outerGroup");k(this,"pathAttributes");k(this,"el");k(this,"Nr");k(this,"filter");k(this,"partClipRect");this.surface=t,this.svg=t.Ft,this.nf=[],this.of=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetX=0,this.shadowOffsetY=0,this.el=!1,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.ef=0,this.sf=0,this.bn=0,this.lastCreatedElement=null,this.currentElement=null,this.Di=[],this.pathAttributes={},this.Vb=!1,this.Ko=null,this.dh=0,this.Ye=new dr,this.clipPathGroup=this.newGroup2(),this.diagramGroup=this.newGroup2("gojs-diagram"),this.lastDrawnPart=null,this.currentPath=null;const n=C.su++,s=this.makeElement("clipPath",{id:"mainClip"+n}),r={x:0,y:0,width:t.width,height:t.height};s.appendChild(this.makeElement("rect",r)),this.g2=s,this.svg.appendChild(this.clipPathGroup),this.clipPathGroup.appendChild(this.diagramGroup),this.svg.appendChild(s),this.clipPathGroup.setAttributeNS(null,"clip-path","url(#mainClip"+n+")"),this.rA={},this.Nr=!!e,this.filter="",this.partClipRect=null}setDiagramPosScale(t,e,n,s,r,a){this.diagramGroup===void 0?this.newGroup(t,e,n,s,r,a):this.diagramGroup.setAttribute("transform","matrix("+t+", "+e+", "+n+", "+s+", "+r+", "+a+")")}resetInnerSVG(){this.diagramGroup!==null&&(this.diagramGroup.innerHTML="")}arc(t,e,n,s,r,a,u,h){const f=2*Math.PI,m=1e-6,y=f-m,x=n*Math.cos(s),S=n*Math.sin(s),E=t+x,L=e+S,D=a?0:1;let F=a?s-r:r-s;(Math.abs(u-E)>m||Math.abs(h-L)>m)&&this.Di.push(["L",E,+L]),F<0&&(F=F%f+f),F>y?(this.Di.push(["A",n,n,0,1,D,t-x,e-S]),this.Di.push(["A",n,n,0,1,D,E,L])):F>m&&this.Di.push(["A",n,n,0,+(F>=Math.PI),D,t+n*Math.cos(r),e+n*Math.sin(r)])}beginPath(){this.Di=[],this.pathAttributes={stroke:"none",fill:"none"}}endPath(t){this.ER(this.Di,this.Ye,t||0)}bezierCurveTo(t,e,n,s,r,a){this.Di.push(["C",t,e,n,s,r,a])}clearRect(t,e,n,s){}clip(){this.pathAttributes.clipPath=!0}closePath(){this.Di.push(["z"])}createLinearGradient(t,e,n,s){const r=new fr("linear");return r.x1=t,r.y1=e,r.x2=n,r.y2=s,r}createPattern(t,e){let n="";t instanceof HTMLCanvasElement&&(n=t.toDataURL()),t instanceof HTMLImageElement&&(n=t.getAttribute("src"));const s=this.rA;if(s[n])return"url(#"+s[n]+")";const r="PATTERN"+C.su++,a={width:t.width,height:t.height,id:r,patternUnits:"userSpaceOnUse"},u={x:0,y:0,width:t.width,height:t.height,href:n},h=this.makeElement("pattern",a);return h.appendChild(this.makeElement(st.img,u)),this.svg.appendChild(h),s[n]=r,"url(#"+r+")"}createRadialGradient(t,e,n,s,r,a){const u=new fr("radial");return u.x1=t,u.y1=e,u.r1=n,u.x2=s,u.y2=r,u.r2=a,u}amendImageTransform(t,e,n,s,r,a,u,h){const f=u/n,m=h/s;(r!==0||a!==0)&&this.Ye.translate(r,a),(f!==1||m!==1)&&this.Ye.scale(f,m),(t!==0||e!==0)&&this.Ye.translate(-t,-e)}drawImage(t,e,n,s,r,a,u,h,f){let m="";t instanceof HTMLCanvasElement&&(m=t.toDataURL()),t instanceof HTMLImageElement&&(m=t.getAttribute("src"));const y=t instanceof HTMLImageElement?t.naturalWidth:t.width,x=t instanceof HTMLImageElement?t.naturalHeight:t.height;s===void 0&&(a=e,u=n,h=s=y,f=r=x),s=s||0,r=r||0,a=a||0,u=u||0,h=h||0,f=f||0,this.amendImageTransform(e,n,s,r,a,u,h,f);const S={x:0,y:0,width:y||s,height:x||r,href:m};!$.Y(s,h)||!$.Y(r,f)?S.preserveAspectRatio="none":m.toLowerCase().indexOf(".svg")===-1&&m.toLowerCase().indexOf("data:image/svg")===-1&&(S.preserveAspectRatio="xMidYMid slice"),(e!==0||n!==0||s!==y||r!==x)&&(s+=e,r+=n,S["clip-path"]=`path('M ${e},${n} L ${s} ${n} L ${s} ${r} L ${e} ${r} z')`),this.processCommon(st.img,S,this.Ye),this.rd(st.img,S)}fill(t,e){t&&(this.pathAttributes["fill-rule"]="evenodd"),this.setFill(this.pathAttributes)}fillContext(t,e,n){this.clipInsteadOfFill?this.clip():this.fill(e,n)}fillRect(t,e,n,s){this.addRect("fill",[t,e,n,s],this.Ye)}fillBackground(t,e,n,s){const r={x:t,y:e,width:n,height:s};this.processCommon("fill",r,this.Ye),this.setFill(r),this.svg.prepend(this.makeElement("rect",r))}fillText(t,e,n){this.addText("fill",[t,e,n],this.Ye)}lineTo(t,e){this.Di.push(["L",t,e])}moveTo(t,e){this.Di.push(["M",t,e])}quadraticCurveTo(t,e,n,s){this.Di.push(["Q",t,e,n,s])}rect(t,e,n,s){this.Di.push(["M",t,e],["L",t+n,e],["L",t+n,e+s],["L",t,e+s],["z"])}restore(){this.Ye=this.nf.pop(),this.Di=this.nf.pop();const t=this.nf.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign,this.partClipRect=t.partClipRect}save(){const t={fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign,partClipRect:this.partClipRect};this.nf.push(t);const e=[];for(let n=0;n<this.Di.length;n++)e.push(this.Di[n]);this.nf.push(e),this.nf.push(this.Ye.copy())}setTransform(t,e,n,s,r,a){t===1&&e===0&&n===0&&s===1&&r===0&&a===0||this.newGroup(t,e,n,s,r,a)}setCurrentTransform(t,e,n,s,r,a){this.Ye.m=[t,e,n,s,r,a]}getCurrentTransform(){const t=this.Ye.m;return"matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}scale(t,e){this.Ye.scale(t,e)}translate(t,e){this.Ye.translate(t,e)}transform(t,e,n,s,r,a){}commitTransform(){}stroke(){this.setStroke(this.pathAttributes)}strokeContext(){this.clipInsteadOfFill||this.stroke()}strokeRect(t,e,n,s){this.addRect("stroke",[t,e,n,s],this.Ye)}makeElement(t,e,n){return this.surface.makeElement(t,e,n)}rd(t,e,n){const s=this.makeElement(t,e,n);return this.currentElement!==null?this.currentElement.appendChild(s):this.currentElement=s,this.lastCreatedElement=s,s}processCommon(t,e,n){if(t==="fill"?this.setFill(e):t==="stroke"&&this.setStroke(e),n!==null){const s=n.m;e.transform="matrix("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+", "+s[4]+", "+s[5]+")"}}setFill(t){if(this.fillStyle instanceof fr){t.fill=this.addGradient(this.fillStyle,!0);return}if(/^rgba\(/.test(this.fillStyle)){const e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.fillStyle);t.fill="rgb("+e[1]+","+e[2]+","+e[3]+")",t["fill-opacity"]=e[4]}else t.fill=this.fillStyle}setFillOrStrokeInPlace(t,e){const n=e?"fill":"stroke";if(this.fillStyle instanceof fr){t.setAttributeNS(null,"fill",this.addGradient(this.fillStyle,!0));return}if(/^rgba\(/.test(this.fillStyle)){const s=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.fillStyle);t.setAttributeNS(null,n,"rgb("+s[1]+","+s[2]+","+s[3]+")"),t.setAttributeNS(null,n+"-opacity",s[4])}else t.setAttributeNS(null,n,this.fillStyle)}setStroke(t){if(this.strokeStyle instanceof fr)t.stroke=this.addGradient(this.strokeStyle,!1);else if(/^rgba\(/.test(this.strokeStyle)){const e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.strokeStyle);t.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",t["stroke-opacity"]=e[4]}else t.stroke=this.strokeStyle;t["stroke-width"]=this.lineWidth,t["stroke-linecap"]=this.lineCap,t["stroke-linejoin"]=this.lineJoin,t["stroke-miterlimit"]=this.miterLimit,this.Vb&&(t["stroke-dasharray"]=this.Ko.toString(),t["stroke-dashoffset"]=this.dh)}addGradient(t,e){let n="";const s=this.currentPath!==null?this.currentPath.getAttribute(e?"fill":"stroke"):null;if(s!==null&&s.indexOf("GRAD")!==-1){n=s.split("#")[1].slice(0,-1);const f=this.svg.getElementById(n);f!==null&&f.remove()}else n="GRAD"+C.su++;let r;if(t.type==="linear"){const f={x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,id:n,gradientUnits:"userSpaceOnUse"};r=this.makeElement("linearGradient",f)}else if(t.type==="radial"){const f={x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,r1:t.r1,r2:t.r2,id:n};r=this.makeElement("radialGradient",f)}else throw new Error("invalid gradient");const a=t.colors,u=a.length,h=[];for(let f=0;f<u;f++){const m=a[f],y=m.color,x={offset:m.offset,"stop-color":y};if(/^rgba\(/.test(y)){const S=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(y);x["stop-color"]="rgb("+S[1]+","+S[2]+","+S[3]+")",x["stop-opacity"]=S[4]}h.push(x)}h.sort((f,m)=>f.offset>m.offset?1:-1);for(let f=0;f<u;f++)r.appendChild(this.makeElement("stop",h[f]));return this.svg.appendChild(r),"url(#"+n+")"}addRect(t,e,n){const s={x:e[0],y:e[1],width:e[2],height:e[3]};this.processCommon(t,s,n),this.rd("rect",s)}addText(t,e,n){let s=this.textAlign;s==="left"?s="start":s==="right"?s="end":s==="center"&&(s="middle");const r={x:e[1],y:e[2],style:"font: "+this.font,"text-anchor":s};this.processCommon(t,r,n),this.rd("text",r,e[0])}ER(t,e,n){const s=this.VR(t),r=this.pathAttributes;if(r.clipPath){this.of.length>0&&this.of[this.of.length-1].setAttributeNS(null,"clip-path",'path("'+s+'")');return}if(r.d=s,this.processCommon("",r,e),this.currentPath!==null){const a=this.currentPath;if(a.nodeName!=="g")for(const u in r)u!=="transform"&&a.setAttributeNS(null,u,r[u]);else{const u=a.getElementsByTagName("path");for(const h in r)h!=="transform"&&u[n].setAttributeNS(null,h,r[h])}}else this.rd("path",r)}VR(t){const e=[];for(let n=0;n<t.length;n++){const s=t[n].slice(),r=[s.shift()];if(r[0]==="A")r.push(s.shift()+","+s.shift(),s.shift(),s.shift()+","+s.shift(),s.shift()+","+s.shift());else for(;s.length;)r.push(s.shift()+","+s.shift());e.push(r.join(" "))}return e.join(" ")}newGroup(t,e,n,s,r,a){const u=new dr;u.m=[t,e,n,s,r,a];const h={};this.processCommon("g",h,u);const f=this.rd("g",h);return this.of.push(f),f}newGroup2(t){const e={};t&&(e.class=t);const n=this.rd("g",e);return this.of.push(n),n}endGroup(){return this.of.pop()}dummyGroup(){return this.newGroup2(),this.endGroup()}shadowsSet(t,e,n){this.ef=t,this.sf=e,this.bn=n}shadowsOff(){this.el=!1,this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOn(){this.el=!0,this.shadowOffsetX=this.ef,this.shadowOffsetY=this.sf,this.shadowBlur=this.bn}enableDash(t,e){this.Vb=!0,this.Ko=t,this.dh=e}disableDash(){this.Vb=!1}clearContextCache(t){}setImageSmoothingEnabled(t){}rotate(t){this.Ye.rotate(t*57.2958,0,0)}getImageData(t,e,n,s){return null}measureText(t){return null}removeOldGradient(t,e,n){const s=e.getAttribute(n);if(s===null)return;const r=s.split("#");if(r.length===1)return;const a=this.svg.getElementById(r[1].slice(0,-1));if(a!==null){const u=new RegExp(a.id,"g");this.svg.innerHTML.match(u).length===1&&a.remove()}}removePartFromView(t){t.svg!==null&&t.svg.parentNode===this.diagramGroup&&t.svg.remove()}}class io{constructor(t,e,n,s){k(this,"Ft");k(this,"ci");k(this,"aa");k(this,"Gu");const r=e===void 0?i.document:e;this.aa=r,this.Gu=null;const a=r.createElement("canvas");a.tabIndex=0,this.Ft=a,this.ci=new pr(a,n,s),st.ee.set(a,t)}resize(t,e,n,s){return this.width!==t||this.height!==e?(this.width=t,this.height=e,this.style.width=n+"px",this.style.height=s+"px",!0):!1}toDataURL(t,e){return this.Ft.toDataURL(t,e)}getBoundingClientRect(){return this.Ft.getBoundingClientRect()}focus(){this.Ft.focus()}get width(){return this.Ft.width}set width(t){this.Ft.width=t}get height(){return this.Ft.height}set height(t){this.Ft.height=t}dispose(){st.ee.delete(this.Ft),this.aa=null}get style(){return this.Ft.style}}const ih=class ih{constructor(t,e,n){k(this,"U");k(this,"Ub");k(this,"Bb");k(this,"zb");k(this,"H0");k(this,"ef");k(this,"sf");k(this,"bn");k(this,"ba");k(this,"el");k(this,"Nr");this.U=t.getContext?t.getContext("2d",e):null,this.U===null&&o.o("Browser does not support HTML Canvas Element"),this.Ub="",this.Bb="",this.zb="",this.H0=!1,this.ef=0,this.sf=0,this.bn=0,this.el=!1,this.ba=new G,this.Nr=!!n}setImageSmoothingEnabled(t){this.U.imageSmoothingEnabled=t}get fillStyle(){return this.U.fillStyle}set fillStyle(t){this.zb!==t&&(this.U.fillStyle=t,this.zb=t)}get font(){return this.U.font}set font(t){this.Ub!==t&&(this.U.font=t,this.Ub=t)}get globalAlpha(){return this.U.globalAlpha}set globalAlpha(t){this.U.globalAlpha=t}get lineCap(){return this.U.lineCap}set lineCap(t){this.U.lineCap=t}get lineDashOffset(){return this.U.lineDashOffset}set lineDashOffset(t){this.U.lineDashOffset=t}get lineJoin(){return this.U.lineJoin}set lineJoin(t){this.U.lineJoin=t}get lineWidth(){return this.U.lineWidth}set lineWidth(t){this.U.lineWidth=t}get miterLimit(){return this.U.miterLimit}set miterLimit(t){this.U.miterLimit=t}get shadowBlur(){return this.U.shadowBlur}set shadowBlur(t){this.U.shadowBlur=t}get shadowColor(){return this.U.shadowColor}set shadowColor(t){this.U.shadowColor=t}get shadowOffsetX(){return this.U.shadowOffsetX}set shadowOffsetX(t){this.U.shadowOffsetX=t}get shadowOffsetY(){return this.U.shadowOffsetY}set shadowOffsetY(t){this.U.shadowOffsetY=t}get strokeStyle(){return this.U.strokeStyle}set strokeStyle(t){this.Bb!==t&&(this.U.strokeStyle=t,this.Bb=t)}get textAlign(){return this.U.textAlign}set textAlign(t){this.U.textAlign=t}get imageSmoothingEnabled(){return this.U.imageSmoothingEnabled}set imageSmoothingEnabled(t){this.U.imageSmoothingEnabled=t}get filter(){return this.U.filter}set filter(t){t===""?this.U.filter="none":this.U.filter=t}arc(t,e,n,s,r,a,u,h){this.U.arc(t,e,n,s,r,a)}beginPath(){this.U.beginPath()}endPath(){}bezierCurveTo(t,e,n,s,r,a){this.U.bezierCurveTo(t,e,n,s,r,a)}clearRect(t,e,n,s){this.commitTransform(),this.U.clearRect(t,e,n,s)}clip(t){t?this.U.clip(t):this.U.clip()}closePath(){this.U.closePath()}createLinearGradient(t,e,n,s){return this.U.createLinearGradient(t,e,n,s)}createPattern(t,e){return this.U.createPattern(t,e)}createRadialGradient(t,e,n,s,r,a){return this.U.createRadialGradient(t,e,n,s,r,a)}drawImage(t,e,n,s,r,a,u,h,f){s===void 0?this.U.drawImage(t,e,n):this.U.drawImage(t,e,n,s,r,a,u,h,f)}fill(t,e){e?this.U.fill(e,t?"evenodd":"nonzero"):this.U.fill(t?"evenodd":"nonzero")}fillRect(t,e,n,s){this.U.fillRect(t,e,n,s)}fillBackground(t,e,n,s){this.U.fillRect(t,e,n,s)}fillText(t,e,n){this.U.fillText(t,e,n)}getImageData(t,e,n,s){return this.U.getImageData(t,e,n,s)}lineTo(t,e){this.U.lineTo(t,e)}measureText(t){return this.U.measureText(t)}moveTo(t,e){this.U.moveTo(t,e)}quadraticCurveTo(t,e,n,s){this.U.quadraticCurveTo(t,e,n,s)}rect(t,e,n,s){this.U.rect(t,e,n,s)}restore(){this.U.restore()}save(){this.commitTransform(),this.U.save()}rotate(t){this.ba.fs(t*57.2958,0,0)}setTransform(t,e,n,s,r,a){this.ba.setTo(t,e,n,s,r,a)}scale(t,e){this.ba.K(t,e)}translate(t,e){this.ba.Zi(t,e)}stroke(t){t?this.U.stroke(t):this.U.stroke()}transform(t,e,n,s,r,a){if(t===1&&e===0&&n===0&&s===1&&r===0&&a===0)return;const u=this.ba,h=u.m11*t+u.m21*e,f=u.m12*t+u.m22*e,m=u.m11*n+u.m21*s,y=u.m12*n+u.m22*s;u.dx=u.m11*r+u.m21*a+u.dx,u.dy=u.m12*r+u.m22*a+u.dy,u.m11=h,u.m12=f,u.m21=m,u.m22=y}commitTransform(){const t=this.ba;this.U.setTransform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy)}fillContext(t,e,n){this.radialFill(t,e,n)||this.fillOrClip(e,n)}radialFill(t,e,n){if(!(t instanceof Pt)||t.type!==3)return!1;const s=t.Zc,r=t.Ob;return r>s?(this.scale(s/r,1),this.translate((r-s)/2,0)):s>r&&(this.scale(1,r/s),this.translate(0,(s-r)/2)),this.fillOrClip(e,n),r>s?(this.translate(-(r-s)/2,0),this.scale(1/(s/r),1)):s>r&&(this.translate(0,-(s-r)/2),this.scale(1,1/(r/s))),!0}strokeContext(){this.H0||this.stroke()}fillOrClip(t,e){this.H0?this.clip(e):this.fill(t,e)}get clipInsteadOfFill(){return this.H0}set clipInsteadOfFill(t){this.H0=t}shadowsSet(t,e,n){this.ef=t,this.sf=e,this.bn=n}shadowsOff(){this.el=!1,this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOn(){this.el=!0,this.shadowOffsetX=this.ef,this.shadowOffsetY=this.sf,this.shadowBlur=this.bn}enableDash(t,e){const n=this.U;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}disableDash(){const t=this.U;t.setLineDash!==void 0&&(t.setLineDash(ih.EmptyArray),t.lineDashOffset=0)}clearContextCache(t){t&&(this.Ub=""),this.Bb="",this.zb=""}removePartFromView(t){}};k(ih,"EmptyArray",Object.freeze([]));let pr=ih;var To=(H=>(H[H.Solid=1]="Solid",H[H.Linear=2]="Linear",H[H.Radial=3]="Radial",H[H.Pattern=4]="Pattern",H))(To||{}),ml=(H=>(H[H.Lab=1]="Lab",H[H.HSL=2]="HSL",H[H.Oklch=3]="Oklch",H))(ml||{});class vt{constructor(){k(this,"n0");k(this,"n1");k(this,"n2");k(this,"n3");this.n0=0,this.n1=0,this.n2=0,this.n3=0}}const Oe=class Oe{constructor(t,e){k(this,"h");k(this,"_");k(this,"ka");k(this,"ei");k(this,"ms");k(this,"q0");k(this,"W0");k(this,"kn");k(this,"J0");k(this,"wn");k(this,"Zc");k(this,"Ob");if(C.Yi(this),this.h=!1,t===void 0)this._=1,this.ka="black";else if(typeof t=="string"){const s=o.Ih(To,t);s!==null?(this._=s,this.ka="black"):(this._=1,this.ka=t)}else this._=t,this.ka="black";const n=this._;if(n===2?(this.ei=B.TopCenter,this.ms=B.BottomCenter):n===3?(this.ei=B.Center,this.ms=B.Center):(this.ei=B.None,this.ms=B.None),this.q0=0,this.W0=NaN,this.kn=null,this.J0=null,this.wn=null,this.Zc=0,this.Ob=0,e){const s={};for(const r in e)isFinite(parseFloat(r))?this.addColorStop(parseFloat(r),e[r]):s[r]=e[r];Object.assign(this,s)}}copy(){const t=new Oe;return t._=this._,t.ka=this.ka,t.ei=this.ei.N(),t.ms=this.ms.N(),t.q0=this.q0,t.W0=this.W0,this.kn!==null&&(t.kn=this.kn.copy()),t.J0=this.J0,t}g(){return this.h=!0,this.kn!==null&&this.kn.g(),this}lt(){return Object.isFrozen(this)&&o.o("cannot thaw constant: "+this),this.h=!1,this.kn!==null&&this.kn.lt(),this}li(t){t in To?this.type=t:o.hr(this,t)}toString(){let t="Brush(";if(this.type===1)t+=this.color;else if(this.type===2?t+="Linear ":this.type===3?t+="Radial ":this.type===4?t+="Pattern ":t+="(unknown) ",t+=this.start+" "+this.end,this.colorStops!==null){const e=this.colorStops.iterator;for(;e.next();){const n=e.key,s=e.value;t+=" "+n+":"+s}}return t+=")",t}addColorStop(t,e){return this.h&&o.D(this),(typeof t!="number"||!isFinite(t)||t>1||t<0)&&o.tt(t,"0 <= loc <= 1",Oe,"addColorStop:loc"),o.i(e,"string",Oe,"addColorStop:color"),this.kn===null&&(this.kn=new z),this.kn.add(t,e),this._===1&&(this.type=2),this.wn=null,this}get type(){return this._}set type(t){this.h&&o.D(this,t),this._=t,this.start.isNoSpot()&&(t===2?this.start=B.TopCenter:t===3&&(this.start=B.Center)),this.end.isNoSpot()&&(t===2?this.end=B.BottomCenter:t===3&&(this.end=B.Center)),this.wn=null}get color(){return this.ka}set color(t){this.h&&o.D(this,t),this.ka=t,this.wn=null}get start(){return this.ei}set start(t){this.h&&o.D(this,t),this.ei=t.N(),this.wn=null}get end(){return this.ms}set end(t){this.h&&o.D(this,t),this.ms=t.N(),this.wn=null}get startRadius(){return this.q0}set startRadius(t){this.h&&o.D(this,t),t<0&&o.tt(t,">= zero",Oe,"startRadius"),this.q0=t,this.wn=null}get endRadius(){return this.W0}set endRadius(t){this.h&&o.D(this,t),t<0&&o.tt(t,">= zero",Oe,"endRadius"),this.W0=t,this.wn=null}get colorStops(){return this.kn}set colorStops(t){this.h&&o.D(this,t),this.kn=t,this.wn=null}get pattern(){return this.J0}set pattern(t){this.h&&o.D(this,t),this.J0=t,this.wn=null}static randomColor(t,e){t===void 0&&(t=128),e===void 0&&(e=Math.max(t,255));const n=Math.abs(e-t);let s=Math.floor(t+Math.random()*n).toString(16),r=Math.floor(t+Math.random()*n).toString(16),a=Math.floor(t+Math.random()*n).toString(16);return s.length<2&&(s="0"+s),r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),"#"+s+r+a}static isValidColor(t){return i.CSS?i.CSS.supports("color",t):!0}static lighten(t){return Oe.lightenBy(t)}lightenBy(t,e){this.h&&o.D(this);const n=t===void 0||typeof t!="number"?.2:t,s=e===void 0?3:e;if(this.type===1)Oe.Fo(this.color),this.color=Oe.ld(n,s);else if((this.type===2||this.type===3)&&this.colorStops!==null){const r=this.colorStops.iterator;for(;r.next();)Oe.Fo(r.value),this.addColorStop(r.key,Oe.ld(n,s))}return this}static lightenBy(t,e,n){const s=e===void 0||typeof e!="number"?.2:e,r=n===void 0?3:n;return Oe.Fo(t),Oe.ld(s,r)}static darken(t){return Oe.darkenBy(t)}darkenBy(t,e){this.h&&o.D(this);const n=t===void 0||typeof t!="number"?.2:t,s=e===void 0?3:e;if(this.type===1)Oe.Fo(this.color),this.color=Oe.ld(-n,s);else if((this.type===2||this.type===3)&&this.colorStops!==null){const r=this.colorStops.iterator;for(;r.next();)Oe.Fo(r.value),this.addColorStop(r.key,Oe.ld(-n,s))}return this}static darkenBy(t,e,n){const s=e===void 0||typeof e!="number"?.2:e,r=n===void 0?3:n;return Oe.Fo(t),Oe.ld(-s,r)}static mix(t,e,n){Oe.Fo(t);const s=Oe.j.n0,r=Oe.j.n1,a=Oe.j.n2,u=Oe.j.n3;Oe.Fo(e),n===void 0&&(n=.5);const h=Math.round((Oe.j.n0-s)*n+s),f=Math.round((Oe.j.n1-r)*n+r),m=Math.round((Oe.j.n2-a)*n+a),y=Math.round((Oe.j.n3-u)*n+u);return`rgba(${h}, ${f}, ${m}, ${y})`}isDark(){if(this.type===1)return Oe.isDark(this.color);if((this.type===2||this.type===3)&&this.colorStops!==null){const t=this.colorStops;if(this.type===3)return Oe.isDark(t.first().value);if(t.get(.5)!==null)return Oe.isDark(t.get(.5));if(t.count===2){const h=t.toArray();return Oe.isDark(Oe.mix(h[0].value,h[1].value))}const e=t.iterator;let n=-1,s=-1,r=1,a=1;for(;e.next();){const h=e.key,f=Math.abs(.5-e.key);r>a&&f<r?(n=h,r=f):a>=r&&f<a&&(s=h,a=f)}if(n>s){let h=n;n=s,s=h,h=r,r=a,a=h}const u=s-n;return Oe.isDark(Oe.mix(t.get(n),t.get(s),1-a/u))}return!1}static isDark(t){return t?t instanceof Oe?t.isDark():(Oe.Fo(t),(299*Oe.j.n0+587*Oe.j.n1+114*Oe.j.n2)/1e3<128):!1}static ld(t,e){switch(e){case 1:return Oe.UR(),Oe.io.n0=Math.min(100,Math.max(0,Oe.io.n0+100*t)),Oe.BR(),"rgba("+Oe.j.n0+", "+Oe.j.n1+", "+Oe.j.n2+", "+Oe.j.n3+")";case 2:return Oe.vM(),Oe.Ii.n2=Math.min(100,Math.max(0,Oe.Ii.n2+100*t)),"hsla("+Oe.Ii.n0+", "+Oe.Ii.n1+"%, "+Oe.Ii.n2+"%, "+Oe.Ii.n3+")";case 3:return Oe.zR(),Oe.eo.n0=Math.min(100,Math.max(0,Oe.eo.n0+100*t)),Oe.XR(),"rgba("+Oe.j.n0+", "+Oe.j.n1+", "+Oe.j.n2+", "+Oe.j.n3+")";default:o.o("Unknown color space: "+e)}}static Fo(t){const e=Oe.sl;if(e===null)return;e.clearRect(0,0,1,1),e.fillStyle="#000000";const n=e.fillStyle;if(e.fillStyle=t,e.fillStyle!==n){e.fillRect(0,0,1,1);const s=e.getImageData(0,0,1,1).data;Oe.j.n0=s[0],Oe.j.n1=s[1],Oe.j.n2=s[2],Oe.j.n3=s[3]/255}else e.fillStyle="#FFFFFF",e.fillStyle,e.fillStyle=t,e.fillStyle,Oe.j.n0=0,Oe.j.n1=0,Oe.j.n2=0,Oe.j.n3=1}static vM(){const t=Oe.j.n0/255,e=Oe.j.n1/255,n=Oe.j.n2/255,s=Math.max(t,e,n),r=Math.min(t,e,n),a=s-r;let u,h;const f=(s+r)/2;if(a===0)u=h=0;else{switch(s){case t:u=(e-n)/a%6;break;case e:u=(n-t)/a+2;break;case n:u=(t-e)/a+4;break}u*=60,u<0&&(u+=360),h=a/(1-Math.abs(2*f-1))}Oe.Ii.n0=Math.round(u),Oe.Ii.n1=Math.round(h*100),Oe.Ii.n2=Math.round(f*100),Oe.Ii.n3=Oe.j.n3}static fE(){const t=Oe.Ii.n0,e=Oe.Ii.n1/100,n=Oe.Ii.n2/100;let s,r,a;const u=(1-Math.abs(2*n-1))*e,h=t/60,f=u*(1-Math.abs(h%2-1));h>=0&&h<1?(s=u,r=f,a=0):h>=1&&h<2?(s=f,r=u,a=0):h>=2&&h<3?(s=0,r=u,a=f):h>=3&&h<4?(s=0,r=f,a=u):h>=4&&h<5?(s=f,r=0,a=u):h>=5&&h<6&&(s=u,r=0,a=f);const m=n-.5*u;s+=m,r+=m,a+=m,Oe.j.n0=Math.round(s*255),Oe.j.n1=Math.round(r*255),Oe.j.n2=Math.round(a*255),Oe.j.n3=Oe.Ii.n3}static UR(){Oe.lA(),Oe.KR()}static BR(){Oe.YR(),Oe.hA()}static m2(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}static p2(t){return t<=.0031308?t*12.92:1.055*Math.pow(t,1/2.4)-.055}static lA(){const t=Oe.m2(Oe.j.n0),e=Oe.m2(Oe.j.n1),n=Oe.m2(Oe.j.n2);Oe.Rt.n0=.4124564*t+.3575761*e+.1804375*n,Oe.Rt.n1=.2126729*t+.7151522*e+.072175*n,Oe.Rt.n2=.0193339*t+.119192*e+.9503041*n,Oe.Rt.n3=Oe.j.n3}static hA(){const t=3.2404542*Oe.Rt.n0+-1.5371385*Oe.Rt.n1+-.4985314*Oe.Rt.n2,e=-.969266*Oe.Rt.n0+1.8760108*Oe.Rt.n1+.041556*Oe.Rt.n2,n=.0556434*Oe.Rt.n0+-.2040259*Oe.Rt.n1+1.0572252*Oe.Rt.n2;Oe.j.n0=Oe.p2(t)*255,Oe.j.n1=Oe.p2(e)*255,Oe.j.n2=Oe.p2(n)*255,Oe.j.n3=Oe.Rt.n3,Oe.j.n0=Math.round(Oe.j.n0),Oe.j.n0>255?Oe.j.n0=255:Oe.j.n0<0&&(Oe.j.n0=0),Oe.j.n1=Math.round(Oe.j.n1),Oe.j.n1>255?Oe.j.n1=255:Oe.j.n1<0&&(Oe.j.n1=0),Oe.j.n2=Math.round(Oe.j.n2),Oe.j.n2>255?Oe.j.n2=255:Oe.j.n2<0&&(Oe.j.n2=0)}static b2(t){return t>Oe.w2?Math.pow(t,1/3):(Oe.Xb*t+16)/116}static KR(){const t=Oe.b2(Oe.Rt.n0*100/Oe.hd[0]),e=Oe.b2(Oe.Rt.n1*100/Oe.hd[1]),n=Oe.b2(Oe.Rt.n2*100/Oe.hd[2]);Oe.io.n0=116*e-16,Oe.io.n1=500*(t-e),Oe.io.n2=200*(e-n),Oe.io.n3=Oe.Rt.n3}static aA(t){const e=t*t*t;return e>Oe.w2?e:(116*t-16)/Oe.Xb}static YR(){const t=(Oe.io.n0+16)/116,e=Oe.io.n1/500+t,n=t-Oe.io.n2/200;Oe.Rt.n0=Oe.hd[0]/100*Oe.aA(e),Oe.Rt.n1=Oe.hd[1]/100*(Oe.io.n0>Oe.Xb*Oe.w2?Math.pow(t,3):Oe.io.n0/Oe.Xb),Oe.Rt.n2=Oe.hd[2]/100*Oe.aA(n),Oe.Rt.n3=Oe.io.n3}static GR(){let t=.8190224*Oe.Rt.n0+.3619062*Oe.Rt.n1+-.1288737*Oe.Rt.n2,e=.03298366*Oe.Rt.n0+.9292868*Oe.Rt.n1+.03614466*Oe.Rt.n2,n=.04817719*Oe.Rt.n0+.2642395*Oe.Rt.n1+.6335478*Oe.Rt.n2;t=Math.cbrt(t),e=Math.cbrt(e),n=Math.cbrt(n),Oe.fi.n0=.2104542*t+.7936177*e+-.004072046*n,Oe.fi.n1=1.977998*t+-2.428592*e+.4505937*n,Oe.fi.n2=.02590403*t+.7827717*e+-.8086757*n,Oe.fi.n3=Oe.Rt.n3,Oe.fi.n0*=100}static jR(){Oe.fi.n0/=100;let t=.9999999*Oe.fi.n0+.3963377*Oe.fi.n1+.2158037*Oe.fi.n2,e=1.000000009*Oe.fi.n0+-.1055613*Oe.fi.n1+-.06385417*Oe.fi.n2,n=1.00000005*Oe.fi.n0+-.08948418*Oe.fi.n1+-1.291485*Oe.fi.n2;t=t**3,e=e**3,n=n**3,Oe.Rt.n0=1.2268798*t+-.5578149*e+.281391*n,Oe.Rt.n1=-.04057576*t+1.112286*e+-.07171106*n,Oe.Rt.n2=-.07637294*t+-.4214933*e+1.586924*n,Oe.Rt.n3=Oe.fi.n3}static HR(){const t=Math.atan2(Oe.fi.n2,Oe.fi.n1)*180/Math.PI;Oe.eo.n0=Oe.fi.n0,Oe.eo.n1=Math.sqrt(Oe.fi.n1**2+Oe.fi.n2**2),Oe.eo.n2=t>=0?t:t+360,Oe.eo.n3=Oe.fi.n3}static qR(){Oe.fi.n0=Oe.eo.n0,Oe.fi.n1=Oe.eo.n1*Math.cos(Oe.eo.n2*Math.PI/180),Oe.fi.n2=Oe.eo.n1*Math.sin(Oe.eo.n2*Math.PI/180),Oe.fi.n3=Oe.eo.n3}static zR(){Oe.lA(),Oe.GR(),Oe.HR()}static XR(){Oe.qR(),Oe.jR(),Oe.hA()}static od(t,e){typeof t=="string"||t instanceof Oe||o.o("Value for "+e+" must be a color string or a Brush, not "+t)}};k(Oe,"w2",216/24389),k(Oe,"Xb",24389/27),k(Oe,"hd",[95.047,100,108.883]),k(Oe,"Solid",1),k(Oe,"Linear",2),k(Oe,"Radial",3),k(Oe,"Pattern",4),k(Oe,"Lab",1),k(Oe,"HSL",2),k(Oe,"sl",st.isUsingDOM()?new io(null,void 0,{willReadFrequently:!0}).ci:null),k(Oe,"j",new vt),k(Oe,"Ii",new vt),k(Oe,"Rt",new vt),k(Oe,"io",new vt),k(Oe,"fi",new vt),k(Oe,"eo",new vt);let Pt=Oe;const sh=class sh{constructor(){k(this,"St","Base")}static definePanelLayout(t,e){e.name=t,sh.Layouts.add(t,e)}get name(){return this.St}set name(t){this.St=t}get classType(){return Ut}measure(t,e,n,s,r,a,u){}measureElement(t,e,n,s,r){t.ut(e,n,s,r)}arrange(t,e,n){}arrangeElement(t,e,n,s,r,a){t.zt(e,n,s,r,a)}remeasureObject(t){t.Qc()}Gi(t,e,n){}};k(sh,"Layouts",new z);let on=sh;class vi extends on{constructor(){super()}measure(t,e,n,s,r,a,u){const h=s.length,f=t.Yo();for(let m=0;m<h;m++){const y=s[m];if(!y.visible&&y!==f)continue;const x=y.margin,S=x.right+x.left,E=x.top+x.bottom;y.ut(e,n,a,u);const L=y.measuredBounds,D=Math.max(L.width+S,0),F=Math.max(L.height+E,0);let V=y.position.x,U=y.position.y;if(isFinite(V)||(V=0),isFinite(U)||(U=0),y instanceof cn&&y.isGeometryPositioned){const W=y.strokeWidth/2;V-=W,U-=W}r.unionNoCheck(V,U,D,F)}}arrange(t,e,n){const s=e.length,r=t.padding,a=n.x-r.left,u=n.y-r.top;for(let h=0;h<s;h++){const f=e[h],m=f.measuredBounds,y=f.margin,x=f.position.x,S=f.position.y;let E=isNaN(x)?-a:x-a,L=isNaN(S)?-u:S-u;if(f instanceof cn&&f.isGeometryPositioned){const D=f.strokeWidth/2;E-=D,L-=D}f.visible&&f.zt(E+y.left,L+y.top,m.width,m.height)}}}on.definePanelLayout("Position",new vi);class Hs extends on{constructor(){super()}measure(t,e,n,s,r,a,u){const h=s.length,f=o.rt(),m=t.Yo();for(let x=0;x<h;x++){const S=s[x];if(!S.visible&&S!==m)continue;const E=S.zs(!1);if(E!==0&&E!==5){f.push(S);continue}S.ut(1/0,n,0,u);const L=S.margin,D=S.measuredBounds,F=Math.max(D.width+L.right+L.left,0),V=Math.max(D.height+L.top+L.bottom,0);r.width+=F,r.height=Math.max(r.height,V)}const y=f.length;t.desiredSize.height?n=Math.min(t.desiredSize.height,t.maxSize.height):r.height!==0&&(n=Math.min(r.height,t.maxSize.height));for(let x=0;x<y;x++){const S=f[x];if(!S.visible&&S!==m)continue;const E=S.margin,L=E.right+E.left,D=E.top+E.bottom;S.ut(1/0,n,0,u);const F=S.measuredBounds,V=Math.max(F.width+L,0),U=Math.max(F.height+D,0);r.width+=V,r.height=Math.max(r.height,U)}o.it(f)}arrange(t,e,n){const s=e.length,r=t.padding,a=r.top,u=t.isOpposite;let h=u?n.width:r.left;for(let f=0;f<s;f++){const m=a,y=e[f];if(!y.visible)continue;const x=y.measuredBounds,S=y.margin,E=S.top+S.bottom,L=a+r.bottom;let D=x.height;const F=y.zs(!1);(isNaN(y.desiredSize.height)&&F===2||F===4)&&(D=Math.max(n.height-E-L,0));const V=D+E+L;let U=y.alignment;U.isDefault()&&(U=t.defaultAlignment),U.isSpot()||(U=B.Center),u&&(h-=x.width+S.left+S.right),y.zt(h+U.offsetX+S.left,m+U.offsetY+S.top+(n.height*U.y-V*U.y),x.width,D),u||(h+=x.width+S.left+S.right)}}}on.definePanelLayout("Horizontal",new Hs);class Wo extends on{constructor(){super()}measure(t,e,n,s,r,a,u){const h=s.length,f=o.rt(),m=t.Yo();for(let x=0;x<h;x++){const S=s[x];if(!S.visible&&S!==m)continue;const E=S.zs(!1);if(E!==0&&E!==4){f.push(S);continue}const L=S.margin,D=L.right+L.left,F=L.top+L.bottom;S.ut(e,1/0,a,0);const V=S.measuredBounds,U=Math.max(V.width+D,0),W=Math.max(V.height+F,0);r.Mo(Math.max(r.width,U),r.height+W)}const y=f.length;if(y!==0){t.desiredSize.width?e=Math.min(t.desiredSize.width,t.maxSize.width):r.width!==0&&(e=Math.min(r.width,t.maxSize.width));for(let x=0;x<y;x++){const S=f[x];if(!S.visible&&S!==m)continue;const E=S.margin,L=E.right+E.left,D=E.top+E.bottom;S.ut(e,1/0,a,0);const F=S.measuredBounds,V=Math.max(F.width+L,0),U=Math.max(F.height+D,0);r.width=Math.max(r.width,V),r.height+=U}o.it(f)}}arrange(t,e,n){const s=e.length,r=t.padding,a=r.left,u=t.isOpposite;let h=u?n.height:r.top;for(let f=0;f<s;f++){const m=a,y=e[f];if(!y.visible)continue;const x=y.measuredBounds,S=y.margin,E=S.left+S.right,L=a+r.right;let D=x.width;const F=y.zs(!1);(isNaN(y.desiredSize.width)&&F===2||F===5)&&(D=Math.max(n.width-E-L,0));const V=D+E+L;let U=y.alignment;U.isDefault()&&(U=t.defaultAlignment),U.isSpot()||(U=B.Center),u&&(h-=x.height+S.bottom+S.top),y.zt(m+U.offsetX+S.left+(n.width*U.x-V*U.x),h+U.offsetY+S.top,D,x.height),u||(h+=x.height+S.bottom+S.top)}}}on.definePanelLayout("Vertical",new Wo);class Kr extends on{constructor(){super()}measure(t,e,n,s,r,a,u){const h=s.length;if(h===0)return;const f=t.findMainElement();let m=f.margin,y=0,x=0;const S=m.right+m.left,E=m.top+m.bottom;f.ut(e,n,a,u);let L=f.measuredBounds,D=L.width,F=L.height,V=Math.max(D+S,0),U=Math.max(F+E,0);const W=t.isClipping,q=I.X(-m.left,-m.top,V,U);let le=I.X(0,0,D,F);this.k2(f,le,!0),D=le.width,F=le.height;let oe=!0;const ce=t.Yo();let Se;for(let he=0;he<h;he++){const ge=s[he];let ke=e,we=n;if(ge===f||!ge.visible&&ge!==ce)continue;m=ge.margin;let Pe=m.left,Re=m.top;switch(y=m.right+m.left,x=m.top+m.bottom,Se=ge.zs(!1),Se){case 2:ke=D,we=F,y=0,x=0,Pe=0,Re=0;break;case 5:ke=D,y=0,Pe=0;break;case 4:we=F,x=0,Re=0;break}ge.ut(ke,we,0,0),L=ge.measuredBounds,V=Math.max(L.width+y,0),U=Math.max(L.height+x,0);let Xe=ge.alignment;Xe.isDefault()&&(Xe=t.defaultAlignment),Xe.isSpot()||(Xe=B.Center);let at=ge.alignmentFocus;at.isDefault()&&(at=B.Center);let je=null;ge instanceof Ut&&ge.so!==""&&(je=ge.findObject(ge.so),je===ge&&(je=null));let ft=le.x-Pe,Ct=le.y-Re;if(je!==null){ge.zt(0,0,L.width,L.height);const sn=je.actualBounds,Dt=T.X(sn.x+(at.x*sn.width-at.offsetX),sn.y+(at.y*sn.height-at.offsetY));for(je=je.panel;je!==ge;)je.L.xt(Dt),je=je.panel;ft+=Xe.x*D+Xe.offsetX-Dt.x,Ct+=Xe.y*F+Xe.offsetY-Dt.y,T.s(Dt)}else ft+=Xe.x*D+Xe.offsetX-(at.x*L.width+at.offsetX),Ct+=Xe.y*F+Xe.offsetY-(at.y*L.height+at.offsetY);oe?(oe=!1,r.e(ft,Ct,V,U)):r.unionNoCheck(ft,Ct,V,U)}switch(oe?r.a(q):W?r.intersect(le.x,le.y,le.width,le.height):r.unionNoCheck(q.x,q.y,q.width,q.height),I.s(q),I.s(le),Se=f.stretch,Se===1&&(Se=f.zs(!1)),Se){case 0:return;case 2:if(!isFinite(e)&&!isFinite(n))return;break;case 5:if(!isFinite(e))return;break;case 4:if(!isFinite(n))return;break}L=f.measuredBounds,D=L.width,F=L.height,V=Math.max(D+S,0),U=Math.max(F+E,0),m=f.margin,le=I.X(-m.left,-m.top,V,U),this.k2(f,le,!0),D=le.width,F=le.height;for(let he=0;he<h;he++){const ge=s[he];if(ge===f||!ge.visible&&ge!==ce)continue;m=ge.margin,y=m.right+m.left,x=m.top+m.bottom,L=ge.measuredBounds,V=Math.max(L.width+y,0),U=Math.max(L.height+x,0);let ke=ge.alignment;ke.isDefault()&&(ke=t.defaultAlignment),ke.isSpot()||(ke=B.Center);let we=ge.alignmentFocus;we.isDefault()&&(we=B.Center),oe?(oe=!1,r.e(ke.x*D+ke.offsetX-(we.x*L.width+we.offsetX)-m.left,ke.y*F+ke.offsetY-(we.y*L.height+we.offsetY)-m.top,V,U)):r.unionNoCheck(ke.x*D+ke.offsetX-(we.x*L.width+we.offsetX)-m.left,ke.y*F+ke.offsetY-(we.y*L.height+we.offsetY)-m.top,V,U)}oe?r.a(q):W?r.intersect(le.x,le.y,le.width,le.height):r.unionNoCheck(q.x,q.y,q.width,q.height),I.s(le)}arrange(t,e,n){const s=e.length;if(s===0)return;const r=t.findMainElement(),a=r.measuredBounds,u=a.width,h=a.height,f=t.padding,m=f.left,y=f.top;let x=m-n.x,S=y-n.y;r.zt(x,S,u,h);const E=I.X(0,0,u,h);this.k2(r,E,!1);for(let L=0;L<s;L++){const D=e[L];if(D===r)continue;const F=D.measuredBounds,V=F.width,U=F.height;let W=D.alignment;W.isDefault()&&(W=t.defaultAlignment),W.isSpot()||(W=B.Center);let q=D.alignmentFocus;q.isDefault()&&(q=B.Center);let le=null;if(D instanceof Ut&&D.so!==""&&(le=D.findObject(D.so),le===D&&(le=null)),le!==null){const oe=le.actualBounds,ce=T.X(oe.x+(q.x*oe.width-q.offsetX),oe.y+(q.y*oe.height-q.offsetY));for(le=le.panel;le!==D;)le.L.xt(ce),le=le.panel;x=W.x*E.width+W.offsetX-ce.x,S=W.y*E.height+W.offsetY-ce.y,T.s(ce)}else x=W.x*E.width+W.offsetX-(q.x*V+q.offsetX),S=W.y*E.height+W.offsetY-(q.y*U+q.offsetY);x+=E.x-n.x,S+=E.y-n.y,D.visible&&D.zt(m+x,y+S,V,U)}I.s(E)}k2(t,e,n){let s=null;if(t instanceof Ut&&t.so!==""&&(s=t.findObject(t.so),s===t&&(s=null)),s!==null)for(n&&t.zt(0,0,e.width,e.height),e.a(s.actualBounds),s=s.panel;s!==t;)s.L.yw(e),s=s.panel}}on.definePanelLayout("Spot",new Kr);class js extends on{constructor(){super()}measure(t,e,n,s,r,a,u){const h=s.length;if(h===0)return;const f=t.findMainElement();let m=f.margin,y=e,x=n;const S=m.right+m.left,E=m.top+m.bottom;f.ut(e,n,a,u);let L=f.measuredBounds,D=0,F=null;f instanceof cn&&(F=f,D=F.strokeWidth*F.scale);let V=Math.max(L.width+S,0),U=Math.max(L.height+E,0),W=t.P2(f);const q=W.x*V+W.offsetX,le=W.y*U+W.offsetY;let oe=t.M2(f);const ce=oe.x*V+oe.offsetX,Se=oe.y*U+oe.offsetY;isFinite(e)&&(y=Math.max(Math.abs(q-ce)-D,0)),isFinite(n)&&(x=Math.max(Math.abs(le-Se)-D,0));let he=0,ge=0;a>0&&(he=Math.max(Math.abs(W.x*a+W.offsetX-(oe.x*a+oe.offsetX))-D,0)),u>0&&(ge=Math.max(Math.abs(W.y*u+W.offsetY-(oe.y*u+oe.offsetY))-D,0));const ke=_.l();ke.e(0,0);const we=t.Yo();for(let at=0;at<h;at++){const je=s[at];if(je===f||!je.visible&&je!==we)continue;m=je.margin;const ft=m.right+m.left,Ct=m.top+m.bottom;je.ut(y,x,he,ge),L=je.measuredBounds,V=Math.max(L.width+ft,0),U=Math.max(L.height+Ct,0),ke.e(Math.max(V,ke.width),Math.max(U,ke.height))}if(h===1){L=f.measuredBounds,r.width=V,r.height=U,_.s(ke);return}W=t.P2(f),oe=t.M2(f);let Pe=0,Re=0;oe.x!==W.x&&oe.y!==W.y&&(Pe=ke.width/Math.abs(oe.x-W.x),Re=ke.height/Math.abs(oe.y-W.y)),_.s(ke),D=0,F!==null&&(D=F.strokeWidth*F.scale,F.QP()===6&&(Pe=Re=Math.max(Pe,Re))),Pe+=Math.abs(W.offsetX)+Math.abs(oe.offsetX)+D,Re+=Math.abs(W.offsetY)+Math.abs(oe.offsetY)+D;let Xe=f.stretch;switch(Xe===1&&(Xe=f.zs(!1)),Xe){case 0:a=0,u=0;break;case 2:isFinite(e)&&(Pe=e),isFinite(n)&&(Re=n);break;case 5:isFinite(e)&&(Pe=e),u=0;break;case 4:a=0,isFinite(n)&&(Re=n);break}f.Qc(),f.ut(Pe,Re,a,u),r.width=f.measuredBounds.width+S,r.height=f.measuredBounds.height+E}arrange(t,e,n){const s=e.length;if(s===0)return;const r=t.findMainElement(),a=r.measuredBounds,u=I.l();u.e(0,0,1,1);let h=r.margin;const f=h.left,m=h.top,y=t.padding,x=y.left,S=y.top;let E=f,L=m,D=a.width,F=a.height;r.zt(x+E,S+L,D,F);const V=t.P2(r),U=t.M2(r),W=0+V.x*a.width+V.offsetX,q=0+V.y*a.height+V.offsetY,le=0+U.x*a.width+U.offsetX,oe=0+U.y*a.height+U.offsetY;u.x=W,u.y=q,u.unionNoCheck(le,oe,0,0),u.x+=f+x,u.y+=m+S;for(let ce=0;ce<s;ce++){const Se=e[ce];if(Se===r)continue;const he=Se.measuredBounds;h=Se.margin;const ge=Math.max(he.width+h.right+h.left,0),ke=Math.max(he.height+h.top+h.bottom,0);let we=Se.alignment;we.isDefault()&&(we=t.defaultAlignment),we.isSpot()||(we=B.Center),E=u.width*we.x+we.offsetX-ge*we.x+h.left+u.x,L=u.height*we.y+we.offsetY-ke*we.y+h.top+u.y,D=u.width,F=u.height,Se.visible&&(I.contains(u.x,u.y,u.width,u.height,E,L,he.width,he.height)?Se.zt(E,L,he.width,he.height):Se.zt(E,L,he.width,he.height,new I(u.x,u.y,u.width,u.height)))}I.s(u)}}on.definePanelLayout("Auto",new js);class Ds extends on{constructor(){super(),this.name="Table"}measure(t,e,n,s,r,a,u){let h=s.length;const f=o.rt(),m=o.rt();for(let Rt=0;Rt<h;Rt++){const xt=s[Rt],Qt=xt instanceof Ut?xt:null;if(Qt!==null&&Qt.il()&&xt.visible){m.push(Qt);const Dn=Qt.T.r,di=Dn.length;for(let Mi=0;Mi<di;Mi++){const Ei=Dn[Mi];Qt.type===Ut.TableRow?Ei.row=xt.row:Qt.type===Ut.TableColumn&&(Ei.column=xt.column),f.push(Ei)}}else f.push(xt)}h=f.length,h===0&&(t.getRowDefinition(0),t.getColumnDefinition(0));const y=[];for(let Rt=0;Rt<h;Rt++){const xt=f[Rt];xt.visible&&(xt.se(!0),xt._n(!0),y[xt.row]||(y[xt.row]=[]),y[xt.row][xt.column]||(y[xt.row][xt.column]=[]),y[xt.row][xt.column].push(xt))}o.it(f);const x=o.rt(),S=o.rt(),E=o.rt(),L={count:0},D={count:0};let F=e,V=n;const U=t.Ge,W=t.je;let q=null;h=U.length;for(let Rt=0;Rt<h;Rt++)q=U[Rt],q!==void 0&&(q.actual=0);h=W.length;for(let Rt=0;Rt<h;Rt++)q=W[Rt],q!==void 0&&(q.actual=0);let le=y.length,oe=0;for(let Rt=0;Rt<le;Rt++)y[Rt]&&(oe=Math.max(oe,y[Rt].length));const ce=Math.min(t.topIndex,le-1),Se=Math.min(t.leftIndex,oe-1);let he=0,ge;le=y.length;const ke=t.Yo();for(let Rt=0;Rt<le;Rt++){if(!y[Rt])continue;oe=y[Rt].length;const xt=t.getRowDefinition(Rt);xt.actual=0,xt.ji=0;for(let Qt=0;Qt<oe;Qt++){if(!y[Rt][Qt])continue;const Dn=t.getColumnDefinition(Qt);x[Qt]===void 0&&(Dn.actual=0,Dn.ji=0,x[Qt]=!0);const di=y[Rt][Qt],Mi=di.length;for(let Ei=0;Ei<Mi;Ei++){const Oi=di[Ei];if(!Oi.visible&&Oi!==ke)continue;const Do=Oi.rowSpan>1,Is=Oi.columnSpan>1;(Do||Is)&&!(Rt<ce)&&!(Qt<Se)&&S.push(Oi);const Us=Oi.margin,Bi=Us.right+Us.left,Ui=Us.top+Us.bottom;ge=Oi.M0(xt,Dn,!1);const uo=Oi.desiredSize,Kn=!isNaN(uo.width),Yo=!isNaN(uo.height);if(ge!==0&&!(Kn&&Yo)&&!(Rt<ce)&&!(Qt<Se)&&(!Is&&L[Qt]===void 0&&(ge===2||ge===5)&&(L[Qt]=-1,L.count++),!Do&&D[Rt]===void 0&&(ge===2||ge===4)&&(D[Rt]=-1,D.count++),!Do&&!Is&&E.push(Oi)),Oi.ut(1/0,1/0,0,0),Rt<ce||Qt<Se)continue;const ms=Oi.measuredBounds,Oo=Math.max(ms.width+Bi,0),yr=Math.max(ms.height+Ui,0);if(Oi.rowSpan===1&&(ge===0||ge===5)){q=t.getRowDefinition(Rt);const Ro=q.computeEffectiveSpacing(),Lu=q.ot===0;he=Math.max(yr-q.actual,0),he+(Lu?Ro:0)>V&&(he=Math.max(V-Ro,0)),q.ji=q.ji+he,q.actual=q.ot+he,V=Math.max(V-(he+(Lu?Ro:0)),0)}if(Oi.columnSpan===1&&(ge===0||ge===4)){q=t.getColumnDefinition(Qt);const Ro=q.computeEffectiveSpacing(),Lu=q.ot===0;he=Math.max(Oo-q.actual,0),he+(Lu?Ro:0)>F&&(he=Math.max(F-Ro,0)),q.ji=q.ji+he,q.actual=q.ot+he,F=Math.max(F-(he+(Lu?Ro:0)),0)}(Do||Is)&&Oi.Qc()}}}o.it(x);let we=0,Pe=0;h=t.columnCount;for(let Rt=0;Rt<h;Rt++){const xt=W[Rt];xt!==void 0&&(we+=isNaN(xt.me)?xt.ji:xt.me,xt.ji!==0&&(we+=xt.computeEffectiveSpacing()))}h=t.rowCount;for(let Rt=0;Rt<h;Rt++){const xt=U[Rt];xt!==void 0&&(Pe+=isNaN(xt.me)?xt.ji:xt.me,xt.ji!==0&&(Pe+=xt.computeEffectiveSpacing()))}F=Math.max(e-we,0),V=Math.max(n-Pe,0);let Re=V,Xe=F;h=E.length;for(let Rt=0;Rt<h;Rt++){const xt=E[Rt],Qt=t.getRowDefinition(xt.row),Dn=t.getColumnDefinition(xt.column),di=xt.measuredBounds,Mi=xt.margin,Ei=Mi.right+Mi.left,Oi=Mi.top+Mi.bottom;Dn.ji===0&&L[xt.column]!==void 0?L[xt.column]=Math.max(di.width+Ei,L[xt.column]):L[xt.column]=null,Qt.ji===0&&D[xt.row]!==void 0?D[xt.row]=Math.max(di.height+Oi,D[xt.row]):D[xt.row]=null}let at=0,je=0,ft;for(ft in D)ft!=="count"&&(at+=D[ft]);for(ft in L)ft!=="count"&&(je+=L[ft]);const Ct=_.l();for(let Rt=0;Rt<h;Rt++){const xt=E[Rt];if(!xt.visible&&xt!==ke)continue;const Qt=t.getRowDefinition(xt.row),Dn=t.getColumnDefinition(xt.column);let di=0;isFinite(Dn.width)?di=Dn.width:(isFinite(F)&&L[xt.column]!==null?je===0?di=Dn.actual+F:di=L[xt.column]/je*Xe:L[xt.column]!==null?di=F:di=Dn.actual||F,di=Math.max(0,di-Dn.computeEffectiveSpacing()));let Mi=0;switch(isFinite(Qt.height)?Mi=Qt.height:(isFinite(V)&&D[xt.row]!==null?at===0?Mi=Qt.actual+V:Mi=D[xt.row]/at*Re:D[xt.row]!==null?Mi=V:Mi=Qt.actual||V,Mi=Math.max(0,Mi-Qt.computeEffectiveSpacing())),Ct.e(Math.max(Dn.minimum,Math.min(di,Dn.maximum)),Math.max(Qt.minimum,Math.min(Mi,Qt.maximum))),ge=xt.M0(Qt,Dn,!1),ge){case 5:Ct.height=Math.max(Ct.height,Qt.actual+V);break;case 4:Ct.width=Math.max(Ct.width,Dn.actual+F);break}const Ei=xt.margin,Oi=Ei.right+Ei.left,Do=Ei.top+Ei.bottom;xt.Qc();let Is=Dn.minimum,Us=Qt.minimum;const Bi=xt.measuredBounds;Bi.width===0&&L[xt.column]!==null&&(Is=Math.max(Is,L[xt.column])),Bi.height===0&&D[xt.row]!==null&&(Us=Math.max(Is,D[xt.row])),xt.ut(Ct.width,Ct.height,Is,Us);const Ui=xt.measuredBounds;let uo=Math.max(Ui.width+Oi,0),Kn=Math.max(Ui.height+Do,0);isFinite(F)&&(uo=Math.min(uo,Ct.width)),isFinite(V)&&(Kn=Math.min(Kn,Ct.height));let Yo=0;Yo=Qt.actual,Qt.actual=Math.max(Qt.actual,Kn),Qt.ji=Math.max(Qt.ji,Kn),he=Qt.actual-Yo,V=Math.max(V-he,0),D[xt.row]===null&&(Re=Math.max(Re-he,0)),Yo=Dn.actual,Dn.actual=Math.max(Dn.actual,uo),Dn.ji=Math.max(Dn.ji,uo),he=Dn.actual-Yo,F=Math.max(F-he,0),L[xt.column]===null&&(Xe=Math.max(Xe-he,0))}o.it(E);const sn=_.l(),Dt=o.rt(),Bt=o.rt();if(h=S.length,h!==0)for(let Rt=0;Rt<le;Rt++){if(!y[Rt])continue;oe=y[Rt].length;const xt=t.getRowDefinition(Rt);Dt[Rt]=xt.actual;for(let Qt=0;Qt<oe;Qt++){if(!y[Rt][Qt])continue;const Dn=t.getColumnDefinition(Qt);Bt[Qt]=Dn.actual}}for(let Rt=0;Rt<h;Rt++){const xt=S[Rt];if(!xt.visible&&xt!==ke)continue;const Qt=t.getRowDefinition(xt.row),Dn=t.getColumnDefinition(xt.column);switch(Ct.e(Math.max(Dn.minimum,Math.min(e,Dn.maximum)),Math.max(Qt.minimum,Math.min(n,Qt.maximum))),ge=xt.M0(Qt,Dn,!1),ge){case 2:Bt[Dn.index]!==0&&(Ct.width=Math.min(Ct.width,Bt[Dn.index])),Dt[Qt.index]!==0&&(Ct.height=Math.min(Ct.height,Dt[Qt.index]));break;case 5:Bt[Dn.index]!==0&&(Ct.width=Math.min(Ct.width,Bt[Dn.index]));break;case 4:Dt[Qt.index]!==0&&(Ct.height=Math.min(Ct.height,Dt[Qt.index]));break}isFinite(Dn.width)&&(Ct.width=Dn.width),isFinite(Qt.height)&&(Ct.height=Qt.height),sn.e(0,0);let di=Dn.minimum,Mi=Qt.minimum;for(let Kn=1;Kn<xt.rowSpan&&!(xt.row+Kn>=t.rowCount);Kn++)q=t.getRowDefinition(xt.row+Kn),he=0,ge===2||ge===4?he=Math.max(q.minimum,Dt[xt.row+Kn]===0?q.maximum:Math.min(Dt[xt.row+Kn],q.maximum)):he=Math.max(q.minimum,isNaN(q.me)?q.maximum:Math.min(q.me,q.maximum)),sn.height+=he,Mi+=q.minimum;for(let Kn=1;Kn<xt.columnSpan&&!(xt.column+Kn>=t.columnCount);Kn++)q=t.getColumnDefinition(xt.column+Kn),he=0,ge===2||ge===5?he=Math.max(q.minimum,Bt[xt.column+Kn]===0?q.maximum:Math.min(Bt[xt.column+Kn],q.maximum)):he=Math.max(q.minimum,isNaN(q.me)?q.maximum:Math.min(q.me,q.maximum)),sn.width+=he,di+=q.minimum;Ct.width+=sn.width,Ct.height+=sn.height;const Ei=xt.margin,Oi=Ei.right+Ei.left,Do=Ei.top+Ei.bottom;xt.ut(Ct.width,Ct.height,di,Mi);const Is=xt.measuredBounds,Us=Math.max(Is.width+Oi,0),Bi=Math.max(Is.height+Do,0);let Ui=0;for(let Kn=0;Kn<xt.rowSpan&&!(xt.row+Kn>=t.rowCount);Kn++)q=t.getRowDefinition(xt.row+Kn),Ui+=q.total||0;if(Ui<Bi){let Kn=Bi-Ui;const Yo=Bi-Ui;if(xt.spanAllocation!==null){const ms=xt.spanAllocation;for(let Oo=0;Oo<xt.rowSpan&&!(Kn<=0||xt.row+Oo>=t.rowCount);Oo++){q=t.getRowDefinition(xt.row+Oo);const yr=q.ot||0,Ro=ms(xt,q,Yo);q.actual=Math.min(q.maximum,yr+Ro),q.ot!==yr&&(Kn-=q.ot-yr)}}for(;Kn>0;){const ms=q.ot||0;if(isNaN(q.height)&&q.maximum>ms&&(q.actual=Math.min(q.maximum,ms+Kn),q.ot!==ms&&(Kn-=q.ot-ms)),q.index===0)break;q=t.getRowDefinition(q.index-1)}}let uo=0;for(let Kn=0;Kn<xt.columnSpan&&!(xt.column+Kn>=t.columnCount);Kn++)q=t.getColumnDefinition(xt.column+Kn),uo+=q.total||0;if(uo<Us){let Kn=Us-uo;const Yo=Us-uo;if(xt.spanAllocation!==null){const ms=xt.spanAllocation;for(let Oo=0;Oo<xt.columnSpan&&!(Kn<=0||xt.column+Oo>=t.columnCount);Oo++){q=t.getColumnDefinition(xt.column+Oo);const yr=q.ot||0,Ro=ms(xt,q,Yo);q.actual=Math.min(q.maximum,yr+Ro),q.ot!==yr&&(Kn-=q.ot-yr)}}for(;Kn>0;){const ms=q.ot||0;if(isNaN(q.width)&&q.maximum>ms&&(q.actual=Math.min(q.maximum,ms+Kn),q.ot!==ms&&(Kn-=q.ot-ms)),q.index===0)break;q=t.getColumnDefinition(q.index-1)}}}o.it(S),_.s(sn),_.s(Ct),Dt!==void 0&&o.it(Dt),Bt!==void 0&&o.it(Bt);let It=0,zt=0;const xn=t.desiredSize,mn=t.maxSize;ge=t.zs(!0),we=0,Pe=0;let Ot=0,Jt=0;h=t.columnCount;for(let Rt=0;Rt<h;Rt++)if(W[Rt]!==void 0){if(q=t.getColumnDefinition(Rt),isFinite(q.width)){Ot+=q.width,Ot+=q.computeEffectiveSpacing();continue}else if(q.Kb()===2){Ot+=q.ot,Ot+=q.computeEffectiveSpacing();continue}q.ot!==0&&(we+=q.ot,we+=q.computeEffectiveSpacing())}isFinite(xn.width)?It=Math.min(xn.width,mn.width):ge!==0&&isFinite(e)?It=e:It=we,It=Math.max(It,isFinite(e)?Math.min(a,e):a),It=Math.max(It-Ot,0);const ni=we===0?1:Math.max(It/we,1);for(let Rt=0;Rt<h;Rt++)W[Rt]!==void 0&&(q=t.getColumnDefinition(Rt),!isFinite(q.width)&&q.Kb()!==2&&(q.actual=q.ot*ni),q.position=r.width,q.ot!==0&&(r.width+=q.ot,r.width+=q.computeEffectiveSpacing()));h=t.rowCount;for(let Rt=0;Rt<h;Rt++)if(U[Rt]!==void 0){if(q=t.getRowDefinition(Rt),isFinite(q.height)){Jt+=q.height,Jt+=q.computeEffectiveSpacing();continue}else if(q.Kb()===2){Jt+=q.ot,Jt+=q.computeEffectiveSpacing();continue}q.ot!==0&&(Pe+=q.ot,Pe+=q.computeEffectiveSpacing())}isFinite(xn.height)?zt=Math.min(xn.height,mn.height):ge!==0&&isFinite(n)?zt=n:zt=Pe,zt=Math.max(zt,isFinite(n)?Math.min(u,n):u),zt=Math.max(zt-Jt,0);const Pn=Pe===0?1:Math.max(zt/Pe,1);for(let Rt=0;Rt<h;Rt++)U[Rt]!==void 0&&(q=t.getRowDefinition(Rt),!isFinite(q.height)&&q.Kb()!==2&&(q.actual=q.ot*Pn),q.position=r.height,q.ot!==0&&(r.height+=q.ot,r.height+=q.computeEffectiveSpacing()));h=m.length;for(let Rt=0;Rt<h;Rt++){const xt=m[Rt];let Qt=0,Dn=0;xt.type===Ut.TableRow?(Qt=r.width,q=t.getRowDefinition(xt.row),Dn=q.actual):(q=t.getColumnDefinition(xt.column),Qt=q.actual,Dn=r.height),xt.measuredBounds.e(0,0,Qt,Dn),xt.se(!1)}o.it(m),t.gh=y}arrange(t,e,n){const s=e.length,r=t.padding,a=r.left,u=r.top,h=t.gh;if(h===null)return;let f=0,m=0;const y=h.length;let x=0;for(let Se=0;Se<y;Se++)h[Se]&&(x=Math.max(x,h[Se].length));const S=t.Ge,E=t.je;let L=0,D=0,F=Math.min(t.topIndex,y-1);if(S.length>0){for(;F!==y&&(S[F]===void 0||S[F].ot===0);)F++;F=Math.max(Math.min(F,y-1),0),L=-S[F].position}let V=Math.min(t.leftIndex,x-1);if(E.length>0){for(;V!==x&&(E[V]===void 0||E[V].ot===0);)V++;V=Math.max(Math.min(V,x-1),0),D=-E[V].position}let U=0,W=0;for(;U!==y&&S[U]===void 0;)U++;for(;W!==y&&E[W]===void 0;)W++;const q=t.part;let le=t.getRowDefinition(U),oe=t.getColumnDefinition(W);for(let Se=0;Se<e.length;Se++){const he=e[Se];if(!(he instanceof Ut&&he.visible&&he.il()))continue;he.type===Ut.TableRow?(le=t.getRowDefinition(he.row),oe=t.getColumnDefinition(W)):(le=t.getRowDefinition(U),oe=t.getColumnDefinition(he.column)),m=le.position+L+u,le.ot!==0&&(m+=le.computeEffectiveSpacingTop(Math.max(U,F))),f=oe.position+D+a,oe.ot!==0&&(f+=oe.computeEffectiveSpacingTop(Math.max(W,V)));const ge=he.measuredBounds;he.td(),he.actualBounds.lt();const ke=he.actualBounds,we=I.X(ke.x,ke.y,ke.width,ke.height);if(ke.x=he.type===Ut.TableRow?a:f,ke.y=he.type===Ut.TableColumn?u:m,ke.width=ge.width,ke.height=ge.height,he.actualBounds.g(),he._n(!1),we.equalsApproxClose(ke)){I.s(we);continue}q!==null&&(q.ch(),he.x0(q)),I.s(we)}const ce=_.l();for(let Se=0;Se<y;Se++){if(!h[Se])continue;x=h[Se].length;const he=t.getRowDefinition(Se);m=he.position+L+u,he.ot!==0&&(m+=he.computeEffectiveSpacingTop(Math.max(U,F)));for(let ge=0;ge<x;ge++){if(!h[Se][ge])continue;const ke=t.getColumnDefinition(ge);f=ke.position+D+a,ke.ot!==0&&(f+=ke.computeEffectiveSpacingTop(Math.max(W,V)));const we=h[Se][ge],Pe=we.length;for(let Re=0;Re<Pe;Re++){const Xe=we[Re],at=Xe.measuredBounds;ce.e(0,0);for(let Bi=1;Bi<Xe.rowSpan&&!(Se+Bi>=t.rowCount);Bi++){const Ui=t.getRowDefinition(Se+Bi);Ui.ot!==0&&(ce.height+=Ui.total)}for(let Bi=1;Bi<Xe.columnSpan&&!(ge+Bi>=t.columnCount);Bi++){const Ui=t.getColumnDefinition(ge+Bi);Ui.ot!==0&&(ce.width+=Ui.total)}const je=ke.ot+ce.width,ft=he.ot+ce.height;let Ct=f,sn=m;const Dt=je,Bt=ft,It=f,zt=m;let xn=je,mn=ft;f+je>n.width&&(xn=Math.max(n.width-f,0)),m+ft>n.height&&(mn=Math.max(n.height-m,0));let Ot=Xe.alignment,Jt=0,ni=0,Pn=0,Rt=0;if(Ot.isDefault()){Ot=t.defaultAlignment,Ot.isSpot()||(Ot=B.Center),Jt=Ot.x,ni=Ot.y,Pn=Ot.offsetX,Rt=Ot.offsetY;const Bi=ke.alignment,Ui=he.alignment;Bi.isSpot()&&(Jt=Bi.x,Pn=Bi.offsetX),Ui.isSpot()&&(ni=Ui.y,Rt=Ui.offsetY)}else Jt=Ot.x,ni=Ot.y,Pn=Ot.offsetX,Rt=Ot.offsetY;(isNaN(Jt)||isNaN(ni))&&(Jt=.5,ni=.5,Pn=0,Rt=0);let xt=at.width,Qt=at.height;const Dn=Xe.margin,di=Dn.left+Dn.right,Mi=Dn.top+Dn.bottom,Ei=Xe.M0(he,ke,!1);isNaN(Xe.desiredSize.width)&&(Ei===2||Ei===5)&&(xt=Math.max(je-di,0)),isNaN(Xe.desiredSize.height)&&(Ei===2||Ei===4)&&(Qt=Math.max(ft-Mi,0));const Oi=Xe.maxSize,Do=Xe.minSize;xt=Math.min(Oi.width,xt),Qt=Math.min(Oi.height,Qt),xt=Math.max(Do.width,xt),Qt=Math.max(Do.height,Qt);const Is=xt+di,Us=Qt+Mi;Ct+=Dt*Jt-Is*Jt+Pn+Dn.left,sn+=Bt*ni-Us*ni+Rt+Dn.top,Xe.visible&&(I.contains(It,zt,xn,mn,Ct,sn,at.width,at.height)?Xe.zt(Ct,sn,xt,Qt):Xe.zt(Ct,sn,xt,Qt,new I(It,zt,xn,mn)))}}}_.s(ce);for(let Se=0;Se<s;Se++){const he=e[Se],ge=he instanceof Ut?he:null;if(ge!==null&&ge.il()){const ke=he.actualBounds;he.naturalBounds.lt(),he.naturalBounds.e(0,0,ke.width,ke.height),he.naturalBounds.g()}}}}on.definePanelLayout("Table",new Ds);class Hr extends on{constructor(){super()}measure(t,e,n,s,r,a,u){}arrange(t,e,n){}}on.definePanelLayout("TableRow",new Hr);class bt extends on{constructor(){super()}measure(t,e,n,s,r,a,u){}arrange(t,e,n){}}on.definePanelLayout("TableColumn",new bt);class an extends on{constructor(){super()}measure(t,e,n,s,r,a,u){s.length>1&&o.o("Viewbox Panel cannot contain more than one GraphObject.");const h=s[0];h.K=1,h.Qc(),h.ut(1/0,1/0,a,u);let f=h.measuredBounds;const m=h.margin,y=m.right+m.left,x=m.top+m.bottom;if(isFinite(e)||isFinite(n)){const S=h.scale,E=f.width,L=f.height,D=Math.max(e-y,0),F=Math.max(n-x,0);let V=1;t.viewboxStretch===6?(E!==0&&L!==0&&(V=Math.min(D/E,F/L)),V===0&&(V=1e-4),h.K*=V):(E!==0&&L!==0&&(V=Math.max(D/E,F/L)),V===0&&(V=1e-4),h.K*=V),S!==h.scale&&(h.se(!0),h.ut(1/0,1/0,a,u))}f=h.measuredBounds,r.width=isFinite(e)?e:Math.max(f.width+y,0),r.height=isFinite(n)?n:Math.max(f.height+x,0)}arrange(t,e,n){const s=e[0],r=s.measuredBounds,a=s.margin,u=a.right+a.left,h=a.top+a.bottom,f=Math.max(r.width+u,0),m=Math.max(r.height+h,0);let y=s.alignment;y.isDefault()&&(y=t.defaultAlignment),y.isSpot()||(y=B.Center),s.zt(n.width*y.x-f*y.x+y.offsetX,n.height*y.y-m*y.y+y.offsetY,r.width,r.height)}}on.definePanelLayout("Viewbox",new an);class On extends on{constructor(){super()}measure(t,e,n,s,r,a,u){t.bi===null&&(t.bi=new vl),this.WR(t),this.JR(t)}arrange(t,e,n){}Gi(t,e,n){const s=t.naturalBounds,r=s.width,a=s.height;e.save(),e.beginPath(),e.rect(0,0,r,a),e.clip(),e.endPath(),this.$R(t,e,n),e.restore(),e.clearContextCache(!1)}$R(t,e,n){let s=t.getDocumentScale()*n.scale;s<=0&&(s=1);const r=t.gridCellSize,a=r.width,u=r.height,h=t.naturalBounds,f=t.actualBounds,m=h.width,y=h.height,x=Math.ceil(m/a),S=Math.ceil(y/u),E=t.gridOrigin,L=E.x,D=E.y,F=t.bi.$0,V=t.T.r,U=V.length;for(let W=0;W<U;W++){const q=V[W];if(!q.visible)continue;const le=q.interval||1,oe=Math.abs(le);if(a*oe*s<2)continue;let ce=q.segmentIndex;(!isFinite(ce)||isNaN(ce))&&(ce=0),ce<0&&(ce=oe-Math.min(-ce,oe)),ce=Math.round(ce%oe);const Se=q.opacity;let he=1;if(Se!==1){if(Se===0)continue;he=e.globalAlpha,e.globalAlpha=he*Se}const ge=F[W];let ke=!1;const we=q.strokeDashArray;if(we!==null&&(ke=!0,e.enableDash(we,q.strokeDashOffset)),q.stroke!==null&&q.strokeWidth>0&&(q.figure==="LineV"||q.figure==="LineH")){if(e.lineWidth=q.strokeWidth,t.gn(e,q.stroke,!1,!1,h,f),e.beginPath(),q.figure==="LineV"){const Pe=Math.floor((L-a)/a);for(let Re=Pe;Re<=Pe+x;Re++){const Xe=Re*a+L;0<=Xe&&Xe<=m&&this.Yb(Re,le,ce,ge)&&(e.moveTo(Xe,0),e.lineTo(Xe,y))}}else if(q.figure==="LineH"){const Pe=Math.floor((D-u)/u);for(let Re=Pe;Re<=Pe+S;Re++){const Xe=Re*u+D;0<=Xe&&Xe<=y&&this.Yb(Re,le,ce,ge)&&(e.moveTo(0,Xe),e.lineTo(m,Xe))}}e.stroke(),e.endPath()}else if(q.fill!==null){if(t.gn(e,q.fill,!0,!1,h,f),q.figure==="BarV"){let Pe=q.width;isNaN(Pe)&&(Pe=a);const Re=Math.floor((L-a)/a);for(let Xe=Re;Xe<=Re+x;Xe++){const at=Xe*a+L;0<=at+Pe&&at<=m&&this.Yb(Xe,le,ce,ge)&&e.fillRect(at,0,Pe,y)}}else if(q.figure==="BarH"){let Pe=q.height;isNaN(Pe)&&(Pe=u);const Re=Math.floor((D-u)/u);for(let Xe=Re;Xe<=Re+S;Xe++){const at=Xe*u+D;0<=at+Pe&&at<=y&&this.Yb(Xe,le,ce,ge)&&e.fillRect(0,at,m,Pe)}}}ke&&e.disableDash(),Se!==1&&(e.globalAlpha=he)}}Yb(t,e,n,s){if(e<0)return t%e===n;if(t%e!==n)return!1;const r=s.length;for(let a=0;a<r;a++){const u=s[a];if(t%u===n)return!1}return!0}JR(t){const e=[],n=t.T.r,s=n.length;for(let r=0;r<s;r++){const a=n[r],u=[];if(e.push(u),!a.visible)continue;const h=a.interval;if(h<0)continue;const f=a.figure,m=this.S2(f);for(let y=0;y<s;y++){if(y===r)continue;const x=n[y];if(!x.visible)continue;const S=x.figure;if(this.S2(S)!==m)continue;const E=x.interval;E>h&&u.push(E)}}t.bi.$0=e}S2(t){return t==="LineV"||t==="BarV"}WR(t){let e=1,n=1;const s=t.T.r,r=s.length;for(let h=0;h<r;h++){const f=s[h],m=Math.abs(f.interval);m<2||(this.S2(f.figure)?n=n*m/$.cC(n,m):e=e*m/$.cC(e,m))}const a=t.gridCellSize,u=t.bi;u.zc.isReal()?u.zc.e(n*a.width,e*a.height):u.zc=new _(n*a.width,e*a.height)}}on.definePanelLayout("Grid",new On);class qn extends on{constructor(){super()}measure(t,e,n,s,r,a,u){const h=s.length;if(!(t instanceof Cn||t instanceof Zt))return;let f=null,m=null;if(t instanceof Zt&&(f=t),t instanceof Cn&&(m=t,f=m.adornedPart,t.rf===null&&(t.rf=[])),!(f instanceof Zt))return;const y=f;if(h===0){t.naturalBounds.Mo(0,0),t.measuredBounds.e(0,0,0,0);return}const x=t instanceof Cn?null:f.path,S=f.routeBounds,E=t.Go;E.e(0,0,S.width,S.height);const L=y.points,D=f.pointsCount;m!==null?m.ad(!1):f!==null&&f.ad(!1);const F=S.width,V=S.height,U=t.rf;if(U.length=0,x!==null){this.measureLinkPath(t,F,V,x);const oe=x.measuredBounds;E.unionRect(oe),U.push(oe)}const W=G.l(),q=T.l(),le=T.l();for(let oe=0;oe<h;oe++){const ce=s[oe];if(ce===x)continue;let Se=ce.measuredBounds;if(ce.isPanelMain&&ce instanceof cn){this.measureLinkPath(t,F,V,ce),Se=ce.measuredBounds,E.unionRect(Se),U.push(Se);continue}if(D<2){ce.ut(1/0,1/0,0,0),Se=ce.measuredBounds,E.unionRect(Se),U.push(Se);continue}const he=ce.segmentIndex,ge=ce.segmentFraction;let ke=ce.alignmentFocus;ke.isNoSpot()&&(ke=B.Center);const we=ce.segmentOrientation,Pe=ce.segmentOffset;let Re=0,Xe=0,at=0,je=0;if(isNaN(he)){const Ot=y.ft,Jt=o.rt();Ot.getPointAndAngleAlongPath(ge,Jt);const ni=T.X(Jt[0],Jt[1]);je=Jt[2],we!==0&&(at=y.computeAngle(ce,we,je),ce.Xt=at,ce.se(!0),ce._n(!0)),Re=ni.x,Xe=ni.y,T.s(ni),o.it(Jt)}else if(he<-D||he>=D){const Ot=T.l();y.cA(Ot),je=y.midAngle,we!==0&&(at=y.computeAngle(ce,we,je),ce.Xt=at,ce.se(!0),ce._n(!0)),Re=Ot.x-S.x,Xe=Ot.y-S.y,T.s(Ot)}else{let Ot,Jt,ni=0;if(he>=0?(Ot=L.elt(he),Jt=he<D-1?L.elt(he+1):Ot):(ni=D+he,Ot=L.elt(ni),Jt=ni>0?L.elt(ni-1):Ot),je=0,Ot.equalsApprox(Jt)){let Pn,Rt;he>=0?(Pn=he>0?L.elt(he-1):Ot,Rt=he<D-2?L.elt(he+2):Jt):(Pn=ni<D-1?L.elt(ni+1):Ot,Rt=ni>1?L.elt(ni-2):Jt);const xt=Pn.distanceSquaredPoint(Ot),Qt=Jt.distanceSquaredPoint(Rt);xt>Qt+10?je=he>=0?Pn.directionPoint(Ot):Ot.directionPoint(Pn):Qt>xt+10?je=he>=0?Jt.directionPoint(Rt):Rt.directionPoint(Jt):je=he>=0?Pn.directionPoint(Rt):Rt.directionPoint(Pn)}else je=he>=0?Ot.directionPoint(Jt):Jt.directionPoint(Ot);we!==0&&(at=y.computeAngle(ce,we,je),ce.Xt=at,ce.se(!0),ce._n(!0)),Re=Ot.x+(Jt.x-Ot.x)*ge-S.x,Xe=Ot.y+(Jt.y-Ot.y)*ge-S.y}ce.ut(1/0,1/0,0,0),Se=ce.measuredBounds;const ft=ce.naturalBounds;let Ct=0;ce instanceof cn&&(Ct=ce.strokeWidth);const sn=ft.width+Ct,Dt=ft.height+Ct;W.Jt(),W.Zi(-Se.x,-Se.y),W.K(ce.scale,ce.scale),W.fs(we===0?ce.angle:je,sn/2,Dt/2),(we===22||we===26)&&W.fs(90,sn/2,Dt/2),(we===23||we===27)&&W.fs(-90,sn/2,Dt/2),we===28&&(je>45&&je<135||je>225&&je<315)&&W.fs(-je,sn/2,Dt/2);const Bt=new I(0,0,sn,Dt);q.setRectSpot(Bt,ke),W.xt(q);const It=-q.x+Ct/2*ce.scale,zt=-q.y+Ct/2*ce.scale;le.a(Pe);const xn=isNaN(Pe.x),mn=isNaN(Pe.y);if(xn||mn){const Ot=sn/2+3,Jt=Dt/2+3,ni=je>=45&&je<=135,Pn=je>=225&&je<=315;we===0&&(ni||Pn)?(le.x=mn?Ot:Pe.y,le.y=xn?Jt:Pe.x,ni?he>=0||isNaN(he)&&ge<.5||xn&&(le.y=-Jt):Pn&&((he>=0||isNaN(he)&&ge<.5)&&xn&&(le.y=-Jt),mn&&(le.x=-Ot))):(xn&&(he>=0||isNaN(he)&&ge<.5?le.x=Ot:le.x=-Ot),mn&&(le.y=-Jt),le.rotate(je))}else le.rotate(je);Re+=le.x,Xe+=le.y,Bt.e(Re+It,Xe+zt,Se.width,Se.height),U.push(Bt),E.unionRect(Bt)}if(f!==null){const oe=f.labelNodes;for(;oe.next();)oe.value.ut(1/0,1/0)}t.Go=E,t.position.e(S.x+E.x,S.y+E.y),r.Mo(E.width||0,E.height||0),G.s(W),T.s(q),T.s(le)}arrange(t,e,n){const s=e.length;if(!(t instanceof Cn||t instanceof Zt))return;let r=t,a=null;t instanceof Cn&&(a=t,r=a.adornedPart);const u=t,h=t instanceof Cn?null:r.path,f=t.rf;if(f.length!==0){let S=0;if(h!==null&&S<f.length){const E=f[S];S++,h.zt(E.x-u.Go.x,E.y-u.Go.y,E.width,E.height)}for(let E=0;E<s;E++){const L=e[E];if(L!==h&&S<f.length){const D=f[S];S++,L.zt(D.x-u.Go.x,D.y-u.Go.y,D.width,D.height)}}}const m=r.points,y=m.count;if(y>=2&&u instanceof Zt){const S=u.labelNodes;for(;S.next();){const E=S.value;u.ZR(E,y,m)}}a!==null?a.ad(!1):r.ad(!1);const x=t.fA(T.l());t.location.e(t.position.x+x.x,t.position.y+x.y),T.s(x)}measureLinkPath(t,e,n,s){if(s.Io()===!1)return;let r=s.strokeWidth;if(r===0&&t instanceof Cn&&t.type===Ut.Link&&t.adornedObject instanceof cn&&(r=t.adornedObject.strokeWidth),r=r*s.K,t instanceof Zt&&t.ft!==null){const a=t.geometry.bounds;s.Qn(a.x-r/2,a.y-r/2,a.width+r,a.height+r)}else if(t instanceof Cn&&t.adornedPart.ft!==null){const a=t.adornedPart.ft.bounds;s.Qn(a.x-r/2,a.y-r/2,a.width+r,a.height+r)}else s.Qn(-(r/2),-(r/2),e+r,n+r);s.QR(),s.se(!1)}}on.definePanelLayout("Link",new qn);class Os extends on{constructor(){super()}measure(t,e,n,s,r,a,u){const h=t.findMainElement();t.He=[];const f=h.margin,m=f.right+f.left,y=f.top+f.bottom;h.ut(e,n,a,u);const x=h.measuredBounds,S=x.width,E=x.height,L=Math.max(S+m,0),D=Math.max(E+y,0),F=new I(-f.left,-f.top,L,D);t.He.push(F),r.a(F),this.determineGraduatedMarks(t,h);const V=t.bs;if(V===null)return;const U=s.length;for(let W=0;W<U;W++){const q=s[W],le=V[W];!q.visible||q===h||le.length===0||(q instanceof cn?this.measureGraduatedTicks(t,q,le,r):q instanceof yi&&this.measureGraduatedLabels(t,q,le,r),q.se(!1))}}arrange(t,e,n){if(t.He===null)return;const s=t.findMainElement(),r=t.bs;if(r===null)return;const a=t.He;let u=0,h=a[u];u++,s!==null&&s.zt(h.x-n.x,h.y-n.y,h.width,h.height);const f=e.length;for(let m=0;m<f;m++){const y=e[m],x=r[m];!y.visible||y===s||x.length===0||(h=a[u],u++,y.zt(h.x-n.x,h.y-n.y,h.width,h.height))}t.He=null}measureGraduatedTicks(t,e,n,s){let r=e.alignmentFocus;r.isNoSpot()&&(r=B.TopCenter);const a=e.angle;e.Xt=0,e.ut(1/0,1/0,0,0),e.Xt=a;const u=e.measuredBounds,h=u.width,f=u.height,m=I.X(0,0,h,f),y=T.l();y.setRectSpot(m,r),I.s(m);const x=-y.x,S=-y.y,E=new I,L=n.length;for(let D=0;D<L;D++){const F=n[D],V=F.pt.x,U=F.pt.y,W=F.angle;for(let q=0;q<4;q++){switch(q){case 0:y.e(x,S);break;case 1:y.e(x+h,S);break;case 2:y.e(x,S+f);break;case 3:y.e(x+h,S+f);break}y.rotate(W+e.angle),y.offset(V,U),D===0&&q===0?E.e(y.x,y.y,0,0):E.unionPoint(y),y.offset(-V,-U),y.rotate(-W-e.angle)}}T.s(y),t.He!==null&&t.He.push(E),s.unionNoCheck(E.x,E.y,E.width,E.height)}measureGraduatedLabels(t,e,n,s){t.Ne===null&&(t.Ne=new yi);const r=t.Ne;this.uA(e,r);let a=e.alignmentFocus;a.isNoSpot()&&(a=B.TopCenter);const u=e.segmentOrientation,h=e.segmentOffset,f=new I;let m=0,y=0,x=0,S=0,E=0;const L=n.length;for(let D=0;D<L;D++){const F=n[D];m=F.pt.x,y=F.pt.y,x=F.angle,S=e.angle,E=e.angle,u!==0&&(u===21||u===25?E=x+e.angle:E=x,S=Zt.computeAngle(u,E)),r.Xt=S,r.text=F.text||"",r.ut(1/0,1/0,0,0);const V=r.measuredBounds,U=r.naturalBounds,W=U.width,q=U.height,le=G.l();le.Jt(),le.Zi(-V.x,-V.y),le.K(r.scale,r.scale),le.fs(E,W/2,q/2),(u===22||u===26)&&le.fs(90,W/2,q/2),(u===23||u===27)&&le.fs(-90,W/2,q/2),u===28&&(x>45&&x<135||x>225&&x<315)&&le.fs(-x,W/2,q/2);const oe=I.X(0,0,W,q),ce=T.l();ce.setRectSpot(oe,a),le.xt(ce);const Se=-ce.x,he=-ce.y,ge=T.l();ge.a(h),isNaN(ge.x)&&(ge.x=W/2+3),isNaN(ge.y)&&(ge.y=-(q/2+3)),ge.rotate(x),m+=ge.x+Se,y+=ge.y+he;const ke=new I(m,y,V.width,V.height),we=new I(V.x,V.y,V.width,V.height),Pe=new I(U.x,U.y,U.width,U.height);F.labelAngle=S,F.lineCount=r.lineCount,F.lines=r.getMetrics(),F.actualBounds=ke,F.measuredBounds=we,F.naturalBounds=Pe,D===0?f.a(ke):f.unionRect(ke),T.s(ge),T.s(ce),I.s(oe),G.s(le)}t.He!==null&&t.He.push(f),s.unionNoCheck(f.x,f.y,f.width,f.height)}determineGraduatedMarks(t,e){const n=e.geometry,s=e.strokeWidth,r=n.flattenedSegments,a=n.flattenedLengths,u=n.flattenedTotalLength,h=r.length;let f=0,m=0;const y=o.rt();for(let U=0;U<h;U++){const W=r[U],q=[];f=0,m=0;const le=W.length;for(let oe=0;oe<le;oe+=2){const ce=W[oe],Se=W[oe+1];if(oe===0){f=ce,m=Se;continue}let he=Math.atan2(Se-m,ce-f)*180/Math.PI;he<0&&(he+=360),q.push(he),f=ce,m=Se}y.push(q)}const x=this._R(t),S=t.T.r,E=S.length;let L=0,D=0,F=u;t.bs=[];let V;for(let U=0;U<E;U++){const W=S[U];if(V=[],!W.visible||W===e){t.bs.push(V);continue}const q=Math.abs(W.interval),le=t.graduatedTickUnit;if(le*q*u/t.graduatedRange<2&&W.graduatedSkip===null){t.bs.push(V);continue}let oe=a[0][0],ce=0,Se=0;D=u*W.graduatedStart-1e-4,F=u*W.graduatedEnd+1e-4;const he=le*q;let ge=t.graduatedTickBase;if(ge<t.graduatedMin){let Re=(t.graduatedMin-ge)/he;Re=Re%1===0?Re:Math.floor(Re+1),ge+=Re*he}else if(ge>t.graduatedMin+he){const Re=Math.floor((ge-t.graduatedMin)/he);ge-=Re*he}const ke=x[U],we=ge,Pe=t.graduatedMax*1e-6;for(let Re=1;ge<=t.graduatedMax+Pe;Re++){if(this.tv(t,ge-t.graduatedTickBase,ke)&&(ge>t.graduatedMax&&(ge=t.graduatedMax),(W.graduatedSkip===null||W instanceof yi&&!W.graduatedSkip(ge,W)||W instanceof cn&&!W.graduatedSkip(ge,W))&&(L=(ge-t.graduatedMin)*u/t.graduatedRange,L>u&&(L=u),D<=L&&L<=F))){let Xe=y[ce][Se],at=a[ce][Se];for(;ce<a.length;){for(;L>oe&&Se<a[ce].length-1;)Se++,Xe=y[ce][Se],at=a[ce][Se],oe+=at;if(L<=oe)break;ce++,Se=0,Xe=y[ce][Se],at=a[ce][Se],oe+=at}const je=r[ce],ft=je[Se*2],Ct=je[Se*2+1],sn=je[Se*2+2],Dt=je[Se*2+3],Bt=(L-(oe-at))/at,It=new T(ft+(sn-ft)*Bt+s/2-n.bounds.x,Ct+(Dt-Ct)*Bt+s/2-n.bounds.y);if(It.scale(e.scale,e.scale),Xe=this.iv(Xe,Bt,je,y[ce],Se),W instanceof yi){let zt="";W.graduatedFunction!==null?(zt=W.graduatedFunction(ge,W),zt=zt!=null?zt.toString():""):zt=(+ge.toFixed(2)).toString(),zt!==""&&V.push({pt:It,angle:Xe,text:zt})}else V.push({pt:It,angle:Xe})}ge=we+Re*he}t.bs.push(V)}o.it(y)}iv(t,e,n,s,r){if(e<.5005&&e>.4995)return t;let a=t;if(e<.5?r>0?a=s[r-1]:$.Y(n[0],n[n.length-2])&&$.Y(n[1],n[n.length-1])&&(a=s[s.length-1]):e>.5&&(r+1<s.length?a=s[r+1]:$.Y(n[0],n[n.length-2])&&$.Y(n[1],n[n.length-1])&&(a=s[0])),t!==a){let u=Math.abs(t-a);if(u>180&&(t<a?t+=360:a+=360,u=Math.abs(t-a)),e<5e-4||e>.9995)return(t+a)/2%360;if(u<10){const h=1-Math.abs(.5-e);return(t*h+a*(1-h))%360}}return t}_R(t){if(t.os===null){const e=[],n=t.T.r,s=n.length;for(let r=0;r<s;r++){const a=n[r],u=[];if(e.push(u),!a.visible)continue;const h=a.interval;if(!(h<0))for(let f=0;f<s;f++){if(f===r)continue;const m=n[f];if(!m.visible||a.constructor!==m.constructor)continue;const y=m.interval;y>h&&u.push(y)}}t.os=e}return t.os}tv(t,e,n){const s=n.length;for(let r=0;r<s;r++){const a=n[r]*t.graduatedTickUnit,u=e%a,h=t.graduatedTickUnit*1e-6;if(u<h&&u>-h)return!1}return!0}Gi(t,e,n){const s=n.Qh;n.Qh=!0;const r=t.naturalBounds,a=r.width,u=r.height,h=e instanceof Gi;e.save(),e.beginPath(),e.rect(-1,-1,a+1,u+1),e.clip(),e.endPath();const f=t.findMainElement();f.Gi(e,n);let m=t.getDocumentScale()*n.scale;m<=0&&(m=1);const y=f.actualBounds,x=t.T.r,S=t.bs,E=x.length;for(let L=0;L<E;L++){const D=x[L],F=S[L],V=F.length;if(!(!D.visible||D===f||F.length===0)){if(D instanceof cn){if(t.graduatedTickUnit*D.interval*f.geometry.flattenedTotalLength/t.graduatedRange*m<2&&D.graduatedSkip===null)continue;const U=D.measuredBounds,W=D.strokeWidth*D.scale;let q=D.alignmentFocus;q.isNoSpot()&&(q=B.TopCenter);for(let le=0;le<V;le++){const oe=F[le].pt,ce=F[le].angle;this.ev(D,oe,y,ce,U,W,q),D.Gi(e,n),h&&(t.svg.appendChild(D.svg),D.svg=null),D.Qr.Jt()}}else if(D instanceof yi){t.Ne===null&&(t.Ne=new yi);const U=t.Ne;this.uA(D,U);for(let W=0;W<V;W++){const q=F[W];if(q.actualBounds&&q.measuredBounds&&q.naturalBounds){U.sv(q);const le=q.actualBounds;U.zt(le.x,le.y,le.width,le.height),this.nv(U,y,le,q.measuredBounds,q.naturalBounds),U.tl=D.part,U.Bs=D.panel,U.Gi(e,n),U.Bs=null,U.tl=null,h&&(t.svg.appendChild(U.svg),U.svg=null)}}}}}n.Qh=s,e.restore(),e.clearContextCache(!0)}ev(t,e,n,s,r,a,u){const h=t.Qr;h.Jt(),h.Zi(e.x+n.x,e.y+n.y),h.fs(s+t.angle,0,0),h.Zi(-r.width*u.x+u.offsetX+a/2,-r.height*u.y+u.offsetY+a/2),h.K(t.scale,t.scale),t.nd(!1),t.rh.set(t.Qr),t.jc=t.scale,t.ya(!1)}nv(t,e,n,s,r){const a=t.Qr;a.Jt(),a.Zi(n.x+e.x,n.y+e.y),a.Zi(-s.x,-s.y),t.p0(a,r.x,r.y,r.width,r.height),t.nd(!1),t.rh.set(t.Qr),t.jc=t.scale,t.ya(!1)}uA(t,e){e.ov(t)}}on.definePanelLayout("Graduated",new Os);var so=(H=>(H[H.Uniform=6]="Uniform",H[H.UniformToFill=7]="UniformToFill",H))(so||{});const qt=class qt extends ai{constructor(e,n){super();k(this,"_");k(this,"T");k(this,"Zt");k(this,"cd");k(this,"Kn");k(this,"nl");k(this,"so");k(this,"Go");k(this,"N2");k(this,"O");k(this,"fd");k(this,"at");k(this,"bi");k(this,"Qt");k(this,"ud");k(this,"mh");k(this,"Ys");if(this._=null,e===void 0)this._=qt.Position;else if(typeof e=="string"){const s=on.Layouts.getValue(e);s!==null&&(this._=s)}else e instanceof on?this._=e:e&&(this._=qt.Position,n=e);this._===null&&o.o("Panel type not specified or PanelLayout not loaded: "+e),this.n|=4194304|(this._===qt.Grid?1048576:0),this.T=new w,this.Zt=K.Vg,this.cd=B.Default,this.Kn=1,this.nl=null,this.so="",this.Go=new I(NaN,NaN,NaN,NaN),this.N2=null,this.O=null,this.fd=6,this.bi=null,this.at=null,this.Qt=null,this.ud=NaN,this.mh=null,this.Ys=null,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e._=this._,e.Zt=this.Zt.N(),e.cd=this.cd.N(),e.Kn=this.Kn,e.so=this.so,e.Go.a(this.Go),this.O!==null&&(e.O=this.O.copy(e)),e.fd=this.fd,this.at!==null&&(e.at=this.at.copy()),this.bi!==null&&(e.bi=this.bi.copy()),e.Qt=this.Qt,e.ud=this.ud,e.mh=this.mh}zo(e){super.zo(e),e.T=this.T;const n=e.T.r,s=n.length;for(let r=0;r<s;r++){const a=n[r];a.Bs=e}e.nl=null}copy(){const e=super.copy();if(e!==null){const n=this.T.r,s=n.length;for(let r=0;r<s;r++){const a=n[r].copy();e.rv(a)}return e}else return null}toString(){return"Panel("+this.type.name+")#"+C.cs(this)}get type(){return this._}set type(e){const n=this._;n!==e&&(this._=e,this.lf=this._===qt.Grid,this.c(),this.t("type",n,e))}get elements(){return this.T.iterator}get naturalBounds(){return this.Bi}get padding(){return this.Zt}set padding(e){typeof e=="number"?(e<0&&o.tt(e,">= 0",qt,"padding"),e=new K(e)):(e.left<0&&o.tt(e.left,">= 0",qt,"padding:value.left"),e.right<0&&o.tt(e.right,">= 0",qt,"padding:value.right"),e.top<0&&o.tt(e.top,">= 0",qt,"padding:value.top"),e.bottom<0&&o.tt(e.bottom,">= 0",qt,"padding:value.bottom"));const n=this.Zt;n.equals(e)||(e=e.N(),this.Zt=e,this.c(),this.t("padding",n,e))}get defaultAlignment(){return this.cd}set defaultAlignment(e){const n=this.cd;n.equals(e)||(e=e.N(),this.cd=e,this.c(),this.t("defaultAlignment",n,e))}get defaultStretch(){return this.Kn}set defaultStretch(e){const n=this.Kn;n!==e&&(this.Kn=e,this.c(),this.t("defaultStretch",n,e))}get defaultSeparatorPadding(){return this.O!==null?this.O.Z0:K.Vg}set defaultSeparatorPadding(e){typeof e=="number"&&(e=new K(e));const n=this.defaultSeparatorPadding;n.equals(e)||(e=e.N(),this.O===null&&(this.O=new fs),this.O.Z0=e,this.c(),this.t("defaultSeparatorPadding",n,e))}get defaultRowSeparatorStroke(){return this.O!==null?this.O.Q0:null}set defaultRowSeparatorStroke(e){const n=this.defaultRowSeparatorStroke;n!==e&&(e===null||typeof e=="string"||e instanceof Pt)&&(e instanceof Pt&&e.g(),this.O===null&&(this.O=new fs),this.O.Q0=e,this.C(),this.t("defaultRowSeparatorStroke",n,e))}get defaultRowSeparatorStrokeWidth(){return this.O!==null?this.O._0:1}set defaultRowSeparatorStrokeWidth(e){const n=this.defaultRowSeparatorStrokeWidth;n!==e&&isFinite(e)&&e>=0&&(this.O===null&&(this.O=new fs),this.O._0=e,this.c(),this.t("defaultRowSeparatorStrokeWidth",n,e))}get defaultRowSeparatorDashArray(){return this.O!==null?this.O.tp:null}set defaultRowSeparatorDashArray(e){const n=this.defaultRowSeparatorDashArray;if(n!==e){if(e!==null&&!Array.isArray(e)&&o.be(e,"Array",qt,"defaultRowSeparatorDashArray:value"),e!==null){const s=e.length;let r=0;for(let a=0;a<s;a++){const u=e[a];(typeof u!="number"||!(u>=0)||!isFinite(u))&&o.o("defaultRowSeparatorDashArray value "+u+" at index "+a+" must be a positive number or zero."),r+=u}if(r===0){if(n===null)return;e=null}}this.O===null&&(this.O=new fs),this.O.tp=e,this.C(),this.t("defaultRowSeparatorDashArray",n,e)}}get defaultColumnSeparatorStroke(){return this.O!==null?this.O.ip:null}set defaultColumnSeparatorStroke(e){const n=this.defaultColumnSeparatorStroke;n!==e&&(e===null||typeof e=="string"||e instanceof Pt)&&(e instanceof Pt&&e.g(),this.O===null&&(this.O=new fs),this.O.ip=e,this.C(),this.t("defaultColumnSeparatorStroke",n,e))}get defaultColumnSeparatorStrokeWidth(){return this.O!==null?this.O.ep:1}set defaultColumnSeparatorStrokeWidth(e){const n=this.defaultColumnSeparatorStrokeWidth;n!==e&&isFinite(e)&&e>=0&&(this.O===null&&(this.O=new fs),this.O.ep=e,this.c(),this.t("defaultColumnSeparatorStrokeWidth",n,e))}get defaultColumnSeparatorDashArray(){return this.O!==null?this.O.sp:null}set defaultColumnSeparatorDashArray(e){const n=this.defaultColumnSeparatorDashArray;if(n!==e){if(e!==null&&!Array.isArray(e)&&o.be(e,"Array",qt,"defaultColumnSeparatorDashArray:value"),e!==null){const s=e.length;let r=0;for(let a=0;a<s;a++){const u=e[a];(typeof u!="number"||!(u>=0)||!isFinite(u))&&o.o("defaultColumnSeparatorDashArray value "+u+" at index "+a+" must be a positive number or zero."),r+=u}if(r===0){if(n===null)return;e=null}}this.O===null&&(this.O=new fs),this.O.sp=e,this.C(),this.t("defaultColumnSeparatorDashArray",n,e)}}get gh(){return this.O!==null?this.O.gh:null}set gh(e){this.O===null&&(this.O=new fs),this.O.gh=e}get viewboxStretch(){return this.fd}set viewboxStretch(e){const n=this.fd;n!==e&&(this.fd=e,this.c(),this.t("viewboxStretch",n,e))}get gridCellSize(){return this.bi!==null?this.bi.dd:_.ZN}set gridCellSize(e){this.bi===null&&(this.bi=new vl);const n=this.bi.dd;if(!n.equals(e)){(!e.isReal()||e.width===0||e.height===0)&&o.o("Invalid Panel.gridCellSize: "+e),this.bi.dd=e.N();const s=this.diagram;s!==null&&this===s.grid&&s.qr(),this.C(),this.t("gridCellSize",n,e)}}get gridOrigin(){return this.bi!==null?this.bi.gd:T.Po}set gridOrigin(e){this.bi===null&&(this.bi=new vl);const n=this.bi.gd;if(!n.equals(e)){e.isReal()||o.o("Invalid Panel.gridOrigin: "+e),this.bi.gd=e.N();const s=this.diagram;s!==null&&this===s.grid&&s.qr(),this.C(),this.t("gridOrigin",n,e)}}get graduatedMin(){return this.at!==null?this.at.np:0}set graduatedMin(e){const n=this.graduatedMin;if(n!==e&&(this.at===null&&(this.at=new Uo),this.at.np=e,this.c(),this.t("graduatedMin",n,e),this.Wc())){const s=this.part;s!==null&&this.pa(s,"graduatedRange")}}get graduatedMax(){return this.at!==null?this.at.op:100}set graduatedMax(e){const n=this.graduatedMax;if(n!==e&&(this.at===null&&(this.at=new Uo),this.at.op=e,this.c(),this.t("graduatedMax",n,e),this.Wc())){const s=this.part;s!==null&&this.pa(s,"graduatedRange")}}get graduatedRange(){return this.graduatedMax-this.graduatedMin}get graduatedTickUnit(){return this.at!==null?this.at.rp:10}set graduatedTickUnit(e){const n=this.graduatedTickUnit;n!==e&&e>0&&(this.at===null&&(this.at=new Uo),this.at.rp=e,this.c(),this.t("graduatedTickUnit",n,e))}get graduatedTickBase(){return this.at!==null?this.at.lp:0}set graduatedTickBase(e){const n=this.graduatedTickBase;n!==e&&(this.at===null&&(this.at=new Uo),this.at.lp=e,this.c(),this.t("graduatedTickBase",n,e))}get bs(){return this.at!==null?this.at.bs:null}set bs(e){this.at!==null?this.at.bs=e:e!==null&&(this.at=new Uo,this.at.bs=e)}get He(){return this.at!==null?this.at.He:null}set He(e){this.at!==null?this.at.He=e:e!==null&&(this.at=new Uo,this.at.He=e)}get os(){return this.at!==null?this.at.os:null}set os(e){this.at!==null?this.at.os=e:e!==null&&(this.at=new Uo,this.at.os=e)}get Ne(){return this.at!==null?this.at.Ne:null}set Ne(e){this.at!==null?this.at.Ne=e:e!==null&&(this.at=new Uo,this.at.Ne=e)}x0(e){super.x0(e);const n=this.T.r,s=n.length;for(let r=0;r<s;r++)n[r].x0(e)}fh(e,n){if(this._===qt.Grid){e.commitTransform(),this._.Gi(this,e,n);return}if(this._===qt.Graduated){e.commitTransform(),this._.Gi(this,e,n);return}if(this._===qt.Table)if(e.commitTransform(),e instanceof Gi){const h=e.currentElement;e.currentElement=e.newGroup2("gojs-ts"),this.C2(e,n),e.endGroup(),e.currentElement=h}else this.C2(e,n);const s=this.isClipping&&this._===qt.Spot;s&&e.save();const r=this.findMainElement(),a=this.T.r,u=a.length;for(let h=0;h<u;h++){const f=a[h];s&&f===r&&(e.clipInsteadOfFill=!0),f.Gi(e,n),s&&f===r&&(e.clipInsteadOfFill=!1)}s&&(e.restore(),e.clearContextCache(!0))}C2(e,n){e.lineCap="butt";const s=this.rowCount>0?this.Ge:null,r=this.columnCount>0?this.je:null;s!==null&&this.Gb(e,n,!0,s,!0),r!==null&&this.Gb(e,n,!1,r,!0),s!==null&&this.dA(e,!0,s),r!==null&&this.dA(e,!1,r),s!==null&&this.Gb(e,n,!0,s,!1),r!==null&&this.Gb(e,n,!1,r,!1)}dA(e,n,s){const r=s.length,a=this.actualBounds,u=this.naturalBounds;let h=!0;for(let f=0;f<r;f++){const m=s[f];if(m===void 0||m.actual===0)continue;if(h){h=!1;continue}if(n){if(m.position>u.height)continue}else if(m.position>u.width)continue;let y=m.separatorStrokeWidth;isNaN(y)&&(y=n?this.defaultRowSeparatorStrokeWidth:this.defaultColumnSeparatorStrokeWidth);let x=m.separatorStroke;if(x===null&&(x=n?this.defaultRowSeparatorStroke:this.defaultColumnSeparatorStroke),y===0||x===null)continue;this.gn(e,x,!1,!1,u,a);let S=!1,E=m.separatorDashArray;E===null&&(E=n?this.defaultRowSeparatorDashArray:this.defaultColumnSeparatorDashArray),E!==null&&(S=!0,e.enableDash(E,0)),e.beginPath();const L=m.position+y;n?L>u.height&&(y-=L-u.height):L>u.width&&(y-=L-u.width);let D=m.position+y/2;e.lineWidth=y;const F=this.Zt;if(n){D+=F.top;const V=F.left,U=u.width-F.right;e.moveTo(V,D),e.lineTo(U,D)}else{D+=F.left;const V=F.top,U=u.height-F.bottom;e.moveTo(D,V),e.lineTo(D,U)}e.stroke(),e.endPath(),S&&e.disableDash()}}Gb(e,n,s,r,a){const u=r.length,h=this.actualBounds,f=this.naturalBounds,m=this.gA(!0),y=this.gA(!1);for(let x=0;x<u;x++){const S=r[x];if(S===void 0||S.background===null||S.coversSeparators===a||S.actual===0)continue;const E=s?h.height:h.width;if(S.position>E)continue;let L=S.computeEffectiveSpacing(),D=S.separatorStrokeWidth;isNaN(D)&&(D=s?this.defaultRowSeparatorStrokeWidth:this.defaultColumnSeparatorStrokeWidth);let F=S.separatorStroke;F===null&&(F=s?this.defaultRowSeparatorStroke:this.defaultColumnSeparatorStroke),(F===null||S.index===(s?m:y))&&(D=0),L-=D;const V=S.position+D;let U=L+S.actual;if(V+U>E&&(U=E-V),U<=0)continue;const W=this.Zt;this.gn(e,S.background,!0,!1,f,h),s?e.fillRect(W.left,V+W.top,h.width-(W.left+W.right),U):e.fillRect(V+W.left,W.top,U,h.height-(W.top+W.bottom))}}gA(e){const n=e?this.rowCount:this.columnCount;for(let s=0;s<n;s++){const r=e?this.Ge[s]:this.je[s];if(r!==void 0)return r.index}return 0}s2(){const e=this.T.r,n=e.length;for(let s=0;s<n;s++)e[s].s2();this.ns(!0)}$c(e,n,s){if(!super.$c(e,n,s))return!1;if(this.type===qt.Table){const u=this.svg.getElementsByClassName("gojs-ts"),h=u.length!==0?u[0]:null;h!==null&&(h.innerHTML=""),e.currentElement=h,this.C2(e,n),e.currentElement=null}else{if(this._===qt.Grid)return this.svg.innerHTML="",this.svg.remove(),!1;if(this._===qt.Graduated)return this.svg.innerHTML="",this.svg.remove(),!1}const r=this.T.r,a=r.length;for(let u=0;u<a;u++)r[u].Gi(e,n);return!0}sd(e){return!0}k0(e,n,s,r){if(!this.isClipping){if(this.Xs()&&e.partClipRect!==null){const a=e.partClipRect,u=this.T.r;let h=0,f=0;for(let m=0;m<u.length;m++){if(!u[m].isVisibleObject())continue;const y=u[m].actualBounds;h=m===0?y.x:Math.min(y.x,h),f=m===0?y.y:Math.min(y.y,f)}r.setAttributeNS(null,"clip-path",`path('M ${a.x-s.x-h},${a.y-s.y-f} l ${a.width} 0 l 0 ${a.height} l -${a.width} 0 z')`);return}super.k0(e,n,s,r)}}Jc(e,n,s,r,a){const u=this.yn(),h=this.L,f=1/(h.m11*h.m22-h.m12*h.m21);let m=h.m22*f,y=-h.m12*f,x=-h.m21*f,S=h.m11*f,E=f*(h.m21*h.dy-h.m22*h.dx),L=f*(h.m12*h.dx-h.m11*h.dy);if(this.background!==null){const D=e*m+n*x+E,F=e*y+n*S+L,V=s*m+r*x+E,U=s*y+r*S+L;a.e(0,0);const W=this.naturalBounds,q=$.wl(0,0,W.width,W.height,D,F,V,U,a);return a.L(h),q}else{u||(m=1,y=0,x=0,S=1,E=0,L=0);const D=e*m+n*x+E,F=e*y+n*S+L,V=s*m+r*x+E,U=s*y+r*S+L;a.e(V,U);let W=(V-D)*(V-D)+(U-F)*(U-F),q=!1;const le=this.T.r,oe=le.length,ce=T.l();let Se=null,he=1/0,ge=null;const ke=this.isClipping&&this._===qt.Spot;ke&&(ge=T.l(),Se=this.findMainElement(),q=Se.Jc(D,F,V,U,ge),q&&(he=(D-ge.x)*(D-ge.x)+(F-ge.y)*(F-ge.y)));for(let we=0;we<oe;we++){const Pe=le[we];if(!Pe.visible||Pe===Se||!Pe.Jc(D,F,V,U,ce))continue;q=!0;const Re=(D-ce.x)*(D-ce.x)+(F-ce.y)*(F-ce.y);Re<W&&(W=Re,a.set(ce))}return ke&&(he>W&&a.set(ge),T.s(ge)),T.s(ce),u&&a.L(h),q}}Du(){const e=this.T.r,n=e.length;for(let s=0;s<n;s++)e[s].Du();super.Du()}c(e){if(this.Io())return;super.c(e);let n=null;(this._===qt.Auto||this._===qt.Link)&&(n=this.findMainElement());const s=this.T.r,r=s.length;for(let a=0;a<r;a++){const u=s[a];if((u===n||u.isPanelMain)&&u.c(!0),u.desiredSize.isReal())continue;const h=u.zs(!1);!(u instanceof Gs)&&!(u instanceof qt)&&!(u instanceof yi)&&h===0||u.c(!0)}}Qc(){if(this.Io())return;this.se(!0),this._n(!0);const e=this.T.r,n=e.length;for(let s=0;s<n;s++)e[s].Qc()}td(){if(this.Ib()===!1){this.nd(!0),this.ya(!0);const e=this.T.r,n=e.length;for(let s=0;s<n;s++)e[s].o2()}}o2(){this.ya(!0);const e=this.T.r,n=e.length;for(let s=0;s<n;s++)e[s].o2()}_u(e,n,s,r){const a=this.Go;a.e(0,0,0,0);const u=this.desiredSize,h=this.minSize;s===void 0&&(s=h.width,r=h.height),s=Math.max(s,h.width),r=Math.max(r,h.height);const f=this.maxSize;isNaN(u.width)||(e=Math.min(u.width,f.width)),isNaN(u.height)||(n=Math.min(u.height,f.height)),e=Math.max(s,e),n=Math.max(r,n);const m=this.Zt;e=Math.max(e-m.left-m.right,0),n=Math.max(n-m.top-m.bottom,0);const y=this.T.r;this._.measure(this,e,n,y,a,s,r);let x=a.width+m.left+m.right,S=a.height+m.top+m.bottom;isFinite(u.width)&&(x=u.width),isFinite(u.height)&&(S=u.height),x=Math.min(f.width,x),S=Math.min(f.height,S),x=Math.max(h.width,x),S=Math.max(h.height,S),x=Math.max(s,x),S=Math.max(r,S),a.Mo(x,S),this.naturalBounds.Mo(x,S),this.Qn(0,0,x,S)}findMainElement(){if(this.nl===null){const e=this.T.r,n=e.length;if(n===0)return null;for(let s=0;s<n;s++){const r=e[s];if(r.isPanelMain===!0)return this.nl=r,r}this.nl=e[0]}return this.nl}Yo(){return this.part!==null?this.part.locationObject:null}get panelLayoutState(){return this.N2}set panelLayoutState(e){this.N2=e}ah(e,n,s,r){const a=this.T.r;if(this.actualBounds.e(e,n,s,r),!this.desiredSize.isReal()){let u=this.zs(!0);const h=this.measuredBounds,f=h.width,m=h.height,y=this._r,x=y.left+y.right,S=y.top+y.bottom;switch(f===s&&m===r&&(u=0),u){case 0:(f>s||m>r)&&(this.c(),this.ut(f>s?s:f,m>r?r:m,0,0));break;case 2:this.c(!0),this.ut(s+x,r+S,0,0);break;case 5:this.c(!0),this.ut(s+x,m+S,0,0);break;case 4:this.c(!0),this.ut(f+x,r+S,0,0);break}}this._.arrange(this,a,this.Go)}hh(e){const n=this.naturalBounds,s=this.Yo();if(I.contains(0,0,n.width,n.height,e.x,e.y)){const r=this.T.r,a=r.length,u=T.X(0,0);for(let h=a;h--;){const f=r[h];if(!(!f.visible&&f!==s)&&(u.set(e).Ve(f.L),f.containsPoint(u)))return T.s(u),!0}return T.s(u),this.Ct!==null}return!1}m0(e){if(this.$n===e)return this;const n=this.T.r,s=n.length;for(let r=0;r<s;r++){const a=n[r].m0(e);if(a!==null)return a}return null}walkVisualTreeFrom(e,n){if(n(this,e),e instanceof qt){const s=e.T.r,r=s.length;for(let a=0;a<r;a++)this.walkVisualTreeFrom(s[a],n)}}Jr(e){this.mA(this,e)}mA(e,n){n(e);const s=e.T.r,r=s.length;for(let a=0;a<r;a++){const u=s[a];u instanceof qt&&this.mA(u,n)}}lv(e){this.pA(this,e)}pA(e,n){if(n(e),e instanceof qt){const s=e.T.r,r=s.length;for(let a=0;a<r;a++)this.pA(s[a],n)}}findInVisualTree(e){return this.yA(this,e)}yA(e,n){if(n(e))return e;if(e instanceof qt){const s=e.T.r,r=s.length;for(let a=0;a<r;a++){const u=this.yA(s[a],n);if(u!==null)return u}}return null}findObject(e){if(this.name===e)return this;const n=this.T.r;let s=n.length;this.hv()&&(s=this.hp());for(let r=0;r<s;r++){const a=n[r];if(a instanceof qt){const u=a.findObject(e);if(u!==null)return u}if(a.name===e)return a}return null}wA(){const e=this.T.r,n=e.length;let s=0;for(let r=0;r<n;r++){const a=e[r];a instanceof qt?s=Math.max(s,a.wA()):a instanceof cn&&(s=Math.max(s,a.av()))}return s}yn(){return!(this.type===qt.TableRow||this.type===qt.TableColumn)}il(){return this.type===qt.TableRow||this.type===qt.TableColumn}$C(e,n,s){if(this.pickable===!1||(n===void 0&&(n=null),s===void 0&&(s=null),this.es()))return null;const r=this.naturalBounds,a=1/this.getDocumentScale(),u=this.yn(),h=u?e:T.X(e.x,e.y).Ve(this.L),f=this.diagram;let m=10,y=5;if(f!==null&&(m=f.getInputOption("extraTouchArea"),y=m/2),I.contains(-(y*a),-(y*a),r.width+m*a,r.height+m*a,h.x,h.y)){if(!this.lf){const S=this.T.r,E=S.length,L=T.l(),D=this.isClipping&&this._===qt.Spot,F=D?this.findMainElement():null;if(D&&(F.yn()?L.set(e).Ve(F.L):L.set(e),!F.containsPoint(L)))return T.s(L),u||T.s(h),null;const V=this.Yo();for(let U=E;U--;){const W=S[U];if(!W.visible&&W!==V||(W.yn()?L.set(e).Ve(W.L):L.set(e),D&&W===F))continue;let q=null;if(W instanceof qt?q=W.$C(L,n,s):W.pickable===!0&&W.containsPoint(L)&&(q=W),q!==null&&(n!==null&&(q=n(q)),q!==null&&(s===null||s(q))))return T.s(L),u||T.s(h),q}T.s(L)}if(this.background===null)return u||T.s(h),null;const x=I.contains(0,0,r.width,r.height,h.x,h.y)?this:null;return u||T.s(h),x}return u||T.s(h),null}ZC(e,n,s,r){if(this.pickable===!1)return!1;n===void 0&&(n=null),s===void 0&&(s=null);const a=this.naturalBounds,u=this.yn(),h=u?e:T.X(e.x,e.y).Ve(this.L),f=this.il(),m=I.contains(0,0,a.width,a.height,h.x,h.y);if(f||m){if(!this.lf){const y=this.T.r,x=y.length,S=T.l(),E=this.Yo();for(let L=x;L--;){const D=y[L];if(!D.visible&&D!==E)continue;D.yn()?S.set(e).Ve(D.L):S.set(e);let F=D;const V=D instanceof qt?D:null;if(V!==null?V.ZC(S,n,s,r):F.containsPoint(S)){if(F.pickable===!1)continue;n!==null&&(F=n(F)),F!==null&&(s===null||s(F))&&r.add(F)}}T.s(S)}return u||T.s(h),m&&this.background!==null}return u||T.s(h),!1}Om(e,n,s,r,a,u){if(this.pickable===!1)return!1;n===void 0&&(n=null),s===void 0&&(s=null);let h=u;if(u===void 0&&(h=G.l(),h.Jt()),h.tc(this.L),this.containedInRect(e,h))return this.L2(n,s,a),u===void 0&&G.s(h),!0;if(this.intersectsRect(e,h)){if(!this.lf){const f=this.Yo(),m=this.T.r,y=m.length;for(let x=y;x--;){const S=m[x];if(!S.visible&&S!==f)continue;const E=S.actualBounds,L=this.naturalBounds;if(E.x>L.width||E.y>L.height||E.x+E.width<0||E.y+E.height<0)continue;let D=S;const F=S instanceof qt?S:null,V=G.l();V.set(h),(F!==null?F.Om(e,n,s,r,a,V):D.WL(e,r,V))&&(n!==null&&(D=n(D)),D!==null&&(s===null||s(D))&&a.add(D)),G.s(V)}}return u===void 0&&G.s(h),r}return u===void 0&&G.s(h),!1}L2(e,n,s){const r=this.T.r,a=r.length;for(let u=a;u--;){const h=r[u];if(!h.visible)continue;const f=h.actualBounds,m=this.naturalBounds;if(f.x>m.width||f.y>m.height||f.x+f.width<0||f.y+f.height<0)continue;h instanceof qt&&h.L2(e,n,s);let y=h;e!==null&&(y=e(y)),y!==null&&(n===null||n(y))&&s.add(y)}}QC(e,n,s,r,a,u){if(this.pickable===!1)return!1;s===void 0&&(s=null),r===void 0&&(r=null);const h=this.naturalBounds,f=this.yn(),m=f?e:T.X(e.x,e.y).Ve(this.L),y=f?n:T.X(n.x,n.y).Ve(this.L),x=m.distanceSquaredPoint(y),S=m.x>0&&m.x<h.width&&m.y>0&&m.y<h.height||T.distanceLineSegmentSquared(m.x,m.y,0,0,0,h.height)<=x||T.distanceLineSegmentSquared(m.x,m.y,0,h.height,h.width,h.height)<=x||T.distanceLineSegmentSquared(m.x,m.y,h.width,h.height,h.width,0)<=x||T.distanceLineSegmentSquared(m.x,m.y,h.width,0,0,0)<=x,E=m.distanceSquared(0,0)<=x&&m.distanceSquared(0,h.height)<=x&&m.distanceSquared(h.width,0)<=x&&m.distanceSquared(h.width,h.height)<=x;if(f||(T.s(m),T.s(y)),S){if(!this.lf){const L=T.l(),D=T.l(),F=this.Yo(),V=this.T.r,U=V.length;for(let W=U;W--;){const q=V[W];if(!q.visible&&q!==F)continue;const le=q.actualBounds,oe=this.naturalBounds;if(f&&(le.x>oe.width||le.y>oe.height||le.x+le.width<0||le.y+le.height<0))continue;if(q.yn()){const he=q.L;L.set(e).Ve(he),D.set(n).Ve(he)}else L.set(e),D.set(n);let ce=q;const Se=q instanceof qt?q:null;(Se!==null?Se.QC(L,D,s,r,a,u):ce.JL(L,D,a))&&(s!==null&&(ce=s(ce)),ce!==null&&(r===null||r(ce))&&u.add(ce))}T.s(L),T.s(D)}return a?S:E}return!1}P2(e){let n=null;if(e instanceof cn){n=e.spot1,n===B.Default&&(n=null);const s=e.geometry;s!==null&&n===null&&(n=s.spot1)}return n===null&&(n=B.TopLeft),n}M2(e){let n=null;if(e instanceof cn){n=e.spot2,n===B.Default&&(n=null);const s=e.geometry;s!==null&&n===null&&(n=s.spot2)}return n===null&&(n=B.BottomRight),n}add(...e){for(let n=0;n<e.length;n++)this.insertAt(this.T.count,e[n]);return this}elt(e){return this.T.elt(e)}insertAt(e,n){n instanceof Vn&&o.o("Cannot add a Part to a Panel: "+n+"; use a Panel instead"),(this===n||this.isContainedBy(n))&&(this===n&&o.o("Cannot make a Panel contain itself: "+this.toString()),o.o("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+n.toString()));const s=n.panel;if(s!==null&&s!==this&&o.o("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+n.toString()+", already contained by "+s.toString()+", cannot be shared by this Panel: "+this.toString()),this._===qt.Grid&&!(n instanceof cn)&&o.o("Can only add Shapes to a Grid Panel, not: "+n),this._===qt.Graduated&&!(n instanceof cn||n instanceof yi)&&o.o("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+n),n.wa(this),n.tl=null,this.itemArray!==null){const h=n.data;h!==null&&typeof h=="object"&&(this.Ys===null&&(this.Ys=new z),this.Ys.add(h,n))}const r=this.T;let a=-1;if(s===this){let h=-1;const f=this.T.r,m=f.length;for(let y=0;y<m;y++)if(f[y]===n){h=y;break}if(h!==-1){if(h===e||h+1>=r.count&&e>=r.count)return;r.removeAt(h),a=h}else o.o("element "+n.toString()+" has panel "+s.toString()+" but is not contained by it.")}(e<0||e>r.count)&&(e=r.count),r.insertAt(e,n),(e===0||n.isPanelMain)&&(this.nl=null),this.Io()||this.c(),n.c(!1),n.portId!==null?this.xn=!0:n instanceof qt&&n.xn===!0&&(this.xn=!0),this.os=null,this.isEnabledObject()||this.jb(n,!1);const u=this.part;if(u!==null){u.A0(),u.hf(),this.xn&&u instanceof _t&&(u.xn=!0),u.xn&&u instanceof _t&&(u.re=null);const h=this.diagram;if(h!==null&&h.undoManager.isUndoingRedoing)return;a!==-1&&u.raiseChangedEvent(4,"elements",this,n,null,a,null),u.raiseChangedEvent(3,"elements",this,null,n,null,e)}}get xn(){return(this.n&8388608)!==0}set xn(e){(this.n&8388608)!==0!==e&&(this.n=this.n^8388608)}_S(){return(this.n&16777216)!==0}A2(e){e?this.n|=16777216:this.n&=-16777217}rv(e){e.wa(this),e.tl=null;const n=this.T,s=n.count;n.insertAt(s,e);const r=this.part;if(r!==null){r.A0(),e.portId!==null&&r instanceof _t&&(r.xn=!0);const a=this.diagram;if(a!==null&&a.undoManager.isUndoingRedoing)return;r.raiseChangedEvent(3,"elements",this,null,e,null,s)}}AR(e){const n=this.T.r,s=n.length;let r=-1;for(let a=0;a<s;a++)if(n[a]===e){r=a;break}return r}remove(e){const n=this.T.r,s=n.length;let r=-1;for(let a=0;a<s;a++)if(n[a]===e){r=a;break}r!==-1&&this.te(r,!0)}removeAt(e){e>=0&&this.te(e,!0)}te(e,n){const s=this.T,r=s.elt(e);if(r.tl=null,r.wa(null),this.Ys!==null){const u=r.data;typeof u=="object"&&this.Ys.remove(u)}s.removeAt(e),this.se(!1),this.c(),this.nl===r&&(this.nl=null),this.os=null;const a=this.part;if(a!==null){a.A0(),a.hf(),a.invalidateAdornments(),a instanceof _t&&(r instanceof qt?r.walkVisualTreeFrom(r,(h,f)=>a.c2(f,n)):a.c2(r,n));const u=this.diagram;if(u!==null&&u.undoManager.isUndoingRedoing)return;a.raiseChangedEvent(4,"elements",this,r,null,e,null)}}get Ge(){return this.O===null&&(this.O=new fs),this.O.Ge}get rowCount(){return this.O===null?0:this.Ge.length}getRowDefinition(e){e<0&&o.tt(e,">= 0",qt,"getRowDefinition:idx"),e=Math.round(e);const n=this.Ge;if(n[e]===void 0){const s=new ps;s.wa(this),s.isRow=!0,s.index=e,n[e]=s,this.raiseChangedEvent(3,"rowdefs",this,null,s,null,e)}return n[e]}removeRowDefinition(e){if(e<0&&o.tt(e,">= 0",qt,"removeRowDefinition:idx"),this.rowCount===0)return;e=Math.round(e);const n=this.Ge,s=n[e];if(s){n[e]=void 0;let r=n.length-1;for(;r>=0&&n[r--]===void 0;)n.length--;this.raiseChangedEvent(4,"rowdefs",this,s,null,e,null),this.c()}}CL(e,n){const s=this.Ge;if(!(e<0)){if(s[e]=n instanceof ps?n:void 0,!n){let r=s.length-1;for(;r>=0&&s[r--]===void 0;)s.length--}this.c()}}get je(){return this.O===null&&(this.O=new fs),this.O.je}get columnCount(){return this.O===null?0:this.je.length}getColumnDefinition(e){e<0&&o.tt(e,">= 0",qt,"getColumnDefinition:idx"),e=Math.round(e);const n=this.je;if(n[e]===void 0){const s=new ps;s.wa(this),s.isRow=!1,s.index=e,n[e]=s,this.raiseChangedEvent(3,"coldefs",this,null,s,null,e)}return n[e]}removeColumnDefinition(e){if(e<0&&o.tt(e,">= 0",qt,"removeColumnDefinition:idx"),this.columnCount===0)return;e=Math.round(e);const n=this.je,s=n[e];if(s){n[e]=void 0;let r=n.length-1;for(;r>=0&&n[r--]===void 0;)n.length--;this.raiseChangedEvent(4,"coldefs",this,s,null,e,null),this.c()}}LL(e,n){const s=this.je;if(!(e<0)){if(s[e]=n instanceof ps?n:void 0,!n){let r=s.length-1;for(;r>=0&&s[r--]===void 0;)s.length--}this.c()}}addRowColumnDefinition(e){let n=null;return e.isRow?n=this.getRowDefinition(e.index):e.isRow||(n=this.getColumnDefinition(e.index)),n&&n.Eb(e),this}addRowDefinition(e,n){const s=this.getRowDefinition(e);return s&&s.Eb(new ps(n)),this}addColumnDefinition(e,n){const s=this.getColumnDefinition(e);return s&&s.Eb(new ps(n)),this}get rowSizing(){return this.O!==null?this.O.ap:3}set rowSizing(e){const n=this.rowSizing;n!==e&&(this.O===null&&(this.O=new fs),this.O.ap=e,this.c(),this.t("rowSizing",n,e))}get columnSizing(){return this.O!==null?this.O.cp:3}set columnSizing(e){const n=this.columnSizing;n!==e&&(this.O===null&&(this.O=new fs),this.O.cp=e,this.c(),this.t("columnSizing",n,e))}get topIndex(){return this.O!==null?this.O.fp:0}set topIndex(e){const n=this.topIndex;n!==e&&((!isFinite(e)||e<0)&&o.o("Panel.topIndex must be greater than zero and a real number, not: "+e),this.O===null&&(this.O=new fs),this.O.fp=e,this.c(),this.t("topIndex",n,e))}get leftIndex(){return this.O!==null?this.O.dp:0}set leftIndex(e){const n=this.leftIndex;n!==e&&((!isFinite(e)||e<0)&&o.o("Panel.leftIndex must be greater than zero and a real number, not: "+e),this.O===null&&(this.O=new fs),this.O.dp=e,this.c(),this.t("leftIndex",n,e))}findRowForLocalY(e){if(e<0||this.type!==qt.Table||this.rowCount===0)return-1;let n=0;const s=this.Ge,r=s.length;let a=this.topIndex;for(;a<r;a++){const u=s[a];if(u!==void 0&&(n+=u.total,e<n))return a}return a}findColumnForLocalX(e){if(e<0||this.type!==qt.Table||this.columnCount===0)return-1;let n=0;const s=this.je,r=s.length;let a=this.leftIndex;for(;a<r;a++){const u=s[a];if(u!==void 0&&(n+=u.total,e<n))return a}return a}graduatedPointForValue(e,n){if(n===void 0&&(n=new T(NaN,NaN)),this.type!==qt.Graduated)return n.e(NaN,NaN),n;e=Math.min(Math.max(e,this.graduatedMin),this.graduatedMax);const s=this.findMainElement();return s.geometry.getPointAlongPath((e-this.graduatedMin)/this.graduatedRange,n),s.L.xt(n)}graduatedValueForPoint(e){if(this.type!==qt.Graduated)return NaN;const n=this.findMainElement();return n.L.ts(e),n.geometry.getFractionForPoint(e)*this.graduatedRange+this.graduatedMin}get data(){return this.Qt}set data(e){const n=this.Qt;if(n!==e){const s=this instanceof Vn&&!(this instanceof Cn);s&&o.i(e,"object",qt,"data"),this.hi(),this.Qt=e;const r=this.diagram;if(r!==null)if(s)r.partManager.cv(this,n,e);else{const a=this.panel;a!==null&&a.Ys!==null&&(n!==null&&a.Ys.remove(n),e!==null&&a.Ys.add(e,this))}if(this.t("data",n,e),r!==null&&r.undoManager.isUndoingRedoing)return;e!==null&&this.updateTargetBindings()}}get itemIndex(){return this.ud}set itemIndex(e){const n=this.ud;n!==e&&(this.ud=e,this.t("itemIndex",n,e))}get Ks(){return this.f!==null?this.f.Ks:null}set Ks(e){this.Ti!==e&&(this.f===null&&(this.f=new ds),this.f.Ks=e)}f2(){return this.Ks!==null}oA(){const e=this.Ks;return e!==null&&e.h}hi(){let e=this.Ks;if(e===null)this.data!==null&&o.o("Template cannot have .data be non-null: "+this),this.Ks=e=new w;else if(e.h)return this;const n=new w;this.A2(!1),this.walkVisualTreeFrom(this,(a,u)=>{u.lh();const h=u.Ti;if(h!==null){u.l2(!1);const f=h.iterator;for(;f.next();){const m=f.value;m.mode===2&&u.l2(!0);const y=m.sourceName;if(m.isToObject){y==="/"&&a.A2(!0);const x=m.qL(a,u);x!==null&&(n.add(x),x.Zn===null&&(x.Zn=new w),x.Zn.add(m))}e.add(m)}}if(u instanceof qt&&u.type===qt.Table){if(u.rowCount>0){const f=u.Ge,m=f.length;for(let y=0;y<m;y++){const x=f[y];if(x!==void 0&&x.Gs!==null){const S=x.Gs.iterator;for(;S.next();){const E=S.value;E.Me=x,E.md=2,E.af=x.index,e.add(E)}}}}if(u.columnCount>0){const f=u.je,m=f.length;for(let y=0;y<m;y++){const x=f[y];if(x!==void 0&&x.Gs!==null){const S=x.Gs.iterator;for(;S.next();){const E=S.value;E.Me=x,E.md=1,E.af=x.index,e.add(E)}}}}}});const s=n.iterator;for(;s.next();){const a=s.value;if(a.Zn!==null){a.l2(!0);const u=a.Zn.iterator;for(;u.next();){const h=u.value;a.Ti===null&&(a.Ti=new w),a.Ti.add(h)}}a.Zn=null}let r=e.iterator;for(;r.next();){const a=r.value;let u=a.Me;if(u!==null){a.Me=null;const h=a.targetProperty,f=h.indexOf(".");if(f>0&&u instanceof qt){const m=h.substring(0,f),y=h.substring(f+1),x=u.findObject(m);x!==null?(u=x,a.targetProperty=y):(o.ri('Warning: unable to find GraphObject named "'+m+'" for Binding: '+a.toString()),u=null)}if(u instanceof ps){const m=C.cs(u.panel);a.targetId=m===void 0?-1:m,u.panel.$n=a.targetId}else if(u instanceof ai){const m=C.cs(u);a.targetId=m===void 0?-1:m,u.$n=a.targetId}else o.o("Unknown type of binding target: "+u);a.check(u)}}return e.g(),this instanceof Vn&&this.Se()&&this.ensureBounds(),this}copyTemplate(e){e===void 0&&(e=!1);const n=this.copy();return n.lv(s=>{s instanceof qt&&(s.Ks=null,s.Qt=null);const r=s.Ti;r!==null&&(s.Ti=null,r.each(u=>s.bind(u.copy())));const a=s.xs;a!==null&&(s.xs=null,a.each(u=>s.trigger(u.value.copy())))}),e&&n.hi(),n}updateTargetBindings(e){const n=this.Ks;if(n===null)return;e===void 0&&(e="");const s=n.iterator;for(;s.next();){const r=s.value,a=this.xA(r,e);if(a===null)continue;const{data:u,elt:h}=a;r.isToTheme&&this.diagram===null||h!==void 0&&r.updateTarget(h,u)}}Eo(){if(this.diagram!==null)if(this.f2()){const e=this.Ks.iterator;for(;e.next();){const n=e.value;if(!n.isToTheme)continue;const s=this.xA(n);if(s===null)continue;const{data:r,elt:a}=s;a!==void 0&&n.updateTarget(a,r)}}else{const e=this.T.r,n=e.length;for(let s=0;s<n;s++)e[s].Eo()}}xA(e,n=""){const s=e.sourceProperty;if(n!==""&&s!==""&&s!==n)return null;const r=e.targetProperty;if(e.converter===null&&r==="")return null;let a=this.data;const u=e.sourceName;if(e.isToObject){if(a=this.HL(u),a===null)return null}else if(e.isToModel){const y=this.diagram;if(y===null)return null;a=y.model.modelData}let h=this;const f=e.targetId;if(f!==-1){if(h=this.m0(f),h===null)return null}else e.Me!==null&&(h=e.Me);u==="/"?a=h.part:u==="."?a=h:u===".."&&(a=h.panel);const m=e.md;if(m!==0){if(!(h instanceof qt))return null;m===1?h=h.getColumnDefinition(e.af):m===2&&(h=h.getRowDefinition(e.af))}return{data:a,elt:h}}get itemArray(){return this.mh}set itemArray(e){const n=this.mh;if(n!==e||e!==null&&this.fv(e)){const s=this.diagram;if(n!==e&&(s!==null&&n!==null&&s.partManager.bS(this,s),this.mh=e,s!==null&&e!==null&&s.partManager.xS(this,s)),this.t("itemArray",n,e),s!==null&&s.undoManager.isUndoingRedoing)return;this.bA(n,e)}}findItemPanelForData(e){return e==null||this.Ys===null?null:(o.i(e,"object",qt,"findItemPanelForData"),this.Ys.getValue(e))}fv(e){const n=this.T.r,s=n.length,r=e.length;let a=0,u=null;for(;a<s&&(u=n[a],!(u instanceof qt)||u.data===null);)a++,u=n[a];if(s-a!==r)return!0;if(u===null)return r>0;let h=0;for(;a<s&&h<r;){if(u=n[a],!(u instanceof qt)||u.data!==e[h])return!0;a++,h++}return!1}hp(){if(this.type===qt.Spot||this.type===qt.Auto)return Math.min(this.T.length,1);if(this.type===qt.Link){const e=this.T,n=e.length;let s=0;for(;s<n;s++){const r=e.elt(s);if(!(r instanceof cn)||!r.isPanelMain)return s}return s}if(this.type===qt.Table&&this.T.length>0){const e=this.T.elt(0);if(e.isPanelMain&&e instanceof qt&&e.il())return 1}return 0}rebuildItemElements(){const e=this.hp();for(;this.T.length>e;)this.te(this.T.length-1,!1);this.bA(null,this.itemArray)}bA(e,n){const s=this.hp(),r=n;if(r===null||r.length===0){for(;this.T.length>s;)this.te(this.T.length-1,!1);return}if(this.T.length<=s){const a=r.length;for(let u=0;u<a;u++)this.Hb(r[u],u,!0)}else{let a=s;for(let h=0;h<r.length;h++,a++){const f=r[h],m=a<this.T.length?this.T.elt(a):null;if(m instanceof qt){if(m.data!==f){const y=this.T2(m.data,h),x=this.T2(f,h);let S=x!==y;if(!S){const E=this.D2(m.data,h,y);S=this.D2(f,h,x)!==E}S?(this.te(a,!1),this.Hb(f,h,!1)):m.data=f}}else this.Hb(f,h,!1)}for(;a<this.T.length;)this.te(a,!1);this.nl=null,this.F2(s,0),this.Io()||this.c(),this.os=null,this.isEnabledObject()||this.jb(this,!1);const u=this.part;u!==null&&(u.A0(),u.hf(),this.xn&&u instanceof _t&&(u.xn=!0),u.xn&&u instanceof _t&&(u.re=null))}}Hb(e,n,s){if(e==null||n<0)return null;const r=this.T2(e,n),a=this.D2(e,n,r);if(a!==null){a.hi();const u=a.copy();if(u._S()){const f=this.findBindingPanel();f!==null&&f.A2(!0)}typeof e=="object"&&(this.Ys===null&&(this.Ys=new z),this.Ys.add(e,u));const h=n+this.hp();return this.insertAt(h,u),s&&(u.Qt=e,this.F2(h,n),u.Qt=null),u.data=e,u}return null}uv(e){if(e<0)return;const n=e+this.hp();this.te(n,!0),this.F2(n,e)}F2(e,n){const s=this.T;let r=e,a=n;for(;r<s.length;){const u=s.elt(r);u instanceof qt&&u.dv(r,a),r++,a++}}dv(e,n){this.type===qt.TableRow?this.row=e:this.type===qt.TableColumn&&(this.column=e),this.itemIndex=n}hv(){return this.mh!==null||this.itemTemplateMap!==null}get itemTemplate(){return this.itemTemplateMap===null?null:this.itemTemplateMap.getValue("")}set itemTemplate(e){if(this.itemTemplateMap===null){if(e===null)return;this.itemTemplateMap=new z}const n=this.itemTemplateMap.getValue("");if(n!==e){(e instanceof Vn||e.isPanelMain)&&o.o("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+e),this.itemTemplateMap.add("",e),this.t("itemTemplate",n,e);const s=this.diagram;if(s!==null&&s.undoManager.isUndoingRedoing)return;this.rebuildItemElements()}}get itemTemplateMap(){return this.f!==null?this.f.G0:null}set itemTemplateMap(e){const n=this.itemTemplateMap;if(n!==e){const s=e.iterator;for(;s.next();)s.value;this.jt(),this.f.G0=e,this.t("itemTemplateMap",n,e);const r=this.diagram;if(r!==null&&r.undoManager.isUndoingRedoing)return;this.rebuildItemElements()}}get itemCategoryProperty(){return this.f!==null?this.f.j0:"category"}set itemCategoryProperty(e){const n=this.itemCategoryProperty;n!==e&&(typeof e!="string"&&typeof e!="function"&&o.be(e,"string or function",qt,"itemCategoryProperty"),this.jt(),this.f.j0=e,this.t("itemCategoryProperty",n,e))}T2(e,n){if(e===null)return"";const s=this.itemCategoryProperty;let r="";if(typeof s=="function")r=s(e);else if(typeof s=="string"&&typeof e=="object"){if(s==="")return"";r=nn.vt(e,s)}else return"";if(r===void 0)return"";if(typeof r=="string")return r;o.o("Panel.getCategoryForItemData found a non-string category for "+e+": "+r)}D2(e,n,s){const r=this.itemTemplateMap;let a=null;return r!==null&&(a=r.getValue(s)),a===null&&(r!==null&&(a=r.getValue("")),a===null&&(qt.kA||(qt.kA=!0,o.ri('No item template Panel found for category "'+s+'" on '+this),o.ri("  Using default item template."),qt.PA=new qt().add(new yi().bind("text","",o.toString).theme("stroke","text"))),a=qt.PA)),a}get lf(){return(this.n&1048576)!==0}set lf(e){const n=(this.n&1048576)!==0;n!==e&&(o.i(e,"boolean",qt,"isAtomic"),this.n=this.n^1048576,this.t("isAtomic",n,e))}get isClipping(){return(this.n&2097152)!==0}set isClipping(e){const n=(this.n&2097152)!==0;n!==e&&(this.n=this.n^2097152,this instanceof Wt&&(this.si=null),this.c(),this.t("isClipping",n,e))}get isOpposite(){return(this.n&33554432)!==0}set isOpposite(e){const n=(this.n&33554432)!==0;n!==e&&(o.i(e,"boolean",qt,"isOpposite"),this.n=this.n^33554432,this.c(),this.t("isOpposite",n,e))}get isEnabled(){return(this.n&4194304)!==0}set isEnabled(e){const n=(this.n&4194304)!==0;if(n!==e){o.i(e,"boolean",qt,"isEnabled");const s=this.panel===null||this.panel.isEnabledObject();this.n=this.n^4194304,this.t("isEnabled",n,e);const r=this.diagram;if(r!==null&&r.undoManager.isUndoingRedoing)return;s&&this.jb(this,e)}}jb(e,n){const s=e.enabledChanged;if(s!==null&&s(e,n),e instanceof qt){const r=e.T.r,a=r.length;for(let u=0;u<a;u++){const h=r[u];n&&h instanceof qt&&!h.isEnabled||this.jb(h,n)}}}get alignmentFocusName(){return this.so}set alignmentFocusName(e){const n=this.so;n!==e&&(this.so=e,this.c(),this.t("alignmentFocusName",n,e))}static definePanelLayout(e,n){on.definePanelLayout(e,n)}};k(qt,"uE",!1),k(qt,"kA",!1),k(qt,"PA",null),k(qt,"Position",on.Layouts.getValue("Position")),k(qt,"Horizontal",on.Layouts.getValue("Horizontal")),k(qt,"Vertical",on.Layouts.getValue("Vertical")),k(qt,"Spot",on.Layouts.getValue("Spot")),k(qt,"Auto",on.Layouts.getValue("Auto")),k(qt,"Table",on.Layouts.getValue("Table")),k(qt,"Viewbox",on.Layouts.getValue("Viewbox")),k(qt,"TableRow",on.Layouts.getValue("TableRow")),k(qt,"TableColumn",on.Layouts.getValue("TableColumn")),k(qt,"Link",on.Layouts.getValue("Link")),k(qt,"Grid",on.Layouts.getValue("Grid")),k(qt,"Graduated",on.Layouts.getValue("Graduated"));let Ut=qt;Ut.definePanelLayout=Ut.definePanelLayout;class Uo{constructor(){k(this,"np");k(this,"op");k(this,"rp");k(this,"lp");k(this,"bs");k(this,"He");k(this,"os");k(this,"Ne");this.np=0,this.op=100,this.rp=10,this.lp=0,this.bs=null,this.He=null,this.os=null,this.Ne=null}copy(){const t=new Uo;return t.np=this.np,t.op=this.op,t.rp=this.rp,t.lp=this.lp,t.bs=this.bs,t.He=this.He,t.os=this.os,t.Ne=this.Ne,t}}class vl{constructor(){k(this,"dd");k(this,"gd");k(this,"zc");k(this,"$0");this.dd=_.ZN,this.gd=T.Po,this.zc=_.dw,this.$0=[]}copy(){const t=new vl;return t.dd=this.dd.copy(),t.gd=this.gd.copy(),t.zc=this.zc.copy(),t.$0=this.$0,t}}class fs{constructor(){k(this,"Ge");k(this,"je");k(this,"ap");k(this,"cp");k(this,"fp");k(this,"dp");k(this,"Z0");k(this,"_0");k(this,"Q0");k(this,"tp");k(this,"ep");k(this,"ip");k(this,"sp");k(this,"gh");this.Ge=[],this.je=[],this.ap=3,this.cp=3,this.fp=0,this.dp=0,this.Z0=K.Vg,this._0=1,this.Q0=null,this.tp=null,this.ep=1,this.ip=null,this.sp=null,this.gh=null}copy(t){const e=new fs,n=this.Ge,s=n.length,r=e.Ge;for(let f=0;f<s;f++){if(n[f]===void 0)continue;const m=n[f].copy();m.wa(t),r[f]=m}const a=this.je,u=a.length,h=e.je;for(let f=0;f<u;f++){if(a[f]===void 0)continue;const m=a[f].copy();m.wa(t),h[f]=m}return e.ap=this.ap,e.cp=this.cp,e.fp=this.fp,e.dp=this.dp,e.Z0=this.Z0.N(),e._0=this._0,e.Q0=this.Q0,e.tp=this.tp,e.ep=this.ep,e.ip=this.ip,e.sp=this.sp,e.gh=this.gh,e}}var kf=(H=>(H[H.Default=1]="Default",H[H.None=2]="None",H[H.ProportionalExtra=3]="ProportionalExtra",H))(kf||{});const lo=class lo{constructor(t){k(this,"Bs");k(this,"gp");k(this,"Dt");k(this,"Pa");k(this,"Ma");k(this,"oi");k(this,"st");k(this,"pd");k(this,"to");k(this,"jo");k(this,"yd");k(this,"wd");k(this,"Sa");k(this,"Ct");k(this,"xd");k(this,"Gs");k(this,"ot");k(this,"ji");k(this,"me");C.Yi(this),this.Bs=null,this.gp=!0,this.Dt=0,this.me=NaN,this.Pa=0,this.Ma=1/0,this.oi=B.Default,this.ot=0,this.ji=0,this.st=0,this.Gs=null,this.pd=1,this.to=1,this.jo=null,this.yd=null,this.wd=NaN,this.Sa=null,this.Ct=null,this.xd=!1,t&&(Object.assign(this,t),t.column!==void 0?(this.isRow=!1,this.index=t.column):t.row!==void 0&&(this.isRow=!0,this.index=t.row))}copy(){const t=new lo;return t.gp=this.gp,t.Dt=this.Dt,t.me=this.me,t.Pa=this.Pa,t.Ma=this.Ma,t.oi=this.oi,t.ot=this.ot,t.ji=this.ji,t.st=this.st,t.to=this.to,t.pd=this.pd,this.jo===null?t.jo=null:t.jo=this.jo.N(),t.yd=this.yd,t.wd=this.wd,t.Sa=null,this.Sa!==null&&(t.separatorDashArray=this.separatorDashArray.slice()),t.Ct=this.Ct,t.xd=this.xd,t.Gs=this.Gs,t}Eb(t){t.isRow?this.height=t.height:this.width=t.width,this.minimum=t.minimum,this.maximum=t.maximum,this.alignment=t.alignment,this.stretch=t.stretch,this.sizing=t.sizing,this.jo=t.separatorPadding===null?null:t.separatorPadding.N(),this.separatorStroke=t.separatorStroke,this.separatorStrokeWidth=t.separatorStrokeWidth,this.Sa=null,t.separatorDashArray&&(this.Sa=t.separatorDashArray.slice()),this.background=t.background,this.coversSeparators=t.coversSeparators,this.Gs=t.Gs}li(t){t in kf?this.sizing=t:o.hr(this,t)}toString(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+C.cs(this)}wa(t){this.Bs=t}computeEffectiveSpacingTop(t){let e=0;const n=this.Bs;if(this.index!==t){let r=this.separatorStroke;r===null&&n!==null&&(r=this.isRow?n.defaultRowSeparatorStroke:n.defaultColumnSeparatorStroke),r!==null&&(e=this.separatorStrokeWidth,isNaN(e)&&(n!==null?e=this.isRow?n.defaultRowSeparatorStrokeWidth:n.defaultColumnSeparatorStrokeWidth:e=0))}let s=this.jo;if(s===null)if(n!==null)s=n.defaultSeparatorPadding;else return e;return e+(this.isRow?s.top:s.left)}computeEffectiveSpacing(){let t=0;const e=this.Bs;let n=0;const s=this.isRow;if(e!==null&&e.type===Ut.Table){const a=s?e.Ge.length:e.je.length;for(let u=0;u<a;u++){const h=s?e.Ge[u]:e.je[u];if(h!==void 0&&h.ot!==0){n=h.index;break}}}if(this.index!==n){let a=this.separatorStroke;a===null&&e!==null&&(a=s?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),a!==null&&(t=this.separatorStrokeWidth,isNaN(t)&&(e!==null?t=s?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:t=0))}let r=this.jo;if(r===null)if(e!==null)r=e.defaultSeparatorPadding;else return t;return t+(this.isRow?r.top+r.bottom:r.left+r.right)}t(t,e,n,s,r){const a=this.Bs;if(a!==null&&(a.raiseChangedEvent(2,t,this,e,n,s,r),this.Gs!==null)){const u=a.diagram;if(u!==null&&!u.de){const h=a.findBindingPanel();if(h!==null){const f=h.data;if(f!==null){const m=this.Gs.iterator;for(;m.next();)m.value.updateSource(this,f,t,h)}}}}}get panel(){return this.Bs}get isRow(){return this.gp}set isRow(t){this.gp=t}get index(){return this.Dt}set index(t){this.Dt=t}get height(){return this.me}set height(t){const e=this.me;e!==t&&(t<0&&o.tt(t,">= 0",lo,"height"),this.me=t,this.actual=this.ot,this.panel!==null&&this.panel.c(),this.t("height",e,t))}get width(){return this.me}set width(t){const e=this.me;e!==t&&(t<0&&o.tt(t,">= 0",lo,"width"),this.me=t,this.actual=this.ot,this.panel!==null&&this.panel.c(),this.t("width",e,t))}get minimum(){return this.Pa}set minimum(t){const e=this.Pa;e!==t&&((t<0||!isFinite(t))&&o.tt(t,">= 0",lo,"minimum"),this.Pa=t,this.actual=this.ot,this.panel!==null&&this.panel.c(),this.t("minimum",e,t))}get maximum(){return this.Ma}set maximum(t){const e=this.Ma;e!==t&&(t<0&&o.tt(t,">= 0",lo,"maximum"),this.Ma=t,this.actual=this.ot,this.panel!==null&&this.panel.c(),this.t("maximum",e,t))}get alignment(){return this.oi}set alignment(t){const e=this.oi;e.equals(t)||(this.oi=t.N(),this.panel!==null&&this.panel.c(),this.t("alignment",e,t))}get stretch(){return this.to}set stretch(t){const e=this.to;e!==t&&(this.to=t,this.panel!==null&&this.panel.c(),this.t("stretch",e,t))}get separatorPadding(){return this.jo}set separatorPadding(t){typeof t=="number"&&(t=new K(t));const e=this.jo;(t===null||e===null||!e.equals(t))&&(t!==null&&(t=t.N()),this.jo=t,this.panel!==null&&this.panel.c(),this.t("separatorPadding",e,t))}get separatorStroke(){return this.yd}set separatorStroke(t){const e=this.yd;e!==t&&(t!==null&&Pt.od(t,"RowColumnDefinition.separatorStroke"),t instanceof Pt&&t.g(),this.yd=t,this.panel!==null&&this.panel.c(),this.t("separatorStroke",e,t))}get separatorStrokeWidth(){return this.wd}set separatorStrokeWidth(t){const e=this.wd;e!==t&&(this.wd=t,this.panel!==null&&this.panel.c(),this.t("separatorStrokeWidth",e,t))}get separatorDashArray(){return this.Sa}set separatorDashArray(t){const e=this.Sa;if(e!==t){if(t!==null&&!Array.isArray(t)&&o.be(t,"Array",lo,"separatorDashArray:value"),t!==null){const n=t.length;let s=0;for(let r=0;r<n;r++){const a=t[r];(typeof a!="number"||!(a>=0)||!isFinite(a))&&o.o("separatorDashArray value "+a+" at index "+r+" must be a positive number or zero."),s+=a}if(s===0){if(e===null)return;t=null}}this.Sa=t,this.panel!==null&&this.panel.C(),this.t("separatorDashArray",e,t)}}get background(){return this.Ct}set background(t){const e=this.Ct;e!==t&&(t!==null&&Pt.od(t,"RowColumnDefinition.background"),t instanceof Pt&&t.g(),this.Ct=t,this.panel!==null&&this.panel.C(),this.t("background",e,t))}get coversSeparators(){return this.xd}set coversSeparators(t){const e=this.xd;e!==t&&(o.i(t,"boolean",lo,"coversSeparators"),this.xd=t,this.panel!==null&&this.panel.C(),this.t("coversSeparators",e,t))}get sizing(){return this.pd}set sizing(t){const e=this.pd;e!==t&&(this.pd=t,this.panel!==null&&this.panel.c(),this.t("sizing",e,t))}Kb(){if(this.sizing===1){const t=this.Bs;return this.isRow?t.rowSizing:t.columnSizing}return this.sizing}get actual(){return this.ot}set actual(t){isNaN(this.me)?this.ot=Math.max(Math.min(this.Ma,t),this.Pa):this.ot=Math.max(Math.min(this.Ma,this.me),this.Pa)}get measured(){return this.ji}set measured(t){this.ji=t}get total(){return this.ot+this.computeEffectiveSpacing()}get position(){return this.st}set position(t){this.st=t}bind(t,e,n,s){return this.tf(t,e,n,s),this}bindTwoWay(t,e,n,s){const r=this.tf(t,e,n,s);return s===void 0&&r.makeTwoWay(),this}theme(t,e,n,s,r){return this.uh(t,e,n,s,r),this}themeData(t,e,n,s,r){return this.uh(t,e,n,s,r).ofData(),this}themeObject(t,e,n,s,r,a){return this.uh(t,e,n,s,r).ofObject(a),this}themeModel(t,e,n,s,r){return this.uh(t,e,n,s,r).ofModel(),this}tf(t,e,n,s){let r=null;return typeof t=="string"?r=new mr(t,e,n,s):r=t,this.K0(r),r}uh(t,e,n,s,r){let a=null;return typeof t=="string"?a=new wl(t,e,n,s,r):a=t,this.K0(a),a}K0(t){t.Me=this;const e=this.panel;if(e!==null){const n=e.findBindingPanel();n!==null&&n.oA()&&o.o("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}this.Gs===null&&(this.Gs=new w),this.Gs.add(t)}};k(lo,"Default",1),k(lo,"None",2),k(lo,"ProportionalExtra",3);let ps=lo;const ti=class ti extends ai{constructor(e,n){super();k(this,"ft");k(this,"ks");k(this,"bd");k(this,"Na");k(this,"Hi");k(this,"Ho");k(this,"Ko");k(this,"Lt");k(this,"kd");k(this,"Pd");k(this,"$");this.ft=null,this.ks=null,this.bd="None",this.Na="black",this.Hi="black",this.Ho=1,this.Ko=null,this.Lt=null,this.kd=NaN,this.Pd=NaN,this.$=null,typeof e=="string"?this.figure=e:e&&Object.assign(this,e),n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.ft=this.ft,e.ks=this.ks,e.bd=this.bd,e.Na=this.Na,e.Hi=this.Hi,e.Ho=this.Ho,this.Ko!==null&&(e.Ko=this.Ko.slice()),this.Lt!==null&&(this.Lt.mi?e.Lt=this.Lt:e.Lt=this.Lt.copy()),e.kd=this.kd,e.Pd=this.Pd,this.$!==null&&(e.$=this.$.copy())}Ca(){this.Lt===null?this.Lt=new Cf:this.Lt.mi&&(this.Lt=this.Lt.copy())}lh(){super.lh(),this.Lt!==null&&(this.Lt.mi=!0)}li(e){e in ee?this.geometryStretch=e:super.li(e)}toString(){return"Shape("+(this.figure!=="None"?this.figure:this.toArrow!=="None"?this.toArrow:this.fromArrow)+")#"+C.cs(this)}gv(e,n){const s=this.pathPattern;s.ut(1/0,1/0);const r=s.measuredBounds;s.zt(0,0,r.width,r.height);const a=this.geometry;e.save(),e.beginPath();const u=o.rt();if(a.type===1)u.push(a.startX),u.push(a.startY),u.push(a.endX),u.push(a.endY),this.Md(e,n,u,s);else if(a.type===4){const h=a.figures.iterator;for(;h.next();){const f=h.value;u.length=0,u.push(f.startX),u.push(f.startY);let m=f.startX,y=f.startY,x=m,S=y;const E=f.segments.r,L=E.length;for(let D=0;D<L;D++){const F=E[D];switch(F.type){case 1:this.Md(e,n,u,s),u.length=0,u.push(F.endX),u.push(F.endY),m=F.endX,y=F.endY,x=m,S=y;break;case 2:u.push(F.endX),u.push(F.endY),m=F.endX,y=F.endY;break;case 3:$.Un(m,y,F.point1X,F.point1Y,F.point2X,F.point2Y,F.endX,F.endY,.5,u),m=F.endX,y=F.endY;break;case 4:$.Ug(m,y,F.point1X,F.point1Y,F.endX,F.endY,.5,u),m=F.endX,y=F.endY;break;case 5:{const V=F.No(f),U=V.length;if(U===0){u.push(F.centerX),u.push(F.centerY),m=F.centerX,y=F.centerY;break}for(let W=0;W<U;W++){const q=V[W];$.Un(m,y,q[2],q[3],q[4],q[5],q[6],q[7],.5,u),m=q[6],y=q[7]}break}case 6:{const V=F.Eh(f,m,y),U=V.length;if(U===0){u.push(F.endX),u.push(F.endY),m=F.endX,y=F.endY;break}for(let W=0;W<U;W++){const q=V[W];$.Un(m,y,q[2],q[3],q[4],q[5],q[6],q[7],.5,u),m=q[6],y=q[7]}break}default:o.o("Segment not of valid type: "+F.type)}F.isClosed&&(u.push(x),u.push(S),this.Md(e,n,u,s))}this.Md(e,n,u,s)}}else if(a.type===2)u.push(a.startX),u.push(a.startY),u.push(a.endX),u.push(a.startY),u.push(a.endX),u.push(a.endY),u.push(a.startX),u.push(a.endY),u.push(a.startX),u.push(a.startY),this.Md(e,n,u,s);else if(a.type===3){const h=new X;h.startX=a.endX,h.startY=(a.startY+a.endY)/2;const f=new de(5);f.startAngle=0,f.sweepAngle=360,f.centerX=(a.startX+a.endX)/2,f.centerY=(a.startY+a.endY)/2,f.radiusX=Math.abs(a.startX-a.endX)/2,f.radiusY=Math.abs(a.startY-a.endY)/2,h.add(f);const m=f.No(h),y=m.length;if(y===0)u.push(f.centerX),u.push(f.centerY);else{let x=h.startX,S=h.startY;for(let E=0;E<y;E++){const L=m[E];$.Un(x,S,L[2],L[3],L[4],L[5],L[6],L[7],.5,u),x=L[6],S=L[7]}}this.Md(e,n,u,s)}o.it(u),e.restore(),e.clearContextCache(!1)}mv(e){let n=e.measuredBounds.width;return e instanceof ti&&(n-=e.strokeWidth),n<1&&(n=1),n}Md(e,n,s,r){const a=s.length;if(a<4)return;const u=r.measuredBounds,h=Math.max(1,u.width),f=u.height;let m=s[0],y=s[1],x=0,S=0,E=0,L=0,D=0,F=0,V=0,U=0;const W=o.rt();for(let ke=2;ke<a;ke+=2)x=s[ke],S=s[ke+1],E=x-m,L=S-y,E===0&&(E=.001),D=L/E,F=Math.atan2(L,E),V=Math.sqrt(E*E+L*L),W.push([E,F,D,V]),U+=V,m=x,y=S;m=s[0],y=s[1];const q=this.mv(r);let le=q;const oe=h/2;let ce=oe!==0,Se=0,he=W[Se];E=he[0],F=he[1],D=he[2],V=he[3];let ge=0;for(;U>=.1;){if(ge===0&&(ce?(le=q,le-=oe,U-=oe,ce=!1):le=q,le===0&&(le=1)),le>U){le=U,o.it(W);return}le>V?(ge=le-V,le=V):ge=0;let ke=Math.sqrt(le*le/(1+D*D));if(E<0&&(ke=-ke),m+=ke,y+=D*ke,e.translate(m,y),e.rotate(F),e.translate(-(h/2),-(f/2)),ge===0&&r.fh(e,n),e.translate(h/2,f/2),e.rotate(-F),e.translate(-m,-y),U-=le,V-=le,ge!==0){if(Se++,Se===W.length){o.it(W);return}he=W[Se],E=he[0],F=he[1],D=he[2],V=he[3],le=ge}}o.it(W)}fh(e,n){const s=e instanceof Gi;let r=this.Hi;const a=this.Na;if(r===null&&a===null)return;const u=this.ft;if(u===null)return;e.commitTransform();const h=this.actualBounds,f=this.naturalBounds;a!==null&&this.gn(e,a,!0,!1,f,h);const m=this.part;let y=this.Ho;r!==null&&y===0&&m!==null&&(this.isPanelMain||m.findMainElement()===this)&&(y=m.pv()),y===0&&(r=null),r!==null&&y!==0&&(this.gn(e,r,!1,!1,f,h),e.lineWidth=y,e.lineJoin=this.strokeJoin,e.lineCap=this.strokeCap,e.miterLimit=this.strokeMiterLimit);let x=!1;m&&n.getRenderingHint("drawShadows")&&(x=m.isShadowed),e.el===!1&&(x=!1);let S=!0;r!==null&&(a===null||a==="transparent")&&(S=!1);let E=!1;const L=this.strokeDashArray;if(L!==null&&(E=!0,e.enableDash(L,this.strokeDashOffset)),u.type===1)e.beginPath(),e.moveTo(u.startX,u.startY),e.lineTo(u.endX,u.endY),r!==null&&e.strokeContext(),e.endPath();else if(u.type===2){const D=u.startX,F=u.startY,V=u.endX,U=u.endY,W=Math.min(D,V),q=Math.min(F,U),le=Math.abs(V-D),oe=Math.abs(U-F);e.beginPath(),e.rect(W,q,le,oe),a!==null&&e.fillContext(a,!1,null),r!==null&&(S&&x&&e.shadowsOff(),e.strokeContext(),S&&x&&e.shadowsOn()),e.endPath()}else if(u.type===3){const D=u.startX,F=u.startY,V=u.endX,U=u.endY,W=Math.abs(V-D)/2,q=Math.abs(U-F)/2,le=Math.min(D,V)+W,oe=Math.min(F,U)+q;e.beginPath(),e.moveTo(le,oe-q),e.bezierCurveTo(le+$.Vn*W,oe-q,le+W,oe-$.Vn*q,le+W,oe),e.bezierCurveTo(le+W,oe+$.Vn*q,le+$.Vn*W,oe+q,le,oe+q),e.bezierCurveTo(le-$.Vn*W,oe+q,le-W,oe+$.Vn*q,le-W,oe),e.bezierCurveTo(le-W,oe-$.Vn*q,le-$.Vn*W,oe-q,le,oe-q),e.closePath(),a!==null&&e.fillContext(a,!1,null),r!==null&&(S&&x&&e.shadowsOff(),e.strokeContext(),S&&x&&e.shadowsOn()),e.endPath()}else if(u.type===4){const D=u.figures,F=D.length;for(let V=0;V<F;V++){const U=D.r[V];s?this.buildPath(e,U):U.Be===null&&(U.Be=new Path2D,this.buildPath(U.Be,U));const W=U.isFilled;x?U.isShadowed?(W===!0&&a!=="transparent"&&a!==null&&e.fillContext(a,U.isEvenOdd,U.Be),r!==null&&(W&&S&&e.shadowsOff(),e.stroke(U.Be),W&&S&&e.shadowsOn())):(e.shadowsOff(),W&&a!=="transparent"&&a!==null&&e.fillContext(a,U.isEvenOdd,U.Be),r!==null&&e.stroke(U.Be),e.shadowsOn()):(W&&a!==null&&e.fillContext(a,U.isEvenOdd,U.Be),r!==null&&e.stroke(U.Be)),e.endPath(V)}}E&&e.disableDash(),this.pathPattern!==null&&this.gv(e,n)}buildPath(e,n){e instanceof Path2D||e.beginPath(),e.moveTo(n.startX,n.startY);const s=n.segments.r,r=s.length;let a=null;for(let u=0;u<r;u++){const h=s[u];switch(h.type){case 1:e.moveTo(h.endX,h.endY);break;case 2:e.lineTo(h.endX,h.endY);break;case 3:e.bezierCurveTo(h.point1X,h.point1Y,h.point2X,h.point2Y,h.endX,h.endY);break;case 4:e.quadraticCurveTo(h.point1X,h.point1Y,h.endX,h.endY);break;case 5:if(h.radiusX===h.radiusY){const f=a!==null?a.endX:n.startX,m=a!==null?a.endY:n.startY,y=Math.PI/180;e.arc(h.point1X,h.point1Y,h.radiusX,h.startAngle*y,(h.startAngle+h.sweepAngle)*y,h.sweepAngle<0,f,m)}else{const f=h.No(n),m=f.length;if(m===0){e.lineTo(h.centerX,h.centerY);break}for(let y=0;y<m;y++){const x=f[y];y===0&&e.lineTo(x[0],x[1]),e.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7])}}break;case 6:{let f=0,m=0,y;if(a!==null&&a.type===5){y=a.No(n);const S=y.length;if(S===0){e.lineTo(h.endX,h.endY);break}const E=y[S-1]||null;E!==null&&(f=E[6],m=E[7])}else f=a!==null?a.endX:n.startX,m=a!==null?a.endY:n.startY;y=h.Eh(n,f,m);const x=y.length;if(x===0){e.lineTo(h.endX,h.endY);break}for(let S=0;S<x;S++){const E=y[S];e.bezierCurveTo(E[2],E[3],E[4],E[5],E[6],E[7])}break}}h.isClosed&&e.closePath(),a=h}}$c(e,n,s){if(!super.$c(e,n,s)||this.Hi===null&&this.Na===null||this.ft===null||this.pathPattern!==null)return!1;const r=this.svg.getElementsByTagName("path");return this.geometry.figures.length!==r.length?!1:(e.currentPath=this.svg,this.fh(e,n),e.currentPath=null,!0)}sd(e){return this.geometry!==null&&this.geometry.figures.length>1||this.pathPattern!==null?!0:super.sd(e)}e2(e,n){if(e.nodeName!=="g")e.setAttributeNS(null,"filter",n);else{const s=e.getElementsByTagName("path");for(let r=0;r<s.length;r++)s[r].setAttributeNS(null,"filter",n)}}getDocumentPoint(e,n){if(n===void 0&&(n=new T),e instanceof B){const s=e;s.isNoSpot()&&o.o("getDocumentPoint Spot must be a real, specific Spot, not: "+s.toString());const r=this.naturalBounds,a=this.strokeWidth;return n.e(s.x*(r.width+a)-a/2+r.x+s.offsetX,s.y*(r.height+a)-a/2+r.y+s.offsetY),this.ys.xt(n),n}else return n.set(e),this.ys.xt(n),n}getDocumentBounds(e){e===void 0&&(e=new I);const n=this.naturalBounds,s=this.ys,r=I.X(n.x,n.y,n.width,n.height),a=this.strokeWidth;r.inflate(a/2,a/2);const u=T.X(r.x,r.y).L(s);return e.e(u.x,u.y,0,0),u.e(r.right,r.y).L(s),e.unionNoCheck(u.x,u.y,0,0),u.e(r.right,r.bottom).L(s),e.unionNoCheck(u.x,u.y,0,0),u.e(r.x,r.bottom).L(s),e.unionNoCheck(u.x,u.y,0,0),I.s(r),T.s(u),e}hh(e,n){const s=this.geometry;if(s===null||this.fill===null&&this.stroke===null)return!1;const r=s.bounds;let a=this.strokeWidth/2;s.type===1&&!n&&(a+=2);const u=I.l();if(u.a(r),u.inflate(a+2,a+2),!u.containsPoint(e))return I.s(u),!1;const h=a+1e-4;if(s.type===1){if(this.stroke===null)return!1;const f=(s.startX-s.endX)*(e.x-s.endX)+(s.startY-s.endY)*(e.y-s.endY),m=(s.endX-s.startX)*(e.x-s.startX)+(s.endY-s.startY)*(e.y-s.startY);return f<0||m<0?!1:(I.s(u),$.vi(s.startX,s.startY,s.endX,s.endY,a,e.x,e.y))}else if(s.type===2){const f=s.startX,m=s.startY,y=s.endX,x=s.endY;if(u.x=Math.min(f,y),u.y=Math.min(m,x),u.width=Math.abs(y-f),u.height=Math.abs(x-m),this.fill===null){if(u.inflate(-h,-h),u.containsPoint(e))return I.s(u),!1;u.inflate(h,h)}this.stroke!==null&&u.inflate(a,a);const S=u.containsPoint(e);return I.s(u),S}else if(s.type===3){const f=s.startX,m=s.startY,y=s.endX,x=s.endY;let S=Math.min(f,y),E=Math.min(m,x);const L=Math.abs(y-f),D=Math.abs(x-m);let F=L/2,V=D/2;if(S=e.x-(S+F),E=e.y-(E+V),this.fill===null){if(F-=h,V-=h,F<=0||V<=0||S*S/(F*F)+E*E/(V*V)<=1)return I.s(u),!1;F+=h,V+=h}return this.stroke!==null&&(F+=h,V+=h),I.s(u),F<=0||V<=0?!1:S*S/(F*F)+E*E/(V*V)<=1}else{if(s.type===4)return I.s(u),this.fill===null?s.pC(e.x,e.y,a):s.Uk(e,a,this.strokeWidth>1,n);o.o("Unknown Geometry type: "+s.type)}}_u(e,n,s,r){const a=this.desiredSize,u=this.Ho;e=Math.max(e,0),n=Math.max(n,0);let h;if(this.ks!==null)h=this.geometry.bounds;else{const D=this.figure;let F=ti.R2[D];if(F===void 0){let V=$.So[D];typeof V=="string"&&(V=$.So[V]),typeof V=="function"?(F=V(null,100,100),ti.R2[D]=F):o.o("Unsupported Figure: "+D)}h=F.bounds}let f=h.width,m=h.height,y=h.width,x=h.height;switch(this.zs(!0)){case 0:s=0,r=0;break;case 2:y=Math.max(e-u,0),x=Math.max(n-u,0);break;case 5:y=Math.max(e-u,0),r=0;break;case 4:s=0,x=Math.max(n-u,0);break}isFinite(a.width)&&(y=a.width),isFinite(a.height)&&(x=a.height);const S=this.maxSize,E=this.minSize;s=Math.max(s-u,E.width),r=Math.max(r-u,E.height),y=Math.min(S.width,y),x=Math.min(S.height,x),y=isFinite(y)?Math.max(s,y):Math.max(f,s),x=isFinite(x)?Math.max(r,x):Math.max(m,r);const L=this.QP();switch(L){case 0:break;case 2:f=y,m=x;break;case 6:{let D=Math.min(y/f,x/m);isFinite(D)||(D=1),f=f*D,m=m*D;break}default:o.o(L+" is not a valid geometryStretch.")}if(this.ks!==null){f===0&&(f=.001),m===0&&(m=.001);const D=(this.ks!==null?this.ks:this.ft).UD(f,m);this.ft=D}else(this.ft===null||!$.Y(this.ft.ec,e-u)||!$.Y(this.ft.sc,n-u))&&(this.ft=ti.yv(this,f,m));h=this.ft.bounds,e===1/0||n===1/0?this.Qn(h.x-u/2,h.y-u/2,e===0&&f===0?0:h.width+u,n===0&&m===0?0:h.height+u):this.Qn(-(u/2),-(u/2),y+u,x+u),a.isReal()?(y=a.width,x=a.height,y=Math.min(S.width,y),x=Math.min(S.height,x),y=Math.max(E.width,y),x=Math.max(E.height,x),this.Bi.e(0,0,y,x)):this.Bi.a(h)}QP(){const e=this.geometryStretch;return this.ks!==null?e===1?2:e:e===1?ti.R2[this.figure].defaultStretch:e}ah(e,n,s,r){this.commonArrange(e,n,s,r)}getNearestIntersectionPoint(e,n,s){return this.Jc(e.x,e.y,n.x,n.y,s)}Jc(e,n,s,r,a){const u=this.L,h=1/(u.m11*u.m22-u.m12*u.m21),f=u.m22*h,m=-u.m12*h,y=-u.m21*h,x=u.m11*h,S=h*(u.m21*u.dy-u.m22*u.dx),E=h*(u.m12*u.dx-u.m11*u.dy),L=e*f+n*y+S,D=e*m+n*x+E,F=s*f+r*y+S,V=s*m+r*x+E,U=this.Ho/2;let W=this.ft;W===null&&(this.ut(1/0,1/0),W=this.ft);const q=W.bounds;let le=!1;if(W.type===1)if(this.strokeWidth<=1.5)le=$.Bn(W.startX,W.startY,W.endX,W.endY,L,D,F,V,a);else{let oe=0,ce=0;if(W.startX===W.endX)oe=U,ce=0;else{const we=(W.endY-W.startY)/(W.endX-W.startX);ce=U/Math.sqrt(1+we*we),oe=ce*we}const Se=o.rt();let he=new T;$.Bn(W.startX+oe,W.startY+ce,W.endX+oe,W.endY+ce,L,D,F,V,he)&&Se.push(he),he=new T,$.Bn(W.startX-oe,W.startY-ce,W.endX-oe,W.endY-ce,L,D,F,V,he)&&Se.push(he),he=new T,$.Bn(W.startX+oe,W.startY+ce,W.startX-oe,W.startY-ce,L,D,F,V,he)&&Se.push(he),he=new T,$.Bn(W.endX+oe,W.endY+ce,W.endX-oe,W.endY-ce,L,D,F,V,he)&&Se.push(he);const ge=Se.length;if(ge===0)return o.it(Se),!1;le=!0;let ke=1/0;for(let we=0;we<ge;we++){const Pe=Se[we],Re=(Pe.x-L)*(Pe.x-L)+(Pe.y-D)*(Pe.y-D);Re<ke&&(ke=Re,a.x=Pe.x,a.y=Pe.y)}o.it(Se)}else if(W.type===2)le=$.wl(q.x-U,q.y-U,q.x+q.width+U,q.y+q.height+U,L,D,F,V,a);else if(W.type===3){const oe=I.X(q.x,q.y,q.width,q.height).inflate(U,U);le=this.wv(oe,L,D,F,V,a),I.s(oe)}else if(W.type===4){let oe=0,ce=0,Se=0,he=0;const ge=T.l();let ke=F-L,we=V-D,Pe=ke*ke+we*we,Re=L,Xe=D;if(Pe>0&&q.contains(Re,Xe)&&(ge.x=Re,ge.y=Xe,this.containsPoint(ge)))for(ke!==0&&Math.abs(ke)<.5?(we*=.5/ke,ke=.5):we!==0&&Math.abs(we)<.5&&(ke*=.5/we,we=.5),Re-=ke,Xe-=we;q.contains(Re,Xe);)Re-=ke,Xe-=we;const at=.6;a.x=F,a.y=V;for(let sn=0;sn<W.figures.count;sn++){const Dt=W.figures.r[sn],Bt=Dt.isFilled?Re:L,It=Dt.isFilled?Xe:D,zt=Dt.segments;oe=Dt.startX,ce=Dt.startY;let xn=oe,mn=ce;for(let Ot=0;Ot<zt.count;Ot++){const Jt=zt.r[Ot],ni=Jt.type;Se=Jt.endX,he=Jt.endY;let Pn=!1;switch(ni){case 1:xn=Se,mn=he;break;case 2:Pn=this.qb(oe,ce,Se,he,Bt,It,F,V,ge);break;case 3:{Pn=$.Bg(oe,ce,Jt.point1X,Jt.point1Y,Jt.point2X,Jt.point2Y,Se,he,Bt,It,F,V,at,ge);break}case 4:{Pn=$.Bg(oe,ce,oe+2/3*(Jt.point1X-oe),ce+2/3*(Jt.point1Y-ce),Se+2/3*(Jt.point1X-Se),he+2/3*(Jt.point1Y-he),Se,he,Bt,It,F,V,at,ge);break}case 5:case 6:{const Rt=Jt.type===5?Jt.No(Dt):Jt.Eh(Dt,oe,ce),xt=Rt.length;if(xt===0){Pn=this.qb(oe,ce,Jt.type===5?Jt.centerX:Jt.endX,Jt.type===5?Jt.centerY:Jt.endY,Bt,It,F,V,ge);break}let Qt=null;for(let Dn=0;Dn<xt;Dn++){if(Qt=Rt[Dn],Dn===0&&this.qb(oe,ce,Qt[0],Qt[1],Bt,It,F,V,ge)){const di=this.Wb(Bt,It,ge,Pe,a);di<Pe&&(Pe=di,le=!0)}if($.Bg(Qt[0],Qt[1],Qt[2],Qt[3],Qt[4],Qt[5],Qt[6],Qt[7],Bt,It,F,V,at,ge)){const di=this.Wb(Bt,It,ge,Pe,a);di<Pe&&(Pe=di,le=!0)}}Se=Qt[6],he=Qt[7];break}default:o.o("Unknown Segment type: "+ni)}if(oe=Se,ce=he,Pn){const Rt=this.Wb(Bt,It,ge,Pe,a);Rt<Pe&&(Pe=Rt,le=!0)}if(Jt.isClosed&&(Se=xn,he=mn,this.qb(oe,ce,Se,he,Bt,It,F,V,ge))){const Rt=this.Wb(Bt,It,ge,Pe,a);Rt<Pe&&(Pe=Rt,le=!0)}}}let je=s-e,ft=r-n;const Ct=Math.sqrt(je*je+ft*ft);Ct!==0&&(je/=Ct,ft/=Ct),a.x-=je*U,a.y-=ft*U,T.s(ge)}else o.o("Unknown Geometry type: "+W.type);return le?(this.L.xt(a),!0):!1}Wb(e,n,s,r,a){const u=s.x-e,h=s.y-n,f=u*u+h*h;return f<r?(a.x=s.x,a.y=s.y,f):r}qb(e,n,s,r,a,u,h,f,m){if($.Y(e,s)&&$.Y(n,r)||$.Y(a,h)&&$.Y(u,f))return!1;let y=!1;const x=(a-h)*(n-r)-(u-f)*(e-s);if(x===0)return!1;if(m.x=((a*f-u*h)*(e-s)-(a-h)*(e*r-n*s))/x,m.y=((a*f-u*h)*(n-r)-(u-f)*(e*r-n*s))/x,(e>s?e-s:s-e)<(n>r?n-r:r-n)){const S=n<r?n:r,E=n<r?r:n;(m.y>S||$.Y(m.y,S))&&(m.y<E||$.Y(m.y,E))&&(y=!0)}else{const S=e<s?e:s,E=e<s?s:e;(m.x>S||$.Y(m.x,S))&&(m.x<E||$.Y(m.x,E))&&(y=!0)}return y}xv(e,n,s){return this.pickable===!1?!1:(s.tc(this.L),n?this.bv(e,s):this.containedInRect(e,s))}containedInRect(e,n){if(n===void 0)return e.containsRect(this.actualBounds);let s=this.ft;s===null&&(this.ut(1/0,1/0),s=this.ft);const r=s.bounds,a=this.strokeWidth/2;let u=!1;const h=T.l();return h.e(r.x-a,r.y-a),e.containsPoint(n.xt(h))&&(h.e(r.x-a,r.bottom+a),e.containsPoint(n.xt(h))&&(h.e(r.right+a,r.bottom+a),e.containsPoint(n.xt(h))&&(h.e(r.right+a,r.y-a),e.containsPoint(n.xt(h))&&(u=!0)))),T.s(h),u}intersectsRect(e,n){if(this.containedInRect(e,n)||n===void 0&&(n=this.L,e.containsRect(this.actualBounds)))return!0;const s=G.l();s.set(n),s.mw();const r=e.left,a=e.right,u=e.top,h=e.bottom,f=T.l();if(f.e(r,u),s.xt(f),this.hh(f,!0)||(f.e(a,u),s.xt(f),this.hh(f,!0))||(f.e(r,h),s.xt(f),this.hh(f,!0))||(f.e(a,h),s.xt(f),this.hh(f,!0)))return T.s(f),!0;const m=T.l(),y=T.l();s.set(n),s.oC(this.L),s.mw(),m.x=a,m.y=u,m.L(s),f.x=r,f.y=u,f.L(s);let x=!1;return this.La(f,m,y)?x=!0:(f.x=a,f.y=h,f.L(s),this.La(f,m,y)?x=!0:(m.x=r,m.y=h,m.L(s),this.La(f,m,y)?x=!0:(f.x=r,f.y=u,f.L(s),this.La(f,m,y)&&(x=!0)))),T.s(f),G.s(s),T.s(m),T.s(y),x}La(e,n,s){if(!this.getNearestIntersectionPoint(e,n,s))return!1;const r=e.x,a=e.y,u=n.x,h=n.y,f=s.x,m=s.y;if(r===u){let y=0,x=0;return a<h?(y=a,x=h):(y=h,x=a),m>=y&&m<=x}else{let y=0,x=0;return r<u?(y=r,x=u):(y=u,x=r),f>=y&&f<=x}}bv(e,n){if(this.containedInRect(e,n)||n===void 0&&(n=this.L,e.containsRect(this.actualBounds)))return!0;const s=e.left,r=e.right,a=e.top,u=e.bottom,h=T.l(),f=T.l(),m=T.l(),y=G.l();y.set(n),y.oC(this.L),y.mw(),f.x=r,f.y=a,f.L(y),h.x=s,h.y=a,h.L(y);let x=!1;return this.La(h,f,m)?x=!0:(h.x=r,h.y=u,h.L(y),this.La(h,f,m)?x=!0:(f.x=s,f.y=u,f.L(y),this.La(h,f,m)?x=!0:(h.x=s,h.y=a,h.L(y),this.La(h,f,m)&&(x=!0)))),G.s(y),T.s(h),T.s(f),T.s(m),x}JL(e,n,s){if(s&&this.fill!==null&&this.hh(e,!0))return!0;let r=e.distanceSquaredPoint(n);const a=r;this.strokeWidth>1.5&&(r=this.strokeWidth/2+Math.sqrt(r),r*=r);let u=this.ft;if(u===null&&(this.ut(1/0,1/0),u=this.ft,u===null))return!1;if(!s){const S=u.bounds,E=S.x,L=S.y,D=S.x+S.width,F=S.y+S.height;if(T.distanceSquared(e.x,e.y,E,L)<=r&&T.distanceSquared(e.x,e.y,D,L)<=r&&T.distanceSquared(e.x,e.y,E,F)<=r&&T.distanceSquared(e.x,e.y,D,F)<=r)return!0}function h(S,E){const L=S.length;for(let D=0;D<L;D+=2)if(E.distanceSquared(S[D],S[D+1])>r)return!0;return!1}const f=u.startX,m=u.startY,y=u.endX,x=u.endY;if(u.type===1){const S=T.distanceLineSegmentSquared(e.x,e.y,f,m,y,x),E=(y-f)*(e.x-f)+(x-m)*(e.y-m),L=(f-y)*(e.x-y)+(m-x)*(e.y-x),D=E>=0&&L>=0?r:a;return S<=D}else if(u.type===2){let S=!1;return s&&(S=T.distanceLineSegmentSquared(e.x,e.y,f,m,f,x)<=r||T.distanceLineSegmentSquared(e.x,e.y,f,m,y,m)<=r||T.distanceLineSegmentSquared(e.x,e.y,y,m,y,x)<=r||T.distanceLineSegmentSquared(e.x,e.y,f,x,y,x)<=r),S}else if(u.type===3){const S=(f+y)/2,E=(m+x)/2,L=e.x-S,D=e.y-E,F=Math.abs(y-f)/2,V=Math.abs(x-m)/2;if(F===0||V===0)return T.distanceLineSegmentSquared(e.x,e.y,f,m,y,x)<=r;if(s){const U=$.TD(F,V,L,D);return U*U<=r}else return!(T.distanceSquared(L,D,-F,0)>=r||T.distanceSquared(L,D,0,-V)>=r||T.distanceSquared(L,D,0,V)>=r||T.distanceSquared(L,D,F,0)>=r)}else if(u.type===4){const S=u.bounds,E=S.x,L=S.y,D=S.x+S.width,F=S.y+S.height;if(e.x>D&&e.x<E&&e.y>F&&e.y<L&&T.distanceLineSegmentSquared(e.x,e.y,E,L,E,F)>r&&T.distanceLineSegmentSquared(e.x,e.y,E,L,D,L)>r&&T.distanceLineSegmentSquared(e.x,e.y,D,F,E,F)>r&&T.distanceLineSegmentSquared(e.x,e.y,D,F,D,L)>r)return!1;const V=Math.sqrt(r);if(s){if(this.fill===null?u.pC(e.x,e.y,V):u.Uk(e,V,!0,!1))return!0}else{const U=u.figures;for(let W=0;W<U.count;W++){const q=U.r[W];let le=q.startX,oe=q.startY;if(e.distanceSquared(le,oe)>r)return!1;const ce=q.segments.r,Se=ce.length;for(let he=0;he<Se;he++){const ge=ce[he];switch(ge.type){case 1:case 2:if(le=ge.endX,oe=ge.endY,e.distanceSquared(le,oe)>r)return!1;break;case 3:{const ke=o.rt();$.Un(le,oe,ge.point1X,ge.point1Y,ge.point2X,ge.point2Y,ge.endX,ge.endY,.8,ke);const we=h(ke,e);if(o.it(ke),we||(le=ge.endX,oe=ge.endY,e.distanceSquared(le,oe)>r))return!1;break}case 4:{const ke=o.rt();$.Ug(le,oe,ge.point1X,ge.point1Y,ge.endX,ge.endY,.8,ke);const we=h(ke,e);if(o.it(ke),we||(le=ge.endX,oe=ge.endY,e.distanceSquared(le,oe)>r))return!1;break}case 5:case 6:{const ke=ge.type===5?ge.No(q):ge.Eh(q,le,oe),we=ke.length;if(we===0){if(le=ge.type===5?ge.centerX:ge.endX,oe=ge.type===5?ge.centerY:ge.endY,e.distanceSquared(le,oe)>r)return!1;break}let Pe=null;const Re=o.rt();for(let Xe=0;Xe<we;Xe++)if(Pe=ke[Xe],Re.length=0,$.Un(Pe[0],Pe[1],Pe[2],Pe[3],Pe[4],Pe[5],Pe[6],Pe[7],.8,Re),h(Re,e))return o.it(Re),!1;o.it(Re),Pe!==null&&(le=Pe[6],oe=Pe[7]);break}default:o.o("Unknown Segment type: "+ge.type)}}}return!0}}return!1}wv(e,n,s,r,a,u){if(e.width===0)return $.Bn(e.x,e.y,e.x,e.y+e.height,n,s,r,a,u);if(e.height===0)return $.Bn(e.x,e.y,e.x+e.width,e.y,n,s,r,a,u);{const h=e.width/2,f=e.height/2,m=e.x+h,y=e.y+f;let x=9999;if(n!==r&&(x=(s-a)/(n-r)),Math.abs(x)<9999){const S=s-y-x*(n-m);if(h*h*(x*x)+f*f-S*S<0)return u.x=NaN,u.y=NaN,!1;const E=Math.sqrt(h*h*(x*x)+f*f-S*S),L=(-(h*h*x*S)+h*f*E)/(f*f+h*h*(x*x))+m,D=(-(h*h*x*S)-h*f*E)/(f*f+h*h*(x*x))+m,F=x*(L-m)+S+y,V=x*(D-m)+S+y,U=Math.abs((n-L)*(n-L))+Math.abs((s-F)*(s-F)),W=Math.abs((n-D)*(n-D))+Math.abs((s-V)*(s-V));U<W?(u.x=L,u.y=F):(u.x=D,u.y=V)}else{const S=f*f,E=h*h,L=n-m,D=S-S/E*(L*L);if(D<0)return u.x=NaN,u.y=NaN,!1;const F=Math.sqrt(D),V=y+F,U=y-F,W=Math.abs(V-s),q=Math.abs(U-s);W<q?(u.x=n,u.y=V):(u.x=n,u.y=U)}return!0}}av(){return this.Ho/2*this.strokeMiterLimit*this.getDocumentScale()}get geometry(){return this.ft!==null?this.ft:this.ks}set geometry(e){const n=this.ft,s=this.ks;if(n===e)return;e!==null?(this.ft=e.g(),this.ks=this.ft):(this.ft=null,this.ks=null);const r=this.part;if(r!==null&&r.hf(),this.c(),this.t("geometry",n||s,e),this.Wc()){const a=this.part;a!==null&&this.pa(a,"geometryString")}}get geometryString(){return this.geometry===null?"":this.geometry.toString()}set geometryString(e){const n=Q.parse(e),s=n.normalize();this.geometry=n;const r=T.X(-s.x,-s.y);this.position=r,T.s(r)}get isGeometryPositioned(){return(this.n&1048576)!==0}set isGeometryPositioned(e){const n=(this.n&1048576)!==0;n!==e&&(this.n=this.n^1048576,this.c(),this.t("isGeometryPositioned",n,e))}ne(){this.ft=null}get fill(){return this.Na}set fill(e){const n=this.Na;n!==e&&(e!==null&&Pt.od(e,"Shape.fill"),e instanceof Pt&&e.g(),this.Na=e,this.C(),this.t("fill",n,e))}get stroke(){return this.Hi}set stroke(e){const n=this.Hi;n!==e&&(e!==null&&Pt.od(e,"Shape.stroke"),e instanceof Pt&&e.g(),this.Hi=e,this.C(),this.t("stroke",n,e))}get strokeWidth(){return this.Ho}set strokeWidth(e){const n=this.Ho;if(n!==e)if(e>=0){this.Ho=e,this.c();const s=this.part;s!==null&&s.hf(),this.t("strokeWidth",n,e)}else o.tt(e,"value >= 0",ti,"strokeWidth:value")}Ab(){return this.Ho}get strokeCap(){return this.Lt!==null?this.Lt.mp:"butt"}set strokeCap(e){const n=this.strokeCap;n!==e&&(typeof e=="string"&&(e==="butt"||e==="round"||e==="square")?(this.Ca(),this.Lt.mp=e,this.C(),this.t("strokeCap",n,e)):o.tt(e,'"butt", "round", or "square"',ti,"strokeCap"))}get strokeJoin(){return this.Lt!==null?this.Lt.pp:"miter"}set strokeJoin(e){const n=this.strokeJoin;n!==e&&(typeof e=="string"&&(e==="miter"||e==="bevel"||e==="round")?(this.Ca(),this.Lt.pp=e,this.C(),this.t("strokeJoin",n,e)):o.tt(e,'"miter", "bevel", or "round"',ti,"strokeJoin"))}get strokeMiterLimit(){return this.Lt!==null?this.Lt.yp:10}set strokeMiterLimit(e){const n=this.strokeMiterLimit;if(n!==e&&e>=1){this.Ca(),this.Lt.yp=e,this.C();const s=this.part;s!==null&&s.hf(),this.t("strokeMiterLimit",n,e)}}get strokeDashArray(){return this.Ko}set strokeDashArray(e){const n=this.Ko;if(n!==e){if(e!==null&&!Array.isArray(e)&&o.be(e,"Array",ti,"strokeDashArray:value"),e!==null){const s=e.length;let r=0;for(let a=0;a<s;a++){const u=e[a];(!(u>=0)||!isFinite(u))&&o.o("strokeDashArray:value "+u+" at index "+a+" must be a positive number or zero."),r+=u}if(r===0){if(n===null)return;e=null}}this.Ko=e,this.C(),this.t("strokeDashArray",n,e)}}get strokeDashOffset(){return this.Lt!==null?this.Lt.dh:0}set strokeDashOffset(e){const n=this.strokeDashOffset;n!==e&&e>=0&&(this.Ca(),this.Lt.dh=e,this.C(),this.t("strokeDashOffset",n,e))}get figure(){return this.bd}set figure(e){const n=this.bd;if(n!==e){let s=$.So[e];if(typeof s=="function"?s=e:(s=$.So[e.toLowerCase()],s||o.o("Unknown Shape.figure: "+e)),n!==s){const r=this.part;r!==null&&r.hf(),this.bd=s,this.ks=null,this.ne(),this.c(),this.t("figure",n,s)}}}get toArrow(){return this.Vt!==null?this.Vt.wp:"None"}set toArrow(e){const n=this.toArrow;if(e===!0?e="Standard":e===!1&&(e=""),n!==e){const s=ti.MA(e);s===null?o.o("Unknown Shape.toArrow: "+e):n!==s&&(this.Vt===null&&(this.Vt=new jr),this.Vt.wp=s,this.ks=null,this.ne(),this.c(),this.SA(s),this.t("toArrow",n,s))}}get fromArrow(){return this.Vt!==null?this.Vt.xp:"None"}set fromArrow(e){const n=this.fromArrow;if(e===!0?e="Standard":e===!1&&(e=""),n!==e){const s=ti.MA(e);s===null?o.o("Unknown Shape.fromArrow: "+e):n!==s&&(this.Vt===null&&(this.Vt=new jr),this.Vt.xp=s,this.ks=null,this.ne(),this.c(),this.SA(s),this.t("fromArrow",n,s))}}SA(e){const n=this.diagram;if(n!==null&&n.undoManager.isUndoingRedoing)return;this.RR();const s=B.MiddleRight;this.toArrow!=="None"?(this.segmentIndex=-1,this.alignmentFocus=s):this.fromArrow!=="None"&&(this.segmentIndex=0,this.alignmentFocus=new B(1-s.x,s.y))}get spot1(){return this.Lt!==null?this.Lt.zn:B.Default}set spot1(e){const n=this.spot1;n.equals(e)||(e=e.N(),this.Ca(),this.Lt.zn=e,this.c(),this.t("spot1",n,e))}get spot2(){return this.Lt!==null?this.Lt.Xn:B.Default}set spot2(e){const n=this.spot2;n.equals(e)||(e=e.N(),this.Ca(),this.Lt.Xn=e,this.c(),this.t("spot2",n,e))}get parameter1(){return this.kd}set parameter1(e){const n=this.kd;n!==e&&(this.kd=e,this.ne(),this.c(),this.t("parameter1",n,e))}get parameter2(){return this.Pd}set parameter2(e){const n=this.Pd;n!==e&&(this.Pd=e,this.ne(),this.c(),this.t("parameter2",n,e))}get naturalBounds(){return this.Bi}QR(){const e=this.desiredSize;if(!e.isReal()&&this.ft!==null){const n=this.ft.bounds;this.Bi.a(n)}else this.Bi.e(0,0,e.width,e.height)}get pathPattern(){return this.Lt!==null?this.Lt.bp:null}set pathPattern(e){const n=this.pathPattern;n!==e&&(this.Ca(),this.Lt.bp=e,this.C(),this.t("pathPattern",n,e))}get geometryStretch(){return this.Lt!==null?this.Lt.kp:1}set geometryStretch(e){const n=this.geometryStretch;n!==e&&(this.Ca(),this.Lt.kp=e,this.c(),this.t("geometryStretch",n,e))}get interval(){return this.$!==null?this.$.cf:1}set interval(e){const n=this.interval;if(e=Math.round(e),n!==e&&e!==0&&isFinite(e)){this.$===null&&(this.$=new No),this.$.cf=e;const s=this.diagram;s!==null&&this.panel===s.grid&&s.qr(),this.c();const r=this.panel;r!==null&&(r.os=null),this.t("interval",n,e)}}get graduatedStart(){return this.$!==null?this.$.ff:0}set graduatedStart(e){const n=this.graduatedStart;n!==e&&(e<0?e=0:e>1&&(e=1),this.$===null&&(this.$=new No),this.$.ff=e,this.c(),this.t("graduatedStart",n,e))}get graduatedEnd(){return this.$!==null?this.$.uf:1}set graduatedEnd(e){const n=this.graduatedEnd;n!==e&&(e<0?e=0:e>1&&(e=1),this.$===null&&(this.$=new No),this.$.uf=e,this.c(),this.t("graduatedEnd",n,e))}get graduatedSkip(){return this.$!==null?this.$.df:null}set graduatedSkip(e){const n=this.graduatedSkip;n!==e&&(e!==null&&o.i(e,"function",ti,"graduatedSkip"),this.$===null&&(this.$=new No),this.$.df=e,this.c(),this.t("graduatedSkip",n,e))}static yv(e,n,s){let r=null;if(e.toArrow!=="None")r=ti.no[e.toArrow];else if(e.fromArrow!=="None")r=ti.no[e.fromArrow];else{let a=$.So[e.figure];typeof a=="string"&&(a=$.So[a]),a===void 0&&o.o("Unknown Shape.figure: "+e.figure),r=a(e,n,s),r.ec=n,r.sc=s}if(r===null){const a=$.So.Rectangle;typeof a=="function"&&(r=a(e,n,s))}return r}static getFigureGenerators(){const e=new z;for(const n in $.So){if(n===n.toLowerCase())continue;const s=$.So[n];e.add(n,s)}return e.g(),e}static defineFigureGenerator(e,n){o.i(e,"string",ti,"defineFigureGenerator:name"),typeof n=="string"||o.i(n,"function",ti,"defineFigureGenerator:func");const s=e.toLowerCase(),r=$.So;r[e]=n,r[s]=e}static getArrowheadGeometries(){const e=new z;for(const n in $.Kg)if(ti.no[n]===void 0){const s=Q.parse($.Kg[n],!1);ti.no[n]=s;const r=n.toLowerCase();r!==n&&(ti.no[r]=n)}for(const n in ti.no){if(n===n.toLowerCase())continue;const s=ti.no[n];s instanceof Q&&e.add(n,s)}return e.g(),e}static defineArrowheadGeometry(e,n){o.i(e,"string",ti,"defineArrowheadGeometry:name");let s=null;typeof n=="string"?(o.i(n,"string",ti,"defineArrowheadGeometry:pathstr"),s=Q.parse(n,!1)):s=n;const r=e.toLowerCase();(r==="none"||e===r)&&o.o("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+e);const a=ti.no;a[e]=s,a[r]=e}static MA(e){let n=ti.no[e];if(n===void 0){const s=e.toLowerCase();if(s==="none")return"None";if(n=ti.no[s],n===void 0){let r=null;for(const a in $.Kg)if(a.toLowerCase()===s){r=a;break}if(r!==null){const a=Q.parse($.Kg[r],!1);return ti.no[r]=a,s!==r&&(ti.no[s]=r),r}}}return typeof n=="string"?n:n instanceof Q?e:null}};k(ti,"no",new c),k(ti,"R2",new c);let cn=ti;class Cf{constructor(){k(this,"mi");k(this,"mp");k(this,"pp");k(this,"yp");k(this,"dh");k(this,"bp");k(this,"kp");k(this,"zn");k(this,"Xn");this.mi=!1,this.mp="butt",this.pp="miter",this.yp=10,this.dh=0,this.bp=null,this.kp=1,this.zn=B.Default,this.Xn=B.Default}copy(){const t=new Cf;return t.mp=this.mp,t.pp=this.pp,t.yp=this.yp,t.dh=this.dh,t.bp=this.bp,t.kp=this.kp,t.zn=this.zn.N(),t.Xn=this.Xn.N(),t}}var Mf=(H=>(H[H.None=0]="None",H[H.Fit=1]="Fit",H[H.DesiredSize=2]="DesiredSize",H[H.BreakAll=3]="BreakAll",H))(Mf||{}),pv=(H=>(H[H.Clip=0]="Clip",H[H.Ellipsis=1]="Ellipsis",H))(pv||{}),gv=(H=>(H[H.Trim=0]="Trim",H[H.None=1]="None",H))(gv||{});const Mn=class Mn extends ai{constructor(e,n){super();k(this,"ai");k(this,"Hi");k(this,"Pn");k(this,"Ae");k(this,"pi");k(this,"w0");k(this,"Sd");k(this,"$");k(this,"J");k(this,"Rl");k(this,"oo");k(this,"Mn");k(this,"Te");k(this,"Fi");k(this,"Sn");return this.n|=2097152,this.ai="",this.Hi="black",this.Pn="13px sans-serif",this.Ae=0,this.pi=0,this.w0=0,this.Sd=null,this.$=null,this.J=null,this.Rl=0,this.oo=null,this.Mn=0,this.Te=null,this.Fi=null,this.Sn=null,typeof e=="string"?this.text=e:e&&Object.assign(this,e),n&&Object.assign(this,n),this}cloneProtected(e){super.cloneProtected(e),e.ai=this.ai,e.Hi=this.Hi,e.Pn=this.Pn,e.Ae=this.Ae,e.pi=this.pi,e.w0=this.w0,e.Sd=this.Sd,this.$!==null&&(e.$=this.$.copy()),this.J!==null&&(this.J.mi?e.J=this.J:e.J=this.J.copy()),e.Rl=this.Rl,e.oo=this.oo,e.Mn=this.Mn,e.Te=this.Te,e.Fi=this.Fi,e.Sn=this.Sn}Nn(){this.J===null?this.J=new Pf:this.J.mi&&(this.J=this.J.copy())}lh(){super.lh(),this.J!==null&&(this.J.mi=!0)}ov(e){this.n=e.n|2048|4096,this.Wt=e.opacity,this.Ct=e.background,this.Xe=e.desiredSize.N(),this.minSize=e.minSize.N(),this.maxSize=e.maxSize.N(),e.ki!==null?this.ki=e.ki.copy():this.ki=null,this.K=e.scale,this.Xt=e.angle,this.stretch=e.stretch,this._r=e.margin.N(),this.oi=e.alignment.N(),this.Hc=e.alignmentFocus.N(),this.segmentFraction=e.segmentFraction,this.segmentOffset=e.segmentOffset.N(),this.segmentOrientation=e.segmentOrientation,e.si!==null&&(this.si=e.si.copy()),this.shadowVisible=e.shadowVisible,this.ai=e.ai,this.Hi=e.Hi,this.Pn=e.Pn,this.$!==null&&(this.$=e.$.copy()),e.J!==null&&(e.J.mi?this.J=e.J:this.J=e.J.copy()),this.Rl=e.Rl}sv(e){if(this.ai=e.text||"",this.Xt=e.labelAngle||0,this.Ae=e.lineCount||0,this.kv(e.lines),e.naturalBounds&&(this.Bi=e.naturalBounds),e.actualBounds){const n=e.actualBounds;this.zt(n.x,n.y,n.width,n.height)}}li(e){e in Mf?this.wrap=e:super.li(e)}toString(){return this.ai.length>22?'TextBlock("'+this.ai.substring(0,20)+'"...)':'TextBlock("'+this.ai+'")'}static getEllipsis(){return Mn.Pp}static setEllipsis(e){Mn.Pp=e,Mn.Jb=new c,Mn.v2=0}static getBaseline(){return Mn.$b}static setBaseline(e){Mn.$b=e}static getUnderline(){return Mn.Zb}static setUnderline(e){Mn.Zb=e}c(){super.c()}get font(){return this.Pn}set font(e){const n=this.Pn;n!==e&&(this.Pn=e,this.oo=null,this.c(),this.t("font",n,e))}static isValidFont(e){return i.CSS?i.CSS.supports("font",e):!0}get text(){return this.ai}set text(e){const n=this.ai;e!=null?e=e.toString():e="",n!==e&&(this.ai=e,this.c(),this.t("text",n,e),this.ns(!0))}get textAlign(){return this.J!==null?this.J.Mp:"start"}set textAlign(e){const n=this.textAlign;n!==e&&(e==="start"||e==="end"||e==="left"||e==="right"||e==="center")&&(this.Nn(),this.J.Mp=e,this.C(),this.t("textAlign",n,e))}get flip(){return this.J!==null?this.J.ro:0}set flip(e){const n=this.flip;n!==e&&(this.Nn(),this.J.ro=e,this.C(),this.t("flip",n,e))}get verticalAlignment(){return this.J!==null?this.J.ol:B.Top}set verticalAlignment(e){const n=this.verticalAlignment;n.equals(e)||(e=e.N(),this.Nn(),this.J.ol=e,this._c(),this.t("verticalAlignment",n,e))}get naturalBounds(){if(!this.Bi.isReal()){const e=_.l();this.O2(this.ai,999999,e);let n=e.width;_.s(e);let s=this.NA(n);const r=this.desiredSize;isNaN(r.width)||(n=r.width),isNaN(r.height)||(s=r.height),this.Bi.Mo(n,s)}return this.Bi}get isMultiline(){return(this.n&2097152)!==0}set isMultiline(e){const n=(this.n&2097152)!==0;n!==e&&(this.n=this.n^2097152,this.c(),this.t("isMultiline",n,e))}get isUnderline(){return(this.n&4194304)!==0}set isUnderline(e){const n=(this.n&4194304)!==0;n!==e&&(this.n=this.n^4194304,this.ns(!0),this.C(),this.t("isUnderline",n,e))}get isStrikethrough(){return(this.n&8388608)!==0}set isStrikethrough(e){const n=(this.n&8388608)!==0;n!==e&&(this.n=this.n^8388608,this.ns(!0),this.C(),this.t("isStrikethrough",n,e))}get wrap(){return this.J!==null?this.J.Sp:2}set wrap(e){const n=this.wrap;n!==e&&(this.Nn(),this.J.Sp=e,this.c(),this.t("wrap",n,e))}get overflow(){return this.J!==null?this.J.Np:0}set overflow(e){const n=this.overflow;n!==e&&(this.Nn(),this.J.Np=e,this.c(),this.t("overflow",n,e))}get isOverflowed(){return(this.n&16777216)!==0}I2(e){e?this.n|=16777216:this.n&=-16777217}get stroke(){return this.Hi}set stroke(e){const n=this.Hi;n!==e&&(e!==null&&Pt.od(e,"TextBlock.stroke"),e instanceof Pt&&e.g(),this.Hi=e,this.C(),this.t("stroke",n,e))}get lineCount(){return this.Ae}get lineHeight(){return this.Cp()}get editable(){return(this.n&1048576)!==0}set editable(e){const n=(this.n&1048576)!==0;n!==e&&(this.n=this.n^1048576,this.t("editable",n,e))}get textEditor(){return this.J!==null?this.J.Lp:null}set textEditor(e){const n=this.textEditor;n!==e&&(this.Nn(),this.J.Lp=e,this.t("textEditor",n,e))}get errorFunction(){return this.J!==null?this.J.rs:null}set errorFunction(e){const n=this.errorFunction;n!==e&&(e!==null&&o.i(e,"function",Mn,"errorFunction"),this.Nn(),this.J.rs=e,this.t("errorFunction",n,e))}get interval(){return this.$!==null?this.$.cf:1}set interval(e){const n=this.interval;if(e=Math.round(e),n!==e&&e!==0&&isFinite(e)){this.$===null&&(this.$=new No),this.$.cf=e,this.c();const s=this.panel;s!==null&&(s.os=null),this.t("interval",n,e)}}get graduatedStart(){return this.$!==null?this.$.ff:0}set graduatedStart(e){const n=this.graduatedStart;n!==e&&(e<0?e=0:e>1&&(e=1),this.$===null&&(this.$=new No),this.$.ff=e,this.c(),this.t("graduatedStart",n,e))}get graduatedEnd(){return this.$!==null?this.$.uf:1}set graduatedEnd(e){const n=this.graduatedEnd;n!==e&&(e<0?e=0:e>1&&(e=1),this.$===null&&(this.$=new No),this.$.uf=e,this.c(),this.t("graduatedEnd",n,e))}get graduatedFunction(){return this.$!==null?this.$.Ap:null}set graduatedFunction(e){const n=this.graduatedFunction;n!==e&&(e!==null&&o.i(e,"function",Mn,"graduatedFunction"),this.$===null&&(this.$=new No),this.$.Ap=e,this.c(),this.t("graduatedFunction",n,e))}get graduatedSkip(){return this.$!==null?this.$.df:null}set graduatedSkip(e){const n=this.graduatedSkip;n!==e&&(e!==null&&o.i(e,"function",Mn,"graduatedSkip"),this.$===null&&(this.$=new No),this.$.df=e,this.c(),this.t("graduatedSkip",n,e))}fh(e,n){if(this.Hi===null||this.ai.length===0||this.Pn===null)return;const s=this.naturalBounds,r=this.actualBounds,a=s.width,u=s.height,h=this.Cp();let f=e.textAlign=this.textAlign;const m=n.Xu;f==="start"?f=m?"right":"left":f==="end"&&(f=m?"left":"right");const y=this.isUnderline,x=this.isStrikethrough;this.gn(e,this.Hi,!0,!1,s,r),(y||x)&&this.gn(e,this.Hi,!1,!1,s,r);const S=0;let E=0;const L=a;let D=!1;const F=this.ys,V=F.dx-(h*F.m21+F.dx),U=F.dy-(h*F.m22+F.dy);let W=V*V+U*U;const q=n.scale;W=W*q*q,W<8&&(D=!0),n.ni!==e&&(D=!1),n.ni instanceof Gi&&(D=!1),n.getRenderingHint("textGreeking")===!1&&(D=!1);const le=this.spacingAbove,oe=this.spacingBelow;switch(this.flip){case 0:break;case 2:e.translate(a,0),e.scale(-1,1);break;case 1:e.translate(0,u),e.scale(1,-1);break;case 3:e.translate(a,u),e.scale(-1,-1);break}e.commitTransform();const ce=this.Ae,Se=(le+h+oe)*ce;if(u>Se){const he=this.verticalAlignment;E=he.y*u-he.y*Se+he.offsetY}if(ce===1&&this.Sn!==null){let he=this.pi;he>L&&(he=L),E+=le,this.CA(this.Sn,e,S,E,L,h,he,D,f,y,x)}else if(this.Te!==null&&this.Fi!==null)for(let he=0;he<ce;he++){let ge=this.Te[he];ge>L&&(ge=L),E+=le,this.CA(this.Fi[he],e,S,E,L,h,ge,D,f,y,x),E+=h+oe}switch(this.flip){case 0:break;case 2:e.scale(-1,1),e.translate(-a,0);break;case 1:e.scale(1,-1),e.translate(0,-u);break;case 3:e.scale(-1,-1),e.translate(-a,-u);break}}CA(e,n,s,r,a,u,h,f,m,y,x){let S=0;if(f){m==="left"?S=0:m==="right"?S=a-h:m==="center"&&(S=(a-h)/2),n.fillRect(s+S,r+u*.25,h,1);return}m==="left"?S=0:m==="right"?S=a:m==="center"&&(S=a/2);const E=Mn.$b!==null?Mn.$b(this,u):u*.75;n.fillText(e,s+S,r+E);let L=u/20|0;if(L===0&&(L=1),m==="right"?S-=h:m==="center"&&(S-=h/2),y){const D=Mn.Zb!==null?Mn.Zb(this,u):u*.8;this.LA(s+S,r+D,s+S+h,r+D,L,n),n instanceof Gi&&n.lastCreatedElement.classList.add("gojs-td")}if(x){let D=r+u-u/2.2|0;L%2!==0&&(D+=.5),this.LA(s+S,D,s+S+h,D,L,n),n instanceof Gi&&n.lastCreatedElement.classList.add("gojs-td")}}LA(e,n,s,r,a,u){u.beginPath(),u.lineWidth=a,u.moveTo(e,n),u.lineTo(s,r),u.stroke(),u.endPath()}$c(e,n,s){if(!super.$c(e,n,s))return!1;if(this.gn(e,this.Hi,!0,!1,this.naturalBounds,this.actualBounds),s){if(this.svg.getElementsByTagName("text").length===0)return!0;const r=this.svg.getElementsByClassName("gojs-td");for(let a=0;a<r.length;a++)e.setFillOrStrokeInPlace(r[a],!1)}else this.Pv(this.svg,this.text,e);return!0}Pv(e,n,s){e.innerHTML=n,s.setFillOrStrokeInPlace(e,!0)}sd(e){return this.lineCount>1||this.isUnderline||this.isStrikethrough?!0:super.sd(e)}e2(e,n){if(e.nodeName!=="g")e.setAttributeNS(null,"filter",n);else{const s=e.getElementsByTagName("text");for(let r=0;r<s.length;r++)s[r].setAttributeNS(null,"filter",n)}}Mv(){this.Mn=0,this.pi=0,this.oo=null,this.Te=null,this.Fi=null,this.Sn=null}_u(e,n,s,r){const a=this.Ae;this.Rl=e,this.I2(!1);const u=this.Pn;Mn.sl!==null&&Mn.AA!==u&&(Mn.sl.font=u,Mn.AA=u),this.Mv();let h=0,f=0;isNaN(this.desiredSize.width)?(h=this.Sv(),h=Math.min(h,e/this.scale)):h=this.desiredSize.width,this.panel!==null&&(h=Math.min(h,this.panel.maxSize.width)),f=this.NA(h),isNaN(this.desiredSize.height)?f=Math.min(f,n/this.scale):f=this.desiredSize.height,this.Nv(e,f),(this.wrap===1||isNaN(this.desiredSize.width))&&(h=isNaN(e)?this.pi:Math.min(e,this.pi)),h=Math.max(s,h),f=Math.max(r,f),this.Bi.Mo(h,f),this.Qn(0,0,h,f),this.svg!==null&&a!==this.Ae&&this.ns(!0)}ah(e,n,s,r){this.commonArrange(e,n,s,r)}Cn(e,n){this.Sn===null?(this.Sn=e,this.pi=n):((this.Fi===null||this.Te===null)&&(this.Fi=[],this.Te=[],this.Fi.push(this.Sn),this.Te.push(this.pi)),this.Fi.push(e),this.Te.push(n),this.Fi.length>this.maxLines&&(this.n|=16777216))}O2(e,n,s){const r=this.formatting===0;r&&(e=e.trim());let a=0,u=0,h=0;const f=this.Pn,m=this.spacingAbove+this.spacingBelow,y=Math.max(0,this.Cp()+m),x=this.overflow===1?this.TA(f):0;if(this.Ae>=this.maxLines){s!==null&&s.e(0,y);return}let S=e;if(this.wrap===0){if(this.Mn=1,u=this.getStringWidth(e),x===0||u<=n){this.pi=Math.max(this.pi,u),this.Cn(e,this.pi),s!==null&&s.e(u,y);return}let L=this.Nd(S);S=S.substring(L.length);let D=this.Nd(S);for(u=this.getStringWidth(L+D),h=0;D.length>0&&u<=n;){L+=D,S=S.substring(D.length),D=this.Nd(S),h=u;let F=L+D;r&&(F=F.trim()),u=this.getStringWidth(F)}for(r&&(D=D.trim()),L+=D,n=Math.max(1,n-x);this.getStringWidth(L)>n&&L.length>1;)L=L.substring(0,L.length-1);this.I2(!0),L+=Mn.Pp,h=this.getStringWidth(L),this.pi=h,this.Cn(L,h),s!==null&&s.e(h,y);return}let E=0;for(S.length===0&&(E=1,this.Cn(S,0));S.length>0;){let L=this.Nd(S);for(S=S.substring(L.length);this.getStringWidth(L)>n;){let V=1;for(u=this.getStringWidth(L.substring(0,V)),h=0;u<=n;)V++,h=u,u=this.getStringWidth(L.substring(0,V));let U=0;V===1?(U=u,a=Math.max(a,u)):(U=h,a=Math.max(a,h)),V--,V<1&&(V=1);const W=L.substring(0,V);if(this.Cn(W,U),E++,L=L.substring(V),this.Ae+E>this.maxLines)break}let D=this.Nd(S);for(u=this.getStringWidth(L+D),h=0;D.length>0&&u<=n;){L+=D,S=S.substring(D.length),D=this.Nd(S),h=u;let V=L+D;r&&(V=V.trim()),u=this.getStringWidth(V)}if(r&&(L=L.trim()),L==="")continue;L[L.length-1]==="­"&&(L=L.substring(0,L.length-1)+"‐");let F=0;if(D.length===0?(F=u,a=Math.max(a,u)):(h=this.getStringWidth(L),F=h,a=Math.max(a,h)),this.Cn(L,F),E++,this.Ae+E>this.maxLines)break}this.Mn=Math.min(this.maxLines,E),this.pi=Math.max(this.pi,a),s!==null&&s.e(this.pi,y*this.Mn)}Nv(e,n){if(this.pi===0||this.Te===null||this.Fi===null||this.overflow!==1)return;const s=this.Pn,r=this.overflow===1?this.TA(s):0,a=this.spacingAbove+this.spacingBelow,u=Math.max(0,this.Cp()+a),h=Math.min(this.maxLines-1,Math.max(Math.floor(n/u+.01)-1,0));if(h+1>=this.Fi.length)return;this.I2(!0);let f=this.Fi[h];const m=Math.max(1,e-r);for(;this.getStringWidth(f)>m&&f.length>1;)f=f.substring(0,f.length-1);f+=Mn.Pp;const y=this.getStringWidth(f);this.Fi[h]=f,this.Fi=this.Fi.slice(0,h+1),this.Te[h]=y,this.Te=this.Te.slice(0,h+1),this.Mn=this.Fi.length,this.pi=Math.max(this.pi,y),this.Ae=this.Mn,this.Ae===1&&(this.Sn=this.Fi[0])}Nd(e){if(this.wrap===3)return e.substring(0,1);let n=e.length,s=0;const r=Mn.Cv;for(;s<n&&!r.test(e.charAt(s));)s++;for(this.formatting===1&&(n=Math.min(n,s+1));s<n&&r.test(e.charAt(s));)s++;return s>=e.length?e:e.substring(0,s)}getStringWidth(e){return Mn.sl===null?e.length*8:Mn.sl.measureText(e).width}Cp(){if(this.oo!==null)return this.oo;const e=this.Pn;let n=0;return Mn.sl===null?(n=16,this.oo=n,n):(Mn.E2[e]!==void 0&&Mn.DA<5e3?n=Mn.E2[e]:(n=Mn.sl.measureText("M").width*1.3,Mn.E2[e]=n,Mn.DA++),this.oo=n,n)}TA(e){if(Mn.sl===null)return 6;let n=0;return Mn.Jb[e]!==void 0&&Mn.v2<5e3?n=Mn.Jb[e]:(n=Mn.sl.measureText(Mn.Pp).width,Mn.Jb[e]=n,Mn.v2++),n}Qb(e,n){return e.indexOf(`
`,n)}NA(e){let n=this.ai.replace(/\r\n/g,`
`).replace(/\r/g,`
`);const s=this.spacingAbove+this.spacingBelow,r=Math.max(0,this.Cp()+s);if(n.length===0)return this.pi=0,this.Ae=1,r;if(!this.isMultiline){const m=this.Qb(n,0);m>=0&&(n=n.substring(0,m))}let a=0;this.Ae=0;let u=0,h=-1,f=!1;for(;!f;){if(h=this.Qb(n,u),h===-1&&(h=n.length,f=!0),u<=h){const m=n.substring(u,h);if(this.wrap!==0){this.Mn=0;const y=_.l();this.O2(m,e,y),a+=y.height,_.s(y),this.Ae+=this.Mn}else this.O2(m,e,null),a+=r,this.Ae++;this.Ae===this.maxLines&&(f=!0)}u=h+1}return this.w0=a,a}Sv(){let e=this.ai.replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(e.length===0)return 8;if(this.isMultiline){let n=0,s=0,r=!1;for(;!r;){let a=this.Qb(e,s);a===-1&&(a=e.length,r=!0);let u=e.substring(s,a);this.formatting===0&&(u=u.trim()),n=Math.max(n,this.getStringWidth(u)),s=a+1}return n}else{const n=this.Qb(e,0);return n>=0&&(e=e.substring(0,n)),this.getStringWidth(e)}}get textValidation(){return this.J!==null?this.J.Fl:null}set textValidation(e){const n=this.textValidation;n!==e&&(e!==null&&o.i(e,"function",Mn,"textValidation"),this.Nn(),this.J.Fl=e,this.t("textValidation",n,e))}get textEdited(){return this.J!==null?this.J.Tp:null}set textEdited(e){const n=this.textEdited;n!==e&&(e!==null&&o.i(e,"function",Mn,"textEdited"),this.Nn(),this.J.Tp=e,this.t("textEdited",n,e))}get spacingAbove(){return this.J!==null?this.J.Dp:0}set spacingAbove(e){const n=this.spacingAbove;n!==e&&(this.Nn(),this.J.Dp=e,this.c(),this.t("spacingAbove",n,e))}get spacingBelow(){return this.J!==null?this.J.Fp:0}set spacingBelow(e){const n=this.spacingBelow;n!==e&&(this.Nn(),this.J.Fp=e,this.c(),this.t("spacingBelow",n,e))}get formatting(){return this.J!==null?this.J.Rp:0}set formatting(e){const n=this.formatting;n!==e&&(this.Nn(),this.J.Rp=e,this.c(),this.t("formatting",n,e))}get maxLines(){return this.J!==null?this.J.vp:1/0}set maxLines(e){const n=this.maxLines;n!==e&&(e=Math.floor(e),e<=0&&o.tt(e,"> 0",Mn,"maxLines"),this.Nn(),this.J.vp=e,this.c(),this.t("maxLines",n,e))}getMetrics(){return[this.pi,this.Rl,this.oo,this.Mn,this.Te,this.Fi,this.Sn]}kv(e){e!==void 0&&(this.pi=e[0],this.Rl=e[1],this.oo=e[2],this.Mn=e[3],this.Te=e[4],this.Fi=e[5],this.Sn=e[6])}get metrics(){return{arrSize:this.Te!==null?this.Te:[this.pi],arrText:this.Fi!==null?this.Fi:[this.Sn],maxLineWidth:this.pi,fontHeight:this.oo}}get choices(){return this.Sd}set choices(e){const n=this.Sd;n!==e&&(this.Sd=e,this.t("choices",n,e))}};k(Mn,"$b",null),k(Mn,"Zb",null),k(Mn,"None",0),k(Mn,"WrapFit",1),k(Mn,"WrapDesiredSize",2),k(Mn,"WrapBreakAll",3),k(Mn,"OverflowClip",0),k(Mn,"OverflowEllipsis",1),k(Mn,"FormatTrim",0),k(Mn,"FormatNone",1),k(Mn,"Cv",new RegExp("[ ​­]")),k(Mn,"E2",new c),k(Mn,"DA",0),k(Mn,"Jb",new c),k(Mn,"v2",0),k(Mn,"Pp","..."),k(Mn,"AA",""),k(Mn,"sl",st.isUsingDOM()?new io(null).ci:null);let yi=Mn;class Pf{constructor(){k(this,"mi");k(this,"rs");k(this,"ro");k(this,"Rp");k(this,"vp");k(this,"Np");k(this,"Dp");k(this,"Fp");k(this,"Mp");k(this,"Tp");k(this,"Lp");k(this,"Fl");k(this,"ol");k(this,"Sp");this.mi=!1,this.rs=null,this.ro=0,this.Rp=0,this.vp=1/0,this.Np=0,this.Dp=0,this.Fp=0,this.Mp="start",this.Tp=null,this.Lp=null,this.Fl=null,this.ol=B.Top,this.Sp=2}copy(){const t=new Pf;return t.rs=this.rs,t.ro=this.ro,t.Rp=this.Rp,t.vp=this.vp,t.Np=this.Np,t.Dp=this.Dp,t.Fp=this.Fp,t.Mp=this.Mp,t.Tp=this.Tp,t.Lp=this.Lp,t.Fl=this.Fl,t.ol=this.ol,t.Sp=this.Sp,t}}class No{constructor(){k(this,"cf");k(this,"ff");k(this,"uf");k(this,"Ap");k(this,"df");this.cf=1,this.ff=0,this.uf=1,this.Ap=null,this.df=null}copy(){const t=new No;return t.cf=this.cf,t.ff=this.ff,t.uf=this.uf,t.Ap=this.Ap,t.df=this.df,t}}var Tf=(H=>(H[H.None=0]="None",H[H.Fill=2]="Fill",H[H.Uniform=6]="Uniform",H[H.UniformToFill=7]="UniformToFill",H))(Tf||{});const Ci=class Ci extends ai{constructor(e,n){super();k(this,"rl");k(this,"yt");k(this,"ll");k(this,"gf");k(this,"rs");k(this,"hl");k(this,"mf");k(this,"ro");k(this,"pf");k(this,"yf");k(this,"vb");this.n|=2097152,this.rl=null,this.yt="",this.ll=I.SD,this.gf=2,this.rs=null,this.hl=null,this.mf=B.Center,this.ro=0,this.pf=null,this.yf=null,this.vb=null,typeof e=="string"?this.source=e:e&&Object.assign(this,e),n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.yt=this.yt,e.element=this.rl,e.ll=this.ll.N(),e.gf=this.gf,e.ro=this.ro,e.rs=this.rs,e.hl=this.hl,e.mf=this.mf.N(),e.yf=this.yf}li(e){e in Tf?this.imageStretch=e:super.li(e)}toString(){return"Picture("+this.source+")#"+C.cs(this)}get wf(){return(this.n&1048576)!==0}set wf(e){this.wf!==e&&(this.n=this.n^1048576)}get Op(){return(this.n&2097152)!==0}set Op(e){this.Op!==e&&(this.n=this.n^2097152)}get pn(){return(this.n&4194304)!==0}set pn(e){this.pn!==e&&(this.n=this.n^4194304)}static clearCache(e){e===void 0&&(e=""),o.i(e,"string",Ci,"clearCache:url"),e!==""?Ci.Ip[e]&&(delete Ci.Ip[e],Ci._b--):(Ci.Ip=new c,Ci._b=0)}static DL(e,n){n.FA||(n.t1=s=>{Ci.Lv(n,s),e.desiredSize.isReal()||(e.se(!1),e.c())},n.i1=s=>Ci.Av(n,s),n.addEventListener("load",n.t1),n.addEventListener("error",n.i1),n.FA=!0)}static mR(e){e.t1&&e.removeEventListener("load",e.t1),e.i1&&e.removeEventListener("error",e.i1),delete e.t1,delete e.i1,delete e.FA}get element(){return this.rl}set element(e){const n=this.rl;if(this.ns(!0),n!==e){this.wf=e instanceof HTMLCanvasElement;const s=e instanceof HTMLImageElement;e!==null&&!(s||e instanceof HTMLVideoElement||this.wf)&&o.o("Picture.element must be an instance of Image, Canvas, or Video, not: "+e);const r=this.diagram;r!==null&&r.CS(this),this.rl=e,e!==null&&s&&e.ss===void 0&&(e.ss=new C),r!==null&&s&&r.NS(this),this.t("element",n,e),this.C()}}dR(){const e=this.rl;e!==null&&((this.wf||e.complete===!0)&&(e.c0&&(e.Ep instanceof Event&&this.rs!==null?this.rs(this,e.Ep):e.pn===!0&&!e.Ep&&this.hl!==null&&e.V2&&this.hl(this,e.V2)),e.pn=!0,this.desiredSize.isReal()||(this.se(!1),this.c())),e.pn===!0&&this.diagram!==null&&this.diagram.zu.add(this))}Tv(){if(this.rl===null){this.pf=!1;return}const e=new io(null).ci;try{e.drawImage(this.rl,0,0)}catch{this.Op=!1}try{e.getImageData(0,0,1,1).data[3]&&(this.pf=!1),this.pf=!1}catch{this.pf=!0}}get source(){return this.yt}set source(e){const n=this.yt;if(n!==e){this.ns(!0),o.i(e,"string",Ci,"source"),this.yt=e;let s=Ci.Ip;if(!st.isUsingDOM()){this.t("source",n,e);return}let r=null;if(s[e]!==void 0)r=s[e];else if(e!==""){Ci._b>30&&(Ci.clearCache(),s=Ci.Ip),r=o.en("img"),r.c0=!0,Ci.DL(this,r);const a=this.yf;a!==null&&(r.crossOrigin=a(this)),r.src=e,s[e]=r,Ci._b++}this.element=r,r!==null&&r.__goCache===void 0&&(r.__goCache=new RM),this.c(),this.C(),this.t("source",n,e)}}static Lv(e,n){e.pn=!0,e.Ep=!1;let s;const r=e.ss.copy();if(r==null)return;const a=r.iterator;for(;a.next();){const u=a.value;u.C();const h=e.getAttribute("src")||"",f=u.Zl.getValue(h);if(f===null)continue;const m=f.length;for(let y=0;y<m;y++)s=f[y],u.zu.add(s),s.ns(!0),u.requestUpdate(),e.c0&&(e.V2===void 0&&(e.V2=n),s.hl!==null&&s.hl(s,n))}e.ss.clear()}static Av(e,n){e.Ep=n;let s;const r=e.ss.copy();if(r==null)return;const a=r.iterator;for(;a.next();){const u=a.value,h=e.getAttribute("src")||"",f=u.Zl.getValue(h);if(f===null)continue;const m=f.length,y=o.rt();for(let x=0;x<m;x++)y.push(f[x]);if(e.c0)for(let x=0;x<m;x++)s=y[x],s.rs!==null&&s.rs(s,n);o.it(y)}e.ss.clear()}reloadSource(){if(this.source==="")return;Ci.clearCache(this.source);const e=this.source;this.source="",this.source=e}redraw(){this.C(),this.ns(!0)}get sourceCrossOrigin(){return this.yf}set sourceCrossOrigin(e){if(this.yf!==e&&(e!==null&&o.i(e,"function",Ci,"sourceCrossOrigin"),this.yf=e,this.element!==null)){const n=this.element.getAttribute("src");e===null&&typeof n=="string"?this.element.crossOrigin=null:e!==null&&(this.element.crossOrigin=e(this)),this.element.src=n}}get sourceRect(){return this.ll}set sourceRect(e){const n=this.ll;n.equals(e)||(e=e.N(),this.ll=e,this.C(),this.t("sourceRect",n,e))}get imageStretch(){return this.gf}set imageStretch(e){const n=this.gf;n!==e&&(this.gf=e,this.C(),this.t("imageStretch",n,e))}get flip(){return this.ro}set flip(e){const n=this.ro;n!==e&&(this.ro=e,this.C(),this.t("flip",n,e))}get imageAlignment(){return this.mf}set imageAlignment(e){const n=this.mf;n.equals(e)||(e=e.N(),this.mf=e,this.C(),this.t("imageAlignment",n,e))}get errorFunction(){return this.rs}set errorFunction(e){const n=this.rs;n!==e&&(e!==null&&o.i(e,"function",Ci,"errorFunction"),this.rs=e,this.t("errorFunction",n,e))}get successFunction(){return this.hl}set successFunction(e){const n=this.hl;n!==e&&(e!==null&&o.i(e,"function",Ci,"successFunction"),this.hl=e,this.t("successFunction",n,e))}fh(e,n){const s=this.rl;if(s===null)return;const r=s.getAttribute("src");if(s instanceof HTMLImageElement&&(r===null||r==="")||s.Ep instanceof Event&&e instanceof pr)return;const a=e instanceof Gi,u=this.naturalBounds;let h=0,f=0;const m=this.wf;let y=m?+s.width:s.naturalWidth,x=m?+s.height:s.naturalHeight;if(y===void 0&&s.videoWidth&&(y=s.videoWidth),x===void 0&&s.videoHeight&&(x=s.videoHeight),y===0||x===0)return;const S=y,E=x;this.sourceRect.isReal()&&(h=this.ll.x,f=this.ll.y,y=this.ll.width,x=this.ll.height);let L=y,D=x;const F=this.gf,V=this.mf;switch(F){case 0:if(this.sourceRect.isReal())break;L>=u.width&&(h=h+V.offsetX+(L*V.x-u.width*V.x)),D>=u.height&&(f=f+V.offsetY+(D*V.y-u.height*V.y)),y=Math.min(u.width,L),x=Math.min(u.height,D);break;case 2:L=u.width,D=u.height;break;case 6:case 7:let Pe=0;F===6?(Pe=Math.min(u.height/D,u.width/L),L*=Pe,D*=Pe):F===7&&(Pe=Math.max(u.height/D,u.width/L),L*=Pe,D*=Pe,L>=u.width&&(h=(h+V.offsetX+(L*V.x-u.width*V.x)/L)*y),D>=u.height&&(f=(f+V.offsetY+(D*V.y-u.height*V.y)/D)*x),y*=1/(L/u.width),x*=1/(D/u.height),L=u.width,D=u.height);break}const U=y*x,W=this.getDocumentScale()*n.scale,q=L*W,le=D*W,oe=q*le,ce=U/oe,Se=s.__goCache;let he=null;const ge=Ci.Dv;if(!a){if(s.pn&&Se!==void 0&&oe>4&&ce>ge*ge){Se.Ot===null&&(Se.RA(4,S,E,s),Se.RA(16,S,E,s));const Pe=Se.Ot,Re=Pe.length;for(let Xe=0;Xe<Re&&Pe[Xe].Cd*Pe[Xe].Cd<ce;Xe++)he=Pe[Xe]}if(!n.Bu&&(this.pf===null&&this.Tv(),this.pf))return}const ke=L<u.width?V.offsetX+(u.width*V.x-L*V.x):0,we=D<u.height?V.offsetY+(u.height*V.y-D*V.y):0;switch(this.flip){case 0:break;case 2:e.translate(Math.min(u.width,L),0),e.scale(-1,1);break;case 1:e.translate(0,Math.min(u.height,D)),e.scale(1,-1);break;case 3:e.translate(Math.min(u.width,L),Math.min(u.height,D)),e.scale(-1,-1);break}if(e.commitTransform(),n.getRenderingHint("pictureRatioOptimization")&&!n.Qh&&Se!==void 0&&he!==null&&he.Cd!==1){e.save();const Pe=he.Cd;try{e.drawImage(he.yt,h/Pe,f/Pe,Math.min(he.yt.width,y/Pe),Math.min(he.yt.height,x/Pe),ke,we,Math.min(u.width,L),Math.min(u.height,D)),e instanceof Gi&&(this.vb=[h/Pe,f/Pe,Math.min(he.yt.width,y/Pe),Math.min(he.yt.height,x/Pe),ke,we,Math.min(u.width,L),Math.min(u.height,D)])}catch{this.Op=!1}e.restore()}else try{e.drawImage(s,h,f,y,x,ke,we,Math.min(u.width,L),Math.min(u.height,D)),e instanceof Gi&&(this.vb=[h,f,y,x,ke,we,Math.min(u.width,L),Math.min(u.height,D)])}catch{this.Op=!1}switch(this.flip){case 0:break;case 2:e.scale(-1,1),e.translate(-Math.min(u.width,L),0);break;case 1:e.scale(1,-1),e.translate(0,-Math.min(u.height,D));break;case 3:e.scale(-1,-1),e.translate(-Math.min(u.width,L),-Math.min(u.height,D));break}}get naturalBounds(){return this.Bi}_u(e,n,s,r){const a=this.desiredSize,u=this.zs(!0),h=this.rl,f=this.wf;let m=0,y=0;(f||!this.pn&&h&&h.complete)&&(this.pn=!0),h===null?(isFinite(a.width)||(e=s),isFinite(a.height)||(n=r)):(m=f?+h.width:h.naturalWidth,y=f?+h.height:h.naturalHeight),!isFinite(a.width)&&u!==2&&u!==5?h!==null&&this.pn!==!1&&(this.sourceRect.isReal()?e=this.sourceRect.width:e=m):(isFinite(e)||(this.sourceRect.isReal()?e=this.sourceRect.width:h!==null&&(e=m)),s=0),!isFinite(a.height)&&u!==2&&u!==4?h!==null&&this.pn!==!1&&(this.sourceRect.isReal()?n=this.sourceRect.height:n=y):(isFinite(n)||(this.sourceRect.isReal()?n=this.sourceRect.height:h!==null&&(n=y)),r=0),isFinite(a.width)&&(e=a.width),isFinite(a.height)&&(n=a.height);const x=this.maxSize,S=this.minSize;s=Math.max(s||0,S.width),r=Math.max(r||0,S.height),e=Math.min(x.width,e),n=Math.min(x.height,n),e=Math.max(s,e),n=Math.max(r,n),h!==null&&!h.complete&&(isFinite(e)||(e=0),isFinite(n)||(n=0)),this.Bi.Mo(e,n),this.Qn(0,0,e,n)}ah(e,n,s,r){this.commonArrange(e,n,s,r)}};k(Ci,"Ip",new c),k(Ci,"_b",0),k(Ci,"Dv",4);let qs=Ci;class RM{constructor(){k(this,"Ot");this.Ot=null}RA(t,e,n,s){this.Ot===null&&(this.Ot=[]);const r=new io(null),a=r.ci,u=1/t;if(r.width=e/t,r.height=n/t,r.width===0||r.height===0)return;const h=new IM(r.Ft,t);let f=s,m=1;if(this.Ot.length>0){const y=this.Ot[this.Ot.length-1];f=y.yt,m=y.Cd}a.setTransform(u*m,0,0,u*m,0,0),a.commitTransform(),a.drawImage(f,0,0),this.Ot.push(h)}}class IM{constructor(t,e){k(this,"yt");k(this,"Cd");this.yt=t,this.Cd=e}}const Oa=class Oa{constructor(){k(this,"Mi");k(this,"qg");this.qg=new Q,this.Mi=null}Jt(t){t!==null?(t.lt(),this.qg=t,t.figures.clear()):this.qg=new Q,this.Mi=null}fu(t,e,n,s,r,a){if(s!==void 0&&s===!0){const u=new de(1);u.endX=t,u.endY=e,this.Mi.segments.add(u)}else this.Mi=new X,this.Mi.startX=t,this.Mi.startY=e,this.Mi.isFilled=n,this.Mi.isEvenOdd=a||!1,this.qg.figures.add(this.Mi);r!==void 0&&(this.Mi.isShadowed=r)}OD(){const t=this.Mi.segments.length;t>0&&this.Mi.segments.elt(t-1).close()}ID(){this.Mi.segments.length>0&&(this.Mi.isFilled=!0)}ED(t){this.Mi.isShadowed=t}dE(t){this.Mi.isEvenOdd=t}FD(t,e,n){n===void 0&&(n=!1);const s=new de(1);s.endX=t,s.endY=e,n&&s.close(),this.Mi.segments.add(s)}dr(t,e,n){n===void 0&&(n=!1);const s=new de(2);s.endX=t,s.endY=e,n&&s.close(),this.Mi.segments.add(s)}gr(t,e,n,s,r,a,u){u===void 0&&(u=!1);const h=new de(3);h.point1X=t,h.point1Y=e,h.point2X=n,h.point2Y=s,h.endX=r,h.endY=a,u&&h.close(),this.Mi.segments.add(h)}Pw(t,e,n,s,r){r===void 0&&(r=!1);const a=new de(4);a.point1X=t,a.point1Y=e,a.endX=n,a.endY=s,r&&a.close(),this.Mi.segments.add(a)}RD(t,e,n,s,r,a,u){a===void 0&&(a=0),u===void 0&&(u=!1);const h=new de(5);h.startAngle=t,h.sweepAngle=e,h.centerX=n,h.centerY=s,h.radiusX=r,a!==0?h.radiusY=a:h.radiusY=r,u&&h.close(),this.Mi.segments.add(h)}vD(t,e,n,s,r,a,u,h){h===void 0&&(h=!1);const f=new de(6,a,u,t,e,n,s,r);h&&f.close(),this.Mi.segments.add(f)}static uC(t){const e=Oa.U2;if(e!==null)return Oa.U2=null,e.Jt(t),e;{const n=new Oa;return n.Jt(t),n}}static dC(t){Oa.U2=t}};k(Oa,"U2",null);let yl=Oa;{const H=function(r,a){const u=r.toLowerCase(),h=$.So;h[r]=a,h[u]=r};H("Rectangle",(r,a,u)=>{const h="r"+a+","+u;let f=$.fr[h];return f!==void 0||(f=new Q(2),f.endX=a,f.endY=u,$.ur<$.Yg&&($.fr[h]=f,$.ur++)),f}),H("Square",(r,a,u)=>{const h="s"+a+","+u;let f=$.fr[h];return f!==void 0||(f=new Q(2),f.endX=a,f.endY=u,f.defaultStretch=6,$.ur<$.Yg&&($.fr[h]=f,$.ur++)),f});const t=(r,a,u,h,f)=>{(isNaN(h)||h<0)&&(h=5),isNaN(f)&&(f=15);const m="rr"+a+","+u+","+h+","+f;let y=$.fr[m];if(y!==void 0)return y;let x=h;(f&1)===1?(x=Math.min(x,(f&2)===2?a/3:a),x=Math.min(x,(f&8)===8?u/3:u)):x=0;const S=new X(x,0,!0);y=new Q().add(S);const E=B.TopLeft.copy(),L=B.BottomRight.copy();if((f&2)===2){let D=h;D=Math.min(D,(f&1)===1?a/3:a),D=Math.min(D,(f&4)===4?u/3:u);const F=D*$.Vn;S.add(new de(2,a-D,0)).add(new de(3,a,D,a-F,0,a,F)),E.offsetY=F,L.offsetX=-F}else S.add(new de(2,a,0));if((f&4)===4){let D=h;D=Math.min(D,(f&8)===8?a/3:a),D=Math.min(D,(f&2)===2?u/3:u);const F=D*$.Vn;S.add(new de(2,a,u-D)).add(new de(3,a-D,u,a,u-F,a-F,u)),L.offsetX=-F,L.offsetY=-F}else S.add(new de(2,a,u));if((f&8)===8){let D=h;D=Math.min(D,(f&4)===4?a/3:a),D=Math.min(D,(f&1)===1?u/3:u);const F=D*$.Vn;S.add(new de(2,D,u)).add(new de(3,0,u-D,F,u,0,u-F)),E.offsetX=F,L.offsetY=-F}else S.add(new de(2,0,u));if((f&1)===1){const D=x*$.Vn;S.add(new de(2,0,x)).add(new de(3,x,0,0,D,D,0).close()),E.offsetX=D,E.offsetY=D}else S.add(new de(2,0,0).close());return y.spot1=E,y.spot2=L,$.ur<$.Yg&&($.fr[m]=y,$.ur++),y};H("RoundedRectangle",(r,a,u)=>{const h=r?r.parameter1:NaN,f=r?r.parameter2:NaN;return t(r,a,u,h,f)}),H("Border","RoundedRectangle"),H("RoundedTopRectangle",(r,a,u)=>{const h=r?r.parameter1:NaN;return t(r,a,u,h,3)}),H("RoundedBottomRectangle",(r,a,u)=>{const h=r?r.parameter1:NaN;return t(r,a,u,h,12)}),H("RoundedLeftRectangle",(r,a,u)=>{const h=r?r.parameter1:NaN;return t(r,a,u,h,9)}),H("RoundedRightRectangle",(r,a,u)=>{const h=r?r.parameter1:NaN;return t(r,a,u,h,6)}),H("Ellipse",(r,a,u)=>{const h="e"+a+","+u;let f=$.fr[h];return f!==void 0||(f=new Q(3),f.endX=a,f.endY=u,f.spot1=B.Fk,f.spot2=B.Rk,$.ur<$.Yg&&($.fr[h]=f,$.ur++)),f}),H("Circle",(r,a,u)=>{const h="c"+a+","+u;let f=$.fr[h];return f!==void 0||(f=new Q(3),f.endX=a,f.endY=u,f.spot1=B.Fk,f.spot2=B.Rk,f.defaultStretch=6,$.ur<$.Yg&&($.fr[h]=f,$.ur++)),f}),H("TriangleRight",(r,a,u)=>new Q().add(new X(0,0).add(new de(2,a,.5*u)).add(new de(2,0,u).close())).setSpots(0,.25,.5,.75)),H("TriangleDown",(r,a,u)=>new Q().add(new X(0,0).add(new de(2,a,0)).add(new de(2,.5*a,u).close())).setSpots(.25,0,.75,.5)),H("TriangleLeft",(r,a,u)=>new Q().add(new X(a,u).add(new de(2,0,.5*u)).add(new de(2,a,0).close())).setSpots(.5,.25,1,.75)),H("TriangleUp",(r,a,u)=>new Q().add(new X(a,u).add(new de(2,0,u)).add(new de(2,.5*a,0).close())).setSpots(.25,.5,.75,1)),H("Triangle","TriangleUp"),H("Diamond",(r,a,u)=>new Q().add(new X(.5*a,0).add(new de(2,0,.5*u)).add(new de(2,.5*a,u)).add(new de(2,a,.5*u).close())).setSpots(.25,.25,.75,.75)),H("LineH",(r,a,u)=>{const h=new Q(1);return h.startX=0,h.startY=u/2,h.endX=a,h.endY=u/2,h}),H("LineV",(r,a,u)=>{const h=new Q(1);return h.startX=a/2,h.startY=0,h.endX=a/2,h.endY=u,h}),H("None","Rectangle"),H("BarH","Rectangle"),H("BarV","Rectangle"),H("MinusLine","LineH"),H("PlusLine",(r,a,u)=>new Q().add(new X(0,u/2,!1).add(new de(2,a,u/2)).add(new de(1,a/2,0)).add(new de(2,a/2,u)))),H("XLine",(r,a,u)=>new Q().add(new X(0,u,!1).add(new de(2,a,0)).add(new de(1,0,0)).add(new de(2,a,u)))),H("LineRight",(r,a,u)=>new Q().add(new X(.25*a,0,!1).add(new de(2,.75*a,.5*u)).add(new de(2,.25*a,u)))),H("LineDown",(r,a,u)=>new Q().add(new X(0,.25*u,!1).add(new de(2,.5*a,.75*u)).add(new de(2,a,.25*u)))),H("LineLeft",(r,a,u)=>new Q().add(new X(.75*a,0,!1).add(new de(2,.25*a,.5*u)).add(new de(2,.75*a,u)))),H("LineUp",(r,a,u)=>new Q().add(new X(0,.75*u,!1).add(new de(2,.5*a,.25*u)).add(new de(2,a,.75*u)))),H("Capsule",(r,a,u)=>{const h=new Q;if(a<u){const f=new X(0,a/2,!0);return h.add(f),f.add(new de(5,180,180,a/2,a/2,a/2,a/2)),f.add(new de(2,a,u-a/2)),f.add(new de(5,0,180,a/2,u-a/2,a/2,a/2)),f.add(new de(2,0,a/2)),h.spot1=new B(.156,0,0,a*.156),h.spot2=new B(.844,1,0,-a*.156),h}else if(a>u){const f=new X(u/2,0,!0);return h.add(f),f.add(new de(2,a-u/2,0)),f.add(new de(5,270,180,a-u/2,u/2,u/2,u/2)),f.add(new de(2,u/2,u)),f.add(new de(5,90,180,u/2,u/2,u/2,u/2)),h.spot1=new B(0,.156,u*.156,0),h.spot2=new B(1,.844,-u*.156,0),h}else return h.type=3,h.endX=a,h.endY=u,h.spot1=B.Fk,h.spot2=B.Rk,h});const e=(r,a)=>new X(r,a,!1,!1),n=(r,a,u)=>r.add(new de(2,a,u)),s=(r,a,u)=>r.add(new de(1,a,u));H("Borders",(r,a,u)=>{let h=r?r.parameter1:NaN;isNaN(h)?h=10:h=h&15;const f=new Q;let m;return h===10?(m=e(a,0),n(m,a,u),s(m,0,u),n(m,0,0)):h===5?(m=e(0,0),n(m,a,0),s(m,a,u),n(m,0,u)):h===1?(m=e(0,0),n(m,a,0),s(m,a,u)):h===2?(m=e(a,0),n(m,a,u)):h===4?(m=e(a,u),n(m,0,u)):h===8?(m=e(0,u),n(m,0,0),s(m,a,u)):h===3?(m=e(0,0),n(m,a,0),n(m,a,u)):h===6?(m=e(a,0),n(m,a,u),n(m,0,u)):h===12?(m=e(a,u),n(m,0,u),n(m,0,0)):h===9?(m=e(0,u),n(m,0,0),n(m,a,0)):h===7?(m=e(0,0),n(m,a,0),n(m,a,u),n(m,0,u)):h===14?(m=e(a,0),n(m,a,u),n(m,0,u),n(m,0,0)):h===13?(m=e(a,u),n(m,0,u),n(m,0,0),n(m,a,0)):h===11?(m=e(0,u),n(m,0,0),n(m,a,0),n(m,a,u)):h===15?(m=e(0,0),n(m,a,0),n(m,a,u),n(m,0,u),m.add(new de(2,0,0).close())):(m=e(0,0),s(m,a,u)),f.add(m),f})}$.Kg={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};var mv=(H=>(H[H.None=0]="None",H[H.Added=1]="Added",H[H.Removed=2]="Removed",H[H.Shown=4]="Shown",H[H.Hidden=8]="Hidden",H[H.NodeSized=16]="NodeSized",H[H.GroupLayout=32]="GroupLayout",H[H.NodeReplaced=64]="NodeReplaced",H[H.Standard=127]="Standard",H[H.All=16777215]="All",H))(mv||{});const hi=class hi extends Ut{constructor(e,n){var t=(...Tte)=>(super(...Tte),k(this,"P"),k(this,"qo"),k(this,"F"),k(this,"al"),k(this,"cl"),k(this,"Wo"),k(this,"ai"),k(this,"Jo"),k(this,"ph"),k(this,"js"),k(this,"$o"),k(this,"Ld"),k(this,"EM"),k(this,"vA"),k(this,"Vp"),k(this,"Up"),this);e===void 0||e instanceof on||typeof e=="number"||typeof e=="string"?t(e):(t(),e&&(n=e)),this.P=2408959,this.qo="",this.F=null,this.al="",this.cl=null,this.Wo=null,this.ai="",this.Jo=null,this.ph=null,this.js=new T(NaN,NaN).g(),this.$o=null,this.Ld=NaN,this.EM=-1,this.vA=new I,this.Vp=null,this.Up=NaN,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.P=this.P&-4097|16384|32768,e.qo=this.qo,this.F!==null&&(this.F.mi?e.F=this.F:e.F=this.F.copy()),e.al=this.al,e.Wo=null,e.ai=this.ai,e.js.a(this.js),e.Ld=this.Ld}zo(e){super.zo(e),e.ch(),e.cl=null,e.$o=null,e.Vp=null}toString(){let e=o.sn(this.constructor)+"#"+C.cs(this);return this.data!==null&&(e+="("+o.toString(this.data)+")"),e}qi(){this.F===null?this.F=new Nf:this.F.mi&&(this.F=this.F.copy())}lh(){super.lh(),this.F!==null&&(this.F.mi=!0)}qc(e,n,s,r,a,u,h){const f=this.diagram;f!==null&&(e===3&&n==="elements"?a instanceof Ut?a.Jr(m=>{f.partManager.xS(m,f)}):a instanceof qs&&f.NS(a):e===4&&n==="elements"&&(a instanceof Ut?a.Jr(m=>f.partManager.bS(m,f)):a instanceof qs&&f.CS(a)),f.raiseChangedEvent(e,n,s,r,a,u,h))}updateTargetBindings(e){if(super.updateTargetBindings(e),this.data===null)return;const n=this.T.r,s=n.length;for(let a=0;a<s;a++){const u=n[a];u instanceof Ut&&u.Jr(h=>{h.data!==null&&h.updateTargetBindings()})}const r=this.adornments;for(;r.next();)r.value.updateTargetBindings(e)}Eo(){if(super.Eo(),this.f2()){const n=this.T.r,s=n.length;for(let r=0;r<s;r++){const a=n[r];a instanceof Ut&&a.Jr(u=>u.Eo())}}const e=this.adornments;for(;e.next();)e.value.Eo()}updateRelationshipsFromData(){var e;this.data!==null&&((e=this.diagram)==null||e.partManager.updateRelationshipsFromData(this))}get key(){const e=this.diagram;if(e!==null)return e.model.getKeyForNodeData(this.data)}get adornments(){return this.Wo===null?d.instance:this.Wo.iteratorValues}findAdornment(e){const n=this.Wo;return n===null?null:n.getValue(e)}addAdornment(e,n){if(n===null)return;let s=null,r=this.Wo;if(r!==null&&(s=r.getValue(e)),s!==n){if(s!==null){const u=s.diagram;u!==null&&u.remove(s)}r===null&&(r=new z,this.Wo=r),n.qo!==e&&(n.category=e),r.add(e,n);const a=this.diagram;if(a!==null){a.add(n);const u=n.adornedObject;if(u!==null){const h=u.findBindingPanel();h!==null&&(n.data=h.data)}}}}removeAdornment(e){const n=this.Wo;if(n===null)return;const s=n.getValue(e);if(s!==null){const r=s.diagram;r!==null&&(r.remove(s),s.data=null)}n.remove(e),n.count===0&&(this.Wo=null)}clearAdornments(){const e=this.Wo;if(e===null)return;const n=o.rt(),s=e.iterator;for(;s.next();){const a=s.key;n.push(a)}const r=n.length;for(let a=0;a<r;a++)this.removeAdornment(n[a]);o.it(n)}updateAdornments(){const e=this.diagram;if(e===null)return;this.Fv(e),this.Rv(e);let n=this.adornments;for(;n.next();){const s=n.value;s.c(),s.hasPlaceholder()&&s.placeholder.c()}for(n=this.adornments;n.next();)n.value.updateTargetBindings()}invalidateAdornments(){const e=this.diagram;e!==null&&(e.th(),this.OA()!==!0&&this.IA(!0))}VM(){this.OA()!==!1&&(this.updateAdornments(),this.IA(!1))}Fv(e){const n="Selection";if(this.isSelected&&this.selectionAdorned){const s=this.selectionObject;if(s!==null&&this.actualBounds.isReal()&&this.isVisible()&&s.isVisibleObject()&&s.actualBounds.isReal()){let r=this.findAdornment(n);if(r===null){let a=this.selectionAdornmentTemplate;if(a===null&&(this.Al()?a=e.linkSelectionAdornmentTemplate:this instanceof Wt?a=e.groupSelectionAdornmentTemplate:a=e.nodeSelectionAdornmentTemplate),!(a instanceof Cn))return;a.hi(),r=a.copy(),r!==null&&(this.Al()&&this.selectionObject===this.path&&(r.type=Ut.Link),r.adornedObject=s)}if(r!==null){r.type===Ut.Link&&r.c(),this.addAdornment(n,r);return}}}this.removeAdornment(n)}Rv(e){const n=this;e.toolManager.mouseDownTools.each(s=>{s.isEnabled&&s.updateAdornments(n)}),e.toolManager.updateAdornments(n)}OM(e){this.Jo=e,e===null&&this.TR()}get layer(){return this.Jo}get diagram(){const e=this.Jo;return e==null?null:e.diagram}get layerName(){return this.al}set layerName(e){const n=this.al;if(n===e)return;o.i(e,"string",hi,"layerName");let s=this.diagram;if(s!==null&&(s.findLayer(e)===null||s.partManager.addsToTemporaryLayer))return;this.al=e,s!==null&&s.invalidateDocumentBounds(),this.t("layerName",n,e);const r=this.layer;if(r===null||r.name===e||(s=r.diagram,s===null))return;const a=s.findLayer(e);if(a===null||a===r)return;let u=r.te(-1,this,!0);u>=0&&s.raiseChangedEvent(4,"parts",r,this,null,u,!0),u=a.qh(99999999,this,!0),r.visible!==a.visible&&this.Ei(a.visible),u>=0&&s.raiseChangedEvent(3,"parts",a,null,this,!0,u);const h=this.layerChanged;if(h===null)return;const f=s.G;s.G=!0,h(this,r,a),s.G=f}get layerChanged(){return this.F!==null?this.F.Bp:null}set layerChanged(e){const n=this.layerChanged;n!==e&&(e!==null&&o.i(e,"function",hi,"layerChanged"),this.qi(),this.F.Bp=e,this.t("layerChanged",n,e))}get zOrder(){return this.Ld}set zOrder(e){const n=this.Ld;if(n===e)return;o.i(e,"number",hi,"zOrder"),this.Ld=e;const s=this.layer;s!==null&&s.px(-1,this),this.t("zOrder",n,e);const r=this.diagram;r!==null&&r.C()}vv(){const e=this.layer;e!==null&&e.px(-1,this)}e1(){if(this.ih()!==!1)return;this.B2(!0),this.td();const e=this.diagram;e!==null&&(e.o0(this),e.requestUpdate())}EA(){if(this.P|=2097152,this.ih()===!1)return;const e=this.position,n=this.location;(!n.isReal()||!e.isReal())&&this.VA(e,n);const s=this.Ai,r=I.l().a(s);s.lt(),s.x=e.x,s.y=e.y,s.g(),this.ed(r,s),I.s(r),this.B2(!1)}Qn(e,n,s,r){const a=this.oe;a.e(e,n,s,r),this.ki===null&&(this.ki=new G);const u=this.ki;u.Jt(),this.p0(u,e,n,s,r),this.ki=u,u.vk()||u.yw(a)}p0(e,n,s,r,a){if(this.K!==1&&e.K(this.K),this.Xt===0)return;let u=B.Center;this.locationSpot.isSpot()&&(u=this.locationSpot);const h=T.l();if(this.locationObject!==this){const f=this.locationObject,m=f.naturalBounds;h.setSpot(m.x,m.y,m.width,m.height,u),f.ki!==null&&f.ki.xt(h),h.offset(-f.measuredBounds.x,-f.measuredBounds.y);let y=f.panel;for(;y!==null&&y!==this;)y.ki!==null&&y.ki.xt(h),h.offset(-y.measuredBounds.x,-y.measuredBounds.y),y=y.panel}else h.setSpot(n,s,r,a,u);e.fs(this.Xt,h.x,h.y),T.s(h)}get locationObject(){if(this.$o===null)if(this instanceof Cn&&this.type!==Ut.Link&&this.hasPlaceholder())this.$o=this.placeholder;else{const e=this.locationObjectName;if(e!==""){const n=this.findObject(e);n!==null?this.$o=n:this.$o=this}else this.$o=this}return this.$o.visible?this.$o:this}get minLocation(){return this.F!==null?this.F.zp:T.qN}set minLocation(e){const n=this.minLocation;n.equals(e)||(e=e.N(),this.qi(),this.F.zp=e,this.t("minLocation",n,e))}get maxLocation(){return this.F!==null?this.F.Xp:T.WN}set maxLocation(e){const n=this.maxLocation;n.equals(e)||(e=e.N(),this.qi(),this.F.Xp=e,this.t("maxLocation",n,e))}get locationObjectName(){return this.F!==null?this.F.Kp:""}set locationObjectName(e){const n=this.locationObjectName;n!==e&&(this.qi(),this.F.Kp=e,this.$o=null,this.c(),this.t("locationObjectName",n,e))}get locationSpot(){return this.F!==null?this.F.Yp:B.TopLeft}set locationSpot(e){const n=this.locationSpot;n.equals(e)||(e=e.N(),this.qi(),this.F.Yp=e,this.c(),this.t("locationSpot",n,e))}move(e,n){n===!0?this.location=e:this.position=e}moveTo(e,n,s){const r=T.X(e,n);this.move(r,s),T.s(r)}isVisible(){if(!this.visible)return!1;const e=this.layer;if(e!==null){if(!e.visible)return!1;const s=e.diagram;if(s!==null&&s.animationManager.sx(this))return!0}const n=this.containingGroup;return!(n!==null&&(!n.isSubGraphExpanded||!n.isVisible()))}Ei(e){const n=this.diagram;e?(this.invalidateLayout(4),this.invalidateAdornments(),n!==null&&n.o0(this)):(this.invalidateLayout(8),this.clearAdornments()),this.ch(),n!==null&&(n.invalidateDocumentBounds(),n.C())}findObject(e){if(this.name===e)return this;let n=this.Vp;if(n===null&&(this.Vp=n=new z),n.getValue(e)!==null)return n.getValue(e);const s=super.findObject(e);return s!==null?(n.set(e,s),s):(n.set(e,null),null)}A0(){this.Vp=null}getRelativePoint(e,n,s){s===void 0&&(s=new T);const r=n.isNoSpot()?B.Center:n,a=e.naturalBounds;if(s.e(a.width*r.x+r.offsetX,a.height*r.y+r.offsetY),e===null||e===this)return s;e.L.xt(s);let u=e.panel;for(;u!==null&&u!==this;)u.L.xt(s),u=u.panel;return this.ki!==null&&this.ki.xt(s),s.offset(-this.oe.x,-this.oe.y),s}getDocumentBounds(e){return e===void 0&&(e=new I),e.a(this.actualBounds)}ensureBounds(){this.ut(1/0,1/0),this.zt()}fA(e){const n=this.locationSpot,s=this.locationObject,r=s.naturalBounds,a=s instanceof cn?s.strokeWidth:0;if(e.setSpot(0,0,r.width+a,r.height+a,n),s!==this){e.offset(-a/2,-a/2),s.L.xt(e);let u=s.panel;for(;u!==null&&u!==this;)u.L.xt(e),u=u.panel}return this.ki!==null&&this.ki.xt(e),e.offset(-this.oe.x,-this.oe.y),e}Hh(e,n){const s=n===void 0?this.vA:n,r=this.Ov(),a=r*2;if(!this.isShadowed)return s.e(e.x-1-r,e.y-1-r,e.width+2+a,e.height+2+a),s;let u=e.x,h=e.y,f=e.width,m=e.height;const y=this.shadowBlur,x=this.shadowOffset;return f+=y,m+=y,u-=y/2,h-=y/2,x.x>0?f+=x.x:(u+=x.x,f-=x.x),x.y>0?m+=x.y:(h+=x.y,m-=x.y),s.e(u-1,h-1,f+2,m+2),s}pv(){return this.type===Ut.Link&&this instanceof Cn&&this.category==="Selection"&&this.adornedObject instanceof cn&&this.adornedPart.findMainElement()===this.adornedObject?this.adornedObject.strokeWidth:0}Ov(){return isNaN(this.Up)&&(this.Up=this.wA()),this.Up}hf(){this.Up=NaN}zt(){if(this.es()===!1){this.EA();return}this._n(!1);const e=this.Ai,n=I.l();n.a(e);const s=this.Ll();this.ah(0,0,this.oe.width,this.oe.height);const r=this.position;this.VA(r,this.location),e.lt(),e.x=r.x,e.y=r.y,e.g(),this.ed(n,e),n.equals(e)?this.Vs(s):this.Se()&&(!$.u(n.width,e.width)||!$.u(n.height,e.height))&&this.EM>=0&&this.invalidateLayout(16),I.s(n),this.B2(!1)}ed(e,n){const s=this.diagram;if(s===null)return;let r=!1;if(s.Zh===!1&&e.isReal()){const a=I.l();a.a(s.documentBounds),a.subtractMargin(s.padding),e.x>a.x&&e.y>a.y&&e.right<a.right&&e.bottom<a.bottom&&n.x>a.x&&n.y>a.y&&n.right<a.right&&n.bottom<a.bottom&&(r=!0),I.s(a)}(this.Iv()===!0||!e.equals(n))&&this.bL(r,s),s.C(),!(!e.isReal()&&!n.isReal()||e.equalsApproxClose(n))&&(this instanceof _t&&!s.undoManager.isUndoingRedoing&&this.invalidateConnectedLinks(),this.ch())}get location(){return this.js}set location(e){const n=e.x,s=e.y,r=this.js;(r.x!==n&&(!isNaN(r.x)||!isNaN(n))||r.y!==s&&(!isNaN(r.y)||!isNaN(s)))&&(e=e.copy(),this.Ev(e,r)&&this.t("location",r,e.copy()))}Ev(e,n){if(this.Al())return!1;if(this.js=e,this.P|=2097152,this.es()===!1){this.e1();const s=this.st;if(s.isReal()){const r=this.diagram;if(r===null||r.animationManager.isTicking||!r.undoManager.isUndoingRedoing){const a=s.copy();s.e(s.x+(e.x-n.x),s.y+(e.y-n.y)),this.UA(r,s,a.x,a.y),this.t("position",a,s.copy())}}}return!0}h2(e,n,s){if(this.Al()||!e.isReal())return!1;const r=this.diagram;if(r!==null&&this.UA(r,e,n,s),this.st=e,this.P&=-2097153,this.js.isReal()&&(r===null||r.animationManager.isTicking||!r.undoManager.isUndoingRedoing)){const a=this.js;this.js=new T(a.x+(e.x-n),a.y+(e.y-s)),this.t("location",a,this.js.copy())}return this.ih()===!1&&this.es()===!1&&(this.e1(),this.EA()),!0}UA(e,n,s,r){if(e===null||this instanceof Cn)return;const a=e.animationManager;a.xi&&a.GC(this,new T(s,r),n,!1)}yc(e,n,s){const r=this.js,a=this.st;if(s){if(r.x===e&&r.y===n)return;this.ih()||this.es()?a.e(NaN,NaN):a.e(a.x+e-r.x,a.y+n-r.y),r.e(e,n)}else{if(a.x===e&&a.y===n)return;r.e(r.x+e-a.x,r.y+n-a.y),a.e(e,n)}this.e1()}a2(){this.P&=-2097153,this.e1()}VA(e,n){const s=this.fA(T.l()),r=this.diagram,a=n.isReal(),u=e.isReal();a&&u?this.P&2097152?this.BA(e,n,r,s):this.zA(e,n,r,s):a?this.BA(e,n,r,s):u&&this.zA(e,n,r,s),this.P|=2097152,T.s(s),this.td()}BA(e,n,s,r){const a=e.x,u=e.y;if(e.e(n.x-r.x,n.y-r.y),s!==null){const h=s.animationManager,f=h.defaultAnimation.isAnimating;!f&&h.xi&&!(this instanceof Cn)&&h.GC(this,new T(a,u),e,!1),!f&&!(e.x===a&&e.y===u)&&this.t("position",new T(a,u),e.copy())}}zA(e,n,s,r){const a=n.copy();n.e(e.x+r.x,e.y+r.y),!n.equals(a)&&s!==null&&this.t("location",a,n.copy())}bL(e,n){this.t2(!1),this instanceof _t&&n.RS(this),!this.layer.isTemporary&&!e&&n.invalidateDocumentBounds();const s=this.Ai,r=n.viewportBounds;r.isReal()?this.Ll()?(s.intersectsRectPlus(r,10)||this.Vs(!1),this.updateAdornments()):this.isVisible()&&s.intersectsRect(r)?(this.Vs(!0),this.updateAdornments()):this.invalidateAdornments():n.vc=!0}Wr(){return!0}Se(){return!0}Al(){return!1}Xs(){return!0}hasPlaceholder(){return!1}get category(){return this.qo}set category(e){const n=this.qo;if(n===e)return;this.svg!==null&&(this.svg.remove(),this.ns(!0)),o.i(e,"string",hi,"category");const s=this.diagram,r=this.data;let a=null;if(s!==null&&r!==null&&!(this instanceof Cn)){const u=s.model.undoManager;u.isEnabled&&!u.isUndoingRedoing&&(a=this.clone(),a.T.addAll(this.T))}if(this.qo=e,this.t("category",n,e),s!==null&&r!==null&&!(this instanceof Cn)){const u=s.model;if(u.undoManager.isUndoingRedoing)return;if(this.Al()){s.partManager.setLinkCategoryForData(r,e);const h=s.partManager.findLinkTemplateForCategory(e);if(h!==null){h.hi();const f=h.copy();f!==null&&this.z2(f,n,e)}}else{u!==null&&u.setCategoryForNodeData(r,e);const h=s.partManager.findTemplateForNodeData(r,e);if(h!==null){h.hi();const f=h.copy();if(f!==null&&!(f instanceof Zt)){const m=this.location.copy();this.z2(f,n,e),this.location.isReal()||(this.location=m)}}}if(a!==null){const h=this.clone();h.T.addAll(this.T),this.t("self",a,h)}}else if(this instanceof Cn){const u=this.adornedPart;if(u!==null){const h=u.Wo;h!==null&&h.remove(n),u.addAdornment(this.category,this)}}}get self(){return this}set self(e){this.z2(e,this.category,e.category)}z2(e,n,s){e.constructor!==this.constructor&&(hi.XA||(hi.XA=!0,o.ri('Should not change the class of the Part when changing category from "'+n+'" to "'+s+'"'),o.ri("  Old class: "+o.sn(this.constructor)+", new class: "+o.sn(e.constructor)+", part: "+this.toString()))),this.clearAdornments();const r=this.data,a=this.layerName,u=this.isSelected,h=this.isHighlighted;let f=!0,m=!0,y=!1;this instanceof _t&&(f=this.isTreeLeaf,m=this.isTreeExpanded,y=this.wasTreeExpanded),e.zo(this),e.cloneProtected(this),this.qo=s,this.svg!==null&&(this.svg.remove(),this.svg=null,this.ns(!0)),this.c(),this.C();const x=this.diagram;let S=!0;x!==null&&(S=x.skipsUndoManager,x.skipsUndoManager=!0),this.Qt=r,this.P=u?this.P|4096:this.P&-4097,this.P=h?this.P|524288:this.P&-524289,this instanceof _t&&(this.E=f?this.E|4:this.E&-5,this.E=m?this.E|1:this.E&-2,this.E=y?this.E|2:this.E&-3),r!==null&&this.updateTargetBindings();const E=this.layerName;E!==a&&(this.al=a,this.layerName=E),x!==null&&(x.skipsUndoManager=S),this.Se()&&this.invalidateLayout(64)}canCopy(){if(!this.copyable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowCopy)return!1;const n=e.diagram;return n===null?!0:!!n.allowCopy}canDelete(){if(!this.deletable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowDelete)return!1;const n=e.diagram;return n===null?!0:!!n.allowDelete}canEdit(){if(!this.textEditable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowTextEdit)return!1;const n=e.diagram;return n===null?!0:!!n.allowTextEdit}canGroup(){if(!this.groupable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowGroup)return!1;const n=e.diagram;return n===null?!0:!!n.allowGroup}canMove(){if(!this.movable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowMove)return!1;const n=e.diagram;return n===null?!0:!!n.allowMove}canReshape(){if(!this.reshapable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowReshape)return!1;const n=e.diagram;return n===null?!0:!!n.allowReshape}canResize(){if(!this.resizable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowResize)return!1;const n=e.diagram;return n===null?!0:!!n.allowResize}canRotate(){if(!this.rotatable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowRotate)return!1;const n=e.diagram;return n===null?!0:!!n.allowRotate}canSelect(){if(!this.selectable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowSelect)return!1;const n=e.diagram;return n===null?!0:!!n.allowSelect}get copyable(){return(this.P&1)!==0}set copyable(e){const n=(this.P&1)!==0;n!==e&&(this.P=this.P^1,this.t("copyable",n,e))}get deletable(){return(this.P&2)!==0}set deletable(e){const n=(this.P&2)!==0;n!==e&&(this.P=this.P^2,this.t("deletable",n,e))}get textEditable(){return(this.P&4)!==0}set textEditable(e){const n=(this.P&4)!==0;n!==e&&(this.P=this.P^4,this.t("textEditable",n,e),this.invalidateAdornments())}get groupable(){return(this.P&8)!==0}set groupable(e){const n=(this.P&8)!==0;n!==e&&(this.P=this.P^8,this.t("groupable",n,e))}get movable(){return(this.P&16)!==0}set movable(e){const n=(this.P&16)!==0;n!==e&&(this.P=this.P^16,this.t("movable",n,e))}get selectionAdorned(){return(this.P&32)!==0}set selectionAdorned(e){const n=(this.P&32)!==0;n!==e&&(this.P=this.P^32,this.t("selectionAdorned",n,e),this.invalidateAdornments())}get isInDocumentBounds(){return(this.P&64)!==0}set isInDocumentBounds(e){const n=(this.P&64)!==0;if(n!==e){this.P=this.P^64;const s=this.diagram;s!==null&&s.invalidateDocumentBounds(),this.t("isInDocumentBounds",n,e)}}get isLayoutPositioned(){return(this.P&128)!==0}set isLayoutPositioned(e){const n=(this.P&128)!==0;n!==e&&(this.P=this.P^128,this.t("isLayoutPositioned",n,e),this.invalidateLayout(e?4:8))}get selectable(){return(this.P&256)!==0}set selectable(e){const n=(this.P&256)!==0;n!==e&&(this.P=this.P^256,this.t("selectable",n,e),this.invalidateAdornments())}get reshapable(){return(this.P&512)!==0}set reshapable(e){const n=(this.P&512)!==0;n!==e&&(this.P=this.P^512,this.t("reshapable",n,e),this.invalidateAdornments())}get resizable(){return(this.P&1024)!==0}set resizable(e){const n=(this.P&1024)!==0;n!==e&&(this.P=this.P^1024,this.t("resizable",n,e),this.invalidateAdornments())}get rotatable(){return(this.P&2048)!==0}set rotatable(e){const n=(this.P&2048)!==0;n!==e&&(this.P=this.P^2048,this.t("rotatable",n,e),this.invalidateAdornments())}get isSelected(){return(this.P&4096)!==0}set isSelected(e){const n=(this.P&4096)!==0;if(n!==e){const s=this.diagram;if(e){if(!this.canSelect())return;if(s!==null){const u=s.maxSelectionCount;if(s.selection.count>=u)return}}this.P=this.P^4096;let r=!1;if(s!==null){r=s.skipsUndoManager,s.skipsUndoManager=!0;const u=s.selection;u.lt(),e?u.add(this):u.remove(this),u.g()}this.t("isSelected",n,e),this.invalidateAdornments();const a=this.selectionChanged;a!==null&&a(this),s!==null&&(s.requestUpdate(),s.skipsUndoManager=r)}}get isHighlighted(){return(this.P&524288)!==0}set isHighlighted(e){const n=(this.P&524288)!==0;if(n!==e){this.P=this.P^524288;const s=this.diagram;if(s!==null){const a=s.highlighteds;a.lt(),e?a.add(this):a.remove(this),a.g()}this.t("isHighlighted",n,e),this.C();const r=this.highlightedChanged;r!==null&&r(this)}}get isShadowed(){return(this.P&8192)!==0}set isShadowed(e){const n=(this.P&8192)!==0;n!==e&&(this.P=this.P^8192,this.ns(!0),this.t("isShadowed",n,e),this.C())}OA(){return(this.P&16384)!==0}IA(e){e?this.P|=16384:this.P&=-16385}ih(){return(this.P&32768)!==0}B2(e){e?this.P|=32768:this.P&=-32769}Iv(){return(this.P&65536)!==0}t2(e){e?this.P|=65536:this.P&=-65537}Ll(){return(this.P&131072)!==0}Vs(e){e?this.P|=131072:this.P&=-131073}KA(){return(this.P&1048576)!==0}s1(e){e?this.P|=1048576:this.P&=-1048577}get isAnimated(){return(this.P&262144)!==0}set isAnimated(e){const n=(this.P&262144)!==0;n!==e&&(this.P=this.P^262144,this.t("isAnimated",n,e))}get highlightedChanged(){return this.F!==null?this.F.Gp:null}set highlightedChanged(e){const n=this.highlightedChanged;n!==e&&(e!==null&&o.i(e,"function",hi,"highlightedChanged"),this.qi(),this.F.Gp=e,this.t("highlightedChanged",n,e))}get selectionObjectName(){return this.F!==null?this.F.jp:""}set selectionObjectName(e){const n=this.selectionObjectName;n!==e&&(this.qi(),this.F.jp=e,this.cl=null,this.t("selectionObjectName",n,e))}get selectionAdornmentTemplate(){return this.F!==null?this.F.Hp:null}set selectionAdornmentTemplate(e){const n=this.selectionAdornmentTemplate;n!==e&&(this.qi(),this.F.Hp=e,this.t("selectionAdornmentTemplate",n,e))}get selectionObject(){if(this.cl===null){const e=this.selectionObjectName;if(e!==null&&e!==""){const n=this.findObject(e);n!==null?this.cl=n:this.cl=this}else if(this instanceof Zt){const n=this.path;n!==null?this.cl=n:this.cl=this}else this.cl=this}return this.cl}get selectionChanged(){return this.F!==null?this.F.qp:null}set selectionChanged(e){const n=this.selectionChanged;n!==e&&(e!==null&&o.i(e,"function",hi,"selectionChanged"),this.qi(),this.F.qp=e,this.t("selectionChanged",n,e))}get resizeAdornmentTemplate(){return this.F!==null?this.F.Wp:null}set resizeAdornmentTemplate(e){const n=this.resizeAdornmentTemplate;n!==e&&(this.qi(),this.F.Wp=e,this.t("resizeAdornmentTemplate",n,e))}get resizeObjectName(){return this.F!==null?this.F.Jp:""}set resizeObjectName(e){const n=this.resizeObjectName;n!==e&&(this.qi(),this.F.Jp=e,this.t("resizeObjectName",n,e))}get resizeObject(){const e=this.resizeObjectName;if(e!==""){const n=this.findObject(e);if(n!==null)return n}return this}get resizeCellSize(){return this.F!==null?this.F.$p:_.dw}set resizeCellSize(e){const n=this.resizeCellSize;n.equals(e)||(e=e.N(),this.qi(),this.F.$p=e,this.t("resizeCellSize",n,e))}get rotateAdornmentTemplate(){return this.F!==null?this.F.Zp:null}set rotateAdornmentTemplate(e){const n=this.rotateAdornmentTemplate;n!==e&&(this.qi(),this.F.Zp=e,this.t("rotateAdornmentTemplate",n,e))}get rotateObjectName(){return this.F!==null?this.F.Qp:""}set rotateObjectName(e){const n=this.rotateObjectName;n!==e&&(this.qi(),this.F.Qp=e,this.t("rotateObjectName",n,e))}get rotateObject(){const e=this.rotateObjectName;if(e!==""){const n=this.findObject(e);if(n!==null)return n}return this}get rotationSpot(){return this.F!==null?this.F._p:B.Default}set rotationSpot(e){const n=this.rotationSpot;n.equals(e)||(e=e.N(),this.qi(),this.F._p=e,this.t("rotationSpot",n,e))}get text(){return this.ai}set text(e){const n=this.ai;n!==e&&(this.ai=e,this.t("text",n,e))}get containingGroup(){return this.ph}set containingGroup(e){if(this.Se()){const n=this.ph;if(n!==e){e!==null&&(this===e||e.isMemberOf(this))&&(this===e&&o.o("Cannot make a Group a member of itself: "+this.toString()),o.o("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+e.toString())),this.invalidateLayout(2);const s=this.diagram;if(n!==null?n.X2(this):this instanceof Wt&&s!==null&&s.Gr.remove(this),this.ph=e,e!==null?e.K2(this):this instanceof Wt&&s!==null&&s.Gr.add(this),this.invalidateLayout(1),s!==null&&s.G){const a=this.data,u=s.model;if(a!==null&&u.Gc()){const h=e!==null?e.data:null;u.setGroupForData(a,u.getKeyForNodeData(h))}}const r=this.containingGroupChanged;if(r!==null){let a=!0;s!==null&&(a=s.G,s.G=!0),r(this,n,e),s!==null&&(s.G=a)}if(this instanceof Wt){const a=new C;hi.nh(a,this,!0,0,!0);const u=a.iterator;for(;u.next();){const h=u.value;if(h instanceof _t){const f=h.linksConnected;for(;f.next();)f.value.Ad()}}}if(this instanceof _t){const a=this.linksConnected;for(;a.next();)a.value.Ad();const u=this.labeledLink;u!==null&&u.Ad()}this.t("containingGroup",n,e),e!==null&&e.vv()}}else o.o("cannot set the Part.containingGroup of a Link or Adornment")}ch(){const e=this.containingGroup;e!==null&&(e.hasPlaceholder()&&e.placeholder.c(),e.c(),e.invalidateConnectedLinks())}C(){const e=this.diagram;e!==null&&!this.es()&&!this.ih()&&this.isVisible()&&this.Ai.isReal()&&e.C(this.Hh(this.Ai))}c(){if(this.Io())return;super.c();const e=this.diagram;e!==null&&(e.o0(this),this instanceof _t&&this.labeledLink!==null&&this.labeledLink._c(),e.requestUpdate(!0))}_c(e){if(this.es())return;const n=this.diagram;n!==null&&(n.o0(this),this instanceof _t&&this.invalidateConnectedLinks(),n.requestUpdate()),this._n(!0)}Vm(e){if(!e){const n=this.ph;n!==null&&n.K2(this)}}Um(e){if(!e){const n=this.ph;n!==null&&n.X2(this)}}Bc(){const e=this.data;if(e!==null){const n=this.diagram;if(n!==null){const s=n.model;s!==null&&s.removeNodeData(e)}}}get containingGroupChanged(){return this.F!==null?this.F.ty:null}set containingGroupChanged(e){const n=this.containingGroupChanged;n!==e&&(e!==null&&o.i(e,"function",hi,"containingGroupChanged"),this.qi(),this.F.ty=e,this.t("containingGroupChanged",n,e))}findSubGraphLevel(){return this.Y2(this)}Y2(e){const n=e.containingGroup;if(n!==null)return 1+this.Y2(n);if(e instanceof _t){const s=e.labeledLink;if(s!==null)return this.Y2(s)}return 0}findTopLevelPart(){return this.G2(this)}G2(e){const n=e.containingGroup;if(n!==null)return this.G2(n);if(e instanceof _t){const s=e.labeledLink;if(s!==null)return this.G2(s)}return e}get isTopLevel(){return!(this.containingGroup!==null||this instanceof _t&&this.labeledLink!==null)}isMemberOf(e){return e instanceof Wt?this.j2(this,e):!1}j2(e,n){if(e===n||n===null)return!1;const s=e.containingGroup;if(s!==null&&(s===n||this.j2(s,n)))return!0;if(e instanceof _t){const r=e.labeledLink;if(r!==null)return this.j2(r,n)}return!1}findCommonContainingGroup(e){if(e===null)return null;if(this===e)return this.containingGroup;let n=this;for(;n!==null;){if(n instanceof Wt&&n.s1(!0),n instanceof _t){const r=n.labeledLink;r!==null&&(n=r)}n=n.containingGroup}let s=null;for(n=e;n!==null;){if(n.KA()){s=n;break}if(n instanceof _t){const r=n.labeledLink;r!==null&&(n=r)}n=n.containingGroup}for(n=this;n!==null;){if(n instanceof Wt&&n.s1(!1),n instanceof _t){const r=n.labeledLink;r!==null&&(n=r)}n=n.containingGroup}return s}get layoutConditions(){return this.F!==null?this.F.iy:127}set layoutConditions(e){const n=this.layoutConditions;n!==e&&(this.qi(),this.F.iy=e,this.t("layoutConditions",n,e))}canLayout(){if(!this.isLayoutPositioned||!this.isVisible())return!1;const e=this.layer;return!(e!==null&&e.isTemporary||this instanceof _t&&this.isLinkLabel)}Vv(e){if(!this.isLayoutPositioned||!(e&this.layoutConditions))return!1;const n=this.layer;if(n!==null&&n.isTemporary||this instanceof _t&&this.isLinkLabel)return!1;const s=this.diagram;return!(s!==null&&s.undoManager.isUndoingRedoing)}invalidateLayout(e){if(e===void 0&&(e=16777215),!this.Vv(e))return;const n=this.ph;if(n!==null){const s=n.layout;s!==null?s.invalidateLayout():n.invalidateLayout(e)}else{const s=this.diagram;if(s!==null){const r=s.layout;r!==null&&r.invalidateLayout()}}}kL(){if(!this.isVisible())return!1;const e=this.layer;return!(e!==null&&e.isTemporary)}static nh(e,n,s,r,a,u){if(u===void 0&&(u=null),!e.contains(n)&&!(u!==null&&!u(n))&&!(n instanceof Cn)){if(e.add(n),n instanceof _t){if(s&&n instanceof Wt){const h=n.memberParts;for(;h.next();){const f=h.value;hi.nh(e,f,s,r,a,u)}}if(a!==!1){const h=n.linksConnected;for(;h.next();){const f=h.value;if(e.contains(f))continue;const m=f.fromNode,y=f.toNode,x=m===null||e.contains(m),S=y===null||e.contains(y);(a?x&&S:x||S)&&hi.nh(e,f,s,r,a,u)}}if(r>1){const h=n.findTreeChildrenNodes();for(;h.next();){const f=h.value;hi.nh(e,f,s,r-1,a,u)}}}else if(n instanceof Zt){const h=n.labelNodes;for(;h.next();){const f=h.value;hi.nh(e,f,s,r,a,u)}}}}get dragComputation(){return this.F!==null?this.F.ey:null}set dragComputation(e){const n=this.dragComputation;n!==e&&(e!==null&&o.i(e,"function",hi,"dragComputation"),this.qi(),this.F.ey=e,this.t("dragComputation",n,e))}get shadowOffset(){return this.F!==null?this.F.sy:T.JN}set shadowOffset(e){const n=this.shadowOffset;n.equals(e)||(e=e.N(),this.qi(),this.F.sy=e,this.C(),this.t("shadowOffset",n,e))}get shadowColor(){return this.F!==null?this.F.ny:"gray"}set shadowColor(e){const n=this.shadowColor;n!==e&&(this.qi(),this.F.ny=e,this.C(),this.t("shadowColor",n,e))}get shadowBlur(){return this.F!==null?this.F.bn:4}set shadowBlur(e){const n=this.shadowBlur;n!==e&&(this.qi(),this.F.bn=e,this.C(),this.t("shadowBlur",n,e))}};k(hi,"LayoutNone",0),k(hi,"LayoutAdded",1),k(hi,"LayoutRemoved",2),k(hi,"LayoutShown",4),k(hi,"LayoutHidden",8),k(hi,"LayoutNodeSized",16),k(hi,"LayoutGroupLayout",32),k(hi,"LayoutNodeReplaced",64),k(hi,"LayoutStandard",127),k(hi,"LayoutAll",16777215),k(hi,"XA",!1);let Vn=hi;class Nf{constructor(){k(this,"mi");k(this,"Bp");k(this,"ty");k(this,"Hp");k(this,"jp");k(this,"qp");k(this,"Gp");k(this,"Wp");k(this,"Jp");k(this,"$p");k(this,"Zp");k(this,"Qp");k(this,"_p");k(this,"Kp");k(this,"Yp");k(this,"zp");k(this,"Xp");k(this,"ey");k(this,"iy");k(this,"sy");k(this,"ny");k(this,"bn");this.mi=!1,this.Bp=null,this.ty=null,this.Hp=null,this.jp="",this.qp=null,this.Gp=null,this.Wp=null,this.Jp="",this.$p=_.dw,this.Zp=null,this.Qp="",this._p=B.Default,this.Kp="",this.Yp=B.TopLeft,this.zp=T.qN,this.Xp=T.WN,this.ey=null,this.iy=127,this.sy=T.JN,this.ny="gray",this.bn=4}copy(){const t=new Nf;return t.Bp=this.Bp,t.ty=this.ty,t.Hp=this.Hp,t.jp=this.jp,t.qp=this.qp,t.Gp=this.Gp,t.Wp=this.Wp,t.Jp=this.Jp,t.$p=this.$p.N(),t.Zp=this.Zp,t.Qp=this.Qp,t._p=this._p.N(),t.Kp=this.Kp,t.Yp=this.Yp.N(),t.zp=this.zp.N(),t.Xp=this.Xp.N(),t.ey=this.ey,t.iy=this.iy,t.sy=this.sy.N(),t.ny=this.ny,t.bn=this.bn,t}}class Cn extends Vn{constructor(e,n){var t=(...Nte)=>(super(...Nte),k(this,"ds"),k(this,"It"),k(this,"WP"),k(this,"JP"),k(this,"rf"),this);e===void 0||e instanceof on||typeof e=="number"||typeof e=="string"?t(e):(t(),e&&(n=e)),this.P&=-257,this.al="Adornment",this.ds=null,this.WP=0,this.JP=!1,this.It=null,this.rf=null,n&&Object.assign(this,n)}toString(){const e=this.adornedPart;return"Adornment("+this.category+")"+(e!==null?e.toString():"")}updateRelationshipsFromData(){}ad(e){const n=this.adornedObject,s=n==null?void 0:n.part;if(!(s instanceof Zt)||!(n instanceof cn))return;const r=s.path;let a=r.geometry;s.ad(e),a=r.geometry;const u=this.T.r,h=u.length;for(let f=0;f<h;f++){const m=u[f];m.isPanelMain&&m instanceof cn&&(m.ft=a)}}hasPlaceholder(){return this.It!==null&&this.It.isVisibleObject()}get placeholder(){return this.It}get adornedObject(){return this.ds}set adornedObject(e){const n=this.adornedPart;let s=null;e!==null&&(s=e.part),n!==null&&(e===null||n!==s)&&n.removeAdornment(this.category),this.ds=e,s!==null&&s.addAdornment(this.category,this)}get adornedPart(){const e=this.ds;return e!==null?e.part:null}Wr(){const e=this.ds;if(e===null)return!0;const n=e.part;return n===null||!n.es()}Se(){return!1}get containingGroup(){return null}qc(e,n,s,r,a,u,h){if(e===3&&n==="elements"){if(a instanceof Gs)this.It===null&&(this.It=a);else if(a instanceof Ut){const f=a.findInVisualTree(m=>m instanceof Gs);f instanceof Gs&&this.It===null&&(this.It=f)}}else e===4&&n==="elements"&&this.It!==null&&(r===this.It?this.It=null:r instanceof Ut&&this.It.isContainedBy(r)&&(this.It=null));super.qc(e,n,s,r,a,u,h)}updateAdornments(){}Bc(){}}var vv=(H=>(H[H.None=0]="None",H[H.Evenly=1]="Evenly",H[H.Packed=2]="Packed",H))(vv||{});const Ao=class Ao extends Vn{constructor(e,n){var t=(...Ate)=>(super(...Ate),k(this,"E"),k(this,"gt"),k(this,"xf"),k(this,"fl"),k(this,"yh"),k(this,"re"),k(this,"_t"),this);e===void 0||e instanceof on||typeof e=="number"||typeof e=="string"?t(e):(t(),e&&(n=e)),this.E=13,this.gt=null,this._t=new w,this.xf=null,this.fl=null,this.re=null,this.yh=!1,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.E=this.E,this.gt!==null&&(this.gt.mi?e.gt=this.gt:e.gt=this.gt.copy())}zo(e){super.zo(e),e.invalidateConnectedLinks(),e.fl=this.fl,e.re=null}ul(){this.gt===null?this.gt=new Af:this.gt.mi&&(this.gt=this.gt.copy())}lh(){super.lh(),this.gt!==null&&(this.gt.mi=!0)}YA(e){e!==null&&(this.fl===null&&(this.fl=new C),this.fl.add(e))}GA(e){e!==null&&this.fl!==null&&this.fl.remove(e)}jA(e,n,s){if(e===null||this.fl===null)return null;const r=this.fl.iterator;for(;r.next();){const a=r.value;if(a.oy===this&&a.o1===e&&a.H2===n&&a.q2===s||a.oy===e&&a.o1===this&&a.H2===s&&a.q2===n)return a}return null}invalidateLinkBundle(e,n,s){n==null&&(n=""),s==null&&(s="");const r=this.jA(e,n,s);r!==null&&r.Td()}qc(e,n,s,r,a,u,h){e===3&&n==="elements"?this.re=null:e===4&&n==="elements"&&(this.re=null),super.qc(e,n,s,r,a,u,h)}invalidateConnectedLinks(e){const n=this.linksConnected;for(;n.next();){const s=n.value;e!==void 0&&e.contains(s)||(this.pe(s.fromPort),this.pe(s.toPort),s.invalidateRoute())}}$L(e){const n=this.linksConnected;for(;n.next();){const s=n.value;s.fromPort!==e&&s.toPort!==e||(this.pe(s.fromPort),this.pe(s.toPort),s.invalidateRoute())}}pe(e){if(e===null)return;const n=e.$u;n!==null&&n.Td();const s=e.part,r=s.containingGroup;r!==null&&!s.isVisible()&&r.pe(r.port)}Wr(){return!0}get portSpreading(){return this.gt!==null?this.gt.ry:1}set portSpreading(e){const n=this.portSpreading;if(n!==e){this.ul(),this.gt.ry=e,this.t("portSpreading",n,e);const s=this.diagram;if(s!==null&&s.undoManager.isUndoingRedoing)return;this.invalidateConnectedLinks()}}get avoidable(){return(this.E&8)!==0}set avoidable(e){const n=(this.E&8)!==0;if(n!==e){this.E=this.E^8;const s=this.diagram;s!==null&&s.RS(this),this.t("avoidable",n,e)}}get avoidableMargin(){return this.gt!==null?this.gt.ly:K.eC}set avoidableMargin(e){typeof e=="number"&&(e=new K(e));const n=this.avoidableMargin;if(!n.equals(e)){e=e.N(),this.ul(),this.gt.ly=e;const s=this.diagram;s!==null&&s.RS(this),this.t("avoidableMargin",n,e)}}canAvoid(){return this.avoidable&&!this.isLinkLabel}getAvoidableRect(e){return e.set(this.actualBounds),e.addMargin(this.avoidableMargin),e}findVisibleNode(){let e=this;for(;e!==null&&!e.isVisible();)e=e.containingGroup;return e}isVisible(){if(!super.isVisible())return!1;let e=!0,n=1;const s=this.diagram;if(s!==null){if(s.animationManager.sx(this))return!0;e=s.isTreePathToChildren,n=s.treeCollapsePolicy}if(n===1){const a=this.findTreeParentNode();if(a!==null&&!a.isTreeExpanded)return!1}else if(n===2){const a=e?this.findLinksInto():this.findLinksOutOf();let u=!1,h=!1;for(;a.next();){const f=a.value;if(f.isTreeLink){u=!0;const m=e?f.fromNode:f.toNode;if(m&&m.isTreeExpanded){h=!0;break}}}if(u&&!h)return!1}else if(n===3){const a=e?this.findLinksInto():this.findLinksOutOf();let u=!1,h=!1;for(;a.next();){const f=a.value;if(f.isTreeLink){u=!0;const m=e?f.fromNode:f.toNode;if(m&&!m.isTreeExpanded){h=!0;break}}}if(u&&h)return!1}const r=this.labeledLink;return r!==null?r.isVisible():!0}Ei(e){super.Ei(e);const n=this.linksConnected;for(;n.next();){const s=n.value;if(e&&this.containingGroup!==null){const r=s.getOtherNode(this);r!==null&&!r.isMemberOf(this.containingGroup)&&s.invalidateRoute()}s.Ei(e)}}get linksConnected(){return this._t.iterator}findExternalTreeLinksConnected(){const e=new C,n=new C;return this.HA(this,e,n),n.iterator}HA(e,n,s){if(e===null||n.has(e))return;n.add(e);let r=!0;const a=this.diagram;a!==null&&(r=a.isTreePathToChildren),e.linksConnected.each(u=>{u.isTreeLink?(r?u.fromNode===e:u.toNode===e)&&this.HA(r?u.toNode:u.fromNode,n,s):s.add(u)})}findLinksConnected(e){if(e===void 0&&(e=null),e===null)return this._t.iterator;const n=new g(this._t),s=this;return n.predicate=r=>r.fromNode===s&&r.fromPortId===e||r.toNode===s&&r.toPortId===e,n}findLinksOutOf(e){e===void 0&&(e=null);const n=new g(this._t),s=this;return n.predicate=r=>r.fromNode!==s?!1:e===null?!0:r.fromPortId===e,n}findLinksInto(e){e===void 0&&(e=null);const n=new g(this._t),s=this;return n.predicate=r=>r.toNode!==s?!1:e===null?!0:r.toPortId===e,n}findNodesConnected(e){e===void 0&&(e=null);let n=null,s=null;const r=this._t.iterator;for(;r.next();){const a=r.value;if(a.fromNode===this){if(e===null||a.fromPortId===e){const u=a.toNode;n!==null?n.add(u):s!==null&&s!==u?(n=new C,n.add(s),n.add(u)):s=u}}else if(a.toNode===this&&(e===null||a.toPortId===e)){const u=a.fromNode;n!==null?n.add(u):s!==null&&s!==u?(n=new C,n.add(s),n.add(u)):s=u}}return n!==null?n.iterator:s!==null?new p(s):d.instance}findNodesOutOf(e){e===void 0&&(e=null);let n=null,s=null;const r=this._t.iterator;for(;r.next();){const a=r.value;if(a.fromNode===this&&(e===null||a.fromPortId===e)){const u=a.toNode;n!==null?n.add(u):s!==null&&s!==u?(n=new C,n.add(s),n.add(u)):s=u}}return n!==null?n.iterator:s!==null?new p(s):d.instance}findNodesInto(e){e===void 0&&(e=null);let n=null,s=null;const r=this._t.iterator;for(;r.next();){const a=r.value;if(a.toNode===this&&(e===null||a.toPortId===e)){const u=a.fromNode;n!==null?n.add(u):s!==null&&s!==u?(n=new C,n.add(s),n.add(u)):s=u}}return n!==null?n.iterator:s!==null?new p(s):d.instance}findLinksBetween(e,n,s){n===void 0&&(n=null),s===void 0&&(s=null);const r=new g(this._t),a=this;return r.predicate=u=>u.fromNode===a&&u.toNode===e&&(n===null||u.fromPortId===n)&&(s===null||u.toPortId===s)||u.fromNode===e&&u.toNode===a&&(s===null||u.fromPortId===s)&&(n===null||u.toPortId===n),r}findLinksTo(e,n,s){n===void 0&&(n=null),s===void 0&&(s=null);const r=new g(this._t),a=this;return r.predicate=u=>!(u.fromNode!==a||u.toNode!==e||n!==null&&u.fromPortId!==n||s!==null&&u.toPortId!==s),r}get linkConnected(){return this.gt!==null?this.gt.hy:null}set linkConnected(e){const n=this.linkConnected;n!==e&&(e!==null&&o.i(e,"function",Ao,"linkConnected"),this.ul(),this.gt.hy=e,this.t("linkConnected",n,e))}get linkDisconnected(){return this.gt!==null?this.gt.ay:null}set linkDisconnected(e){const n=this.linkDisconnected;n!==e&&(e!==null&&o.i(e,"function",Ao,"linkDisconnected"),this.ul(),this.gt.ay=e,this.t("linkDisconnected",n,e))}get linkValidation(){return this.gt!==null?this.gt.Cl:null}set linkValidation(e){const n=this.linkValidation;n!==e&&(e!==null&&o.i(e,"function",Ao,"linkValidation"),this.ul(),this.gt.Cl=e,this.t("linkValidation",n,e))}l1(e,n){this.pe(n);const s=this._t.contains(e);if(s||this._t.add(e),!s||e.fromNode===e.toNode){const r=this.linkConnected;if(r!==null){let a=!0;const u=this.diagram;u!==null&&(a=u.G,u.G=!0),r(this,e,n),u!==null&&(u.G=a)}}if(!s){if(!e.isTreeLink)return;const r=e.fromNode,a=e.toNode;if(r!==null&&a!==null&&r!==a){let u=!0;const h=this.diagram;h!==null&&(u=h.isTreePathToChildren);const f=u?a:r,m=u?r:a;if(f.yh||(f.yh=m),m.isTreeLeaf){if(h!==null&&h.undoManager.isUndoingRedoing)return;u?r===m&&(m.isTreeLeaf=!1):a===m&&(m.isTreeLeaf=!1)}}}}h1(e,n){this.pe(n);const s=this._t.remove(e);let r=null;if(s||e.toNode===e.fromNode){const a=this.linkDisconnected;if(r=this.diagram,a!==null){let u=!0;r!==null&&(u=r.G,r.G=!0),a(this,e,n),r!==null&&(r.G=u)}}if(s){if(!e.isTreeLink)return;let a=!0;r!==null&&(a=r.isTreePathToChildren);const u=a?e.toNode:e.fromNode,h=a?e.fromNode:e.toNode;if(u!==null&&(u.yh=!1),h!==null&&!h.isTreeLeaf)if(h._t.count===0){if(h.yh=null,r!==null&&r.undoManager.isUndoingRedoing)return;h.isTreeLeaf=!0}else h.f0()}}f0(){if(this.yh=!1,this._t.count===0)return;let e=!0;const n=this.diagram;if(n!==null&&n.undoManager.isUndoingRedoing)return;n!==null&&(e=n.isTreePathToChildren);const s=this._t.iterator;for(;s.next();){const r=s.value;if(r.isTreeLink){if(e){if(r.fromNode===this){this.isTreeLeaf=!1;return}}else if(r.toNode===this){this.isTreeLeaf=!1;return}}}this.isTreeLeaf=!0}updateRelationshipsFromData(){const e=this.diagram;e!==null&&e.partManager.updateRelationshipsFromData(this)}Vm(e){if(super.Vm(e),!e){this.f0();const n=this.xf;n!==null&&n.qA(this)}}Um(e){if(super.Um(e),!e){const n=this.xf;n!==null&&n.WA(this)}}Bc(){if(this._t.count>0){const e=this.diagram;if(e!==null){const n=e.commandHandler!==null?e.commandHandler.deletesConnectedLinks:!0,s=this._t.copy().iterator;for(;s.next();){const r=s.value;n?e.remove(r):(r.fromNode===this&&(r.fromNode=null),r.toNode===this&&(r.toNode=null))}}}this.labeledLink=null,super.Bc()}get isLinkLabel(){return this.xf!==null}get labeledLink(){return this.xf}set labeledLink(e){const n=this.xf;if(n!==e){const s=this.diagram,r=this.data;if(n!==null){if(n.WA(this),s!==null&&r!==null&&!s.undoManager.isUndoingRedoing){const a=n.data,u=s.model;if(a!==null&&u.Aa()){const h=u.getKeyForNodeData(r);h!==void 0&&u.removeLabelKeyForLinkData(a,h)}}this.containingGroup=null}if(this.xf=e,e!==null){if(e.qA(this),s!==null&&r!==null&&!s.undoManager.isUndoingRedoing){const a=e.data,u=s.model;if(a!==null&&u.Aa()){const h=u.getKeyForNodeData(r);h!==void 0&&u.addLabelKeyForLinkData(a,h)}}this.containingGroup=e.containingGroup}this._c(),this.t("labeledLink",n,e)}}findVisiblePort(e){let n=e;for(;n!==null&&(!n.actualBounds.isReal()||!n.isVisibleObject());)n=n.panel;return n===null?this.port:n}findPort(e){if(this.re===null){if(e===""&&this.xn===!1)return this;this.JA()}let n=this.re.getValue(e);return n!==null||e!==""&&(n=this.re.getValue(""),n!==null)?n:this}get port(){return this.findPort("")}get ports(){return this.re===null&&this.JA(),this.re.iteratorValues}JA(){this.re===null?this.re=new z:this.re.clear(),this.walkVisualTreeFrom(this,(e,n)=>e.nA(n)),this.re.count===0&&this.re.add("",this)}nA(e){const n=e.portId;n!==null&&this.re!==null&&this.re.add(n,e)}c2(e,n){const s=e.portId;if(s!==null){this.re!==null&&this.re.remove(s);const r=this.diagram;if(r!==null&&n){let a=null;const u=this.findLinksConnected(s);for(;u.next();){const h=u.value;a===null&&(a=o.rt()),a.push(h)}if(a!==null){for(let h=0;h<a.length;h++){const f=a[h];r.remove(f)}o.it(a)}}}}isInTreeOf(e){if(e===null||e===this)return!1;let n=!0;const s=this.diagram;s!==null&&(n=s.isTreePathToChildren);let r=this;const a=e;let u;if(n)for(;r!==a;){u=null;const h=r._t.iterator;for(;h.next();){const f=h.value;if(f.isTreeLink&&(u=f.fromNode,u!==r&&u!==this))break}if(u===this||u===null||u===r)return!1;r=u}else for(;r!==a;){u=null;const h=r._t.iterator;for(;h.next();){const f=h.value;if(f.isTreeLink&&(u=f.toNode,u!==r&&u!==this))break}if(u===this||u===null||u===r)return!1;r=u}return!0}findTreeRoot(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);let s=this,r;if(e)for(;;){r=null;const a=s._t.iterator;for(;a.next();){const u=a.value;if(u.isTreeLink&&(r=u.fromNode,r!==s&&r!==this))break}if(r===this)return this;if(r===null||r===s)return s;s=r}else for(;;){r=null;const a=s._t.iterator;for(;a.next();){const u=a.value;if(u.isTreeLink&&(r=u.toNode,r!==s&&r!==this))break}if(r===this)return this;if(r===null||r===s)return s;s=r}}findCommonTreeParent(e){if(e===null)return null;if(this===e)return this;let n=this;for(;n!==null;)n.s1(!0),n=n.findTreeParentNode();let s=null;for(n=e;n!==null;){if(n.KA()){s=n;break}n=n.findTreeParentNode()}for(n=this;n!==null;)n.s1(!1),n=n.findTreeParentNode();return s}findTreeParentLink(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);const s=this._t.iterator;if(e)for(;s.next();){const r=s.value;if(r.isTreeLink&&r.fromNode!==this)return r}else for(;s.next();){const r=s.value;if(r.isTreeLink&&r.toNode!==this)return r}return null}findTreeParentNode(){const e=this.yh;if(e===null)return null;if(e instanceof Ao)return e;const n=this.diagram,s=n!==null?n.isTreePathToChildren:!0,r=this._t.iterator;for(;r.next();){const a=r.value;if(!a.isTreeLink)continue;const u=s?a.fromNode:a.toNode;if(u!==this)return this.yh=u,u}return this.yh=null,null}findTreeParentChain(){function e(s,r){r.add(s);const a=s.findTreeParentLink();if(a!==null){r.add(a);const u=s.findTreeParentNode();if(u===null)return;e(u,r)}}const n=new C;return e(this,n),n}findTreeLevel(){return this.Uv(this)}Uv(e){let n=0,s=e.findTreeParentNode();for(;s!==null&&s!==e;)s=s.findTreeParentNode(),n++;return n}findTreeChildrenLinks(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);const s=new g(this._t),r=this;return e?s.predicate=a=>!(!a.isTreeLink||a.fromNode!==r):s.predicate=a=>!(!a.isTreeLink||a.toNode!==r),s}findTreeChildrenNodes(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);let s=null,r=null;const a=this._t.iterator;if(e)for(;a.next();){const u=a.value;if(u.isTreeLink&&u.fromNode===this){const h=u.toNode;s!==null?s.add(h):r!==null&&r!==h?(s=new w,s.add(r),s.add(h)):r=h}}else for(;a.next();){const u=a.value;if(u.isTreeLink&&u.toNode===this){const h=u.fromNode;s!==null?s.add(h):r!==null&&r!==h?(s=new w,s.add(r),s.add(h)):r=h}}return s!==null?s.iterator:r!==null?new p(r):d.instance}findTreeParts(e){e===void 0&&(e=1/0),o.i(e,"number",Ao,"findTreeParts:level");const n=new C;return Vn.nh(n,this,!1,e,!0),n}collapseTree(e){e===void 0&&(e=1),e<1&&(e=1);const n=this.diagram;if(n===null||n.isCollapsingExpanding)return;n.isCollapsingExpanding=!0;const s=new C;s.add(this),this.$A(s,n.isTreePathToChildren,e,n,this,n.treeCollapsePolicy===1),n.isCollapsingExpanding=!1}$A(e,n,s,r,a,u){if(s>1){const h=n?this.findLinksOutOf():this.findLinksInto();for(;h.next();){const f=h.value;if(!f.isTreeLink)continue;const m=f.getOtherNode(this);m!==null&&m!==this&&!e.contains(m)&&(e.add(m),m.$A(e,n,s-1,r,a,u))}}else this.ZA(e,n,r,a,u)}ZA(e,n,s,r,a){const u=r===this?!0:this.isTreeExpanded,h=n?this.findLinksOutOf():this.findLinksInto();for(;h.next();){const f=h.value;if(!f.isTreeLink)continue;const m=f.getOtherNode(this);if(m!==null&&m!==this){const y=e.contains(m);if(y||e.add(m),u){const x=n?m.findNodesInto():m.findNodesOutOf(),S=this;x.all(E=>E===S||!E.isTreeExpanded)&&s.Sc(m,r),m.ch(),m.Ei(!1)}m.isTreeExpanded&&(m.wasTreeExpanded=m.isTreeExpanded,y||m.ZA(e,n,s,r,a))}}this.isTreeExpanded=!1}expandTree(e){e===void 0&&(e=2),e<2&&(e=2);const n=this.diagram;if(n===null||n.isCollapsingExpanding)return;n.isCollapsingExpanding=!0;const s=new C;s.add(this),this.QA(s,n.isTreePathToChildren,e,n,this,n.treeCollapsePolicy===1),n.isCollapsingExpanding=!1}QA(e,n,s,r,a,u){const h=a===this?!1:this.isTreeExpanded,f=n?this.findLinksOutOf():this.findLinksInto();for(;f.next();){const m=f.value;if(!m.isTreeLink)continue;h||m.Ce||m.invalidateRoute();const y=m.getOtherNode(this);if(y!==null&&y!==this&&!e.contains(y)){if(e.add(y),!h){y.Ei(!0),y.ch();const x=n?y.findNodesInto():y.findNodesOutOf(),S=this;x.all(E=>E===S||!E.isTreeExpanded)&&r.Mc(y,a)}(s>2||y.wasTreeExpanded)&&(y.wasTreeExpanded=!1,y.QA(e,n,s-1,r,a,u))}}this.isTreeExpanded=!0}get isTreeExpanded(){return(this.E&1)!==0}set isTreeExpanded(e){const n=(this.E&1)!==0;if(n!==e){this.E=this.E^1;const s=this.diagram;this.t("isTreeExpanded",n,e);const r=this.treeExpandedChanged;if(r!==null){let a=!0;s!==null&&(a=s.G,s.G=!0),r(this),s!==null&&(s.G=a)}if(s!==null&&s.undoManager.isUndoingRedoing){this.Ei(e);return}e?this.expandTree():this.collapseTree()}}get wasTreeExpanded(){return(this.E&2)!==0}set wasTreeExpanded(e){const n=(this.E&2)!==0;n!==e&&(this.E=this.E^2,this.t("wasTreeExpanded",n,e))}get treeExpandedChanged(){return this.gt!==null?this.gt.cy:null}set treeExpandedChanged(e){const n=this.treeExpandedChanged;n!==e&&(e!==null&&o.i(e,"function",Ao,"treeExpandedChanged"),this.ul(),this.gt.cy=e,this.t("treeExpandedChanged",n,e))}get isTreeLeaf(){return(this.E&4)!==0}set isTreeLeaf(e){const n=(this.E&4)!==0;n!==e&&(this.E=this.E^4,this.t("isTreeLeaf",n,e))}get isTreeRoot(){return this.findTreeParentLink()===null}};k(Ao,"SpreadingNone",0),k(Ao,"SpreadingEvenly",1),k(Ao,"SpreadingPacked",2);let _t=Ao;class Af{constructor(){k(this,"mi");k(this,"hy");k(this,"ay");k(this,"Cl");k(this,"cy");k(this,"ly");k(this,"ry");k(this,"fy");k(this,"uy");k(this,"sh");k(this,"gy");this.mi=!1,this.hy=null,this.ay=null,this.Cl=null,this.cy=null,this.ly=K.eC,this.ry=1,this.fy=null,this.uy=null,this.sh=null,this.gy=null}copy(){const t=new Af;return t.hy=this.hy,t.ay=this.ay,t.Cl=this.Cl,t.cy=this.cy,t.ly=this.ly.N(),t.ry=this.ry,t.fy=this.fy,t.uy=this.uy,t.sh=this.sh,t.gy=this.gy,t}}var Lf=(H=>(H[H.None=0]="None",H[H.End=17]="End",H[H.Scale=18]="Scale",H[H.Stretch=19]="Stretch",H))(Lf||{}),Ef=(H=>(H[H.Normal=1]="Normal",H[H.Orthogonal=2]="Orthogonal",H[H.AvoidsNodes=6]="AvoidsNodes",H[H.AvoidsNodesStraight=7]="AvoidsNodesStraight",H))(Ef||{}),Df=(H=>(H[H.None=0]="None",H[H.Bezier=9]="Bezier",H[H.JumpGap=10]="JumpGap",H[H.JumpOver=11]="JumpOver",H))(Df||{});const Nn=class Nn extends Vn{constructor(e){super(Ut.Link);k(this,"Nt");k(this,"lo");k(this,"ho");k(this,"Dd");k(this,"ao");k(this,"co");k(this,"Fd");k(this,"bf");k(this,"Rd");k(this,"vd");k(this,"Od");k(this,"Ta");k(this,"Id");k(this,"Hs");k(this,"Pi");k(this,"dl");k(this,"Sr");k(this,"kf");k(this,"Zo");k(this,"W2");k(this,"J2");k(this,"a1");k(this,"$2");k(this,"Z2");k(this,"my");k(this,"c1");k(this,"ft");k(this,"Qo");k(this,"rf");k(this,"Q2");k(this,"_2");this.Nt=8,this.lo=null,this.ho="",this.Dd=null,this.ao=null,this.co="",this.Fd=null,this.bf=0,this.Rd=0,this.vd=0,this.Od=NaN,this.Ta=1,this.Id=.5,this.Hs=null,this.Pi=new w().g(),this.dl=null,this.Sr=null,this.kf=new I,this.ft=new Q,this.Zo=null,this.Qo=null,this.W2=null,this.J2=null,this.Q2=0,this._2=0,this.a1=new T,this.$2=null,this.Z2=null,this.my=null,this.c1=NaN,this.W=null,this.rf=[],e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Nt=this.Nt&-113,e.ho=this.ho,e.Dd=this.Dd,e.co=this.co,e.Fd=this.Fd,e.bf=this.bf,e.Rd=this.Rd,e.vd=this.vd,e.Od=this.Od,e.Ta=this.Ta,e.Id=this.Id,this.W!==null&&(e.W=this.W.copy())}zo(e){super.zo(e),this.ho=e.ho,this.co=e.co,e.dl=null,e.invalidateRoute(),e.Qo=this.Qo;const n=e.fromPort;n!==null&&e.fromNode.pe(n);const s=e.toPort;s!==null&&e.toNode.pe(s)}li(e){e in Ef||e in Df||e in Lf?Nn.tN(e)?this.routing=e:e===9||e===10||e===11?this.curve=e:e===17||e===18||e===19?this.adjusting=e:e===1||e===0||o.o("Unknown Link enum value for a Link property: "+e):super.li(e)}Ke(){this.W===null&&(this.W=new Jc)}ZR(e,n,s){const r=e.segmentIndex,a=e.segmentFraction;let u=e.alignmentFocus;const h=e.segmentOrientation,f=e.segmentOffset;let m=0,y=0,x=0,S=0;if(isNaN(r)){const he=this.ft,ge=o.rt();he.getPointAndAngleAlongPath(a,ge);const ke=T.X(ge[0],ge[1]);if(ke.add(this.getPoint(0)),he.type===1)ke.offset(-he.startX,-he.startY);else{const we=he.figures.first();ke.offset(-we.startX,-we.startY)}S=ge[2],h!==0&&(x=this.computeAngle(e,h,S),e.angle=x),m=ke.x,y=ke.y,T.s(ke),o.it(ge)}else if(r<-n||r>=n){const he=T.l();this.cA(he),S=this.midAngle,h!==0&&(x=this.computeAngle(e,h,S),e.angle=x),m=he.x,y=he.y,T.s(he)}else{let he,ge,ke=0;if(r>=0?(he=s.r[r],ge=r<n-1?s.r[r+1]:he):(ke=n+r,he=s.r[ke],ge=ke>0?s.r[ke-1]:he),he.equalsApprox(ge)){let we,Pe;r>=0?(we=r>0?s.r[r-1]:he,Pe=r<n-2?s.r[r+2]:ge):(we=ke<n-1?s.r[ke+1]:he,Pe=ke>1?s.r[ke-2]:ge);const Re=we.distanceSquaredPoint(he),Xe=ge.distanceSquaredPoint(Pe);Re>Xe+10?S=r>=0?we.directionPoint(he):he.directionPoint(we):Xe>Re+10?S=r>=0?ge.directionPoint(Pe):Pe.directionPoint(ge):S=r>=0?we.directionPoint(Pe):Pe.directionPoint(we)}else S=r>=0?he.directionPoint(ge):ge.directionPoint(he);h!==0&&(x=this.computeAngle(e,h,S),e.angle=x),m=he.x+(ge.x-he.x)*a,y=he.y+(ge.y-he.y)*a}if(u.isNone()){e.location=new T(m,y);return}else u.isNoSpot()&&(u=B.Center);const E=G.l();E.Jt(),E.K(e.scale,e.scale),E.fs(e.angle,0,0);const L=e.naturalBounds,D=I.X(0,0,L.width,L.height),F=T.l();F.setRectSpot(D,u),E.xt(F);let V=-F.x,U=-F.y;const W=L.width,q=L.height,le=T.l();le.a(f);const oe=isNaN(f.x),ce=isNaN(f.y);if(oe||ce){const he=W/2+3,ge=q/2+3,ke=S>=45&&S<=135,we=S>=225&&S<=315;h===0&&(ke||we)?(le.x=ce?he:f.y,le.y=oe?ge:f.x,ke?r>=0||isNaN(r)&&a<.5||oe&&(le.y=-ge):we&&((r>=0||isNaN(r)&&a<.5)&&oe&&(le.y=-ge),ce&&(le.x=-he))):(oe&&(r>=0||isNaN(r)&&a<.5?le.x=he:le.x=-he),ce&&(le.y=-ge),le.rotate(S))}else le.rotate(S);m+=le.x,y+=le.y,E.yw(D),V+=D.x,U+=D.y;const Se=T.X(m+V,y+U);e.move(Se),T.s(Se),T.s(le),T.s(F),I.s(D),G.s(E)}Wr(){let e=this.fromNode;if(e!==null){const s=e.findVisibleNode();if(s!==null&&(e=s),e.es()||e.ih())return!1}let n=this.toNode;if(n!==null){const s=n.findVisibleNode();if(s!==null&&(n=s),n.es()||n.ih())return!1}return!0}h2(e,n,s){return!1}a2(){}Se(){return!1}computeAngle(e,n,s){return Nn.computeAngle(n,s)}static computeAngle(e,n){let s=0;switch(e){default:case 0:s=0;break;case 21:s=n;break;case 22:s=n+90;break;case 23:s=n-90;break;case 24:s=n+180;break;case 25:s=$.Xg(n),s>90&&s<270&&(s-=180);break;case 26:s=$.Xg(n+90),s>90&&s<270&&(s-=180);break;case 27:s=$.Xg(n-90),s>90&&s<270&&(s-=180);break;case 28:if(s=$.Xg(n),s>45&&s<135||s>225&&s<315)return 0;s>90&&s<270&&(s-=180);break}return $.Xg(s)}get fromNode(){return this.lo}set fromNode(e){const n=this.lo;if(n!==e){const s=this.fromPort;n!==null&&(this.ao!==n&&n.h1(this,s),this.py(),this.invalidateLayout(2)),this.lo=e,e!==null&&this.Ei(e.isVisible()),this.Zo=null,this.invalidateRoute();const r=this.diagram;r!==null&&r.G&&r.partManager.setFromNodeForLink(this,e,n);const a=this.fromPort,u=this.fromPortChanged;if(u!==null){let h=!0;r!==null&&(h=r.G,r.G=!0),u(this,s,a),r!==null&&(r.G=h)}e!==null&&(this.ao!==e&&e.l1(this,a),this.yy(),this.invalidateLayout(1)),this.t("fromNode",n,e),this.Ad()}}get fromPortId(){return this.ho}set fromPortId(e){const n=this.ho;if(n!==e){const s=this.fromPort;s!==null&&this.fromNode.pe(s),this.py(),this.ho=e;const r=this.fromPort;r!==null&&this.fromNode.pe(r);const a=this.diagram;if(a!==null){const u=this.data,h=a.model;u!==null&&h.Aa()&&h.setFromPortIdForLinkData(u,e)}if(s!==r){this.Zo=null,this.invalidateRoute();const u=this.fromPortChanged;if(u!==null){let h=!0;a!==null&&(h=a.G,a.G=!0),u(this,s,r),a!==null&&(a.G=h)}}this.yy(),this.t("fromPortId",n,e)}}get fromPort(){const e=this.lo;if(e===null)return null;const n=this.ho;return e.findPort(n)}get fromPortChanged(){return this.Dd}set fromPortChanged(e){const n=this.Dd;n!==e&&(e!==null&&o.i(e,"function",Nn,"fromPortChanged"),this.Dd=e,this.t("fromPortChanged",n,e))}get toNode(){return this.ao}set toNode(e){const n=this.ao;if(n!==e){const s=this.toPort;n!==null&&(this.lo!==n&&n.h1(this,s),this.py(),this.invalidateLayout(2)),this.ao=e,e!==null&&this.Ei(e.isVisible()),this.Zo=null,this.invalidateRoute();const r=this.diagram;r!==null&&r.G&&r.partManager.setToNodeForLink(this,e,n);const a=this.toPort,u=this.toPortChanged;if(u!==null){let h=!0;r!==null&&(h=r.G,r.G=!0),u(this,s,a),r!==null&&(r.G=h)}e!==null&&(this.lo!==e&&e.l1(this,a),this.yy(),this.invalidateLayout(1)),this.t("toNode",n,e),this.Ad()}}get toPortId(){return this.co}set toPortId(e){const n=this.co;if(n!==e){const s=this.toPort;s!==null&&this.toNode.pe(s),this.py(),this.co=e;const r=this.toPort;r!==null&&this.toNode.pe(r);const a=this.diagram;if(a!==null){const u=this.data,h=a.model;u!==null&&h.Aa()&&h.setToPortIdForLinkData(u,e)}if(s!==r){this.Zo=null,this.invalidateRoute();const u=this.toPortChanged;if(u!==null){let h=!0;a!==null&&(h=a.G,a.G=!0),u(this,s,r),a!==null&&(a.G=h)}}this.yy(),this.t("toPortId",n,e)}}get toPort(){const e=this.ao;if(e===null)return null;const n=this.co;return e.findPort(n)}get toPortChanged(){return this.Fd}set toPortChanged(e){const n=this.Fd;n!==e&&(e!==null&&o.i(e,"function",Nn,"toPortChanged"),this.Fd=e,this.t("toPortChanged",n,e))}get fromSpot(){return this.W!==null?this.W.ca:B.Default}set fromSpot(e){const n=this.fromSpot;if(!n.equals(e)){if(e=e.N(),this.Ke(),this.W.ca=e,this.t("fromSpot",n,e),n.isSide()||e.isSide()){const s=this.fromNode;s!==null&&s.pe(this.fromPort)}this.invalidateRoute()}}get fromEndSegmentLength(){return this.W!==null?this.W.ua:NaN}set fromEndSegmentLength(e){const n=this.fromEndSegmentLength;n!==e&&(e<0&&o.tt(e,">= 0",Nn,"fromEndSegmentLength"),this.Ke(),this.W.ua=e,this.t("fromEndSegmentLength",n,e),this.invalidateRoute())}get fromShortLength(){return this.W!==null?this.W.ga:NaN}set fromShortLength(e){const n=this.fromShortLength;n!==e&&(this.Ke(),this.W.ga=e,this.ne(),this.t("fromShortLength",n,e))}get toSpot(){return this.W!==null?this.W.fa:B.Default}set toSpot(e){const n=this.toSpot;if(!n.equals(e)){if(e=e.N(),this.Ke(),this.W.fa=e,this.t("toSpot",n,e),n.isSide()||e.isSide()){const s=this.toNode;s!==null&&s.pe(this.toPort)}this.invalidateRoute()}}get toEndSegmentLength(){return this.W!==null?this.W.da:NaN}set toEndSegmentLength(e){const n=this.toEndSegmentLength;n!==e&&(e<0&&o.tt(e,">= 0",Nn,"toEndSegmentLength"),this.Ke(),this.W.da=e,this.t("toEndSegmentLength",n,e),this.invalidateRoute())}get toShortLength(){return this.W!==null?this.W.ma:NaN}set toShortLength(e){const n=this.toShortLength;n!==e&&(this.Ke(),this.W.ma=e,this.ne(),this.t("toShortLength",n,e))}Ad(){const e=this.fromNode,n=this.toNode;let s=null;if(e!==null?n!==null?s=e.findCommonContainingGroup(n):s=e.containingGroup:n!==null?s=n.containingGroup:s=null,this.Kv(s),this.isLabeledLink){const r=this.labelNodes;for(;r.next();){const a=r.value;a.containingGroup=s}}}Kv(e){const n=this.ph;if(n!==e){n!==null&&n.X2(this),this.ph=e,e!==null&&e.K2(this);const s=this.containingGroupChanged;if(s!==null){let r=!0;const a=this.diagram;a!==null&&(r=a.G,a.G=!0),s(this,n,e),a!==null&&(a.G=r)}this.Ce&&(this.$2===n||this.Z2===n)&&this.invalidateRoute()}}ch(){const e=this.containingGroup;e!==null&&this.fromNode!==e&&this.toNode!==e&&e.computesBoundsIncludingLinks&&super.ch()}getOtherNode(e){const n=this.fromNode;return e===n?this.toNode:n}getOtherPort(e){const n=this.fromPort;return e===n?this.toPort:n}get isLabeledLink(){return this.Hs===null?!1:this.Hs.count>0}get labelNodes(){return this.Hs===null?d.instance:this.Hs.iterator}qA(e){this.Hs===null&&(this.Hs=new C),this.Hs.add(e),this.c()}WA(e){this.Hs!==null&&(this.Hs.remove(e),this.c())}Vm(e){if(super.Vm(e),this.va()&&this.invalidateOtherJumpOvers(this.actualBounds),!e){const n=this.lo;let s=null;n!==null&&(s=this.fromPort,n.l1(this,s));const r=this.ao;let a=null;r!==null&&(a=this.toPort,(r!==n||a!==s)&&r.l1(this,a)),this.yy()}}Um(e){if(super.Um(e),this.va()&&this.invalidateOtherJumpOvers(this.actualBounds),!e){const n=this.lo;let s=null;n!==null&&(s=this.fromPort,n.h1(this,s));const r=this.ao;let a=null;r!==null&&(a=this.toPort,(r!==n||a!==s)&&r.h1(this,a)),this.py()}}Bc(){if(this.Ce=!0,this.Hs!==null){const e=this.diagram;if(e!==null){const n=this.Hs.copy().iterator;for(;n.next();){const s=n.value;e.remove(s)}}}if(this.data!==null){const e=this.diagram;e!==null&&e.partManager.iN(this)}}updateRelationshipsFromData(){if(this.data===null)return;const e=this.diagram;e!==null&&e.partManager.updateRelationshipsFromData(this)}move(e,n){const s=n?this.location:this.position;let r=s.x;isNaN(r)&&(r=0);let a=s.y;isNaN(a)&&(a=0);const u=e.x-r,h=e.y-a;if(n===!0)super.move(e,!1);else{const m=T.X(s.x+u,s.y+h);super.move(m,!1),T.s(m)}this.yr(u,h);const f=this.labelNodes;for(;f.next();){const m=f.value,y=m.position;m.moveTo(y.x+u,y.y+h)}}get relinkableFrom(){return(this.Nt&1)!==0}set relinkableFrom(e){const n=(this.Nt&1)!==0;n!==e&&(this.Nt=this.Nt^1,this.t("relinkableFrom",n,e),this.invalidateAdornments())}get relinkableTo(){return(this.Nt&2)!==0}set relinkableTo(e){const n=(this.Nt&2)!==0;n!==e&&(this.Nt=this.Nt^2,this.t("relinkableTo",n,e),this.invalidateAdornments())}canRelinkFrom(){if(!this.relinkableFrom)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowRelink)return!1;const n=e.diagram;return!(n!==null&&!n.allowRelink)}canRelinkTo(){if(!this.relinkableTo)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowRelink)return!1;const n=e.diagram;return!(n!==null&&!n.allowRelink)}get resegmentable(){return(this.Nt&4)!==0}set resegmentable(e){const n=(this.Nt&4)!==0;n!==e&&(this.Nt=this.Nt^4,this.t("resegmentable",n,e),this.invalidateAdornments())}get isTreeLink(){return(this.Nt&8)!==0}set isTreeLink(e){const n=(this.Nt&8)!==0;n!==e&&(this.Nt=this.Nt^8,this.t("isTreeLink",n,e),this.fromNode!==null&&this.fromNode.f0(),this.toNode!==null&&this.toNode.f0())}get path(){const e=this.findMainElement();return e instanceof cn?e:null}get routeBounds(){return this.updateRoute(),this.Yv(this.kf)}Yv(e){let n=1/0,s=1/0;const r=this.pointsCount;if(r===0)return e.e(NaN,NaN,0,0),e;if(r===1){const a=this.getPoint(0);n=Math.min(a.x,n),s=Math.min(a.y,s),e.e(a.x,a.y,0,0)}else if(r===2){const a=this.getPoint(0),u=this.getPoint(1);n=Math.min(a.x,u.x),s=Math.min(a.y,u.y),e.e(a.x,a.y,0,0),e.unionPoint(u)}else if(this.computeCurve()===9&&r>=3&&!this.isOrthogonal){let a=this.getPoint(0);if(n=a.x,s=a.y,e.e(n,s,0,0),r===3){const u=this.getPoint(1);n=Math.min(u.x,n),s=Math.min(u.y,s);const h=this.getPoint(2);n=Math.min(h.x,n),s=Math.min(h.y,s),$.hu(a.x,a.y,u.x,u.y,u.x,u.y,h.x,h.y,.5,e)}else for(let u=3;u<r;u+=3){const h=this.getPoint(u-2);u+3>=r&&(u=r-1);const f=this.getPoint(u-1),m=this.getPoint(u);$.hu(a.x,a.y,h.x,h.y,f.x,f.y,m.x,m.y,.5,e),n=Math.min(m.x,n),s=Math.min(m.y,s),a=m}}else{const a=this.getPoint(0),u=this.getPoint(1);n=Math.min(a.x,u.x),s=Math.min(a.y,u.y),e.e(a.x,a.y,0,0),e.unionPoint(u);for(let h=2;h<r;h++){const f=this.getPoint(h);n=Math.min(f.x,n),s=Math.min(f.y,s),e.unionPoint(f)}}return this.a1.e(n-e.x,s-e.y),e}get midPoint(){return this.updateRoute(),this.computeMidPoint(new T)}cA(e){return this.updateRoute(),this.computeMidPoint(e)}computeMidPoint(e){const n=this.pointsCount;if(n===0)return e.a(T.Ck),e;if(n===1)return e.a(this.getPoint(0)),e;if(n===2){const y=this.getPoint(0),x=this.getPoint(1);return e.e((y.x+x.x)/2,(y.y+x.y)/2),e}if(this.isOrthogonal&&(this.computeCorner()>=15||this.computeCurve()===9)){this.ft.getPointAlongPath(.5,e),e.add(this.getPoint(0));const y=this.ft.figures.first();return e.offset(-y.startX,-y.startY),e}if(this.computeCurve()===9){if(n===3){const S=this.getPoint(0),E=this.getPoint(1),L=this.getPoint(2);return $.hC(S.x,S.y,E.x,E.y,E.x,E.y,L.x,L.y,e),e}const y=(n-1)/3|0,x=(y/2|0)*3;if(y%2===1){const S=this.getPoint(x),E=this.getPoint(x+1),L=this.getPoint(x+2),D=this.getPoint(x+3);return $.hC(S.x,S.y,E.x,E.y,L.x,L.y,D.x,D.y,e),e}else return e.a(this.getPoint(x)),e}const s=this.flattenedLengths,r=this.flattenedTotalLength;let a=0,u=0,h=0;for(;a<r/2&&u<n&&(h=s[u],!(a+h>r/2));)a+=h,u++;const f=this.getPoint(u),m=this.getPoint(u+1);if(Math.abs(f.x-m.x)<1)f.y>m.y?e.e(f.x,f.y-(r/2-a)):e.e(f.x,f.y+(r/2-a));else if(Math.abs(f.y-m.y)<1)f.x>m.x?e.e(f.x-(r/2-a),f.y):e.e(f.x+(r/2-a),f.y);else{const y=(r/2-a)/h,x=y*(m.x-f.x),S=y*(m.y-f.y);e.e(f.x+x,f.y+S)}return e}get midAngle(){return this.updateRoute(),this.computeMidAngle()}computeMidAngle(){const e=this.pointsCount;if(e<2)return NaN;if(e===2){const m=this.getPoint(0),y=this.getPoint(1);return m.directionPoint(y)}if(this.isOrthogonal&&(this.computeCorner()>=15||this.computeCurve()===9))return this.ft.getAngleAlongPath(.5);if(this.computeCurve()===9&&e>=4){const m=(e-1)/3|0;let y=(m/2|0)*3;if(m%2===1){y=Math.floor(y);const x=this.getPoint(y),S=this.getPoint(y+1),E=this.getPoint(y+2),L=this.getPoint(y+3);return $.LD(x.x,x.y,S.x,S.y,E.x,E.y,L.x,L.y)}else if(y>0&&y+1<e){const x=this.getPoint(y-1),S=this.getPoint(y+1);return x.directionPoint(S)}}const n=this.flattenedLengths,s=this.flattenedTotalLength;let r=0,a=0,u=0;for(;r<s/2&&a<e&&(u=n[a],!(r+u>s/2));)r+=u,a++;const h=this.getPoint(a),f=this.getPoint(a+1);if(Math.abs(h.x-f.x)<1&&Math.abs(h.y-f.y)<1){if(a>0&&a+2<e){const m=this.getPoint(a-1),y=this.getPoint(a+2);return m.directionPoint(y)}}else{if(Math.abs(h.x-f.x)<1)return h.y>f.y?270:90;if(Math.abs(h.y-f.y)<1)return h.x>f.x?180:0}return h.directionPoint(f)}Gv(){if(this.my===null){this.Ce||this.f1();const e=this.my=[];this.jv(e)}}get flattenedLengths(){return this.Gv(),this.my}get flattenedTotalLength(){let e=this.c1;if(isNaN(e)){const n=this.flattenedLengths,s=n.length;e=0;for(let r=0;r<s;r++)e+=n[r];this.c1=e}return e}jv(e){const n=this.pointsCount;for(let s=0;s<n-1;s++){let r=0;const a=this.getPoint(s),u=this.getPoint(s+1);$.Y(a.x,u.x)?(r=u.y-a.y,r<0&&(r=-r),e.push(r)):$.Y(a.y,u.y)?(r=u.x-a.x,r<0&&(r=-r),e.push(r)):(r=Math.sqrt(a.distanceSquaredPoint(u)),e.push(r))}}get points(){return this.Pi}set points(e){const n=this.Pi;if(n===e)return;let s=null;if(Array.isArray(e)){const a=e;let u=a.length%2===0;if(u){for(let h=0;h<a.length;h++)if(typeof a[h]!="number"||isNaN(a[h])){u=!1;break}}if(u){s=new w;for(let h=0;h<a.length/2;h++){const f=new T(a[h*2],a[h*2+1]).g();s.add(f)}}else{let h=!0;for(let f=0;f<a.length;f++){const m=a[f];if(!o.wt(m)||typeof m.x!="number"||isNaN(m.x)||typeof m.y!="number"||isNaN(m.y)){h=!1;break}}if(h){s=new w;for(let f=0;f<a.length;f++){const m=a[f];s.add(new T(m.x,m.y).g())}}}}else if(e instanceof w){s=e.copy();const a=s.iterator;for(;a.next();)a.value.g()}else o.o("Link.points value is not an instance of List or Array: "+e);s.g(),this.Pi=s,this.ne(),this.f1();const r=this.diagram;r!==null&&(!r.Vh&&!r.undoManager.isUndoingRedoing&&r.gx.add(this),r.animationManager.xi&&r.animationManager.LM(this,s)),this.t("points",n,s)}get pointsCount(){return this.Pi.count}getPoint(e){return this.Pi.r[e]}setPoint(e,n){this.Pi.setElt(e,n)}setPointAt(e,n,s){this.Pi.setElt(e,new T(n,s))}insertPoint(e,n){this.Pi.insertAt(e,n)}insertPointAt(e,n,s){this.Pi.insertAt(e,new T(n,s))}addPoint(e){this.Pi.add(e)}addPointAt(e,n){this.Pi.add(new T(e,n))}removePoint(e){this.Pi.removeAt(e)}clearPoints(){this.Pi.clear()}yr(e,n){if(e===0&&n===0)return;if(this.pointsCount===0){this.defaultFromPoint&&this.defaultFromPoint.offset(e,n),this.defaultToPoint&&this.defaultToPoint.offset(e,n);return}const s=this.Ce,r=new w,a=this.Pi.iterator;for(;a.next();){const f=a.value;r.add(new T(f.x+e,f.y+n).g())}r.g();const u=this.Pi;this.Pi=r;const h=this.diagram;isNaN(e)||isNaN(n)||h!==null&&h.animationManager.xi?this.c():(this.js.e(this.js.x+e,this.js.y+n),this.st.e(this.st.x+e,this.st.y+n),this._c()),s?this.f1():(this.defaultFromPoint&&(this.defaultFromPoint=this.getPoint(0)),this.defaultToPoint&&(this.defaultToPoint=this.getPoint(this.pointsCount-1))),h!==null&&h.animationManager.xi&&h.animationManager.LM(this,r),this.t("points",u,r)}startRoute(){this.dl===null&&(this.dl=this.Pi,this.Pi=this.Pi.copy())}commitRoute(){if(this.dl===null)return;const e=this.dl,n=this.Pi;let s=1/0,r=1/0;const a=e.r,u=a.length;for(let S=0;S<u;S++){const E=a[S];s=Math.min(E.x,s),r=Math.min(E.y,r)}let h=1/0,f=1/0;const m=n.r,y=m.length;for(let S=0;S<y;S++){const E=m[S];h=Math.min(E.x,h),f=Math.min(E.y,f),E.g()}if(n.g(),y===u)for(let S=0;S<y;S++){const E=a[S],L=m[S];if(E.x-s!==L.x-h||E.y-r!==L.y-f){this.ne();break}}else this.ne();this.dl=null;const x=this.diagram;x!==null&&x.animationManager.xi&&x.animationManager.LM(this,n),this.f1(),this.t("points",e,n)}rollbackRoute(){this.dl!==null&&(this.Pi=this.dl,this.dl=null)}fF(){this.Sr!==null&&(this.points=this.Sr,this.Sr=null)}f1(){if(this.Pi.count===0){this.Ce=!1;return}this.Ce=!0,this.my=null,this.c1=NaN,this.defaultFromPoint=this.getPoint(0),this.defaultToPoint=this.getPoint(this.pointsCount-1),this.u1(!1)}invalidateRoute(){if(this.un)return;const e=this.path;if(e===null)return;const n=this.diagram;if(n){if(n.gx.contains(this)||n.undoManager.isUndoingRedoing)return;const s=n.animationManager;if(s.isTicking&&!s.isAnimating)return;this.Sr!==null&&!s.isTicking&&(this.Sr=null)}this.Ce=!1,this.c(),e.c()}get Ce(){return(this.Nt&16)!==0}set Ce(e){(this.Nt&16)!==0!==e&&(this.Nt=this.Nt^16)}get un(){return(this.Nt&32)!==0}set un(e){(this.Nt&32)!==0!==e&&(this.Nt=this.Nt^32)}get wy(){return(this.Nt&64)!==0}set wy(e){(this.Nt&64)!==0!==e&&(this.Nt=this.Nt^64)}get eN(){return(this.Nt&512)!==0}set eN(e){(this.Nt&512)!==0!==e&&(this.Nt=this.Nt^512)}get defaultFromPoint(){return this.W2}set defaultFromPoint(e){this.W2=e.copy()}get defaultToPoint(){return this.J2}set defaultToPoint(e){this.J2=e.copy()}updateRoute(){if(this.Ce||this.wy)return;let e=!0;try{this.wy=!0,this.startRoute(),e=this.computePoints()}catch{this.wy=!1,this.rollbackRoute()}finally{this.wy=!1,e?this.commitRoute():this.rollbackRoute()}}computePoints(){const e=this.diagram;if(e===null)return!1;let n=this.fromNode,s=null;if(n===null?(Nn.Da||(Nn.Da=new _t,Nn.Da.desiredSize=_.ru,Nn.Da.ensureBounds()),this.defaultFromPoint&&(Nn.Da.location=this.defaultFromPoint,Nn.Da.ensureBounds(),n=Nn.Da,s=Nn.Da)):s=this.fromPort,s!==null&&!n.isVisible()){const D=n.findVisibleNode();D!==null&&D!==n?(n=D,s=D.port):n=D}if(this.$2=n,n===null||!n.location.isReal()||(s=n.findVisiblePort(s),s===null))return!1;let r=this.toNode,a=null;if(r===null?(Nn.Fa||(Nn.Fa=new _t,Nn.Fa.desiredSize=_.ru,Nn.Fa.ensureBounds()),this.defaultToPoint&&(Nn.Fa.location=this.defaultToPoint,Nn.Fa.ensureBounds(),r=Nn.Fa,a=Nn.Fa)):a=this.toPort,a!==null&&!r.isVisible()){const D=r.findVisibleNode();D!==null&&D!==r?(r=D,a=D.port):r=D}if(this.Z2=r,r===null||!r.location.isReal()||(a=r.findVisiblePort(a),a===null))return!1;const u=this.pointsCount,h=this.computeSpot(!0,s),f=this.computeSpot(!1,a),m=this.Ed(h),y=this.Ed(f),x=s===a&&s!==null,S=this.isOrthogonal;let E=this.curve===9;x&&!S?(E=!0,this.Zo=!0):this.Zo=!1;const L=this.computeAdjusting()===0||x;if(!S&&!x&&m&&y){let D=!1;if(!L&&u>=3){let F=this.getLinkPoint(n,s,h,!0,!1,r,a),V=this.getLinkPoint(r,a,f,!1,!1,n,s);D=this.adjustPoints(0,F,u-1,V),D&&(F=this.getLinkPoint(n,s,h,!0,!1,r,a),V=this.getLinkPoint(r,a,f,!1,!1,n,s),this.adjustPoints(0,F,u-1,V))}D||(this.clearPoints(),E?this.Hv(n,s,h,r,a,f):this.qv(n,s,h,r,a,f))}else{const D=this.isAvoiding;L&&(S&&D||x)&&this.clearPoints();const F=x?this.computeCurviness():0,V=this.getLinkPoint(n,s,h,!0,S,r,a);let U=0,W=0,q=0;if(S||!m||x){let ke=this.computeEndSegmentLength(n,s,h,!0);if(q=this.getLinkDirection(n,s,V,h,!0,S,r,a),x&&(m||h.equals(f)||!S&&h.x+f.x===1&&h.y+f.y===1)&&(q-=S?90:30,F<0&&(q-=180)),q<0?q+=360:q>=360&&(q-=360),x&&(ke+=Math.abs(F)*(S?1:2)),q===0?U=ke:q===90?W=ke:q===180?U=-ke:q===270?W=-ke:(U=ke*Math.cos(q*Math.PI/180),W=ke*Math.sin(q*Math.PI/180)),h.isNoSpot()&&x){const we=s.getDocumentPoint(B.Center,T.l()),Pe=T.X(we.x+U*1e3,we.y+W*1e3);this.getLinkPointFromPoint(n,s,we,Pe,!0,V),T.s(we),T.s(Pe)}}const le=this.getLinkPoint(r,a,f,!1,S,n,s);let oe=0,ce=0,Se=0;if(S||!y||x){let ke=this.computeEndSegmentLength(r,a,f,!1);if(Se=this.getLinkDirection(r,a,le,f,!1,S,n,s),x&&(y||h.equals(f)||!S&&h.x+f.x===1&&h.y+f.y===1)&&(Se+=S?0:30,F<0&&(Se+=180)),Se<0?Se+=360:Se>=360&&(Se-=360),x&&(ke+=Math.abs(F)*(S?1:2)),Se===0?oe=ke:Se===90?ce=ke:Se===180?oe=-ke:Se===270?ce=-ke:(oe=ke*Math.cos(Se*Math.PI/180),ce=ke*Math.sin(Se*Math.PI/180)),f.isNoSpot()&&x){const we=a.getDocumentPoint(B.Center,T.l()),Pe=T.X(we.x+oe*1e3,we.y+ce*1e3);this.getLinkPointFromPoint(r,a,we,Pe,!1,le),T.s(we),T.s(Pe)}}let he=V;(S||!m||x)&&(he=new T(V.x+U,V.y+W));let ge=le;(S||!y||x)&&(ge=new T(le.x+oe,le.y+ce)),!L&&!S&&m&&u>3&&this.adjustPoints(0,V,u-2,ge)?this.setPoint(u-1,le):!L&&!S&&y&&u>3&&this.adjustPoints(1,he,u-1,le)?this.setPoint(0,V):!L&&(S?u>=6:u>4)&&this.adjustPoints(1,he,u-2,ge)?(this.setPoint(0,V),this.setPoint(u-1,le)):(this.clearPoints(),this.addPoint(V),(S||!m||x)&&this.addPoint(he),S&&this.addOrthoPoints(he,q,ge,Se,n,r),(S||!y||x)&&this.addPoint(ge),this.addPoint(le))}return e.addInvalidRoute(this),!0}sN(e,n){return Math.abs(n.x-e.x)>Math.abs(n.y-e.y)?(n.x>=e.x?n.x=e.x+9e9:n.x=e.x-9e9,n.y=e.y):(n.y>=e.y?n.y=e.y+9e9:n.y=e.y-9e9,n.x=e.x),n}getLinkPointFromPoint(e,n,s,r,a,u){if(u===void 0&&(u=new T),e===null||n===null)return u.a(s),u;if(!e.isVisible()){const E=e.findVisibleNode();E!==null&&E!==e&&(e=E,n=e.port)}let h=0,f=0,m=0,y=0,x=null,S=n.panel;if(S!==null&&!S.yn()&&(S=S.panel),S===null)h=r.x,f=r.y,m=s.x,y=s.y;else{x=S.ys;const E=1/(x.m11*x.m22-x.m12*x.m21),L=x.m22*E,D=-x.m12*E,F=-x.m21*E,V=x.m11*E,U=E*(x.m21*x.dy-x.m22*x.dx),W=E*(x.m12*x.dx-x.m11*x.dy);h=r.x*L+r.y*F+U,f=r.x*D+r.y*V+W,m=s.x*L+s.y*F+U,y=s.x*D+s.y*V+W}return n.Jc(h,f,m,y,u),x!==null&&u.L(x),u}Wv(e,n){const s=e.$u;return s!==null?s._A(n):null}d1(e){let n=e.$u;return n===null&&(n=new Of,n._o=e,n.ge=e.part,e.$u=n),n._A(this)}getLinkPoint(e,n,s,r,a,u,h,f){if(f===void 0&&(f=new T),s.isSpot()&&!this.Ed(s))return n.getDocumentPoint(s,f),f;if(s.isSide()){const x=this.d1(n);if(x!==null){const S=x.Vd;if(f.a(S),a&&this.routing===7){const E=this.d1(h);if(E!==null&&x.Pf<E.Pf){const L=T.l(),D=T.l(),F=new I(n.getDocumentPoint(B.TopLeft,L),n.getDocumentPoint(B.BottomRight,D)),V=this.computeSpot(!r,h),U=this.getLinkPoint(u,h,V,!r,a,e,n,D);(s.includesSide(B.LeftSide)||s.includesSide(B.RightSide))&&U.y>=F.y&&U.y<=F.y+F.height?f.y=U.y:(s.includesSide(B.TopSide)||s.includesSide(B.BottomSide))&&U.x>=F.x&&U.x<=F.x+F.width&&(f.x=U.x),T.s(L),T.s(D)}}return f}}const m=n.getDocumentPoint(this.g1(s,r),T.l());let y=null;if(this.pointsCount>(a?6:2))y=r?this.getPoint(1):this.getPoint(this.pointsCount-2),a&&(y=this.sN(m,y.copy()));else{const x=this.computeSpot(!r,h),S=T.l();y=h.getDocumentPoint(this.g1(x,!r),S),a&&(y=this.sN(m,y)),T.s(S)}return this.getLinkPointFromPoint(e,n,m,y,r,f),T.s(m),f}getLinkDirection(e,n,s,r,a,u,h,f){let m=this.Jv(e,n,s,r,a,u,h,f);if(h&&r.isNoSpot()&&h.isMemberOf(e)&&(m+=180,m>=360&&(m-=360)),this.Ed(r))return m;const y=n.getDocumentAngle();return y===0||(45<=y&&y<135?m+=90:135<=y&&y<225?m+=180:225<=y&&y<315&&(m+=270),m>=360&&(m-=360)),m}Jv(e,n,s,r,a,u,h,f){if(r.isSpot())return r.x>r.y?r.x>1-r.y?0:r.x<1-r.y?270:315:r.x<r.y?r.x>1-r.y?90:r.x<1-r.y?180:135:r.x<.5?225:r.x>.5?45:0;if(r.isSide()){const S=this.d1(n);if(S!==null)switch(S.ye){case 1:return 270;case 2:return 180;default:case 4:return 0;case 8:return 90}}const m=n.getDocumentPoint(B.Center,T.l());let y=null;if(this.pointsCount>(u?6:2))y=a?this.getPoint(1):this.getPoint(this.pointsCount-2),u?y=this.sN(m,y.copy()):y=s;else{const S=T.l();y=f.getDocumentPoint(B.Center,S),T.s(S)}let x=0;return Math.abs(y.x-m.x)>Math.abs(y.y-m.y)?y.x>=m.x?x=0:x=180:y.y>=m.y?x=90:x=270,T.s(m),x}computeEndSegmentLength(e,n,s,r){if(n!==null&&s.isSide()){const u=this.d1(n);if(u!==null)return u.m1}let a=NaN;return r?a=this.fromEndSegmentLength:a=this.toEndSegmentLength,n!==null&&isNaN(a)&&(r?a=n.fromEndSegmentLength:a=n.toEndSegmentLength),isNaN(a)&&(a=10),a}computeSpot(e,n){return n===void 0&&(n=null),e?this.$v(n||this.fromPort):this.Zv(n||this.toPort)}$v(e){if(e===null)return B.Center;let n=this.fromSpot;return n.isDefault()&&(n=e.fromSpot),n===B.Default?B.None:n}Zv(e){if(e===null)return B.Center;let n=this.toSpot;return n.isDefault()&&(n=e.toSpot),n===B.Default?B.None:n}Ed(e){return e===B.None||e.x===.5&&e.y===.5}g1(e,n){return e.x===.5&&e.y===.5?e:B.Center}computeOtherPoint(e,n){if(this.computeAdjusting()!==0&&this.pointsCount>4)return this.computeMidPoint(new T);{const s=this.Wv(n,this);return s!==null?s.Vd:n.getDocumentPoint(B.Center)}}computeShortLength(e){if(e){let n=this.fromShortLength;if(isNaN(n)){const s=this.fromPort;s!==null&&(n=s.fromShortLength)}return isNaN(n)?0:n}else{let n=this.toShortLength;if(isNaN(n)){const s=this.toPort;s!==null&&(n=s.toShortLength)}return isNaN(n)?0:n}}Om(e,n,s,r,a,u){if(this.pickable===!1)return!1;n===void 0&&(n=null),s===void 0&&(s=null);let h=u;if(u===void 0&&(h=G.l(),h.Jt()),h.tc(this.L),this.containedInRect(e,h))return this.L2(n,s,a),u===void 0&&G.s(h),!0;if(this.intersectsRect(e,h)){let f=!1;if(!this.lf){const m=this.T.r,y=m.length;for(let x=y;x--;){const S=m[x];if(!S.visible&&S!==this.locationObject)continue;const E=S.actualBounds,L=this.naturalBounds;if(E.x>L.width||E.y>L.height||E.x+E.width<0||E.y+E.height<0)continue;const D=S,F=G.l();if(F.set(h),D instanceof Ut?f=D.Om(e,n,s,r,a,F):this.path===D?D instanceof cn&&(f=D.xv(e,r,F)):f=D.WL(e,r,F),f){let V=D;n!==null&&(V=n(D)),V&&(s===null||s(V))&&a.add(V)}G.s(F)}}return u===void 0&&G.s(h),f||this.background!==null}return u===void 0&&G.s(h),!1}get isOrthogonal(){return(this.Ta&2)===2}static tN(e){return(e&2)===2}get isAvoiding(){return(this.Ta&4)===4}computeCurve(){if(this.Zo===null){const e=this.fromPort,n=e!==null&&e===this.toPort,s=this.isOrthogonal;this.Zo=n&&!s}return this.Zo?9:this.curve}computeCorner(){if(this.curve===9)return 0;let e=this.corner;return(isNaN(e)||e<0)&&(e=10),e}findMidLabel(){const e=this.path,n=this.T.r,s=n.length;for(let a=0;a<s;a++){const u=n[a];if(!(u===e||u.isPanelMain)&&(u.segmentIndex===-1/0||isNaN(u.segmentIndex)))return u}const r=this.labelNodes;for(;r.next();){const a=r.value;if(a.segmentIndex===-1/0||isNaN(a.segmentIndex))return a}return null}computeSpacing(){if(!this.isVisible())return 0;let e=Nn.Xv;e=Math.max(e,this.computeThickness());const n=this.fromPort,s=this.toPort;if(n!==null&&s!==null){const r=this.findMidLabel();if(r!==null){const a=r.naturalBounds,u=r.margin,h=isNaN(a.width)?30:a.width*r.scale+u.left+u.right,f=isNaN(a.height)?14:a.height*r.scale+u.top+u.bottom,m=r.segmentOrientation;if(m===21||m===25||m===24)e=Math.max(e,f);else if(m===23||m===27||m===22||m===26)e=Math.max(e,h);else{const y=n.getDocumentPoint(B.Center).directionPoint(s.getDocumentPoint(B.Center))/180*Math.PI;e=Math.max(e,Math.abs(Math.sin(y)*h)+Math.abs(Math.cos(y)*f)+1)}this.curve===9&&(e*=1.333)}}return e}arrangeBundledLinks(e,n){if(n)for(let s=0;s<e.length;s++){const r=e[s];r.computeAdjusting()===0&&r.invalidateRoute()}}computeCurviness(){let e=this.curviness;if(isNaN(e)){e=Nn.zv;const n=this.Qo;if(n!==null){const s=o.rt();let r=0;const a=n.qs;for(let h=0;h<a.length;h++){const f=a[h].computeSpacing();s.push(f),r+=f}let u=-r/2;for(let h=0;h<a.length;h++){if(a[h]===this){e=u+s[h]/2;break}u+=s[h]}n.oy===this.fromNode&&(e=-e),o.it(s)}}return e}computeThickness(){if(!this.isVisible())return 0;const e=this.path;return e!==null?Math.max(e.strokeWidth,1):1}hasCurviness(){return!isNaN(this.curviness)||this.Qo!==null}qv(e,n,s,r,a,u){const h=this.getLinkPoint(e,n,s,!0,!1,r,a),f=this.getLinkPoint(r,a,u,!1,!1,e,n);if(this.hasCurviness()){const m=f.x-h.x,y=f.y-h.y,x=this.computeCurviness(),S=x,E=h.x+m/2,L=h.y+y/2;let D=E,F=L;if($.u(y,0))m>0?F-=S:F+=S;else{const V=-m/y;let U=Math.sqrt(S*S/(V*V+1));x<0&&(U=-U),D=(y<0?-1:1)*U+E,F=V*(D-E)+L}this.addPoint(h),this.addPointAt(D,F),this.addPoint(f)}else{this.addPoint(h),this.addPoint(f);const m=I.l();n.getDocumentBounds(m);const y=m.containsPoint(f);a.getDocumentBounds(m);const x=m.containsPoint(h);if(y||x){const S=n.getDocumentPoint(this.g1(s,!0),new T);this.setPoint(0,this.getLinkPointFromPoint(e,n,S,f,!0,S));const E=a.getDocumentPoint(this.g1(u,!1),new T);this.setPoint(1,this.getLinkPointFromPoint(r,a,E,h,!1,E))}I.s(m)}}Hv(e,n,s,r,a,u){const h=this.getLinkPoint(e,n,s,!0,!1,r,a),f=this.getLinkPoint(r,a,u,!1,!1,e,n),m=f.x-h.x,y=f.y-h.y,x=this.computeCurviness();let S=0,E=0,L=h.x+m/3,D=h.y+y/3,F=L,V=D;$.u(y,0)?m>0?V-=x:V+=x:(S=-m/y,E=Math.sqrt(x*x/(S*S+1)),x<0&&(E=-E),F=(y<0?-1:1)*E+L,V=S*(F-L)+D),L=h.x+2*m/3,D=h.y+2*y/3;let U=L,W=D;$.u(y,0)?m>0?W-=x:W+=x:(U=(y<0?-1:1)*E+L,W=S*(U-L)+D),this.clearPoints(),this.addPoint(h),this.addPointAt(F,V),this.addPointAt(U,W),this.addPoint(f),this.setPoint(0,this.getLinkPoint(e,n,s,!0,!1,r,a)),this.setPoint(3,this.getLinkPoint(r,a,u,!1,!1,e,n))}adjustPoints(e,n,s,r){let a=this.computeAdjusting();if(this.isOrthogonal){if(a===18)return!1;a===19&&(a=17)}switch(a){case 18:return this.Qv(e,n,s,r);case 19:return this._v(e,n,s,r);case 17:return this.tO(e,n,s,r);default:return!1}}Qv(e,n,s,r){const a=this.getPoint(e),u=this.getPoint(s);if(a.equalsApprox(n)&&u.equalsApprox(r))return!0;const h=a.x,f=a.y,m=u.x,y=u.y;let x=m-h,S=y-f;const E=Math.sqrt(x*x+S*S);if($.Y(E,0))return!0;let L=0;$.Y(x,0)?S<0?L=-Math.PI/2:L=Math.PI/2:(L=Math.atan(S/Math.abs(x)),x<0&&(L=Math.PI-L));const D=n.x,F=n.y,V=r.x,U=r.y,W=V-D,q=U-F,le=Math.sqrt(W*W+q*q);let oe=0;$.Y(W,0)?q<0?oe=-Math.PI/2:oe=Math.PI/2:(oe=Math.atan(q/Math.abs(W)),W<0&&(oe=Math.PI-oe));const ce=le/E,Se=oe-L;this.setPoint(e,n);for(let he=e+1;he<s;he++){const ge=this.getPoint(he);x=ge.x-h,S=ge.y-f;const ke=Math.sqrt(x*x+S*S);if($.Y(ke,0))continue;let we=0;$.Y(x,0)?S<0?we=-Math.PI/2:we=Math.PI/2:(we=Math.atan(S/Math.abs(x)),x<0&&(we=Math.PI-we));const Pe=we+Se,Re=ke*ce,Xe=D+Re*Math.cos(Pe),at=F+Re*Math.sin(Pe);this.setPointAt(he,Xe,at)}return this.setPoint(s,r),!0}_v(e,n,s,r){const a=this.getPoint(e),u=this.getPoint(s);if(a.equalsApprox(n)&&u.equalsApprox(r))return!0;const h=a.x,f=a.y,m=u.x,y=u.y,x=(m-h)*(m-h)+(y-f)*(y-f),S=n.x,E=n.y,L=r.x,D=r.y;let F=0,V=1;L-S!==0?(F=(D-E)/(L-S),V=Math.sqrt(1+1/(F*F))):F=9e9,this.setPoint(e,n);for(let U=e+1;U<s;U++){const W=this.getPoint(U),q=W.x,le=W.y;let oe=.5;x!==0&&(oe=((h-q)*(h-m)+(f-le)*(f-y))/x);const ce=h+oe*(m-h),Se=f+oe*(y-f);let he=Math.sqrt((q-ce)*(q-ce)+(le-Se)*(le-Se));le<F*(q-ce)+Se&&(he=-he),F>0&&(he=-he);const ge=S+oe*(L-S),ke=E+oe*(D-E);if(F!==0){const we=ge+he/V,Pe=ke-(we-ge)/F;this.setPointAt(U,we,Pe)}else this.setPointAt(U,ge,ke+he)}return this.setPoint(s,r),!0}tO(e,n,s,r){if(this.isOrthogonal){let a=this.getPoint(e),u=this.getPoint(e+1),h=this.getPoint(e+2),f=u.x,m=u.y;const y=f,x=m;$.u(a.y,u.y)?$.u(u.x,h.x)?m=n.y:$.u(u.y,h.y)&&(f=n.x):$.u(a.x,u.x)&&($.u(u.y,h.y)?f=n.x:$.u(u.x,h.x)&&(m=n.y)),this.setPointAt(e+1,f,m),a=this.getPoint(s),u=this.getPoint(s-1),h=this.getPoint(s-2);let S=u.x,E=u.y;const L=S,D=E;if($.u(a.y,u.y)?$.u(u.x,h.x)?E=r.y:$.u(u.y,h.y)&&(S=r.x):$.u(a.x,u.x)&&($.u(u.y,h.y)?S=r.x:$.u(u.x,h.x)&&(E=r.y)),this.setPointAt(s-1,S,E),this.SL())return this.setPointAt(e+1,y,x),this.setPointAt(s-1,L,D),!1}return this.setPoint(e,n),this.setPoint(s,r),!0}addOrthoPoints(e,n,s,r,a,u){n<0?n+=360:n>=360&&(n-=360),r<0?r+=360:r>=360&&(r-=360);const h=r;n>=315||n<45?n=0:45<=n&&n<135?n=90:135<=n&&n<225?n=180:n=270,r>=315||r<45?r=0:45<=r&&r<135?r=90:135<=r&&r<225?r=180:r=270;const f=e,m=s,y=a.actualBounds.copy(),x=u.actualBounds.copy();if(!y.isReal()||!x.isReal())return;y.inflate(Nn.Ra,Nn.Ra),x.inflate(Nn.Ra,Nn.Ra),y.unionPoint(e),x.unionPoint(s);const S=T.l(),E=T.l();n===0?m.x>f.x||r===270&&m.y<f.y&&x.right>f.x||r===90&&m.y>f.y&&x.right>f.x?(S.e(m.x,f.y),E.e(m.x,(f.y+m.y)/2),r===180?(S.x=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!1),E.x=S.x,E.y=m.y):r===270&&m.y<f.y||r===90&&m.y>f.y?(f.x<x.left?S.x=this.computeMidOrthoPosition(f.x,f.y,x.left,m.y,!1):f.x<x.right&&(r===270&&f.y<x.top||r===90&&f.y>x.bottom)?S.x=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!1):S.x=x.right,E.x=S.x,E.y=m.y):r===0&&f.x<x.left&&f.y>x.top&&f.y<x.bottom&&(S.x=f.x,f.y<m.y?S.y=Math.min(m.y,x.top):S.y=Math.max(m.y,x.bottom),E.y=S.y)):(S.e(f.x,m.y),E.e((f.x+m.x)/2,m.y),(r===180||r===90&&m.y<y.top||r===270&&m.y>y.bottom)&&(r===180&&(x.containsPoint(f)||y.containsPoint(m))?S.y=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!0):m.y<f.y&&(r===180||r===90)?S.y=this.computeMidOrthoPosition(f.x,y.top,m.x,Math.max(m.y,x.bottom),!0):m.y>f.y&&(r===180||r===270)&&(S.y=this.computeMidOrthoPosition(f.x,y.bottom,m.x,Math.min(m.y,x.top),!0)),E.x=m.x,E.y=S.y),S.y>y.top&&S.y<y.bottom&&(m.x>=y.left&&m.x<=f.x||f.x<=x.right&&f.x>=m.x?(r===90||r===270)&&(S.e(Math.max((f.x+m.x)/2,f.x),f.y),E.e(S.x,m.y)):(r===270||(r===0||r===180)&&m.y<f.y?S.y=Math.min(m.y,r===0?y.top:Math.min(y.top,x.top)):S.y=Math.max(m.y,r===0?y.bottom:Math.max(y.bottom,x.bottom)),E.x=m.x,E.y=S.y))):n===180?m.x<f.x||r===270&&m.y<f.y&&x.left<f.x||r===90&&m.y>f.y&&x.left<f.x?(S.e(m.x,f.y),E.e(m.x,(f.y+m.y)/2),r===0?(S.x=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!1),E.x=S.x,E.y=m.y):r===270&&m.y<f.y||r===90&&m.y>f.y?(f.x>x.right?S.x=this.computeMidOrthoPosition(f.x,f.y,x.right,m.y,!1):f.x>x.left&&(r===270&&f.y<x.top||r===90&&f.y>x.bottom)?S.x=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!1):S.x=x.left,E.x=S.x,E.y=m.y):r===180&&f.x>x.right&&f.y>x.top&&f.y<x.bottom&&(S.x=f.x,f.y<m.y?S.y=Math.min(m.y,x.top):S.y=Math.max(m.y,x.bottom),E.y=S.y)):(S.e(f.x,m.y),E.e((f.x+m.x)/2,m.y),(r===0||r===90&&m.y<y.top||r===270&&m.y>y.bottom)&&(r===0&&(x.containsPoint(f)||y.containsPoint(m))?S.y=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!0):m.y<f.y&&(r===0||r===90)?S.y=this.computeMidOrthoPosition(f.x,y.top,m.x,Math.max(m.y,x.bottom),!0):m.y>f.y&&(r===0||r===270)&&(S.y=this.computeMidOrthoPosition(f.x,y.bottom,m.x,Math.min(m.y,x.top),!0)),E.x=m.x,E.y=S.y),S.y>y.top&&S.y<y.bottom&&(m.x<=y.right&&m.x>=f.x||f.x>=x.left&&f.x<=m.x?(r===90||r===270)&&(S.e(Math.min((f.x+m.x)/2,f.x),f.y),E.e(S.x,m.y)):(r===270||(r===0||r===180)&&m.y<f.y?S.y=Math.min(m.y,r===180?y.top:Math.min(y.top,x.top)):S.y=Math.max(m.y,r===180?y.bottom:Math.max(y.bottom,x.bottom)),E.x=m.x,E.y=S.y))):n===90?m.y>f.y||r===180&&m.x<f.x&&x.bottom>f.y||r===0&&m.x>f.x&&x.bottom>f.y?(S.e(f.x,m.y),E.e((f.x+m.x)/2,m.y),r===270?(S.y=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!0),E.x=m.x,E.y=S.y):r===180&&m.x<f.x||r===0&&m.x>f.x?(f.y<x.top?S.y=this.computeMidOrthoPosition(f.x,f.y,m.x,x.top,!0):f.y<x.bottom&&(r===180&&f.x<x.left||r===0&&f.x>x.right)?S.y=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!0):S.y=x.bottom,E.x=m.x,E.y=S.y):r===90&&f.y<x.top&&f.x>x.left&&f.x<x.right&&(f.x<m.x?S.x=Math.min(m.x,x.left):S.x=Math.max(m.x,x.right),S.y=f.y,E.x=S.x)):(S.e(m.x,f.y),E.e(m.x,(f.y+m.y)/2),(r===270||r===0&&m.x<y.left||r===180&&m.x>y.right)&&(r===270&&(x.containsPoint(f)||y.containsPoint(m))?S.x=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!1):m.x<f.x&&(r===270||r===0)?S.x=this.computeMidOrthoPosition(y.left,f.y,Math.max(m.x,x.right),m.y,!1):m.x>f.x&&(r===270||r===180)&&(S.x=this.computeMidOrthoPosition(y.right,f.y,Math.min(m.x,x.left),m.y,!1)),E.x=S.x,E.y=m.y),S.x>y.left&&S.x<y.right&&(m.y>=y.top&&m.y<=f.y||f.y<=x.bottom&&f.y>=m.y?(r===0||r===180)&&(S.e(f.x,Math.max((f.y+m.y)/2,f.y)),E.e(m.x,S.y)):(r===180||(r===90||r===270)&&m.x<f.x?S.x=Math.min(m.x,r===90?y.left:Math.min(y.left,x.left)):S.x=Math.max(m.x,r===90?y.right:Math.max(y.right,x.right)),E.x=S.x,E.y=m.y))):m.y<f.y||r===180&&m.x<f.x&&x.top<f.y||r===0&&m.x>f.x&&x.top<f.y?(S.e(f.x,m.y),E.e((f.x+m.x)/2,m.y),r===90?(S.y=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!0),E.x=m.x,E.y=S.y):r===180&&m.x<f.x||r===0&&m.x>=f.x?(f.y>x.bottom?S.y=this.computeMidOrthoPosition(f.x,f.y,m.x,x.bottom,!0):f.y>x.top&&(r===180&&f.x<x.left||r===0&&f.x>x.right)?S.y=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!0):S.y=x.top,E.x=m.x,E.y=S.y):r===270&&f.y>x.bottom&&f.x>x.left&&f.x<x.right&&(f.x<m.x?S.x=Math.min(m.x,x.left):S.x=Math.max(m.x,x.right),S.y=f.y,E.x=S.x)):(S.e(m.x,f.y),E.e(m.x,(f.y+m.y)/2),(r===90||r===0&&m.x<y.left||r===180&&m.x>y.right)&&(r===90&&(x.containsPoint(f)||y.containsPoint(m))?S.x=this.computeMidOrthoPosition(f.x,f.y,m.x,m.y,!1):m.x<f.x&&(r===90||r===0)?S.x=this.computeMidOrthoPosition(y.left,f.y,Math.max(m.x,x.right),m.y,!1):m.x>f.x&&(r===90||r===180)&&(S.x=this.computeMidOrthoPosition(y.right,f.y,Math.min(m.x,x.left),m.y,!1)),E.x=S.x,E.y=m.y),S.x>y.left&&S.x<y.right&&(m.y<=y.bottom&&m.y>=f.y||f.y>=x.top&&f.y<=m.y?(r===0||r===180)&&(S.e(f.x,Math.min((f.y+m.y)/2,f.y)),E.e(m.x,S.y)):(r===180||(r===90||r===270)&&m.x<f.x?S.x=Math.min(m.x,r===270?y.left:Math.min(y.left,x.left)):S.x=Math.max(m.x,r===270?y.right:Math.max(y.right,x.right)),E.x=S.x,E.y=m.y))),this.eN=r!==h,this.Q2=n,this._2=r,this.addPoint(S.copy()),this.addPoint(E.copy()),T.s(S),T.s(E)}computeMidOrthoPosition(e,n,s,r,a){let u=0;return this.hasCurviness()&&!this.computeSpot(!0,this.fromPort).isSide()&&!this.computeSpot(!1,this.toPort).isSide()&&(u=this.computeCurviness()),a?(n+r)/2+u:(e+s)/2+u}SL(){if(this.diagram===null||!this.isAvoiding)return!1;const e=this.points.r,n=e.length;if(n<4)return!1;const s=this.diagram.getPositions(!1,this.containingGroup,null);for(let r=1;r<n-2;r++){const a=e[r],u=e[r+1];if(!s.isUnoccupied(Math.min(a.x,u.x),Math.min(a.y,u.y),Math.abs(a.x-u.x),Math.abs(a.y-u.y)))return!0}return!1}findClosestSegment(e){const n=e.x,s=e.y;let r=this.getPoint(0),a=this.getPoint(1),u=T.distanceLineSegmentSquared(n,s,r.x,r.y,a.x,a.y),h=0;for(let f=1;f<this.pointsCount-1;f++){r=this.getPoint(f+1);const m=T.distanceLineSegmentSquared(n,s,a.x,a.y,r.x,r.y);a=r,m<u&&(h=f,u=m)}return h}ne(){this.wh=!1,this.c()}get wh(){return(this.Nt&128)!==0}set wh(e){(this.Nt&128)!==0!==e&&(this.Nt=this.Nt^128)}get geometry(){if(!this.wh){if(this.updateRoute(),this.pointsCount<2)return this.wh=!0,this.ft;this.ft=this.makeGeometry()}return this.ft}ad(e){if(!e){if(this.Ce===!1)return;const a=this.findMainElement();if(this.wh&&(a===null||a.geometry!==null))return}this.pointsCount<2?this.wh=!0:this.ft=this.makeGeometry();const n=this.path;if(n===null)return;n.ft=this.ft;const s=this.T.r,r=s.length;for(let a=0;a<r;a++){const u=s[a];u!==n&&u.isPanelMain&&u instanceof cn&&(u.ft=this.ft)}}iO(e){return this.va()&&e.Ql.contains(this)&&(this.kf.width!==0||this.kf.height!==0)&&(e.animationManager.isAnimating||e.currentTool!==e.toolManager)}makeGeometry(){const e=this.ft,n=this.pointsCount;let s=!1;const r=this.diagram;r!==null&&this.iO(r)&&(s=!0);let a=0,u=0,h=this.getPoint(0).copy();const f=h.copy(),m=this.Pi.r,y=this.computeCurve();if(y===9&&n>=3&&!$.Y(this.smoothness,0))if(n===3){let x=this.getPoint(1);a=Math.min(h.x,x.x),u=Math.min(h.y,x.y),x=this.getPoint(2),a=Math.min(a,x.x),u=Math.min(u,x.y)}else if(this.isOrthogonal){for(let x=0;x<n;x++){const S=m[x];f.x=Math.min(S.x,f.x),f.y=Math.min(S.y,f.y)}a=f.x,u=f.y}else{for(let x=3;x<n;x+=3){x+3>=n&&(x=n-1);const S=this.getPoint(x);f.x=Math.min(S.x,f.x),f.y=Math.min(S.y,f.y)}a=f.x,u=f.y}else{for(let x=0;x<n;x++){const S=m[x];f.x=Math.min(S.x,f.x),f.y=Math.min(S.y,f.y)}a=f.x,u=f.y}if(a-=this.a1.x,u-=this.a1.y,h.x-=a,h.y-=u,n===2&&!this.va()){let x=this.getPoint(1).copy();return x.x-=a,x.y-=u,this.computeShortLength(!0)!==0&&(h=this.Mf(h,!0,f)),this.computeShortLength(!1)!==0&&(x=this.Mf(x,!1,f)),e.type=1,e.startX=h.x,e.startY=h.y,e.endX=x.x,e.endY=x.y,this.wh=!0,e}else{e.type=4;const x=yl.uC(e);if(this.computeShortLength(!0)!==0&&(h=this.Mf(h,!0,f)),x.fu(h.x,h.y,!1,!1),y===9&&n>=3&&!$.Y(this.smoothness,0))if(n===3){const S=this.getPoint(1),E=S.x-a,L=S.y-u;let D=this.getPoint(2).copy();D.x-=a,D.y-=u,this.computeShortLength(!1)!==0&&(D=this.Mf(D,!1,f)),x.gr(E,L,E,L,D.x,D.y)}else if(this.isOrthogonal){const S=T.X(a,u),E=T.l();E.a(this.getPoint(1));const L=T.X(a,u),D=T.X(a,u);let F=this.getPoint(0),V=null;const U=this.smoothness/3;for(let oe=1;oe<this.pointsCount-1;oe++){V=this.getPoint(oe);const ce=F,Se=V,he=this.getPoint(this.nN(V,oe,!1));$.Y(ce.x,Se.x)&&$.Y(Se.x,he.x)||$.Y(ce.y,Se.y)&&$.Y(Se.y,he.y)||(this.eO(ce,Se,he,U,L,D),(oe===1||oe===2&&$.Y(F.x,this.getPoint(0).x)&&$.Y(F.y,this.getPoint(0).y))&&(E.x=(F.x+V.x)*.5,E.y=(F.y+V.y)*.5),x.gr(E.x-a,E.y-u,L.x-a,L.y-u,V.x-a,V.y-u),S.set(L),E.set(D),F=V)}let W=F.x,q=F.y,le=this.getPoint(this.pointsCount-1);this.computeShortLength(!1)!==0&&(le=this.Mf(le.copy(),!1,T.Po)),W=.5*(W+le.x),q=.5*(q+le.y),x.gr(D.x-a,D.y-u,W-a,q-u,le.x-a,le.y-u),T.s(S),T.s(E),T.s(L),T.s(D)}else for(let S=3;S<n;S+=3){const E=this.getPoint(S-2);S+3>=n&&(S=n-1);const L=this.getPoint(S-1);let D=this.getPoint(S);S===n-1&&this.computeShortLength(!1)!==0&&(D=this.Mf(D.copy(),!1,T.Po)),x.gr(E.x-a,E.y-u,L.x-a,L.y-u,D.x-a,D.y-u)}else{const S=T.l();S.a(this.getPoint(0));const E=T.l();E.a(S);const L=this.computeCorner();let D=1,F=0;for(;D<n;){D=this.nN(S,D,D>1);let V=this.getPoint(D);if(D>=n-1){if(!S.equals(V))this.computeShortLength(!1)!==0&&(V=this.Mf(V.copy(),!1,T.Po)),this.Cn(x,-a,-u,S,V,s);else if(F===0)for(D=1;D<n;)E.a(S),V=this.getPoint(D++),this.Cn(x,-a,-u,S,V,s),S.a(V);break}F=this.nN(V,D+1,D<n-3);const U=this.getPoint(F);this.sO(x,-a,-u,S,V,U,S,E,L,s),E.a(V),D=F}T.s(S)}return yl.dC(x),this.wh=!0,e}}p1(e,n,s,r){let a=s-e;if(isNaN(a)||a===1/0||a===-1/0)return NaN;a<0&&(a=-a);let u=r-n;return isNaN(u)||u===1/0||u===-1/0?NaN:(u<0&&(u=-u),$.Y(a,0)?u:$.Y(u,0)?a:Math.sqrt(a*a+u*u))}eO(e,n,s,r,a,u){isNaN(r)&&(r=this.smoothness/3);const h=e.x,f=e.y,m=n.x,y=n.y,x=s.x,S=s.y,E=r*this.p1(h,f,m,y),L=r*this.p1(m,y,x,S);if($.Y(f,y)&&$.Y(m,x)&&(m>h?S>y?(a.x=m-E,a.y=y-E,u.x=m+L,u.y=y+L):(a.x=m-E,a.y=y+E,u.x=m+L,u.y=y-L):S>y?(a.x=m+E,a.y=y-E,u.x=m-L,u.y=y+L):(a.x=m+E,a.y=y+E,u.x=m-L,u.y=y-L)),$.Y(h,m)&&$.Y(y,S)&&(y>f?x>m?(a.x=m-E,a.y=y-E,u.x=m+L,u.y=y+L):(a.x=m+E,a.y=y-E,u.x=m-L,u.y=y+L):x>m?(a.x=m-E,a.y=y+E,u.x=m+L,u.y=y-L):(a.x=m+E,a.y=y+E,u.x=m-L,u.y=y-L)),$.Y(h,m)&&$.Y(m,x)||$.Y(f,y)&&$.Y(y,S)){const D=.5*(h+x),F=.5*(f+S);a.x=D,a.y=F,u.x=D,u.y=F}}Mf(e,n,s){const r=this.pointsCount;if(r<2)return e;if(n){const a=this.getPoint(1),u=a.x-s.x,h=a.y-s.y,f=this.p1(e.x,e.y,u,h);if(f===0)return e;const m=r===2?f*.5:f;let y=this.computeShortLength(!0);y>m&&(y=m);const x=y*(u-e.x)/f,S=y*(h-e.y)/f;e.x+=x,e.y+=S}else{const a=this.getPoint(r-2),u=a.x-s.x,h=a.y-s.y,f=this.p1(e.x,e.y,u,h);if(f===0)return e;const m=r===2?f*.5:f;let y=this.computeShortLength(!1);y>m&&(y=m);const x=y*(e.x-u)/f,S=y*(e.y-h)/f;e.x-=x,e.y-=S}return e}nN(e,n,s){const r=this.pointsCount;let a=e;for(;$.Y(e.x,a.x)&&$.Y(e.y,a.y);){if(n>=r)return r-1;a=this.getPoint(n++)}if(!$.Y(e.x,a.x)&&!$.Y(e.y,a.y))return n-1;let u=a;for(;$.Y(e.x,a.x)&&$.Y(a.x,u.x)&&(!s||(e.y>=a.y?a.y>=u.y:a.y<=u.y))||$.Y(e.y,a.y)&&$.Y(a.y,u.y)&&(!s||(e.x>=a.x?a.x>=u.x:a.x<=u.x));){if(n>=r)return r-1;u=this.getPoint(n++)}return n-2}sO(e,n,s,r,a,u,h,f,m,y){if($.u(r.y,a.y)&&$.u(a.x,u.x)){let x=Math.min(m,Math.abs(a.x-f.x)/2);const S=Math.min(x,Math.abs(u.y-a.y)/2);if(x=S,$.u(x,0)){this.Cn(e,n,s,r,a,y),h.a(a);return}let E=a.x;const L=a.y,D=E;let F=L;a.x>r.x?(E=a.x-x,u.y>a.y?F=a.y+S:F=a.y-S):(E=a.x+x,u.y>a.y?F=a.y+S:F=a.y-S);const V=T.X(E,L);this.Cn(e,n,s,r,V,y),T.s(V),e.Pw(a.x+n,a.y+s,D+n,F+s),h.e(D,F)}else if($.u(r.x,a.x)&&$.u(a.y,u.y)){let x=Math.min(m,Math.abs(a.y-f.y)/2);const S=Math.min(x,Math.abs(u.x-a.x)/2);if(x=S,$.u(S,0)){this.Cn(e,n,s,r,a,y),h.a(a);return}const E=a.x;let L=a.y,D=E;const F=L;a.y>r.y?(L=a.y-x,u.x>a.x?D=a.x+S:D=a.x-S):(L=a.y+x,u.x>a.x?D=a.x+S:D=a.x-S);const V=T.X(E,L);this.Cn(e,n,s,r,V,y),T.s(V),e.Pw(a.x+n,a.y+s,D+n,F+s),h.e(D,F)}else this.Cn(e,n,s,r,a,y),h.a(a)}computeJumpLength(){return 10}Cn(e,n,s,r,a,u){if(u||!this.va())e.dr(a.x+n,a.y+s);else{const h=this.computeJumpLength(),f=h/2,m=[];let y=0;this.isVisible()&&(y=this.nO(r,a,m));let x=r.x,S=r.y;if(y>0){if($.u(r.y,a.y))if(r.x<a.x){let E=0;for(;E<y;){const L=Math.max(r.x,Math.min(m[E++]-f,a.x-h));e.dr(L+n,a.y+s),x=L+n,S=a.y+s;let D=Math.min(L+h,a.x);for(;E<y;){const W=m[E];if(W<D+h)E++,D=Math.min(W+f,a.x);else break}const F=a.y-h+s,V=D+n,U=a.y+s;this.curve===10?e.fu(V,U,!1,!1):e.gr(x,F,V,F,V,U),x=V,S=U}}else{let E=y-1;for(;E>=0;){const L=Math.min(r.x,Math.max(m[E--]+f,a.x+h));e.dr(L+n,a.y+s),x=L+n,S=a.y+s;let D=Math.max(L-h,a.x);for(;E>=0;){const W=m[E];if(W>D-h)E--,D=Math.max(W-f,a.x);else break}const F=a.y-h+s,V=D+n,U=a.y+s;this.curve===10?e.fu(V,U,!1,!1):e.gr(x,F,V,F,V,U),x=V,S=U}}else if($.u(r.x,a.x))if(r.y<a.y){let E=0;for(;E<y;){const L=Math.max(r.y,Math.min(m[E++]-f,a.y-h));e.dr(a.x+n,L+s),x=a.x+n,S=L+s;let D=Math.min(L+h,a.y);for(;E<y;){const W=m[E];if(W<D+h)E++,D=Math.min(W+f,a.y);else break}const F=a.x-h+n,V=a.x+n,U=D+s;this.curve===10?e.fu(V,U,!1,!1):e.gr(F,S,F,U,V,U),x=V,S=U}}else{let E=y-1;for(;E>=0;){const L=Math.min(r.y,Math.max(m[E--]+f,a.y+h));e.dr(a.x+n,L+s),x=a.x+n,S=L+s;let D=Math.max(L-h,a.y);for(;E>=0;){const W=m[E];if(W>D-h)E--,D=Math.max(W-f,a.y);else break}const F=a.x-h+n,V=a.x+n,U=D+s;this.curve===10?e.fu(V,U,!1,!1):e.gr(F,S,F,U,V,U),x=V,S=U}}}e.dr(a.x+n,a.y+s)}}nO(e,n,s){const r=this.diagram;if(r===null||e.equals(n))return 0;const a=r.layers;for(;a.next();){const u=a.value;if(u!==null&&u.visible){const h=u.IM(),f=h.length;for(let m=0;m<f;m++){const y=h[m];if(!(y instanceof Nn))continue;if(y===this)return s.length>0&&s.sort((E,L)=>E-L),s.length;if(!y.isVisible()||!y.va())continue;const x=y.routeBounds;if(!x.isReal()||!this.routeBounds.intersectsRect(x)||this.usesSamePort(y))continue;const S=y.path;S!==null&&S.isVisibleObject()&&this.oO(e,n,s,y)}}}return s.length>0&&s.sort((u,h)=>u-h),s.length}oO(e,n,s,r){const a=$.u(e.y,n.y),u=r.pointsCount;let h=r.getPoint(0);const f=T.l();for(let m=1;m<u;m++){const y=r.getPoint(m);if(m<u-1){const x=r.getPoint(m+1);if(h.y===y.y&&y.y===x.y){if(y.x>h.x&&x.x>=y.x||y.x<h.x&&x.x<=y.x)continue}else if(h.x===y.x&&y.x===x.x&&(y.y>h.y&&x.y>=y.y||y.y<h.y&&x.y<=y.y))continue}this.rO(e,n,h,y,f)&&(a?s.push(f.x):s.push(f.y)),h=y}T.s(f)}rO(e,n,s,r,a){const u=e.x,h=e.y,f=n.x,m=n.y,y=s.x,x=s.y,S=r.x,E=r.y;if($.u(u,f)){if(!$.u(h,m)&&$.u(x,E)&&Math.min(h,m)<x&&Math.max(h,m)>x&&Math.min(y,S)<u&&Math.max(y,S)>u&&!$.u(y,S))return a.x=u,a.y=x,!0}else if($.u(h,m)&&$.u(y,S)&&Math.min(u,f)<y&&Math.max(u,f)>y&&Math.min(x,E)<h&&Math.max(x,E)>h&&!$.u(x,E))return a.x=y,a.y=h,!0;return a.x=0,a.y=0,!1}get firstPickIndex(){return this.pointsCount<=2?0:this.isOrthogonal||!this.Ed(this.computeSpot(!0))?1:0}get lastPickIndex(){const e=this.pointsCount;return e===0?0:e<=2?e-1:this.isOrthogonal||!this.Ed(this.computeSpot(!1))?e-2:e-1}va(){const e=this.curve;return e===11||e===10}u1(e){if(e||this.va()){const n=this.diagram;n!==null&&!n.animationManager.isTicking&&!n.Ql.contains(this)&&(this.kf.width!==0||this.kf.height!==0)&&n.Ql.add(this,this.kf.copy())}}invalidateOtherJumpOvers(e){const n=this.layer;if(n===null||!n.visible||n.isTemporary)return;const s=n.diagram;if(s===null||s.animationManager.isTicking)return;let r=!1;const a=s.layers;for(;a.next();){const u=a.value;if(u.visible){if(u===n){r=!0;let h=!1;const f=u.IM(),m=f.length;for(let y=0;y<m;y++){const x=f[y];x instanceof Nn&&(x===this?h=!0:h&&this.tT(x,e))}}else if(r){const h=u.IM(),f=h.length;for(let m=0;m<f;m++){const y=h[m];y instanceof Nn&&this.tT(y,e)}}}}}tT(e,n){if(e===null||!e.wh||!e.Ce||!e.va())return;const s=e.routeBounds;s.isReal()&&(!this.routeBounds.intersectsRect(s)&&!n.intersectsRect(s)||this.usesSamePort(e)||e.ne())}usesSamePort(e){const n=this.pointsCount,s=e.pointsCount;if(n>0&&s>0){const r=this.getPoint(0),a=e.getPoint(0);if(r.equalsApprox(a))return!0;const u=this.getPoint(n-1),h=e.getPoint(s-1);if(u.equalsApprox(h)||r.equalsApprox(h)||u.equalsApprox(a))return!0}else if(this.fromNode===e.fromNode||this.toNode===e.toNode||this.fromNode===e.toNode||this.toNode===e.fromNode)return!0;return!1}isVisible(){if(!super.isVisible())return!1;const e=this.containingGroup;let n=!0;const s=this.diagram;s!==null&&(n=s.isTreePathToChildren);const r=this.fromNode;if(r!==null){if(this.isTreeLink&&n&&!r.isTreeExpanded)return!1;if(r===e)return!0;let u=r;for(;u!==null;){if(u.labeledLink===this)return!0;u=u.containingGroup}const h=r.findVisibleNode();if(h===null||h===e)return!1}const a=this.toNode;if(a!==null){if(this.isTreeLink&&!n&&!a.isTreeExpanded)return!1;if(a===e)return!0;let u=a;for(;u!==null;){if(u.labeledLink===this)return!0;u=u.containingGroup}const h=a.findVisibleNode();if(h===null||h===e)return!1}return!0}Ei(e){if(super.Ei(e),e&&this.u1(!1),this.Qo!==null&&this.Qo.Td(),this.Hs!==null){const n=this.Hs.iterator;for(;n.next();)n.value.Ei(e)}}get adjusting(){return this.bf}set adjusting(e){const n=this.bf;n!==e&&(this.bf=e,this.t("adjusting",n,e))}computeAdjusting(){return this.isAvoiding&&this.diagram!==null&&this.diagram.animationManager.defaultAnimation.isAnimating?17:this.bf}get corner(){return this.Rd}set corner(e){const n=this.Rd;n!==e&&(this.Rd=e,this.ne(),this.t("corner",n,e))}get curve(){return this.vd}set curve(e){const n=this.vd;n!==e&&(this.vd=e,this.invalidateRoute(),this.ne(),this.u1(n===10||n===11||e===10||e===11),this.t("curve",n,e))}get curviness(){return this.Od}set curviness(e){const n=this.Od;n!==e&&(this.Od=e,this.invalidateRoute(),this.ne(),this.t("curviness",n,e))}get routing(){return this.Ta}set routing(e){const n=this.Ta;n!==e&&(this.Ta=e,this.Zo=null,this.invalidateRoute(),this.u1(Nn.tN(n)||Nn.tN(e)),this.t("routing",n,e))}get smoothness(){return this.Id}set smoothness(e){const n=this.Id;n!==e&&(this.Id=e,this.ne(),this.t("smoothness",n,e))}yy(){const e=this.lo;if(e===null)return;const n=this.ao;if(n===null||!isNaN(this.curviness))return;const s=this.ho,r=this.co;let a=null,u=null;const h=e._t.r,f=h.length;for(let m=0;m<f;m++){const y=h[m];!(y.lo===e&&y.ho===s&&y.ao===n&&y.co===r)&&!(y.lo===n&&y.ho===r&&y.ao===e&&y.co===s)||(u===null?u=y:(a===null&&(a=[],a.push(u)),a.push(y)))}if(a!==null){let m=e.jA(n,s,r);m===null&&(m=new FM(e,s,n,r),e.YA(m),n.YA(m)),m.qs=a;for(let y=0;y<a.length;y++){const x=a[y];x.Qo=m}m.Td()}}py(){const e=this.Qo;if(e!==null){if(!isNaN(this.curviness))return;this.Qo=null;const n=e.qs.indexOf(this);n>=0&&(o._a(e.qs,n),e.Td())}}Al(){return!0}get key(){const e=this.diagram;if(!(e===null||!e.model.Aa()))return e.model.getKeyForLinkData(this.data)}};k(Nn,"Da",null),k(Nn,"Fa",null),k(Nn,"Normal",1),k(Nn,"Orthogonal",2),k(Nn,"AvoidsNodes",6),k(Nn,"AvoidsNodesStraight",7),k(Nn,"None",0),k(Nn,"Bezier",9),k(Nn,"JumpGap",10),k(Nn,"JumpOver",11),k(Nn,"End",17),k(Nn,"Scale",18),k(Nn,"Stretch",19),k(Nn,"OrientAlong",21),k(Nn,"OrientPlus90",22),k(Nn,"OrientMinus90",23),k(Nn,"OrientOpposite",24),k(Nn,"OrientUpright",25),k(Nn,"OrientPlus90Upright",26),k(Nn,"OrientMinus90Upright",27),k(Nn,"OrientUpright45",28),k(Nn,"Bv",8),k(Nn,"zv",16),k(Nn,"Xv",14),k(Nn,"Ra",8);let Zt=Nn;class FM{constructor(t,e,n,s){k(this,"Vo");k(this,"Is");k(this,"oy");k(this,"H2");k(this,"o1");k(this,"q2");k(this,"qs");C.Yi(this),this.Vo=!1,this.Is=!1,this.oy=t,this.H2=e,this.o1=n,this.q2=s,this.qs=[]}Td(){if(!this.Vo){const t=this.qs;if(t.length>0){const e=t[0].diagram;e!==null&&(e.sS.add(this),this.Is=e.undoManager.isUndoingRedoing)}}this.Vo=!0}pS(){if(this.Vo){this.Vo=!1;const t=this.qs;if(t.length>0){const e=t[0],n=e.diagram,s=n===null||n.Vh&&!this.Is;this.Is=!1,e.arrangeBundledLinks(t,s),t.length===1&&(e.Qo=null,t.length=0)}t.length===0&&(this.oy.GA(this),this.o1.GA(this))}}}const Qn=class Qn{constructor(t){k(this,"le");k(this,"he");k(this,"Oa");k(this,"Ia");k(this,"yi");k(this,"wi");k(this,"Ot");k(this,"xh");k(this,"bh");k(this,"ha");k(this,"AS");k(this,"Vo");k(this,"xy");k(this,"Xc");k(this,"TS");k(this,"DS");C.Yi(this),this.ha=null,this.AS=null,this.Vo=!0,this.xy=!1,this.le=1,this.he=1,this.Oa=-1,this.Ia=-1,this.yi=t.width,this.wi=t.height,this.Ot=null,this.xh=0,this.bh=0,this.Xc=11,this.TS=this.Xc*2,this.DS=this.Xc*2}xb(t){if(t.width<=0||t.height<=0)return;const e=t.x,n=t.y,s=t.x+t.width,r=t.y+t.height;this.le=Math.floor((e-this.yi)/this.yi)*this.yi,this.he=Math.floor((n-this.wi)/this.wi)*this.wi,this.Oa=Math.ceil((s+2*this.yi)/this.yi)*this.yi,this.Ia=Math.ceil((r+2*this.wi)/this.wi)*this.wi;const a=1+(Math.ceil((this.Oa-this.le)/this.yi)|0),u=1+(Math.ceil((this.Ia-this.he)/this.wi)|0);if(this.Ot===null||this.xh<a-1||this.bh<u-1){const h=[];for(let f=0;f<=a;f++)h[f]=new Uint32Array(u);this.Ot=h,this.xh=a-1,this.bh=u-1}this.lO(Qn.oN)}get bounds(){return new I(this.le,this.he,this.Oa-this.le,this.Ia-this.he)}get cellWidth(){return this.yi}set cellWidth(t){t>0&&t!==this.yi&&(this.yi=t,this.xb(this.bounds))}get cellHeight(){return this.wi}set cellHeight(t){t>0&&t!==this.wi&&(this.wi=t,this.xb(this.bounds))}Bd(t,e){return this.le<=t&&t<=this.Oa&&this.he<=e&&e<=this.Ia}fo(t,e){if(!this.Bd(t,e))return Qn.oN;t-=this.le,t/=this.yi,e-=this.he,e/=this.wi;const n=t|0,s=e|0;return this.Ot[n][s]}pR(t,e,n,s){if(!this.Bd(t,e))return;const r=(t-this.le)/this.yi|0,a=(e-this.he)/this.wi|0,u=(t+n-this.le)/this.yi|0,h=(e+s-this.he)/this.wi|0,f=Math.min(u,this.xh),m=Math.min(h,this.bh);for(let y=r;y<=f;y++){const x=this.Ot[y];if(x.fill)x.fill(Qn.Ws,a,m+1);else for(let S=a;S<=m;S++)x[S]=Qn.Ws}}lO(t){if(this.Ot!==null)for(let e=0;e<=this.xh;e++){const n=this.Ot[e];if(n.fill)n.fill(t);else for(let s=0;s<=this.bh;s++)n[s]=t}}EL(){if(this.Ot!==null)for(let t=0;t<=this.xh;t++){const e=this.Ot[t];for(let n=0;n<=this.bh;n++)e[n]>=Qn.Ea&&(e[n]=Qn.oN)}}hO(t,e){return this.fo(t,e)===Qn.Ws}isUnoccupied(t,e,n,s){if(t>this.Oa||t+n<this.le||e>this.Ia||e+s<this.he)return!0;let r=(t-this.le)/this.yi|0,a=(e-this.he)/this.wi|0,u=Math.max(0,n)/this.yi+1|0,h=Math.max(0,s)/this.wi+1|0;if(r<0&&(u+=r,r=0),a<0&&(h+=a,a=0),u<0||h<0)return!0;const f=Math.min(r+u-1,this.xh)|0,m=Math.min(a+h-1,this.bh)|0;for(let y=r;y<=f;y++){const x=this.Ot[y];for(let S=a;S<=m;S++)if(x[S]===Qn.Ws)return!1}return!0}maxAvoidsLinksSpaceH(t,e,n,s){if(t>this.Oa||e<this.le||n>this.Ia||n<this.he)return 0;const r=(t-this.le)/this.yi|0,a=(e-this.le)/this.yi|0,u=(n-this.he)/this.wi|0,h=s/this.wi+1|0;let f;for(f=0;f<h/2;f++){let m=!1;for(let y=r;y<=a;y++)if(this.Ot[y][u+f]===Qn.Ws||this.Ot[y][u-f]===Qn.Ws){m=!0;break}if(m)return Math.max(0,(2*f-1)*this.wi)}return s}maxAvoidsLinksSpaceV(t,e,n,s){if(t>this.Ia||e<this.he||n>this.Oa||n<this.le)return 0;const r=(t-this.he)/this.wi|0,a=(e-this.he)/this.wi|0,u=(n-this.le)/this.yi|0,h=s/this.yi+1|0;let f;for(f=0;f<h/2;f++){let m=!1;for(let y=r;y<=a;y++)if(this.Ot[u+f][y]===Qn.Ws||this.Ot[u-f][y]===Qn.Ws){m=!0;break}if(m)return Math.max(0,(2*f-1)*this.yi)}return s}aO(t,e,n,s,r,a,u,h){t=t|0,e=e|0;let f=this.Ot[t][e];if(f>=Qn.Ea&&f<Qn.Ud)for(s?e+=n:t+=n,f+=1;r<=t&&t<=a&&u<=e&&e<=h;){const m=this.Ot[t][e];if(f>=m)break;this.Ot[t][e]=f,f+=1,s?e+=n:t+=n}return s?e:t}uo(t,e,n,s,r,a,u,h){if(t<r||t>a||e<u||e>h)return;const f=this.aO(t,e,n,s,r,a,u,h);if(s)if(n>0)for(let m=e+n;m<f;m+=n)this.uo(t,m,1,!s,r,a,u,h),this.uo(t,m,-1,!s,r,a,u,h);else for(let m=e+n;m>f;m+=n)this.uo(t,m,1,!s,r,a,u,h),this.uo(t,m,-1,!s,r,a,u,h);else if(n>0)for(let m=t+n;m<f;m+=n)this.uo(m,e,1,!s,r,a,u,h),this.uo(m,e,-1,!s,r,a,u,h);else for(let m=t+n;m>f;m+=n)this.uo(m,e,1,!s,r,a,u,h),this.uo(m,e,-1,!s,r,a,u,h)}w1(t,e,n,s,r,a,u,h,f,m){let y=t|0,x=e|0,S=Qn.Ws,E=Qn.Ea;for(this.Ot[y][x]=E;S===Qn.Ws&&y>u&&y<h&&x>f&&x<m;)E+=1,this.Ot[y][x]=E,a?x+=r:y+=r,S=this.Ot[y][x];return a?x:y}b1(t,e,n,s,r,a,u,h,f,m){let y=n|0,x=s|0,S=Qn.Ws;const E=Qn.Ud;for(this.Ot[y][x]=E;S===Qn.Ws&&y>u&&y<h&&x>f&&x<m;)this.Ot[y][x]=E,a?x+=r:y+=r,S=this.Ot[y][x]}iT(t,e,n,s,r,a){if(this.Ot===null)return;this.xy=!1;let u=t.x,h=t.y;if(!this.Bd(u,h))return;u-=this.le,u/=this.yi,h-=this.he,h/=this.wi;let f=n.x,m=n.y;if(!this.Bd(f,m))return;if(f-=this.le,f/=this.yi,m-=this.he,m/=this.wi,Math.abs(u-f)<=1&&Math.abs(h-m)<=1){this.xy=!0;return}let y=r.x,x=r.y,S=r.x+r.width,E=r.y+r.height;y-=this.le,y/=this.yi,x-=this.he,x/=this.wi,S-=this.le,S/=this.yi,E-=this.he,E/=this.wi;const L=Math.max(0,Math.min(this.xh,y|0)),D=Math.min(this.xh,Math.max(0,S|0)),F=Math.max(0,Math.min(this.bh,x|0)),V=Math.min(this.bh,Math.max(0,E|0)),U=0,W=90,q=270,le=this.Ot,oe=u|0,ce=h|0,Se=f|0,he=m|0,ge=e===U||e===W?1:-1,ke=e===W||e===q;le[oe][ce]===Qn.Ws?(this.w1(oe,ce,Se,he,ge,ke,L,D,F,V),this.w1(oe,ce,Se,he,1,!ke,L,D,F,V),this.w1(oe,ce,Se,he,-1,!ke,L,D,F,V)):this.w1(oe,ce,Se,he,ge,ke,oe,ce,oe,ce),le[Se][he]===Qn.Ws?(this.b1(oe,ce,Se,he,s===U||s===W?1:-1,s===W||s===q,L,D,F,V),this.b1(oe,ce,Se,he,1,!(s===W||s===q),L,D,F,V),this.b1(oe,ce,Se,he,-1,!(s===W||s===q),L,D,F,V)):this.b1(oe,ce,Se,he,ge,ke,Se,he,Se,he);const we=o.rt();if(a&&this.eT(Se,he,s,oe,ce,we)){(we[0]!==Se||we[1]!==he)&&(we.unshift(he),we.unshift(Se)),(we[we.length-2]!==oe||we[we.length-1]!==ce)&&(we.push(oe),we.push(ce));let Pe=Qn.Ea,Re=we[we.length-2],Xe=we[we.length-1];le[Re][Xe]=Pe++;for(let at=we.length-4;at>=0;at-=2){Re=we[at+2],Xe=we[at+3];const je=we[at],ft=we[at+1];for(;je>Re?Re++:je<Re?Re--:ft>Xe?Xe++:ft<Xe&&Xe--,le[Re][Xe]=Pe++,!(Re===je&&Xe===ft););}}else this.uo(oe,ce,1,!1,L,D,F,V),this.uo(oe,ce,-1,!1,L,D,F,V),this.uo(oe,ce,1,!0,L,D,F,V),this.uo(oe,ce,-1,!0,L,D,F,V);o.it(we)}eT(t,e,n,s,r,a){const u=this.Ot;let h=t,f=e;for(;;){if(h===s&&f===r)return!0;let m=h,y=f;if(n===0)if(m<s)m++;else break;else if(n===90)if(y<r)y++;else break;else if(n===180)if(m>s)m--;else break;else if(y>r)y--;else break;const x=u[m][y];if(x===0||x===Qn.rN)break;h=m,f=y}for(;;){let m=n,y=h,x=f;n===0?x<r?(m=90,x++):x>r&&(m=270,x--):n===90?y<s?(m=0,y++):y>s&&(m=180,y--):n===180?x<r?(m=90,x++):x>r&&(m=270,x--):y<s?(m=0,y++):y>s&&(m=180,y--);const S=u[y][x];if(m!==n&&S!==0&&S!==Qn.rN){if(a.push(h),a.push(f),this.eT(h,f,m,s,r,a))return!0;a.pop(),a.pop()}if(u[h][f]=Qn.rN,n===0){if(h===t)return!1;h--}else if(n===90){if(f===e)return!1;f--}else if(n===180){if(h===t)return!1;h++}else{if(f===e)return!1;f++}}}};k(Qn,"Ws",0),k(Qn,"Ea",1),k(Qn,"Ud",999999),k(Qn,"oN",Qn.Ud+1),k(Qn,"rN",Qn.Ud+2);let gr=Qn;class Of{constructor(){k(this,"ge");k(this,"_o");k(this,"ls");k(this,"zd");C.Yi(this),this.ge=null,this._o=null,this.ls=[],this.zd=!1}toString(){const t=this.ls;let e=this.ge.toString()+" "+t.length.toString()+":";for(let n=0;n<t.length;n++){const s=t[n];s!==null&&(e+=`
  `+s.toString())}return e}cO(t,e,n,s){const r=e.offsetY;switch(r){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}let a=n;switch(r){case 9:return a>180?270:90;case 6:return a>90&&a<=270?180:0}const u=Math.atan2(t.height,t.width)*180/Math.PI;switch(r){case 3:return a>u&&a<=180+u?180:270;case 5:return a>180-u&&a<=360-u?270:0;case 12:return a>u&&a<=180+u?90:0;case 10:return a>180-u&&a<=360-u?180:90;case 7:return a>90&&a<=180+u?180:a>180+u&&a<=360-u?270:0;case 13:return a>180&&a<=360-u?270:a>u&&a<=180?90:0;case 14:return a>u&&a<=180-u?90:a>180-u&&a<=270?180:0;case 11:return a>180-u&&a<=180+u?180:a>180+u?270:90}return s&&r!==15&&(a-=15,a<0&&(a+=360)),a>u&&a<180-u?90:a>=180-u&&a<=180+u?180:a>180+u&&a<360-u?270:0}Td(){this.ls.length=0}_A(t){let e=this.ls;e.length===0&&(this.fO(),e=this.ls);for(let n=0;n<e.length;n++){const s=e[n];if(s!==null&&s.qe===t)return s}return null}fO(){if(!this.zd){const t=this.zd;this.zd=!0;let e,n=null;const s=this.ge,r=s instanceof Wt?s:null;if(r!==null&&!r.isSubGraphExpanded){if(!r.actualBounds.isReal())return this.zd=t,this.ls;n=r,e=n.findExternalLinksConnected()}else s.isTreeExpanded?e=s.findLinksConnected(this._o.portId):e=s.findExternalTreeLinksConnected();this.ls.length=0;let a=0;const u=this._o.getDocumentPoint(B.TopLeft,T.l()),h=this._o.getDocumentPoint(B.BottomRight,T.l()),f=I.X(u.x,u.y,0,0);f.unionPoint(h),T.s(u),T.s(h);const m=T.X(f.x+f.width/2,f.y+f.height/2),y=this._o.getDocumentAngle(),x=e.iterator;for(;x.next();){const D=x.value;if(!D.isVisible()||D.fromPort===D.toPort)continue;const F=D.fromPort===this._o||D.fromNode!==null&&D.fromNode.isMemberOf(n),V=D.computeSpot(F,this._o);if(!V.isSide())continue;let U;if(F?U=D.toPort:U=D.fromPort,U===null)continue;let W=U.part;if(W===null)continue;const q=W.findVisibleNode();q!==null&&q!==W&&(W=q,U=W.port);const le=D.computeOtherPoint(W,U);let oe=m.directionPoint(le);oe-=y,oe<0?oe+=360:oe>=360&&(oe-=360);const ce=this.cO(f,V,oe,D.isOrthogonal);let Se=0;ce===0?(Se=4,oe>180&&(oe-=360)):ce===90?(Se=8,oe>270&&(oe-=360)):ce===180?Se=2:(Se=1,oe<90&&(oe+=360));let he=this.ls[a];he===void 0?(he=new BM(D,oe,Se),this.ls[a]=he):(he.qe=D,he.Xt=oe,he.ye=Se),he.k1.set(le),a++}T.s(m),this.uO();const S=this.ls.length;let E=-1,L=0;for(a=0;a<S;a++){const D=this.ls[a];D!==void 0&&(D.ye!==E&&(E=D.ye,L=0),D.Xd=L,L++)}for(E=-1,L=0,a=S-1;a>=0;a--){const D=this.ls[a];D!==void 0&&(D.ye!==E&&(E=D.ye,L=D.Xd+1),D.Pf=L)}this.dO(this.ls),this.gO(this.ls),this.zd=t,I.s(f)}return this.ls}mO(t,e){return t===e?0:t===null?-1:e===null?1:t.ye<e.ye?-1:t.ye>e.ye?1:t.Xt<e.Xt?-1:t.Xt>e.Xt?1:0}uO(){this.ls.sort(Of.prototype.mO)}dO(t){const e=this._o,n=this.ge.portSpreading,s=T.l(),r=T.l(),a=T.l(),u=T.l();e.getDocumentPoint(B.TopLeft,s),e.getDocumentPoint(B.TopRight,r),e.getDocumentPoint(B.BottomRight,a),e.getDocumentPoint(B.BottomLeft,u);let h=0,f=0,m=0,y=0;if(n===2)for(let U=0;U<t.length;U++){const W=t[U];if(W===null)continue;const q=W.qe.computeThickness();switch(W.ye){case 8:m+=q;break;case 2:y+=q;break;case 1:h+=q;break;default:case 4:f+=q;break}}let x=0,S=0,E=1,L,D,F=0,V=0;for(let U=0;U<t.length;U++){const W=t[U];if(W===null)continue;if(x!==W.ye){switch(x=W.ye,x){case 8:L=a,D=u;break;case 2:L=u,D=s;break;case 1:L=s,D=r;break;default:case 4:L=r,D=a;break}switch(F=D.x-L.x,V=D.y-L.y,x){case 8:m>Math.abs(F)?(E=Math.abs(F)/m,m=Math.abs(F)):E=1;break;case 2:y>Math.abs(V)?(E=Math.abs(V)/y,y=Math.abs(V)):E=1;break;case 1:h>Math.abs(F)?(E=Math.abs(F)/h,h=Math.abs(F)):E=1;break;default:case 4:f>Math.abs(V)?(E=Math.abs(V)/f,f=Math.abs(V)):E=1;break}S=0}const q=W.Vd;if(n===2){let le=W.qe.computeThickness();switch(le*=E,q.set(L),x){case 8:q.x=L.x+F/2+m/2-S-le/2;break;case 2:q.y=L.y+V/2+y/2-S-le/2;break;case 1:q.x=L.x+F/2-h/2+S+le/2;break;default:case 4:q.y=L.y+V/2-f/2+S+le/2;break}S+=le}else{let le=.5;n===1&&(le=(W.Xd+1)/(W.Pf+1)),q.x=L.x+F*le,q.y=L.y+V*le}}T.s(s),T.s(r),T.s(a),T.s(u)}gO(t){for(let e=0;e<t.length;e++){const n=t[e];n!==null&&(n.m1=this.pO(n))}}pO(t){const e=t.qe,n=e.fromPort===this._o,s=e.computeEndSegmentLength(this.ge,this._o,B.None,n);let r=t.Xd;if(r<0)return s;const a=t.Pf;if(a<=1||!e.isOrthogonal)return s;const u=t.k1,h=t.Vd;(t.ye===2||t.ye===8)&&(r=a-1-r);const f=Zt.Bv,m=t.ye===2||t.ye===4;return(m?u.y<h.y:u.x<h.x)?s+r*f:(m?u.y===h.y:u.x===h.x)?s:s+(a-1-r)*f}}class BM{constructor(t,e,n){k(this,"qe");k(this,"Xt");k(this,"ye");k(this,"k1");k(this,"Xd");k(this,"Pf");k(this,"Vd");k(this,"m1");this.qe=t,this.Xt=e,this.ye=n,this.k1=new T,this.Xd=0,this.Pf=0,this.Vd=new T,this.m1=0}toString(){return this.qe.toString()+" "+this.Xt.toString()+" "+this.ye.toString()+":"+this.Xd.toString()+"/"+this.Pf.toString()+" "+this.Vd.toString()+" "+this.m1.toString()+" "+this.k1.toString()}}class Jc{constructor(){k(this,"ca");k(this,"fa");k(this,"ua");k(this,"da");k(this,"ga");k(this,"ma");k(this,"O0");k(this,"R0");k(this,"I0");k(this,"v0");this.ca=B.Default,this.fa=B.Default,this.ua=NaN,this.da=NaN,this.ga=NaN,this.ma=NaN,this.O0=null,this.R0=null,this.I0=1/0,this.v0=1/0}copy(){const t=new Jc;return t.ca=this.ca.N(),t.fa=this.fa.N(),t.ua=this.ua,t.da=this.da,t.ga=this.ga,t.ma=this.ma,t.O0=this.O0,t.R0=this.R0,t.I0=this.I0,t.v0=this.v0,t}}class jr{constructor(){k(this,"N0");k(this,"C0");k(this,"L0");k(this,"S0");k(this,"wp");k(this,"xp");this.N0=-1/0,this.C0=0,this.L0=T.Po,this.S0=0,this.wp="None",this.xp="None"}copy(){const t=new jr;return t.N0=this.N0,t.C0=this.C0,t.L0=this.L0.N(),t.S0=this.S0,t.wp=this.wp,t.xp=this.xp,t}}class Wt extends _t{constructor(e,n){var t=(...Lte)=>(super(...Lte),k(this,"Kd"),k(this,"It"),k(this,"la"),k(this,"u0"),k(this,"si"),k(this,"ie"),this);e===void 0||e instanceof on||typeof e=="number"||typeof e=="string"?t(e):(t(),e&&(n=e)),this.E=this.E|4608,this.Kd=new C,this.It=null,this.ie=new es,this.ie.group=this,this.la=new C,this.u0=null,this.si=null,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),this.E=this.E&-32769;const n=e.findInVisualTree(s=>s instanceof Gs);n instanceof Gs?e.It=n:e.It=null,this.ie!==null?(e.ie=this.ie.copy(),e.ie.group=e):(e.ie!==null&&(e.ie.group=null),e.ie=null),this.si!==null&&(e.si=this.si.copy())}zo(e){super.zo(e);const n=e.findSubGraphParts(),s=e.memberParts;for(;s.next();){const r=s.value;if(r.c(),r.invalidateLayout(8),r.clearAdornments(),r instanceof _t)r.invalidateConnectedLinks(n);else if(r instanceof Zt){const a=r.labelNodes;for(;a.next();)a.value.invalidateConnectedLinks(n)}}}qc(e,n,s,r,a,u,h){if(e===3&&n==="elements"){if(a instanceof Gs)this.It===null?this.It=a:this.It!==a&&o.o("Cannot insert a second Placeholder into the visual tree of a Group.");else if(a instanceof Ut){const f=a.findInVisualTree(m=>m instanceof Gs);f instanceof Gs&&(this.It===null?this.It=f:this.It!==f&&o.o("Cannot insert a second Placeholder into the visual tree of a Group."))}}else e===4&&n==="elements"&&this.It!==null&&(r===this.It?this.It=null:r instanceof Ut&&this.It.isContainedBy(r)&&(this.It=null));super.qc(e,n,s,r,a,u,h)}ed(e,n){if(super.ed(e,n),this.isClipping&&this.type!==Ut.Spot&&this.isSubGraphExpanded){let s=this.resizeObject;s instanceof Ut&&(s=s.findMainElement()),this.si===null&&(this.si=new I),s.getDocumentBounds(this.si),s instanceof cn&&this.si.inflate(-s.strokeWidth,-s.strokeWidth)}}ah(e,n,s,r){this.hasPlaceholder()&&(this.$o=this.placeholder),super.ah(e,n,s,r)}ensureBounds(){this.isSubGraphExpanded&&this.memberParts.each(e=>{e.ensureBounds()}),super.ensureBounds()}Wr(){if(!super.Wr())return!1;const e=this.memberParts;for(;e.next();){const n=e.value;if(n instanceof _t){if(!n.isVisible())continue;if(n.es())return!1}else if(n instanceof Zt){if(!n.isVisible())continue;if(n.es()&&n.fromNode!==this&&n.toNode!==this)return!1}}return!0}hasPlaceholder(){return this.It!==null&&this.It.isVisibleObject()&&this.isSubGraphExpanded}get placeholder(){return this.It}get computesBoundsAfterDrag(){return(this.E&2048)!==0}set computesBoundsAfterDrag(e){const n=(this.E&2048)!==0;n!==e&&(o.i(e,"boolean",Wt,"computesBoundsAfterDrag"),this.E=this.E^2048,this.t("computesBoundsAfterDrag",n,e))}get computesBoundsIncludingLinks(){return(this.E&4096)!==0}set computesBoundsIncludingLinks(e){o.i(e,"boolean",Wt,"computesBoundsIncludingLinks");const n=(this.E&4096)!==0;n!==e&&(this.E=this.E^4096,this.t("computesBoundsIncludingLinks",n,e))}get computesBoundsIncludingLocation(){return(this.E&8192)!==0}set computesBoundsIncludingLocation(e){o.i(e,"boolean",Wt,"computesBoundsIncludingLocation");const n=(this.E&8192)!==0;n!==e&&(this.E=this.E^8192,this.t("computesBoundsIncludingLocation",n,e))}get handlesDragDropForMembers(){return(this.E&16384)!==0}set handlesDragDropForMembers(e){o.i(e,"boolean",Wt,"handlesDragDropForMembers");const n=(this.E&16384)!==0;n!==e&&(this.E=this.E^16384,this.t("handlesDragDropForMembers",n,e))}get avoidableMembers(){return(this.E&131072)!==0}set avoidableMembers(e){o.i(e,"boolean",Wt,"avoidableMembers");const n=(this.E&131072)!==0;n!==e&&(this.E=this.E^131072,this.t("avoidableMembers",n,e))}get memberParts(){return this.Kd.iterator}K2(e){if(this.Kd.add(e)){e instanceof Wt&&this.la.add(e);const s=this.memberAdded;if(s!==null){let r=!0;const a=this.diagram;a!==null&&(r=a.G,a.G=!0),s(this,e),a!==null&&(a.G=r)}(!this.isVisible()||!this.isSubGraphExpanded)&&e.Ei(!1)}if(e instanceof Zt&&!this.computesBoundsIncludingLinks)return;let n=this.It;n===null&&(n=this),n.c()}X2(e){if(this.Kd.remove(e)){e instanceof Wt&&this.la.remove(e);const s=this.memberRemoved;if(s!==null){let r=!0;const a=this.diagram;a!==null&&(r=a.G,a.G=!0),s(this,e),a!==null&&(a.G=r)}(!this.isVisible()||!this.isSubGraphExpanded)&&e.Ei(!0)}if(e instanceof Zt&&!this.computesBoundsIncludingLinks)return;let n=this.It;n===null&&(n=this),n.c()}Bc(){if(this.Kd.count>0){const e=this.diagram;if(e!==null){const n=this.Kd.copy().iterator;for(;n.next();){const s=n.value;e.remove(s)}}}super.Bc()}get layout(){return this.ie}set layout(e){const n=this.ie;if(n!==e){e!==null&&e.diagram!==null&&e.diagram.layout===e&&o.o("A layout cannot be both the Diagram.layout and a Group.layout: "+e),n!==null&&(n.diagram=null,n.group=null),this.ie=e;const s=this.diagram;e!==null&&(e.diagram=s,e.group=this),s!==null&&(s.Yr=!0),this.t("layout",n,e),s!==null&&s.requestUpdate()}}get memberAdded(){return this.gt!==null?this.gt.fy:null}set memberAdded(e){const n=this.memberAdded;n!==e&&(e!==null&&o.i(e,"function",Wt,"memberAdded"),this.ul(),this.gt.fy=e,this.t("memberAdded",n,e))}get memberRemoved(){return this.gt!==null?this.gt.uy:null}set memberRemoved(e){const n=this.memberRemoved;n!==e&&(e!==null&&o.i(e,"function",Wt,"memberRemoved"),this.ul(),this.gt.uy=e,this.t("memberRemoved",n,e))}get memberValidation(){return this.gt!==null?this.gt.sh:null}set memberValidation(e){const n=this.memberValidation;n!==e&&(e!==null&&o.i(e,"function",Wt,"memberValidation"),this.ul(),this.gt.sh=e,this.t("memberValidation",n,e))}canAddMembers(e){const n=this.diagram;if(n===null)return!1;const s=n.commandHandler,r=s.ZS(e).iterator;for(;r.next();){const a=r.value;if(!s.isValidMember(this,a))return!1}return!0}addMembers(e,n){const s=this.diagram;if(s===null)return!1;const r=s.commandHandler,a=r.ZS(e);let u=!0;const h=a.iterator;for(;h.next();){const f=h.value;!n||r.isValidMember(this,f)?f.containingGroup=this:u=!1}return u}get ungroupable(){return(this.E&256)!==0}set ungroupable(e){const n=(this.E&256)!==0;n!==e&&(o.i(e,"boolean",Wt,"ungroupable"),this.E=this.E^256,this.t("ungroupable",n,e))}canUngroup(){if(!this.ungroupable)return!1;const e=this.layer;if(e===null||!e.allowUngroup)return!1;const n=e.diagram;return!(n!==null&&!n.allowUngroup)}invalidateConnectedLinks(e){const n=this.yO();if(super.invalidateConnectedLinks(e),n)return;this.yL(!0);const s=this.findExternalLinksConnected();for(;s.next();){const r=s.value;if(e!==void 0&&e.contains(r))continue;const a=r.fromNode;if(a!==null&&a!==this&&a.isMemberOf(this)&&!a.isVisible())a.pe(r.fromPort),a.pe(r.toPort),r.invalidateRoute();else{const u=r.toNode;u!==null&&u!==this&&u.isMemberOf(this)&&!u.isVisible()&&(u.pe(r.fromPort),u.pe(r.toPort),r.invalidateRoute())}}}findExternalLinksConnected(){const e=this.diagram!==null&&this.diagram.aS;if(e&&this.u0!==null)return this.u0.iterator;const n=this.findSubGraphParts();n.add(this);const s=new C,r=n.iterator;for(;r.next();){const a=r.value;if(!(a instanceof _t))continue;const u=a.linksConnected;for(;u.next();){const h=u.value;n.contains(h)||s.add(h)}}return e&&(this.u0=s),s.iterator}findExternalNodesConnected(){const e=this.findSubGraphParts();e.add(this);const n=new C,s=e.iterator;for(;s.next();){const r=s.value;if(!(r instanceof _t))continue;const a=r.linksConnected;for(;a.next();){const u=a.value,h=u.fromNode;h!==null&&(!e.contains(h)||h===this)&&n.add(h);const f=u.toNode;f!==null&&(!e.contains(f)||f===this)&&n.add(f)}}return n.iterator}gE(){function e(s,r){s!==null&&(r.add(s),e(s.containingGroup,r))}const n=new C;return e(this,n),n}findSubGraphParts(){const e=new C;return Vn.nh(e,this,!0,0,!0),e.remove(this),e}Ei(e){super.Ei(e);const n=this.memberParts;for(;n.next();)n.value.Ei(e)}collapseSubGraph(){const e=this.diagram;if(e===null||e.isCollapsingExpanding)return;e.isCollapsingExpanding=!0;const n=this.findSubGraphParts();this.sT(n,e,this),e.isCollapsingExpanding=!1}sT(e,n,s){const r=this.memberParts;for(;r.next();){const a=r.value;if(a.Ei(!1),a instanceof Wt&&a.isSubGraphExpanded&&(a.wasSubGraphExpanded=a.isSubGraphExpanded,a.sT(e,n,s)),a instanceof _t)a.invalidateConnectedLinks(e),n.Sc(a,s);else if(a instanceof Zt){const u=a.labelNodes;for(;u.next();)u.value.invalidateConnectedLinks(e)}}this.isSubGraphExpanded=!1}expandSubGraph(){const e=this.diagram;if(e===null||e.isCollapsingExpanding)return;e.isCollapsingExpanding=!0;const n=this.findSubGraphParts();this.nT(n,e,this),e.isCollapsingExpanding=!1}nT(e,n,s){const r=this.memberParts;for(;r.next();){const a=r.value;if(a.Ei(!0),a instanceof Wt&&a.wasSubGraphExpanded&&(a.wasSubGraphExpanded=!1,a.nT(e,n,s)),a instanceof _t)a.invalidateConnectedLinks(e);else if(a instanceof Zt){const u=a.labelNodes;for(;u.next();)u.value.invalidateConnectedLinks(e)}}this.isSubGraphExpanded=!0}get isSubGraphExpanded(){return(this.E&512)!==0}set isSubGraphExpanded(e){const n=(this.E&512)!==0;if(n!==e){o.i(e,"boolean",Wt,"isSubGraphExpanded"),this.E=this.E^512;const s=this.diagram;this.t("isSubGraphExpanded",n,e);const r=this.subGraphExpandedChanged;if(r!==null){let a=!0;s!==null&&(a=s.G,s.G=!0),r(this),s!==null&&(s.G=a)}if(s!==null&&s.undoManager.isUndoingRedoing){this.It!==null&&this.It.c(),this.memberParts.each(a=>a.updateAdornments());return}e?this.expandSubGraph():this.collapseSubGraph()}}get wasSubGraphExpanded(){return(this.E&1024)!==0}set wasSubGraphExpanded(e){const n=(this.E&1024)!==0;n!==e&&(o.i(e,"boolean",Wt,"wasSubGraphExpanded"),this.E=this.E^1024,this.t("wasSubGraphExpanded",n,e))}get subGraphExpandedChanged(){return this.gt!==null?this.gt.gy:null}set subGraphExpandedChanged(e){const n=this.subGraphExpandedChanged;n!==e&&(e!==null&&o.i(e,"function",Wt,"subGraphExpandedChanged"),this.ul(),this.gt.gy=e,this.t("subGraphExpandedChanged",n,e))}move(e,n){n===void 0&&(n=!1);const s=n?this.location:this.position,r=s.x,a=s.y,u=e.x,h=e.y;if((r===u||isNaN(r)&&isNaN(u))&&(a===h||isNaN(a)&&isNaN(h)))return;const f=u-(isNaN(r)?0:r),m=h-(isNaN(a)?0:a),y=T.l();super.move(e,n);const x=new C,S=this.findSubGraphParts().iterator;for(;S.next();){const E=S.value;E instanceof Zt&&(E.un&&x.add(E),!(!E.Ce&&(E.fromNode===this||E.toNode===this))&&(E.un=!0))}for(S.reset();S.next();){const E=S.value;if(E.Al()||E instanceof _t&&E.isLinkLabel)continue;const L=E.position,D=E.location;L.isReal()?(y.x=L.x+f,y.y=L.y+m,E.position=y):D.isReal()&&(y.x=D.x+f,y.y=D.y+m,E.location=y)}for(S.reset();S.next();){const E=S.value;if(!(E instanceof Zt)||(E.un=x.contains(E),!E.Ce&&(E.fromNode===this||E.toNode===this)))continue;const L=E.position;y.x=L.x+f,y.y=L.y+m,y.isReal()?E.move(y):E.invalidateRoute()}T.s(y)}yO(){return(this.E&65536)!==0}yL(e){(this.E&65536)!==0!==e&&(this.E=this.E^65536)}get Zr(){return(this.E&32768)!==0}set Zr(e){(this.E&32768)!==0!==e&&(this.E=this.E^32768)}}class Gs extends ai{constructor(e){super();k(this,"Zt");k(this,"Yd");this.Zt=K.Vg,this.Yd=new I(NaN,NaN,NaN,NaN),e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Zt=this.Zt.N(),e.Yd=this.Yd.copy()}hh(e){if(this.background===null)return!1;const n=this.naturalBounds;return I.contains(0,0,n.width,n.height,e.x,e.y)}_u(e,n,s,r){const a=this.part;if((a===null||!(a instanceof Wt)&&!(a instanceof Cn))&&o.o("Placeholder is not inside a Group or Adornment."),a instanceof Wt){const u=this.computeBorder(this.Yd),h=this.minSize,f=isFinite(h.width)?Math.max(h.width,u.width):u.width,m=isFinite(h.height)?Math.max(h.height,u.height):u.height,y=this.Bi;y.Mo(f||0,m||0),this.Qn(0,0,y.width,y.height);const x=a.memberParts;let S=!1;for(;x.next();)if(x.value.isVisible()){S=!0;break}const E=a.diagram;if(S&&E!==null&&!E.animationManager.NM(a)&&!isNaN(u.x)&&!isNaN(u.y)){const L=T.l();L.setRectSpot(u,a.locationSpot),a.location=L,T.s(L)}}else{const u=a,h=this.Bi,f=this.Zt,m=f.left+f.right,y=f.top+f.bottom,x=u.adornedObject,S=x.getDocumentAngle();u.angle=S;let E=0;x instanceof cn&&(E=x.strokeWidth);const L=x.getDocumentScale(),D=x.naturalBounds,F=(D.width+E)*L,V=(D.height+E)*L;if(u.type!==Ut.Link){const U=u.category==="Selection"?B.TopLeft:u.locationSpot,W=x.getDocumentPoint(U,T.l());u.location=W,T.s(W)}if(!isNaN(F)&&!isNaN(V))h.Mo(F+m||0,V+y||0),this.Qn(-f.left,-f.top,h.width,h.height);else{const U=x.getDocumentPoint(B.TopLeft,T.l()),W=I.X(U.x,U.y,0,0);W.unionPoint(x.getDocumentPoint(B.BottomRight,U)),W.unionPoint(x.getDocumentPoint(B.TopRight,U)),W.unionPoint(x.getDocumentPoint(B.BottomLeft,U)),h.Mo(W.width+m||0,W.height+y||0),this.Qn(-f.left,-f.top,h.width,h.height),T.s(U),I.s(W)}}}ah(e,n,s,r){this.actualBounds.e(e,n,s,r)}computeBorder(e){const n=this.part,s=n.diagram,r=s===null||!s.animationManager.isAnimating;if(s!==null&&n instanceof Wt&&!n.layer.isTemporary&&n.computesBoundsAfterDrag&&this.Yd.isReal()){const f=s.toolManager.findTool("Dragging");if(f===s.currentTool){const m=f.computeBorder(n,this.Yd,e);if(m!==null)return m}}const a=I.l(),u=this.computeMemberBounds(a),h=this.Zt;return n instanceof Wt&&!n.isSubGraphExpanded?e.e(u.x-h.left,u.y-h.top,0,0):e.e(u.x-h.left,u.y-h.top,Math.max(u.width+h.left+h.right,0),Math.max(u.height+h.top+h.bottom,0)),I.s(a),r&&n instanceof Wt&&n.computesBoundsIncludingLocation&&n.location.isReal()&&e.unionPoint(n.location),e}computeMemberBounds(e){if(!(this.part instanceof Wt))return e.e(0,0,0,0),e;const n=this.part;let s=1/0,r=1/0,a=-1/0,u=-1/0;const h=n.memberParts;for(;h.next();){const f=h.value;if(!f.isVisible()||f instanceof Zt&&(!n.computesBoundsIncludingLinks||f.Io()||f.fromNode===n||f.toNode===n))continue;const m=f.actualBounds;m.left<s&&(s=m.left),m.top<r&&(r=m.top),m.right>a&&(a=m.right),m.bottom>u&&(u=m.bottom)}if(!isFinite(s)||!isFinite(r)){const f=n.location;e.e(f.x,f.y,0,0)}else e.e(s,r,a-s,u-r);return e}get padding(){return this.Zt}set padding(e){typeof e=="number"&&(e=new K(e));const n=this.Zt;n.equals(e)||(e=e.N(),this.Zt=e,this.t("padding",n,e),this.c())}}class es{constructor(t){k(this,"k");k(this,"ha");k(this,"Gd");k(this,"Pr");k(this,"jd");k(this,"Hd");k(this,"Ro");k(this,"gl");k(this,"qd");k(this,"Wd");k(this,"go");C.Yi(this),this.k=null,this.ha=null,this.Gd=!0,this.Pr=!0,this.jd=!1,this.Hd=new T(0,0).g(),this.Ro=!0,this.gl=null,this.qd=null,this.Wd=!1,this.go=null,t&&Object.assign(this,t)}cloneProtected(t){t.Gd=this.Gd,t.Pr=this.Pr,t.jd=this.jd,t.Hd.a(this.Hd),t.Ro=this.Ro,t.gl=this.gl,t.qd=this.qd,t.Wd=!0}copy(){const t=new this.constructor;return this.cloneProtected(t),t}li(t){}toString(){let t=o.sn(this.constructor);return t+="(",this.group!==null&&(t+=" in "+this.group),this.diagram!==null&&(t+=" for "+this.diagram),t+=")",t}get diagram(){return this.k}set diagram(t){this.k=t}get group(){return this.ha}set group(t){this.ha!==t&&(this.ha=t,t!==null&&(this.k=t.diagram))}get isOngoing(){return this.Gd}set isOngoing(t){this.Gd!==t&&(o.i(t,"boolean",es,"isOngoing"),this.Gd=t)}get isInitial(){return this.Pr}set isInitial(t){o.i(t,"boolean",es,"isInitial"),this.Pr=t,t||(this.Wd=!0)}get isViewportSized(){return this.jd}set isViewportSized(t){this.jd!==t&&(o.i(t,"boolean",es,"isViewportSized"),this.jd=t,t&&this.invalidateLayout())}get isRouting(){return this.Ro}set isRouting(t){this.Ro!==t&&(o.i(t,"boolean",es,"isRouting"),this.Ro=t)}get isRealtime(){return this.gl}set isRealtime(t){this.gl!==t&&(t!==null&&o.i(t,"boolean",es,"isRealtime"),this.gl=t)}get isValidLayout(){return this.Wd}set isValidLayout(t){if(this.Wd!==t&&(o.i(t,"boolean",es,"isValidLayout"),this.Wd=t,!t)){const e=this.diagram;e!==null&&(e.Yr=!0)}}invalidateLayout(){if(this.isValidLayout){const t=this.diagram;if(t===null||t.undoManager.isUndoingRedoing)return;const e=t.animationManager;if(e.isTicking)return;e.defaultAnimation.isAnimating&&e.stopAnimation(),(this.isOngoing&&t.Vh||this.isInitial&&!t.Vh)&&(this.isValidLayout=!1,t.requestUpdate())}}get network(){return this.go}set network(t){this.go!==t&&(this.go=t,t!==null&&(t.layout=this))}createNetwork(){return new qr(this)}makeNetwork(t){const e=this.createNetwork();return t instanceof st?(e.addParts(t.nodes,!0),e.addParts(t.links,!0)):t instanceof Wt?e.addParts(t.memberParts):e.addParts(t.iterator),e}updateParts(){this.isValidLayout=!0;let t=this.diagram;if(t===null&&this.network!==null){const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value.node;if(n!==null&&(t=n.diagram,t!==null))break}}try{t!==null&&t.startTransaction("Layout"),this.commitLayout()}finally{t!==null&&t.commitTransaction("Layout")}}commitLayout(){if(this.network===null)return;const t=this.network.vertexes.iterator;for(;t.next();)t.value.commit();if(this.isRouting){const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}}doLayout(t){const e=new C;if(t instanceof st?(this.kh(e,t.nodes,!0,this.Zr,!0,!1,!0),this.kh(e,t.parts,!0,this.Zr,!0,!1,!0)):t instanceof Wt?this.kh(e,t.memberParts,!1,this.Zr,!0,!1,!0):e.addAll(t.iterator),e.count>0){const n=this.diagram;n!==null&&n.startTransaction("Layout"),this.doMinimalNoNetworkLayout(e),n!==null&&n.commitTransaction("Layout")}this.isValidLayout=!0}doMinimalNoNetworkLayout(t){const e=t.count,n=Math.ceil(Math.sqrt(e));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const s=this.arrangementOrigin.x,r=this.arrangementOrigin.y;let a=s,u=r,h=0,f=0;const m=t.iterator;for(;m.next();){const y=m.value;y.ensureBounds();const x=y.measuredBounds,S=x.width,E=x.height;y.moveTo(a,u),y instanceof Wt&&(y.Zr=!1),a+=Math.max(S,50)+20,f=Math.max(f,Math.max(E,50)),h>=n-1?(h=0,a=s,u+=f+20,f=0):h++}}doMinimalNetworkLayout(){const t=this.network.vertexes.count,e=Math.ceil(Math.sqrt(t));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const n=this.arrangementOrigin.x,s=this.arrangementOrigin.y;let r=n,a=s,u=0,h=0;const f=this.network.vertexes.iterator;for(;f.next();){const m=f.value.node;if(m===null||m instanceof Zt||(m.ensureBounds(),!this.Zr(m)))continue;const y=m.measuredBounds,x=y.width,S=y.height;m.moveTo(r,a),m instanceof Wt&&(m.Zr=!1),r+=Math.max(x,50)+20,h=Math.max(h,Math.max(S,50)),u>=e-1?(u=0,r=n,a+=h+20,h=0):u++}}Zr(t){return!!(!t.location.isReal()&&!t.position.isReal()||t instanceof Wt&&t.Zr)}kh(t,e,n,s,r,a,u){const h=e.iterator;for(;h.next();){const f=h.value;if(!(n&&!f.isTopLevel)&&!(s!==null&&!s(f))&&f.canLayout())if(r&&f instanceof _t){if(f.isLinkLabel)continue;f instanceof Wt&&f.layout===null?this.kh(t,f.memberParts,!1,s,r,a,u):(f.ensureBounds(),t.add(f))}else a&&f instanceof Zt?t.add(f):u&&f.Se()&&!(f instanceof _t)&&(f.ensureBounds(),t.add(f))}}getLayoutBounds(t,e){const n=this.boundsComputation;return n!==null?(e||(e=new I),n(t,this,e)):!e&&t.margin.equalTo(0,0,0,0)?t.actualBounds:(e||(e=new I),e.set(t.actualBounds),e.addMargin(t.margin),e)}get boundsComputation(){return this.qd}set boundsComputation(t){this.qd!==t&&(t!==null&&o.i(t,"function",es,"boundsComputation"),this.qd=t,this.invalidateLayout())}collectParts(t){const e=new C;return t instanceof st?(this.kh(e,t.nodes,!0,null,!0,!0,!0),this.kh(e,t.links,!0,null,!0,!0,!0),this.kh(e,t.parts,!0,null,!0,!0,!0)):t instanceof Wt?this.kh(e,t.memberParts,!1,null,!0,!0,!0):this.kh(e,t.iterator,!1,null,!0,!0,!0),e}get arrangementOrigin(){return this.Hd}set arrangementOrigin(t){this.Hd.equals(t)||(this.Hd.a(t),this.invalidateLayout())}initialOrigin(t){const e=this.group;if(e!==null)if(e.hasPlaceholder()){const n=e.placeholder,s=n.getDocumentPoint(B.TopLeft);(isNaN(s.x)||isNaN(s.y))&&s.set(t);const r=n.padding;return s.x+=r.left,s.y+=r.top,s}else{const n=e.position.copy();return(isNaN(n.x)||isNaN(n.y))&&n.set(t),n}return t}}class qr{constructor(t){k(this,"ie");k(this,"mo");k(this,"Ln");k(this,"by");k(this,"ky");C.Yi(this),this.ie=t,this.mo=new C,this.Ln=new C,this.by=new z,this.ky=new z}clear(){if(this.mo){const t=this.mo.iterator;for(;t.next();)t.value.clear()}if(this.Ln){const t=this.Ln.iterator;for(;t.next();)t.value.clear()}this.mo=new C,this.Ln=new C,this.by=new z,this.ky=new z}toString(t){t===void 0&&(t=0);let e="LayoutNetwork"+(this.layout!==null?"("+this.layout.toString()+")":"");if(t<=0)return e;if(e+=" vertexes: "+this.mo.count+" edges: "+this.Ln.count,t>1){const n=this.mo.iterator;for(;n.next();){const r=n.value;e+=`
    `+r.toString(t-1)}const s=this.Ln.iterator;for(;s.next();){const r=s.value;e+=`
    `+r.toString(t-1)}}return e}get layout(){return this.ie}set layout(t){t!==null&&(this.ie=t)}get vertexes(){return this.mo}get edges(){return this.Ln}createVertex(){return new Gr(this)}createEdge(){return new bl(this)}addParts(t,e,n){if(t===null)return;e===void 0&&(e=!1),o.i(e,"boolean",qr,"addParts:toplevelonly"),n===void 0&&(n=null),n===null&&(n=r=>{if(r instanceof _t)return!r.isLinkLabel;if(r instanceof Zt){const a=r.fromNode;if(a===null||a.isLinkLabel)return!1;const u=r.toNode;return!(u===null||u.isLinkLabel)}return!1});const s=t.iterator;for(;s.next();){const r=s.value;if(r instanceof _t&&!(e&&!r.isTopLevel)&&r.canLayout()&&n(r))if(r instanceof Wt&&r.layout===null)this.addParts(r.memberParts,!1);else{if(this.findVertex(r)!==null)continue;const a=this.createVertex();a.node=r,this.addVertex(a)}}for(s.reset();s.next();){const r=s.value;if(!(r instanceof Zt)||e&&!r.isTopLevel||!r.canLayout()||!n(r)||this.findEdge(r)!==null)continue;const a=r.fromNode,u=r.toNode;if(a===null||u===null||a===u)continue;const h=this.findGroupVertex(a),f=this.findGroupVertex(u);this.linkVertexes(h,f,r)}}findGroupVertex(t){if(t===null)return null;const e=t.findVisibleNode();if(e===null)return null;let n=this.findVertex(e);if(n!==null)return n;let s=e.containingGroup;for(;s!==null;){if(n=this.findVertex(s),n!==null)return n;s=s.containingGroup}return null}addVertex(t){if(t===null)return;this.mo.add(t);const e=t.node;e!==null&&this.by.add(e,t),t.network=this}addNode(t){if(t===null)return null;let e=this.findVertex(t);return e===null&&(e=this.createVertex(),e.node=t,this.addVertex(e)),e}deleteVertex(t){if(t!==null&&this.oT(t)){let e=t.tr;for(let n=e.count-1;n>=0;n--){const s=e.elt(n);this.deleteEdge(s)}e=t.ir;for(let n=e.count-1;n>=0;n--){const s=e.elt(n);this.deleteEdge(s)}}}oT(t){if(t===null)return!1;const e=this.mo.remove(t);if(e){const n=t.node;n!==null&&this.by.remove(n)}return e}deleteNode(t){if(t===null)return;const e=this.findVertex(t);e!==null&&this.deleteVertex(e)}findVertex(t){return t===null?null:this.by.getValue(t)}addEdge(t){if(t===null)return;this.lN(t);const e=t.toVertex;e!==null&&e.addSourceEdge(t);const n=t.fromVertex;n!==null&&n.addDestinationEdge(t)}lN(t){if(t===null)return;this.Ln.add(t);const e=t.link;e!==null&&this.findEdge(e)===null&&this.ky.add(e,t),t.network=this}addLink(t){if(t===null)return null;const e=t.fromNode,n=t.toNode;let s=this.findEdge(t);return s===null?(s=this.createEdge(),s.link=t,e!==null&&(s.fromVertex=this.addNode(e)),n!==null&&(s.toVertex=this.addNode(n)),this.addEdge(s)):(e!==null?s.fromVertex=this.addNode(e):s.fromVertex=null,n!==null?s.toVertex=this.addNode(n):s.toVertex=null),s}deleteEdge(t){if(t===null)return;const e=t.toVertex;e!==null&&e.deleteSourceEdge(t);const n=t.fromVertex;n!==null&&n.deleteDestinationEdge(t),this.hN(t)}hN(t){if(t===null)return!1;const e=this.Ln.remove(t);if(e){const n=t.link;n!==null&&this.ky.remove(n)}return e}deleteLink(t){if(t===null)return;const e=this.findEdge(t);e!==null&&this.deleteEdge(e)}findEdge(t){return t===null?null:this.ky.getValue(t)}linkVertexes(t,e,n){if(t===null||e===null)return null;if(t.network===this&&e.network===this){const s=this.createEdge();return s.link=n,s.fromVertex=t,s.toVertex=e,this.addEdge(s),s}return null}reverseEdge(t){if(t===null)return;const e=t.fromVertex,n=t.toVertex;e===null||n===null||(e.deleteDestinationEdge(t),n.deleteSourceEdge(t),t.reverseEdge(),e.addSourceEdge(t),n.addDestinationEdge(t))}deleteSelfEdges(){const t=o.rt(),e=this.Ln.iterator;for(;e.next();){const s=e.value;s.fromVertex===s.toVertex&&t.push(s)}const n=t.length;for(let s=0;s<n;s++)this.deleteEdge(t[s]);o.it(t)}deleteArtificialVertexes(){const t=o.rt(),e=this.mo.iterator;for(;e.next();){const a=e.value;a.node===null&&a.data===null&&t.push(a)}let n=t.length;for(let a=0;a<n;a++)this.deleteVertex(t[a]);const s=o.rt(),r=this.Ln.iterator;for(;r.next();){const a=r.value;a.link===null&&a.data===null&&s.push(a)}n=s.length;for(let a=0;a<n;a++)this.deleteEdge(s[a]);o.it(t),o.it(s)}deleteUselessEdges(){const t=o.rt(),e=this.Ln.iterator;for(;e.next();){const s=e.value;(s.fromVertex===null||s.toVertex===null)&&t.push(s)}const n=t.length;for(let s=0;s<n;s++)this.deleteEdge(t[s]);o.it(t)}isSingleton(t){return!(t.tr.count>0||t.ir.count>0)}splitIntoSubNetworks(t){t===void 0&&(t=!0),t&&(this.deleteArtificialVertexes(),this.deleteUselessEdges(),this.deleteSelfEdges());const e=new w;let n=!0;for(;n;){n=!1;const s=this.mo.iterator;for(;s.next();){const r=s.value;if(this.isSingleton(r))continue;const a=this.layout.createNetwork();e.add(a),this.wO(a,r),n=!0;break}}return e.sort((s,r)=>s===null||r===null||s===r?0:r.vertexes.count-s.vertexes.count),e}wO(t,e){if(e===null)return;const n=new w;for(n.add(e);n.count>0;){const s=n.first();if(n.removeAt(0),s.network===t)continue;this.oT(s),t.addVertex(s);let r=s.sourceEdges;for(;r.next();){const a=r.value;a.network!==t&&(this.hN(a),t.lN(a),n.add(a.fromVertex))}for(r=s.destinationEdges;r.next();){const a=r.value;a.network!==t&&(this.hN(a),t.lN(a),n.add(a.toVertex))}}}findAllParts(){const t=new C,e=this.mo.iterator;for(;e.next();){const s=e.value;t.add(s.node)}const n=this.Ln.iterator;for(;n.next();){const s=n.value;t.add(s.link)}return t}}class Gr{constructor(t){k(this,"go");k(this,"Qt");k(this,"ge");k(this,"De");k(this,"We");k(this,"tr");k(this,"ir");C.Yi(this),this.go=t,this.De=new I(0,0,10,10).g(),this.We=new T(5,5).g(),this.Qt=null,this.ge=null,this.tr=new w,this.ir=new w}clear(){this.Qt=null,this.ge=null,this.tr=new w,this.ir=new w}toString(t){t===void 0&&(t=0);let e="LayoutVertex#"+C.cs(this);if(t>0&&(e+=this.node!==null?"("+this.node.toString()+")":"",t>1)){let n="",s=!0,r=this.tr.iterator;for(;r.next();){const u=r.value;s?s=!1:n+=",",n+=u.toString(0)}let a="";for(s=!0,r=this.ir.iterator;r.next();){const u=r.value;s?s=!1:a+=",",a+=u.toString(0)}e+=" sources: "+n+" destinations: "+a}return e}get po(){return this.tr.jN}get er(){return this.ir.jN}get data(){return this.Qt}set data(t){if(this.Qt=t,t!==null&&t.bounds){const e=t.bounds,n=e.x,s=e.y,r=e.width,a=e.height;this.We.e(r/2,a/2),this.De.e(n,s,r,a)}}get node(){return this.ge}set node(t){if(this.ge!==t){this.ge=t,t.ensureBounds();const e=this.network.layout,n=I.l(),s=e.getLayoutBounds(t,n);let r=s.x,a=s.y;const u=s.width,h=s.height;if(isNaN(r)&&(r=0),isNaN(a)&&(a=0),this.De.e(r,a,u,h),I.s(n),!(t instanceof Wt)){const f=t.locationObject.getDocumentPoint(B.Center);if(f.isReal()){this.We.e(f.x-r,f.y-a);return}}this.We.e(u/2,h/2)}}get bounds(){return this.De}set bounds(t){this.De.equals(t)||this.De.a(t)}get focus(){return this.We}set focus(t){this.We.equals(t)||this.We.a(t)}get centerX(){return this.De.x+this.We.x}set centerX(t){const e=this.De;e.x+this.We.x!==t&&(e.lt(),e.x=t-this.We.x,e.g())}get centerY(){return this.De.y+this.We.y}set centerY(t){const e=this.De;e.y+this.We.y!==t&&(e.lt(),e.y=t-this.We.y,e.g())}get focusX(){return this.We.x}set focusX(t){const e=this.We;e.x!==t&&(e.lt(),e.x=t,e.g())}get focusY(){return this.We.y}set focusY(t){const e=this.We;e.y!==t&&(e.lt(),e.y=t,e.g())}get x(){return this.De.x}set x(t){const e=this.De;e.x!==t&&(e.lt(),e.x=t,e.g())}get y(){return this.De.y}set y(t){const e=this.De;e.y!==t&&(e.lt(),e.y=t,e.g())}get width(){return this.De.width}set width(t){const e=this.De;e.width!==t&&(e.lt(),e.width=t,e.g())}get height(){return this.De.height}set height(t){const e=this.De;e.height!==t&&(e.lt(),e.height=t,e.g())}commit(){const t=this.Qt;if(t!==null){const n=this.bounds,s=t.bounds;o.wt(s)?(s.x=n.x,s.y=n.y,s.width=n.width,s.height=n.height):t.bounds=n.copy();return}const e=this.node;if(e!==null){const n=this.bounds;if(!(e instanceof Wt)){const s=I.l();e.ensureBounds();const r=this.network.layout.getLayoutBounds(e,s),a=e.locationObject.getDocumentPoint(B.Center);if(r.isReal()&&a.isReal()){e.moveTo(n.x+this.focusX-(a.x-r.x),n.y+this.focusY-(a.y-r.y)),I.s(s);return}I.s(s)}e.moveTo(n.x,n.y)}}addSourceEdge(t){t!==null&&(this.tr.contains(t)||this.tr.add(t))}deleteSourceEdge(t){t!==null&&this.tr.remove(t)}addDestinationEdge(t){t!==null&&(this.ir.contains(t)||this.ir.add(t))}deleteDestinationEdge(t){t!==null&&this.ir.remove(t)}get network(){return this.go}set network(t){this.go=t}get sourceVertexes(){const t=new C,e=this.sourceEdges;for(;e.next();){const n=e.value;t.add(n.fromVertex)}return t.iterator}get destinationVertexes(){const t=new C,e=this.destinationEdges;for(;e.next();){const n=e.value;t.add(n.toVertex)}return t.iterator}get vertexes(){const t=new C;let e=this.sourceEdges;for(;e.next();){const n=e.value;t.add(n.fromVertex)}for(e=this.destinationEdges;e.next();){const n=e.value;t.add(n.toVertex)}return t.iterator}get sourceEdges(){return this.tr.iterator}get destinationEdges(){return this.ir.iterator}get edges(){const t=new w;let e=this.sourceEdges;for(;e.next();){const n=e.value;t.add(n)}for(e=this.destinationEdges;e.next();){const n=e.value;t.add(n)}return t.iterator}get edgesCount(){return this.tr.count+this.ir.count}static standardComparer(t,e){const n=t.ge,s=e.ge;if(n)if(s){const r=n.text,a=s.text;return r<a?-1:r>a?1:0}else return 1;else return s!==null?-1:0}static smartComparer(t,e){if(t!==null)if(e!==null){const n=t.ge,s=e.ge;if(n!==null)if(s!==null){const r=n.text.toLocaleLowerCase(),a=s.text.toLocaleLowerCase(),u=r.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),h=a.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);let f=0;for(;f<u.length;f++)if(h[f]!==""&&h[f]!==void 0){const m=parseFloat(u[f]),y=parseFloat(h[f]);if(isNaN(m))if(isNaN(y)){if(u[f].localeCompare(h[f])!==0)return u[f].localeCompare(h[f]);continue}else return 1;else{if(isNaN(y))return-1;if(m-y!==0)return m-y;continue}}else{if(u[f]==="")continue;return 1}return h[f]!==""&&h[f]!==void 0?-1:0}else return 1;else return s!==null?-1:0}else return 1;else return e!==null?-1:0}}class bl{constructor(t){k(this,"go");k(this,"Qt");k(this,"qe");k(this,"Je");k(this,"$e");C.Yi(this),this.go=t,this.Qt=null,this.qe=null,this.Je=null,this.$e=null}clear(){this.Qt=null,this.qe=null,this.Je=null,this.$e=null}toString(t){t===void 0&&(t=0);let e="LayoutEdge#"+C.cs(this);return t>0&&(e+=this.qe!==null?"("+this.qe.toString()+")":"",t>1&&(e+=" "+(this.Je?this.Je.toString():"null")+" --> "+(this.$e?this.$e.toString():"null"))),e}reverseEdge(){const t=this.Je;this.Je=this.$e,this.$e=t}commit(){}getOtherVertex(t){return this.$e===t?this.Je:this.Je===t?this.$e:null}get network(){return this.go}set network(t){this.go=t}get data(){return this.Qt}set data(t){this.Qt!==t&&(this.Qt=t)}get link(){return this.qe}set link(t){this.qe!==t&&(this.qe=t)}get fromVertex(){return this.Je}set fromVertex(t){this.Je!==t&&(this.Je=t)}get toVertex(){return this.$e}set toVertex(t){this.$e!==t&&(this.$e=t)}}var Rf=(H=>(H[H.Position=0]="Position",H[H.Location=1]="Location",H))(Rf||{}),If=(H=>(H[H.LeftToRight=10]="LeftToRight",H[H.RightToLeft=11]="RightToLeft",H))(If||{}),Ff=(H=>(H[H.Forwards=20]="Forwards",H[H.Reverse=21]="Reverse",H[H.Ascending=22]="Ascending",H[H.Descending=23]="Descending",H))(Ff||{});const Lo=class Lo extends es{constructor(e){super();k(this,"Jd");k(this,"$d");k(this,"Ao");k(this,"An");k(this,"oi");k(this,"zi");k(this,"we");k(this,"xe");this.isViewportSized=!0,this.Jd=NaN,this.$d=NaN,this.Ao=new _(NaN,NaN).g(),this.An=new _(10,10).g(),this.oi=1,this.zi=10,this.we=22,this.xe=Lo.standardComparer,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Jd=this.Jd,e.$d=this.$d,e.Ao.a(this.Ao),e.An.a(this.An),e.oi=this.oi,e.zi=this.zi,e.we=this.we,e.xe=this.xe}li(e){e in Ff?this.sorting=e:e in If?this.arrangement=e:e in Rf?this.alignment=e:super.li(e)}doLayout(e){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const n=this.collectParts(e),s=this.diagram,r=n.copy().iterator;for(;r.next();){const L=r.value;if(L.Al()&&(L.fromNode!==null||L.toNode!==null)){n.remove(L);continue}if(L.ensureBounds(),L instanceof Wt){const D=L.memberParts;for(;D.next();){const F=D.value;n.remove(F)}}}const a=n.toArray();if(a.length===0)return;switch(this.sorting){case 20:break;case 21:a.reverse();break;case 22:a.sort(this.comparer);break;case 23:a.sort(this.comparer),a.reverse();break}let u=this.wrappingColumn;isNaN(u)&&(u=0);let h=this.wrappingWidth;if(isNaN(h)&&s!==null){const L=s.viewportBounds,D=s.padding;h=Math.max(L.width-D.left-D.right,0)}else h=Math.max(this.wrappingWidth,0);u<=0&&h<=0&&(u=1);let f=this.spacing.width;isFinite(f)||(f=0);let m=this.spacing.height;isFinite(m)||(m=0),s!==null&&s.startTransaction("Layout");const y=[];switch(this.alignment){case 0:this.xO(a,h,u,f,m,y);break;case 1:this.bO(a,h,u,f,m,y);break}let x=0,S=0,E=0;for(let L=0;L<y.length;L++){const D=y[L];x=Math.min(x,D.x),S=Math.min(S,D.y),E=Math.max(E,D.x+D.width)}this.arrangement===11?this.commitLayers(y,new T(x+f/2-(E+x),S-m/2)):this.commitLayers(y,new T(x-f/2,S-m/2)),s!==null&&s.commitTransaction("Layout"),this.isValidLayout=!0}xO(e,n,s,r,a,u){const h=I.l();let f=Math.max(this.cellSize.width,1);if(!isFinite(f)){f=0;for(let V=0;V<e.length;V++){const U=e[V],W=this.getLayoutBounds(U,h);f=Math.max(f,W.width)}}f+=r,f=Math.max(f,1);let m=Math.max(this.cellSize.height,1);if(!isFinite(m)){m=0;for(let V=0;V<e.length;V++){const U=e[V],W=this.getLayoutBounds(U,h);m=Math.max(m,W.height)}}m+=a,m=Math.max(m,1);const y=this.arrangement,x=this.arrangementOrigin.x,S=this.arrangementOrigin.y;let E=x,L=S,D=0,F=0;for(let V=0;V<e.length;V++){const U=e[V],W=this.getLayoutBounds(U,h),q=Math.ceil((W.width+r)/f),le=Math.ceil((W.height+a)/m),oe=q*f,ce=le*m;let Se=0;switch(y){case 11:Se=Math.abs(E-W.width);break;default:Se=E+W.width;break}(s>0&&D>s-1||n>0&&D>0&&Se-x>n)&&(u.push(new I(0,L,n+r,F)),D=0,E=x,L+=F,F=0),F=Math.max(F,ce);let he=0;switch(y){case 11:he=-W.width;break;default:he=0;break}switch(U.moveTo(E+he,L),y){case 11:E-=oe;break;default:E+=oe;break}D++}u.push(new I(0,L,n+r,F)),I.s(h)}bO(e,n,s,r,a,u){const h=I.l();let f=Math.max(this.cellSize.width,1),m=0,y=0,x=0;const S=T.l();for(let he=0;he<e.length;he++){const ge=e[he],ke=this.getLayoutBounds(ge,h),we=ge.getRelativePoint(ge.locationObject,ge.locationSpot,S);m=Math.max(m,we.x),y=Math.max(y,ke.width-we.x),x=Math.max(x,we.y)}const E=this.arrangement;switch(E){case 11:m+=r;break;default:y+=r;break}isFinite(f)?f=Math.max(f+r,1):f=Math.max(m+y,1);const L=this.arrangementOrigin.x,D=this.arrangementOrigin.y;let F=L,V=D,U=0;n>=m&&(n-=m);let W=0,q=0;const le=Math.max(this.cellSize.height,1);x=0;let oe=0,ce=!0;const Se=T.l();for(let he=0;he<e.length;he++){const ge=e[he],ke=this.getLayoutBounds(ge,h),we=ge.getRelativePoint(ge.locationObject,ge.locationSpot,S);if(U>0)switch(E){case 11:{let Re=(F-L-(ke.width-we.x))/f;$.Y(Math.round(Re),Re)?Re=Math.round(Re):Re=Math.floor(Re),F=Re*f+L;break}default:{let Re=(F-L+we.x)/f;$.Y(Math.round(Re),Re)?Re=Math.round(Re):Re=Math.ceil(Re),F=Re*f+L;break}}else switch(E){case 11:W=F+we.x+ke.width;break;default:W=F-we.x;break}let Pe=0;switch(E){case 11:Pe=-(F+we.x)+W;break;default:Pe=F+ke.width-we.x-W;break}if(s>0&&U>s-1||n>0&&U>0&&Pe>n){u.push(new I(0,ce?V-x:V,n+r,oe+x+a));for(let Re=0;Re<U&&he!==U;Re++){const Xe=e[he-U+Re],at=Xe.getRelativePoint(Xe.locationObject,Xe.locationSpot,Se);Xe.moveTo(Xe.position.x,Xe.position.y+x-at.y)}oe+=a,ce?V+=oe:V+=oe+x,x=0,oe=0,U=0,F=L,ce=!1}switch(F===L&&(E===11?q=Math.max(q,ke.width-we.x):q=Math.min(q,-we.x)),x=Math.max(x,we.y),oe=Math.max(oe,ke.height-we.y),isFinite(le)&&(oe=Math.max(oe,Math.max(ke.height,le)-we.y)),ce?ge.moveTo(F-we.x,V-we.y):ge.moveTo(F-we.x,V),E){case 11:F-=we.x+r;break;default:F+=ke.width-we.x+r;break}U++}if(u.push(new I(0,V,n+r,(ce?oe:oe+x)+a)),e.length!==U)for(let he=0;he<U;he++){const ge=e[e.length-U+he],ke=ge.getRelativePoint(ge.locationObject,ge.locationSpot,S);ge.moveTo(ge.position.x,ge.position.y+x-ke.y)}if(T.s(S),T.s(Se),E===11)for(let he=0;he<u.length;he++){const ge=u[he];ge.width+=q,ge.x-=q}else for(let he=0;he<u.length;he++){const ge=u[he];ge.x>q&&(ge.width+=ge.x-q,ge.x=q)}I.s(h)}commitLayers(e,n){}get wrappingWidth(){return this.Jd}set wrappingWidth(e){this.Jd!==e&&(e>0||isNaN(e))&&(this.Jd=e,this.isViewportSized=isNaN(e),this.invalidateLayout())}get wrappingColumn(){return this.$d}set wrappingColumn(e){this.$d!==e&&(e>0||isNaN(e))&&(this.$d=e,this.invalidateLayout())}get cellSize(){return this.Ao}set cellSize(e){this.Ao.equals(e)||(this.Ao.a(e),this.invalidateLayout())}get spacing(){return this.An}set spacing(e){this.An.equals(e)||(this.An.a(e),this.invalidateLayout())}get alignment(){return this.oi}set alignment(e){this.oi!==e&&(e===1||e===0)&&(this.oi=e,this.invalidateLayout())}get arrangement(){return this.zi}set arrangement(e){this.zi!==e&&(e===10||e===11)&&(this.zi=e,this.invalidateLayout())}get sorting(){return this.we}set sorting(e){this.we!==e&&(e===20||e===21||e===22||e===23)&&(this.we=e,this.invalidateLayout())}get comparer(){return this.xe}set comparer(e){this.xe!==e&&(this.xe=e,this.invalidateLayout())}static standardComparer(e,n){const s=e.text,r=n.text;return s<r?-1:s>r?1:0}static smartComparer(e,n){if(e!==null)if(n!==null){const s=e.text.toLocaleLowerCase(),r=n.text.toLocaleLowerCase(),a=s.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),u=r.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);let h=0;for(;h<a.length;h++)if(u[h]!==""&&u[h]!==void 0){const f=parseFloat(a[h]),m=parseFloat(u[h]);if(isNaN(f))if(isNaN(m)){if(a[h].localeCompare(u[h])!==0)return a[h].localeCompare(u[h]);continue}else return 1;else{if(isNaN(m))return-1;if(f-m!==0)return f-m;continue}}else{if(a[h]==="")continue;return 1}return u[h]!==""&&u[h]!==void 0?-1:0}else return 1;else return n!==null?-1:0}};k(Lo,"Position",0),k(Lo,"Location",1),k(Lo,"LeftToRight",10),k(Lo,"RightToLeft",11),k(Lo,"Forward",20),k(Lo,"Reverse",21),k(Lo,"Ascending",22),k(Lo,"Descending",23);let Qc=Lo;const Eo=class Eo{constructor(){k(this,"Zd");k(this,"qs");k(this,"At");k(this,"Va");k(this,"k");k(this,"Py");k(this,"yo");k(this,"ml");k(this,"aN");this.Zd=new C,this.qs=new C,this.At=new C,this.yo=new z,this.ml=new z,this.Va=new z,this.k=null,this.Py=!1,this.aN=!0}clear(){this.Zd.clear(),this.qs.clear(),this.At.clear(),this.yo.clear(),this.ml.clear(),this.Va.clear()}Do(t){this.k=t}qh(t){if(t instanceof _t){if(this.Zd.add(t),t instanceof Wt){const n=t.containingGroup;n===null?this.k.Gr.add(t):n.la.add(t);const s=t.layout;s!==null&&(s.diagram=this.k)}}else t instanceof Zt?this.qs.add(t):t instanceof Cn||this.At.add(t);const e=t.data;e!==null&&(t instanceof Cn||(t instanceof Zt?this.rT(e,t):this.yo.add(e,t)))}te(t){if(t.clearAdornments(),t instanceof _t){if(this.Zd.remove(t),t instanceof Wt){const n=t.containingGroup;n===null?this.k.Gr.remove(t):n.la.remove(t);const s=t.layout;s!==null&&(s.diagram=null)}}else t instanceof Zt?this.qs.remove(t):t instanceof Cn||this.At.remove(t);const e=t.data;e!==null&&(t instanceof Cn||(t instanceof Zt?this.lT(e,t):this.yo.remove(e)))}rT(t,e){this.ml.add(t,e)}lT(t,e){this.ml.remove(t)}rebuildParts(){const t=this.k;if(t===null)return;const e=t.nodeTemplateMap.iterator;for(;e.next();){const m=e.value,y=e.key;(!m.Se()||m instanceof Wt)&&o.o(`Invalid node template in Diagram.nodeTemplateMap: template for "${y}" must be a Node or a simple Part, not a Group or Link: ${m}`)}const n=t.groupTemplateMap.iterator;for(;n.next();){const m=n.value,y=n.key;m instanceof Wt||o.o(`Invalid group template in Diagram.groupTemplateMap: template for "${y}" must be a Group, not a normal Node or Link: ${m}`)}const s=t.linkTemplateMap.iterator;for(;s.next();){const m=s.value,y=s.key;m instanceof Zt||o.o(`Invalid link template in Diagram.linkTemplateMap: template for "${y}" must be a Link, not a normal Node or simple Part: ${m}`)}const r=o.rt(),a=t.selection.iterator;for(;a.next();){const m=a.value.data;m&&r.push(m)}const u=o.rt(),h=t.highlighteds.iterator;for(;h.next();){const m=h.value.data;m&&u.push(m)}const f=o.rt();if(this.preservesRebuildLocations){const m=this.nodes.iterator;for(;m.next();){const S=m.value;S.data!==null&&(f.push(S.data),f.push(S.location))}const y=this.links.iterator;for(;y.next();){const S=y.value;S.data!==null&&(f.push(S.data),f.push(S.location))}const x=this.parts.iterator;for(;x.next();){const S=x.value;S.data!==null&&(f.push(S.data),f.push(S.location))}}this.hT(),this.MS();for(let m=0;m<r.length;m++){const y=this.findPartForData(r[m]);y!==null&&(y.isSelected=!0)}for(let m=0;m<u.length;m++){const y=this.findPartForData(u[m]);y!==null&&(y.isHighlighted=!0)}if(this.preservesRebuildLocations)for(let m=0;m<f.length;m+=2){const y=this.findPartForData(f[m]);y!==null&&(y.location=f[m+1])}o.it(r),o.it(u),o.it(f)}MS(){const t=this.diagram.model;this.My(t.nodeDataArray)}My(t,e){const n=this.diagram.model;t.forEach(s=>{n.containsNodeData(s)&&this.aT(s,!1)}),t.forEach(s=>{n.containsNodeData(s)&&this.P1(s)}),e!==!1&&this.diagram.wb(!1)}aT(t,e){if(t==null||this.diagram.undoManager.isUndoingRedoing||this.yo.contains(t))return null;e===void 0&&(e=!0);const n=this.kO(t);return n!==null&&e&&this.P1(t),n}kO(t){if(t==null||this.k.undoManager.isUndoingRedoing||this.yo.contains(t))return null;const e=this.PO(t),n=this.findTemplateForNodeData(t,e);if(n!==null){n.hi();const s=n.copy();if(s!==null){const r=this.diagram.de;return this.diagram.de=!0,s.qo=e,s.Qt=t,this.Py&&(s.al="Tool"),this.diagram.add(s),s.Qt=null,s.data=t,this.diagram.de=r,s}}return null}insertLink(t,e,n,s){return null}P1(t){}PO(t){return this.k.model.getCategoryForNodeData(t)}findTemplateForNodeData(t,e){const n=this.k,s=n.model,r=s.Gc()&&s.isGroupForData(t);let a=null;return r?(a=n.groupTemplateMap.getValue(e),a===null&&(a=n.groupTemplateMap.getValue(""),a===null&&(Eo.fT||(Eo.fT=!0,o.ri('No Group template found for category "'+e+'"'),o.ri("  Using default group template")),a=n.CF))):(a=n.nodeTemplateMap.getValue(e),a===null&&(a=n.nodeTemplateMap.getValue(""),a===null&&(Eo.cT||(Eo.cT=!0,o.ri('No Node template found for category "'+e+'"'),o.ri("  Using default node template")),a=n.SF))),a}getLinkCategoryForData(t){return""}setLinkCategoryForData(t,e){}setFromNodeForLink(t,e,n){}setToNodeForLink(t,e,n){}findLinkTemplateForCategory(t){const e=this.k;let n=e.linkTemplateMap.getValue(t);return n===null&&(n=e.linkTemplateMap.getValue(""),n===null&&(Eo.uT||(Eo.uT=!0,o.ri('No Link template found for category "'+t+'"'),o.ri("  Using default link template")),n=e.NF)),n}cv(t,e,n){t instanceof Zt?(e!==null&&this.lT(e,t),n!==null&&this.rT(n,t)):t instanceof Vn&&(e!==null&&this.yo.remove(e),n!==null&&this.yo.add(n,t))}hT(){const t=this.diagram.model;this.cN(t.nodeDataArray)}cN(t){t.forEach(e=>{this.M1(e)})}M1(t){const e=this.findPartForData(t);e!==null&&(this.diagram.kS(e,!1),this.fN(e))}fN(t){}iN(t){}findPartForKey(t){if(t==null)return null;const e=this.k.model.findNodeDataForKey(t);return e!==null?this.yo.getValue(e):null}findNodeForKey(t){if(t==null)return null;const e=this.k.model.findNodeDataForKey(t);if(e===null)return null;const n=this.yo.getValue(e);return n instanceof _t?n:null}findLinkForKey(t){return null}findPartForData(t){if(t===null)return null;let e=this.yo.getValue(t);return e!==null||(e=this.ml.getValue(t)),e}findNodeForData(t){if(t===null)return null;const e=this.yo.getValue(t);return e instanceof _t?e:null}findLinkForData(t,e){return t===null?null:this.ml.getValue(t)}findNodesByExample(...t){const e=new C,n=this.Zd.iterator;for(;n.next();){const s=n.value,r=s.data;if(r!==null)for(let a=0;a<arguments.length;a++){const u=arguments[a];if(o.wt(u)&&this.uN(r,u)){e.add(s);break}}}return e.iterator}findLinksByExample(...t){const e=new C,n=this.qs.iterator;for(;n.next();){const s=n.value,r=s.data;if(r!==null)for(let a=0;a<arguments.length;a++){const u=arguments[a];if(o.wt(u)&&this.uN(r,u)){e.add(s);break}}}return e.iterator}uN(t,e){for(const n in e){const s=t[n],r=e[n];if(Array.isArray(r)){if(!Array.isArray(s))return!1;const a=s,u=r;if(a.length<u.length)return!1;for(let h=0;h<a.length;h++){const f=a[h],m=u[h];if(m!==void 0&&!this.dT(f,m))return!1}}else if(!this.dT(s,r))return!1}return!0}dT(t,e){if(typeof e=="function"){if(!e(t))return!1}else if(e instanceof RegExp){if(!t||!e.test(t.toString()))return!1}else if(o.wt(t)&&o.wt(e)){if(!this.uN(t,e))return!1}else if(t!==e)return!1;return!0}doModelDataChanged(t){if(t.model===this.diagram.model&&this.diagram.G){this.diagram.G=!1;try{const e=t.change;t.modelChange===""&&e===2&&this.Sy(t.object,t.propertyName)}finally{this.diagram.G=!0}}}doModelChanged(t){if(!this.k)return;const e=this.k;if(t.model!==e.model)return;const n=t.change;if(e.uR(t),!!e.G){e.G=!1;try{const s=t.modelChange;if(s!=="")if(n===2){if(s==="nodeCategory"){const r=t.object,a=this.findPartForData(r),u=t.newValue;a!==null&&typeof u=="string"&&(a.category=u)}else if(s==="nodeDataArray"){const r=t.oldValue;this.cN(r);const a=t.newValue;this.My(a)}e.isModified=!0}else if(n===3){const r=t.newValue;s==="nodeDataArray"&&o.wt(r)&&this.aT(r),e.isModified=!0}else if(n===4){const r=t.oldValue;s==="nodeDataArray"&&o.wt(r)&&this.M1(r),e.isModified=!0}else n===1&&(s==="SourceChanged"?t.object!==null?this.Sy(t.object,t.propertyName):(this.updateAllRelationshipsFromData(),this.updateAllTargetBindings()):s==="ModelDisplaced"&&this.rebuildParts());else if(n===2){const r=t.propertyName,a=t.object,u=e.model;a===u?(r==="nodeKeyProperty"||r==="nodeCategoryProperty")&&(e.undoManager.isUndoingRedoing||this.rebuildParts()):this.Sy(a,r),e.isModified=!0}else(n===3||n===4)&&(this.MO(t),e.isModified=!0)}finally{e.G=!0}}}updateAllTargetBindings(t){t===void 0&&(t="");let e=this.parts.iterator;for(;e.next();)e.value.updateTargetBindings(t);for(e=this.nodes.iterator;e.next();)e.value.updateTargetBindings(t);for(e=this.links.iterator;e.next();)e.value.updateTargetBindings(t)}updateAllThemeBindings(){let t=this.parts.iterator;for(;t.next();)t.value.Eo();for(t=this.nodes.iterator;t.next();)t.value.Eo();for(t=this.links.iterator;t.next();)t.value.Eo()}updateAllRelationshipsFromData(){const t=this.k.model,e=new C,n=t.nodeDataArray;for(let a=0;a<n.length;a++){const u=n[a];e.add(u)}const s=[];this.nodes.each(a=>{a.data!==null&&!e.contains(a.data)&&s.push(a.data)}),this.parts.each(a=>{a.data!==null&&!e.contains(a.data)&&s.push(a.data)}),s.forEach(a=>t.gT(a,!1));for(let a=0;a<n.length;a++){const u=n[a];this.findPartForData(u)===null&&t.mT(u,!1)}this.pT();let r=this.parts.iterator;for(;r.next();)r.value.updateRelationshipsFromData();for(r=this.nodes.iterator;r.next();)r.value.updateRelationshipsFromData();for(r=this.links.iterator;r.next();)r.value.updateRelationshipsFromData()}pT(){}updateRelationshipsFromData(t){}Sy(t,e){if(typeof e=="string"){const n=this.findPartForData(t);if(n!==null)n.updateTargetBindings(e);else{const s=this.SO(t);if(s!==null){for(let r=0;r<s.length;r++)s[r].updateTargetBindings(e);o.it(s)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}}SO(t){let e=null;const n=this.Va.iterator;for(;n.next();){const s=n.value;for(let r=0;r<s.length;r++){const a=s[r].findItemPanelForData(t);a!==null&&(e===null&&(e=o.rt()),e.push(a))}if(e!==null)break}return e}MO(t){const e=t.object,n=t.change===3,s=n?t.newParam:t.oldParam,r=n?t.newValue:t.oldValue,a=this.Va.getValue(e);if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];n?h.Hb(r,s,!0):h.uv(s)}}xS(t,e){e!==null&&t.Jr(s=>e.xL(s));const n=t.mh;if(Array.isArray(n)){const s=this.Va.getValue(n);if(s===null){const r=[];r.push(t),this.Va.add(n,r)}else{for(let r=0;r<s.length;r++)if(s[r]===t)return;s.push(t)}}}bS(t,e){t.Jr(s=>e.gR(s));const n=t.mh;if(Array.isArray(n)){const s=this.Va.getValue(n);if(s!==null){for(let r=0;r<s.length;r++)if(s[r]===t){s.splice(r,1),s.length===0&&this.Va.remove(n);return}}}}copyParts(t,e,n){n===void 0&&(n=!1);const s=new z;if(Array.isArray(t))for(let a=0;a<t.length;a++)this.S1(t[a],e,s,n);else{const a=t.iterator;for(;a.next();)this.S1(a.value,e,s,n)}if(e!==null){const a=e.model,u=e.a0().dragsLink,h=new C,f=new z,m=s.iterator;for(;m.next();){const y=m.value;if(y instanceof Zt)!u&&(y.fromNode===null||y.toNode===null)&&h.add(y);else if(y instanceof _t&&y.data!==null){if(a.ju()){const x=y,S=m.key,E=S.findTreeParentNode();if(E!==null){const L=s.getValue(E);if(L!==null){a.setParentKeyForNodeData(x.data,a.getKeyForNodeData(L.data));const D=e.findLinkForData(x.data),F=S.findTreeParentLink();F!==null&&D!==null&&f.add(F,D)}else a.setParentKeyForNodeData(x.data,void 0)}}else if(a.Hu()){const x=y,S=m.key,E=a.isRelatedKeysPathTo?S.findNodesOutOf():S.findNodesInto();for(;E.next();){const L=E.value,D=s.getValue(L);if(D!==null){a.addRelatedKeyForNodeData(x.data,D.key);const F=e.partManager.findLinkForData(x.data,D.key),V=this.findLinkForData(S.data,L.key);V!==null&&F!==null&&f.add(V,F)}else a.removeRelatedKeyForNodeData(x.data,L.key)}}}}if(h.count>0&&e.removeParts(h,!1),f.count>0){const y=f.iterator;for(;y.next();){const x=y.key,S=y.value;s.add(x,S)}}}if(e!==null&&this.k!==null){const a=e.model,u=a.afterCopyFunction;if(u!==null){const h=new z;s.each(m=>{m.key.data!==null&&h.add(m.key.data,m.value.data)});const f=this.k.model;u(h,a,f)}}const r=s.iterator;for(;r.next();)r.value.updateTargetBindings();return s}S1(t,e,n,s){if(t===null||s&&!t.canCopy())return null;if(n.contains(t))return n.getValue(t);const r=this.dN(t,e);if(!(r instanceof Vn))return null;if(r.isSelected=!1,r.isHighlighted=!1,n.add(t,r),t instanceof _t){const a=t.linksConnected;for(;a.next();){const u=a.value;if(u.fromNode===t){const h=n.getValue(u);h!==null&&(h.fromNode=r)}if(u.toNode===t){const h=n.getValue(u);h!==null&&(h.toNode=r)}}if(t instanceof Wt&&r instanceof Wt){const u=t.memberParts;for(;u.next();){const h=u.value,f=this.S1(h,e,n,s);f instanceof Zt||f!==null&&(f.containingGroup=r)}}}else if(t instanceof Zt&&r instanceof Zt){const a=t.fromNode;if(a!==null){const f=n.getValue(a);f!==null&&(r.fromNode=f)}const u=t.toNode;if(u!==null){const f=n.getValue(u);f!==null&&(r.toNode=f)}const h=t.labelNodes;for(;h.next();){const f=h.value,m=this.S1(f,e,n,s);m!==null&&m instanceof _t&&(m.labeledLink=r)}}return r}dN(t,e){let n=null;const s=t.data;if(s!==null&&e!==null){const r=e.model;if(!(t instanceof Zt)){const a=r.copyNodeData(s);o.wt(a)&&(r.addNodeData(a),n=e.findPartForData(a))}}else if(t.hi(),n=t.copy(),n!==null){const r=this.k;if(e!==null)e.add(n);else if(s!==null&&r!==null&&r.commandHandler!==null&&r.commandHandler.copiesClipboardData){const a=r.model;let u=null;n instanceof Zt||(u=a.copyNodeData(s)),o.wt(u)&&(n.data=u)}}return n}get nodes(){return this.Zd}get links(){return this.qs}get parts(){return this.At}get diagram(){return this.k}get addsToTemporaryLayer(){return this.Py}set addsToTemporaryLayer(t){this.Py=t}get preservesRebuildLocations(){return this.aN}set preservesRebuildLocations(t){this.aN=t}};k(Eo,"cT",!1),k(Eo,"fT",!1),k(Eo,"uT",!1);let Ea=Eo;class $M extends Ea{MS(){const t=this.diagram.model;this.My(t.nodeDataArray),this.yT(t.linkDataArray)}My(t){super.My(t,!1);const e=this.links.iterator;for(;e.next();)e.value.Ad();this.diagram.wb(!1)}yT(t){t.forEach(e=>{this.wT(e)}),this.diagram.wb(!1)}wT(t){if(t==null||this.diagram.undoManager.isUndoingRedoing||this.ml.contains(t))return null;const e=this.getLinkCategoryForData(t),n=this.findLinkTemplateForCategory(e);if(n!==null){n.hi();const s=n.copy();if(s!==null){const r=this.diagram.de;this.diagram.de=!0,s.qo=e,s.Qt=t;const a=this.diagram.model,u=a.N1(t,!0);u!==""&&(s.fromPortId=u);const h=a.Fe(t,!0);if(h!==void 0){const x=this.findNodeForKey(h);x instanceof _t&&(s.fromNode=x)}const f=a.N1(t,!1);f!==""&&(s.toPortId=f);const m=a.Fe(t,!1);if(m!==void 0){const x=this.findNodeForKey(m);x instanceof _t&&(s.toNode=x)}const y=a.getLabelKeysForLinkData(t);return Array.isArray(y)&&y.forEach(x=>{const S=this.findNodeForKey(x);S!==null&&(S.labeledLink=s)}),this.Py&&(s.al="Tool"),this.diagram.add(s),s.Qt=null,s.data=t,this.diagram.de=r,s}}return null}hT(){const t=this.diagram.model;this.xT(t.linkDataArray),this.cN(t.nodeDataArray)}xT(t){t.forEach(e=>{this.M1(e)})}getLinkCategoryForData(t){return this.diagram.model.getCategoryForLinkData(t)}setLinkCategoryForData(t,e){return this.diagram.model.setCategoryForLinkData(t,e)}setFromNodeForLink(t,e){const n=this.diagram.model,s=e!==null?e.data:null;n.setFromKeyForLinkData(t.data,n.getKeyForNodeData(s))}setToNodeForLink(t,e){const n=this.diagram.model,s=e!==null?e.data:null;n.setToKeyForLinkData(t.data,n.getKeyForNodeData(s))}iN(t){this.diagram.model.removeLinkData(t.data)}findPartForKey(t){const e=super.findPartForKey(t);if(e===null){const n=this.diagram.model.findLinkDataForKey(t);if(n!==null)return this.ml.getValue(n)}return e}findLinkForKey(t){if(t==null)return null;const e=this.diagram.model.findLinkDataForKey(t);return e!==null?this.ml.getValue(e):null}doModelChanged(t){if(super.doModelChanged(t),!this.diagram)return;const e=this.diagram;if(t.model!==e.model)return;const n=t.change;if(e.G){e.G=!1;try{const s=t.modelChange;if(s!==""){if(n===2){if(s==="linkFromKey"){const r=t.object,a=this.findLinkForData(r);if(a!==null){const u=t.newValue,h=this.findNodeForKey(u);a.fromNode=h}}else if(s==="linkToKey"){const r=t.object,a=this.findLinkForData(r);if(a!==null){const u=t.newValue,h=this.findNodeForKey(u);a.toNode=h}}else if(s==="linkFromPortId"){const r=t.object,a=this.findLinkForData(r);if(a!==null){const u=t.newValue;typeof u=="string"&&(a.fromPortId=u)}}else if(s==="linkToPortId"){const r=t.object,a=this.findLinkForData(r);if(a!==null){const u=t.newValue;typeof u=="string"&&(a.toPortId=u)}}else if(s==="nodeGroupKey"){const r=t.object,a=this.findPartForData(r);if(a!==null){const u=t.newValue;if(u!==void 0){const h=this.findNodeForKey(u);h instanceof Wt?a.containingGroup=h:a.containingGroup=null}else a.containingGroup=null}}else if(s==="linkLabelKeys"){const r=t.object,a=this.findLinkForData(r);if(a!==null){const u=t.oldValue,h=t.newValue;Array.isArray(u)&&u.forEach(f=>{if(h.indexOf(f)>=0)return;const m=this.findNodeForKey(f);m!==null&&(m.labeledLink=null)}),Array.isArray(h)&&h.forEach(f=>{const m=this.findNodeForKey(f);m!==null&&(m.labeledLink=a)})}}else if(s==="linkCategory"){const r=t.object,a=this.findLinkForData(r),u=t.newValue;a!==null&&typeof u=="string"&&(a.category=u)}else if(s==="linkDataArray"){const r=t.oldValue;this.xT(r);const a=t.newValue;this.yT(a)}e.isModified=!0}else if(n===3){const r=t.newValue;if(s==="linkDataArray"&&typeof r=="object"&&r!==null)this.wT(r);else if(s==="linkLabelKeys"&&t.model.isKeyType(r)){const a=t.object,u=this.findLinkForData(a),h=this.findNodeForKey(r);u!==null&&h!==null&&(h.labeledLink=u)}e.isModified=!0}else if(n===4){const r=t.oldValue;if(s==="linkDataArray"&&typeof r=="object"&&r!==null)this.M1(r);else if(s==="linkLabelKeys"&&t.model.isKeyType(r)){const a=this.findNodeForKey(r);a!==null&&(a.labeledLink=null)}e.isModified=!0}}else if(n===2){const r=t.propertyName,a=t.object,u=e.model;a===u&&(r==="linkFromKeyProperty"||r==="linkToKeyProperty"||r==="linkFromPortIdProperty"||r==="linkToPortIdProperty"||r==="linkLabelKeysProperty"||r==="nodeIsGroupProperty"||r==="nodeGroupKeyProperty"||r==="linkCategoryProperty")&&(e.undoManager.isUndoingRedoing||this.rebuildParts()),e.isModified=!0}}finally{e.G=!0}}}pT(){const t=this.diagram.model,e=new C,n=t.linkDataArray;n.forEach(r=>{e.add(r)});const s=[];this.links.each(r=>{r.data!==null&&!e.contains(r.data)&&s.push(r.data)}),s.forEach(r=>{t.bT(r,!1)}),n.forEach(r=>{this.findLinkForData(r)===null&&t.kT(r,!1)})}updateRelationshipsFromData(t){const e=t.data;if(e===null)return;const n=t.diagram;if(n===null)return;const s=n.model;if(t instanceof Zt){let r=s.Fe(e,!0),a=n.findNodeForKey(r);t.fromNode=a,r=s.Fe(e,!1),a=n.findNodeForKey(r),t.toNode=a;const u=s.getLabelKeysForLinkData(e);if(u.length>0||t.labelNodes.count>0){if(u.length===1&&t.labelNodes.count===1){const x=u[0],S=t.labelNodes.first();if(s.getKeyForNodeData(S.data)===x)return}const h=new C().addAll(u),f=new C;t.labelNodes.each(x=>{if(x.data!==null){const S=s.getKeyForNodeData(x.data);S!==void 0&&f.add(S)}});const m=f.copy();m.removeAll(h);const y=h.copy();if(y.removeAll(f),m.count>0||y.count>0){const x=t;m.each(S=>{const E=n.findNodeForKey(S);E!==null&&E.labeledLink===x&&(E.labeledLink=null)}),y.each(S=>{const E=n.findNodeForKey(S);E!==null&&E.labeledLink!==x&&(E.labeledLink=x)})}}}else if(!(t instanceof Cn)){const r=s.getGroupKeyForNodeData(e),a=n.findPartForKey(r);(a===null||a instanceof Wt)&&(t.containingGroup=a)}}P1(t){const e=this.diagram.model,n=e.getKeyForNodeData(t);if(n!==void 0){const s=e.Ny(n),r=this.findPartForData(t);if(s!==null&&r!==null){const u=s.iterator;for(;u.next();){const h=u.value;if(e.containsNodeData(h)){if(r instanceof Wt&&e.getGroupKeyForNodeData(h)===n){const f=this.findPartForData(h);f!==null&&(f.containingGroup=r)}}else{const f=this.findLinkForData(h);if(f!==null&&r instanceof _t){e.Fe(h,!0)===n&&(f.fromNode=r),e.Fe(h,!1)===n&&(f.toNode=r);const m=e.getLabelKeysForLinkData(h);Array.isArray(m)&&m.some(y=>y===n?(r.labeledLink=f,!0):!1)}}}e.Js(n)}const a=e.getGroupKeyForNodeData(t);if(a!==void 0){const u=this.findNodeForKey(a);u instanceof Wt&&(r.containingGroup=u)}}}fN(t){const e=this.diagram.model;if(t instanceof _t){const n=e.getKeyForNodeData(t.data);if(n!==void 0){const s=t.linksConnected;for(;s.next();){const r=s.value;e.$s(n,r.data)}if(t.isLinkLabel){const r=t.labeledLink;r!==null&&e.$s(n,r.data)}if(t instanceof Wt){const r=t.memberParts;for(;r.next();){const a=r.value.data;e.containsNodeData(a)&&e.$s(n,a)}}}}}dN(t,e){let n=super.dN(t,e);if(t instanceof Zt){const s=t.data;if(s!==null&&e!==null){const r=e.model,a=r.copyLinkData(s);typeof a=="object"&&a!==null&&(r.addLinkData(a),n=e.findLinkForData(a))}else if(n!==null){const r=this.diagram;if(s!==null&&r!==null&&r.commandHandler!==null&&r.commandHandler.copiesClipboardData){const a=r.model.copyLinkData(s);typeof a=="object"&&a!==null&&(n.data=a)}}}return n}insertLink(t,e,n,s){const r=this.diagram,a=r.model,u=r.toolManager.findTool("Linking");let h="";t!==null&&(e===null&&(e=t),h=e.portId,h===null&&(h=""));let f="";n!==null&&(s===null&&(s=n),f=s.portId,f===null&&(f=""));const m=u.archetypeLinkData;if(m instanceof Zt){m.hi();const y=m.copy();if(y!==null){y.fromNode=t,y.fromPortId=h,y.toNode=n,y.toPortId=f,r.add(y);const x=u.archetypeLabelNodeData;if(x instanceof _t){x.hi();const S=x.copy();S!==null&&(S.labeledLink=y,r.add(S))}return y}}else if(m!==null){const y=a.copyLinkData(m);if(typeof y=="object"&&y!==null){t!==null&&a.Qd(y,a.getKeyForNodeData(t.data),!0),a._d(y,h,!0),n!==null&&a.Qd(y,a.getKeyForNodeData(n.data),!1),a._d(y,f,!1),a.addLinkData(y);const x=u.archetypeLabelNodeData;if(x!==null&&!(x instanceof _t)){const S=a.copyNodeData(x);if(typeof S=="object"&&S!==null){a.addNodeData(S);const E=a.getKeyForNodeData(S);E!==void 0&&a.addLabelKeyForLinkData(y,E)}}return r.findLinkForData(y)}}return null}}class VM extends Ea{constructor(){super(...arguments);k(this,"Ph",null)}C1(e,n){if(e===null||n===null||n.findTreeParentLink()!==null)return null;const s=this.diagram.toolManager.findTool("Linking");let r=e,a=n;if(this.diagram.isTreePathToChildren){if(s!==null&&s.xu(r,a,null,!0))return null}else if(r=n,a=e,s!==null&&s.xu(r,a,null,!0))return null;const u=this.getLinkCategoryForData(n.data),h=this.findLinkTemplateForCategory(u);if(h!==null){h.hi();const f=h.copy();if(f!==null){const m=this.diagram.de;return this.diagram.de=!0,f.qo=u,f.Qt=n.data,f.fromNode=r,f.toNode=a,this.diagram.add(f),f.Qt=null,f.data=n.data,this.diagram.de=m,f}}return null}getLinkCategoryForData(e){return this.diagram.model.getParentLinkCategoryForNodeData(e)}setLinkCategoryForData(e,n){this.diagram.model.setParentLinkCategoryForNodeData(e,n)}setFromNodeForLink(e,n,s){const r=this.diagram.model;s===void 0&&(s=null);const a=n!==null?n.data:null;if(this.diagram.isTreePathToChildren)r.setParentKeyForNodeData(e.data,r.getKeyForNodeData(a));else{const u=this.Ph;this.Ph=e,s!==null&&r.setParentKeyForNodeData(s.data,void 0);const h=e.toNode!==null?e.toNode.data:null;r.setParentKeyForNodeData(a,r.getKeyForNodeData(h)),this.Ph=u}}setToNodeForLink(e,n,s){const r=this.diagram.model;s===void 0&&(s=null);const a=n!==null?n.data:null;if(this.diagram.isTreePathToChildren){const u=this.Ph;this.Ph=e,s!==null&&r.setParentKeyForNodeData(s.data,void 0);const h=e.fromNode!==null?e.fromNode.data:null;r.setParentKeyForNodeData(a,r.getKeyForNodeData(h)),this.Ph=u}else r.setParentKeyForNodeData(e.data,r.getKeyForNodeData(a))}iN(e){this.diagram.model.setParentKeyForNodeData(e.data,void 0)}findLinkForKey(e){if(e==null)return null;const n=this.diagram.model.findNodeDataForKey(e);return n!==null?this.ml.getValue(n):null}doModelChanged(e){if(super.doModelChanged(e),!this.diagram)return;const n=this.diagram;if(e.model!==n.model)return;const s=e.change;if(n.G){n.G=!1;try{const r=e.modelChange;if(r!==""){if(s===2){if(r==="nodeParentKey"){const a=e.object,u=e.newValue,h=this.findNodeForKey(u),f=this.findNodeForData(a);if(this.Ph!==null)h!==null&&(this.Ph.data=a,this.Ph.category=this.getLinkCategoryForData(a));else if(f!==null){const m=f.findTreeParentLink();m!==null?h===null?n.remove(m):n.isTreePathToChildren?m.fromNode=h:m.toNode=h:this.C1(h,f)}}else if(r==="parentLinkCategory"){const a=e.object,u=this.findNodeForData(a),h=e.newValue;if(u!==null&&typeof h=="string"){const f=u.findTreeParentLink();f!==null&&(f.category=h)}}n.isModified=!0}}else if(s===2){const a=e.propertyName,u=e.object,h=n.model;u===h&&a==="nodeParentKeyProperty"&&(n.undoManager.isUndoingRedoing||this.rebuildParts()),n.isModified=!0}}finally{n.G=!0}}}updateRelationshipsFromData(e){const n=e.data;if(n===null)return;const s=e.diagram;if(s===null)return;const r=s.model;if(e instanceof _t){const a=r.getParentKeyForNodeData(n),u=s.findNodeForKey(a),h=e.findTreeParentNode();if(u!==h){const f=e.findTreeParentLink();u!==null?f!==null?s.isTreePathToChildren?f.fromNode=u:f.toNode=u:this.C1(u,e):f!==null&&s.kS(f,!1)}}}Sy(e,n){if(super.Sy(e,n),typeof n=="string"&&this.findPartForData(e)!==null){const s=this.findLinkForData(e);s!==null&&s.updateTargetBindings(n)}}P1(e){const n=this.diagram.model,s=n.getKeyForNodeData(e);if(s!==void 0){const r=n.Ny(s),a=this.findPartForData(e);if(r!==null&&a!==null){const h=r.iterator;for(;h.next();){const f=h.value;if(n.containsNodeData(f)&&a instanceof _t&&n.getParentKeyForNodeData(f)===s){const m=this.findNodeForData(f);this.C1(a,m)}}n.Js(s)}const u=n.getParentKeyForNodeData(e);if(u!==void 0&&a instanceof _t){const h=this.findNodeForKey(u);this.C1(h,a)}}}fN(e){const n=this.diagram.model;if(e instanceof _t){const s=n.getKeyForNodeData(e.data),r=this.findLinkForData(e.data);if(r!==null){r.isSelected=!1,r.isHighlighted=!1;const h=r.layer;if(h!==null){const f=h.te(-1,r,!1);f>=0&&this.diagram.raiseChangedEvent(4,"parts",h,r,null,f,null);const m=r.layerChanged;m!==null&&m(r,h,null)}}const a=this.diagram.isTreePathToChildren,u=e.linksConnected;for(;u.next();){const h=u.value,f=(a?h.toNode:h.fromNode).data;n.containsNodeData(f)&&n.$s(s,f)}}}insertLink(e,n,s,r){const a=this.diagram.model;let u=e,h=s;if(this.diagram.isTreePathToChildren||(u=s,h=e),u!==null&&h!==null){const f=u.data,m=h.data;return a.setParentKeyForNodeData(m,a.getKeyForNodeData(f)),h.findTreeParentLink()}return null}}var eh=(H=>(H[H.OneWay=1]="OneWay",H[H.TwoWay=2]="TwoWay",H))(eh||{});const Cs=class Cs{constructor(t,e,n,s){k(this,"n");k(this,"gN");k(this,"Ua");k(this,"Sf");k(this,"Mh");k(this,"Nf");k(this,"Cf");k(this,"Lf");k(this,"L1");k(this,"Me");k(this,"md");k(this,"af");C.Yi(this),t===void 0?t="":o.i(t,"string",Cs,"constructor:targetprop"),e===void 0?e=t:o.i(e,"string",Cs,"constructor:sourceprop"),n===void 0?n=null:n!==null&&o.i(n,"function",Cs,"constructor:conv"),this.gN=-1,this.Me=null,this.Ua=t,this.md=0,this.af=0,this.Sf=null,this.Mh=e,this.Nf=n,s===void 0?(this.Cf=1,this.Lf=null):(this.Cf=2,this.Lf=s),this.L1=new C,this.n=2}copy(){const t=new this.constructor;return this.cloneProtected(t),t}cloneProtected(t){t.Ua=this.Ua,t.md=this.md,t.af=this.af,t.Sf=this.Sf,t.Mh=this.Mh,t.Nf=this.Nf,t.Cf=this.Cf,t.Lf=this.Lf,t.n=this.n&-2}static parseEnum(t,e){return o.i(t,"function",Cs,"parseEnum:ctor"),n=>{let s=parseInt(n);return isNaN(s)&&(s=o.Ih(t,n),s===null)?e:s}}li(t){t in eh?this.mode=t:o.hr(this,t)}static toString(t){return o.toString(t)}toString(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(this.targetId!==-1?" "+this.targetId:"")+" "+eh[this.mode]+")"}g(){return this.n=this.n|1,this}lt(){return this.n=this.n&-2,this}get targetId(){return this.gN}set targetId(t){this.h&&o.D(this),o.i(t,"number",Cs,"targetId"),this.gN=t}get targetProperty(){return this.Ua}set targetProperty(t){this.h&&o.D(this),o.i(t,"string",Cs,"targetProperty"),this.Ua=t}get sourceProperty(){return this.Mh}set sourceProperty(t){this.h&&o.D(this),o.i(t,"string",Cs,"sourceProperty"),this.Mh=t}get h(){return(this.n&1)!==0}get isToData(){return(this.n&2)!==0}get isToObject(){return(this.n&4)!==0}get isToModel(){return(this.n&8)!==0}get isToTheme(){return(this.n&16)!==0}get mN(){return this.isToTheme&&!(this.isToData||this.isToObject||this.isToModel)}Qu(){return!1}get sourceName(){return this.Sf}set sourceName(t){this.h&&o.D(this),t!==null&&o.i(t,"string",Cs,"sourceName"),this.Sf=t,t!==null?this.n=this.n&-3|4:this.n=this.n|2}get converter(){return this.Nf}set converter(t){this.h&&o.D(this),t!==null&&o.i(t,"function",Cs,"converter"),this.Nf=t}get backConverter(){return this.Lf}set backConverter(t){this.h&&o.D(this),t!==null&&o.i(t,"function",Cs,"backConverter"),this.Lf=t}get mode(){return this.Cf}set mode(t){this.h&&o.D(this),this.isToTheme&&t===2&&o.o("Theme Bindings cannot be TwoWay."),this.Cf=t}makeTwoWay(t){return this.isToTheme&&o.o("Theme Bindings cannot be TwoWay."),this.mode=2,t&&(o.i(t,"function",Cs,"makeTwoWay"),this.backConverter=t),this}ofObject(t){return this.h&&o.D(this),t===void 0&&(t=""),this.sourceName=t,this}ofModel(){return this.h&&o.D(this),this.n=this.n&-3&-5|8,this.Sf=null,this}qL(t,e){const n=this.sourceName;let s=null;return n===null||n===""?s=t:n==="/"?s=e.part:n==="."?s=e:n===".."?s=e.panel:s=t.findObject(n),s}check(t){const e=this.Ua,n=this.Mh,s=this.Nf;(this.Qu()&&s===null&&this.Sh===null&&e===""||s===null&&e==="")&&o.ri("Binding error: target property is the empty string: "+this.toString()),this.Qu()&&this.mN&&n===""&&s===null&&this.Sh===null&&o.ri("Binding error: theme bindings require a source property when not using a converter: "+this.toString()),t&&typeof e=="string"&&(typeof t.setAttribute!="function"&&e.length>0&&e[0]!=="_"&&!o.cw(t,e)?o.ri("Binding error: undefined target property: "+e+" on "+t.toString()):e==="name"&&t instanceof ai&&o.ri("Binding error: cannot modify GraphObject.name on "+t.toString()))}updateTarget(t,e,n){var f,m,y;const s=this.Mh;if(n!==void 0&&s!==""&&s!==n)return;const r=this.Ua,a=this.Nf;let u=e;if(s!==""&&!this.mN&&(u=nn.vt(e,s)),u===void 0)return;const h=((f=t.diagram)==null?void 0:f.themeManager)??((y=(m=t.panel)==null?void 0:m.diagram)==null?void 0:y.themeManager);if(a===null){if(r!==""){if(this.Qu()&&(u=this.PT(h,u,t,r),u===void 0))return;nn.ht(t,r,u)}}else try{if(r!==""){let x=a(u,t);if(this.Qu()&&(x=this.PT(h,x,t,r),x===void 0))return;nn.ht(t,r,x)}else a(u,t)}catch{}}updateSource(t,e,n,s){if(this.Cf!==2)return;const r=this.Ua;if(n!==void 0&&r!==n)return;const a=this.Mh,u=this.Lf;let h=t;if(r!==""&&(h=nn.vt(t,r)),h!==void 0&&!this.L1.contains(t))try{this.L1.add(t);const f=s!==null?s.diagram:null,m=f!==null?f.model:null;if(u===null){if(a!=="")m!==null?m.setDataProperty(e,a,h):nn.ht(e,a,h);else if(m!==null&&s!==null&&s.itemIndex>=0&&s.panel!==null&&Array.isArray(s.panel.itemArray)){const y=s.itemIndex,x=s.panel.itemArray;m.removeArrayItem(x,y),m.insertArrayItem(x,y,h)}}else try{if(a!==""){const y=u(h,e,m);m!==null?m.setDataProperty(e,a,y):nn.ht(e,a,y)}else{const y=u(h,e,m);if(y!==void 0&&m!==null&&s!==null&&s.itemIndex>=0&&s.panel!==null&&Array.isArray(s.panel.itemArray)){const x=s.itemIndex,S=s.panel.itemArray;m.removeArrayItem(S,x),m.insertArrayItem(S,x,y)}}}catch{}}finally{this.L1.remove(t)}}};k(Cs,"OneWay",1),k(Cs,"TwoWay",2);let mr=Cs;class wl extends mr{constructor(e,n,s,r,a){super(e,n,r);k(this,"Cy");k(this,"Sh");k(this,"Ba");s==null&&(s=""),a===void 0&&(a=null),this.Cy=s,this.Sh=a,this.Ba=null,this.n=16}cloneProtected(e){super.cloneProtected(e),e.Cy=this.Cy,e.Sh=this.Sh,e.Ba=this.Ba}Qu(){return!0}get themeSource(){return this.Cy}set themeSource(e){this.h&&o.D(this),e!==null&&o.i(e,"string",wl,"themeSource"),this.Cy=e,this.Ba=null,e!==null?this.n=this.n|16:this.n=this.n&-17}get themeConverter(){return this.Sh}set themeConverter(e){this.h&&o.D(this),e!==null&&o.i(e,"function",wl,"themeConverter"),this.Sh=e}ofData(){return this.h&&o.D(this),this.n=this.n|2,this.Sf=null,this}PT(e,n,s,r){if(!e||(this.mN&&(n=this.Mh),!n&&n!==0))return;let a=this.themeSource;this.Ba!==null?a=this.Ba:typeof a=="string"&&a.includes(".")&&(this.Ba=a.split("."),a=this.Ba);let u=e.findValue(n,a,r);return u===void 0&&o.ri(`Theme warning: ${n} could not be found when setting target property ${r}.`),typeof this.Sh=="function"&&(u=this.Sh(u,s)),u}}const dn=class dn{constructor(t,e){k(this,"St");k(this,"tg");k(this,"Oo");k(this,"A1");k(this,"Re");k(this,"Af");k(this,"Tf");k(this,"ig");k(this,"eg");k(this,"sg");k(this,"ng");k(this,"za");k(this,"sr");k(this,"T1");k(this,"vo");k(this,"D1");k(this,"ti");k(this,"Nh");k(this,"og",new C);k(this,"rg",new C);k(this,"Ly");k(this,"AT",`,
  "insertedNodeKeys": `);k(this,"NO",`,
  "modifiedNodeData": `);k(this,"TT",`,
  "removedNodeKeys": `);k(this,"Xa",null);if(C.Yi(this),this.St="",this.tg="",this.Oo=!1,this.A1={},this.Re=[],this.ti=new z,this.Nh="key",this.Af=null,this.Tf=null,this.ig=!1,this.eg=!1,this.sg=!1,this.ng=null,this.za="category",this.sr=new z,this.Ly=100,this.T1=new w,this.vo=!1,this.D1=null,this.undoManager=new te,t!==void 0&&(Array.isArray(t)?this.nodeDataArray=t:e=t),e){Object.assign(this,e);const n=e.Changed;n&&(delete this.Changed,this.addChangedListener(n))}}cloneProtected(t){t.St=this.St,t.tg=this.tg,t.Oo=this.Oo,t.Nh=this.Nh,t.Af=this.Af,t.Tf=this.Tf,t.ig=this.ig,t.eg=this.eg,t.sg=this.sg,t.Ly=this.Ly,t.ng=this.ng,t.za=this.za}copy(){const t=new this.constructor;return this.cloneProtected(t),t}clear(){this.Re=[],this.ti.clear(),this.sr.clear(),this.undoManager.clear()}toString(t){if(t===void 0&&(t=0),t>1)return this.toJson();{let e=(this.name!==""?this.name:"")+" Model";if(t>0){e+=`
 node data:`;const n=this.nodeDataArray,s=n.length;for(let r=0;r<s;r++){const a=n[r];e+=" "+this.getKeyForNodeData(a)+":"+o.toString(a)}}return e}}toIncrementalData(t){t.change!==1&&o.o("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());const e=t.object;if(!t.isTransactionFinished||!(e instanceof re))return null;this.MT(e);const n=this.pN(e,t.propertyName==="FinishedUndo");return this.Xa=null,n}pN(t,e){const n=this;let s=!1;const r=new C,a=new C,u=new C,h=this.Xa;t.changes.each(S=>{if(S.model===n){if(S.modelChange==="nodeDataArray")S.change===3?r.add(S.newValue):S.change===4&&u.add(S.oldValue);else if(n.containsNodeData(S.object))a.add(S.object);else if(S.change===2&&(n.modelData===S.object||S.propertyName==="modelData"))s=!0;else if(S.object!==null)if(h&&h.contains(S.object))h.get(S.object).each(E=>{n.containsNodeData(E)&&a.add(E)});else{if(S.object instanceof dn||n.Aa()&&n.containsLinkData(S.object))return;n.ST(S.object).each(E=>{a.add(E)})}}});const f=this.rg;f.clear(),r.each(S=>{f.add(n.getKeyForNodeData(S)),e||a.add(S)});const m=this.og;m.clear(),u.each(S=>{m.add(n.getKeyForNodeData(S)),e&&a.add(S)});const y=n.cloneDeep(a.toArray());let x=null;return s&&(x===null&&(x={}),x.modelData=this.cloneDeep(this.modelData)),f.count>0&&(x===null&&(x={}),e?x.removedNodeKeys=f.toArray():x.insertedNodeKeys=f.toArray()),y.length>0&&(x===null&&(x={}),x.modifiedNodeData=y),m.count>0&&(x===null&&(x={}),e?x.insertedNodeKeys=m.toArray():x.removedNodeKeys=m.toArray()),m.clear(),f.clear(),x}cloneDeep(t){return this.lg(t,!0)}lg(t,e,n,s,r){if(!o.wt(t))return t;r||(r=[]);const a=Object.isExtensible(t);if(n||(n=new z),a){const f=n.get(t);if(f)return f}else{s||(s=new z);const f=s.iterator;for(;f.next();){const m=f.key;if(f.value===t){const y=n.get(m);if(y)return y}}}function u(f,m){if(a)f.__gohashid===void 0&&r.push(f),n.set(f,m);else{const y=C.su++;n.set(y,m),s.set(y,t)}}let h;if(Array.isArray(t)){h=[],u(t,h);for(let f=0;f<t.length;f++){const m=t[f];h.push(this.lg(m,!1,n,s,r))}}else if(t instanceof T||t instanceof _||t instanceof I||t instanceof K||t instanceof B)h=t.copy(),u(t,h);else{if(t instanceof Pt||t instanceof Q)return t;if(t instanceof w)h=new w().addAll(this.lg(t.toArray(),!1,n,s,r)),u(t,h);else if(t instanceof C)h=new C().addAll(this.lg(t.toArray(),!1,n,s,r)),u(t,h);else if(t instanceof z)h=new z().addAll(this.lg(t.toArray(),!1,n,s,r)),u(t,h);else if(t instanceof Date)h=new Date(t.getTime()),u(t,h);else if(t instanceof RegExp)h=new RegExp(t),u(t,h),h.lastIndex=t.lastIndex;else if(typeof t.copy=="function")h=t.copy(),u(t,h);else{h={},u(t,h);for(const f in t){if(f==="__gohashid")continue;const m=t[f];h[f]=this.lg(m,!1,n,s,r)}}}return e&&r.forEach(f=>{delete f.__gohashid}),h}ve(t){return JSON.stringify(t).replace(/[\u007F-\uFFFF]/g,e=>{const n="0000"+e.charCodeAt(0).toString(16);return"\\u"+n.substring(n.length-4)})}hg(){let t="";return this.name!==""&&(t+=`,
  "name": `+this.ve(this.name)),this.dataFormat!==""&&(t+=`,
  "dataFormat": `+this.ve(this.dataFormat)),this.isReadOnly&&(t+=`,
  "isReadOnly": `+this.isReadOnly),this.nodeKeyProperty!=="key"&&typeof this.nodeKeyProperty=="string"&&(t+=`,
  "nodeKeyProperty": `+this.ve(this.nodeKeyProperty)),this.copiesArrays&&(t+=`,
  "copiesArrays": true`),this.copiesArrayObjects&&(t+=`,
  "copiesArrayObjects": true`),this.copiesKey&&(t+=`,
  "copiesKey": true`),this.pointsDigits!==100&&(t+=`,
  "pointsDigits": `+this.pointsDigits.toString()),this.nodeCategoryProperty!=="category"&&typeof this.nodeCategoryProperty=="string"&&(t+=`,
  "nodeCategoryProperty": `+this.ve(this.nodeCategoryProperty)),t}Ay(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),t.copiesKey!==void 0&&(this.copiesKey=t.copiesKey),t.pointsDigits!==void 0&&(this.pointsDigits=parseInt(t.pointsDigits)),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)}NT(){const t=this.modelData;return`,
  "modelData": `+this.CT(t)}LT(t){const e=t.modelData;o.wt(e)&&(this.replaceJsonObjects(e),this.modelData=e)}yN(){const t=this.modelData;let e=!1;for(const s in t)if(!this.F1(t,s,t[s])){e=!0;break}let n="";return e&&(n=this.NT()),n+`,
  "nodeDataArray": `+this.Ch(this.nodeDataArray,!0)}wN(t){this.LT(t);const e=t.nodeDataArray;Array.isArray(e)&&(this.replaceJsonObjects(e),this.nodeDataArray=e)}xN(t,e,n){if(t===e)return!0;if(typeof t!=typeof e||typeof t=="function"||typeof e=="function")return!1;if(Array.isArray(t)&&Array.isArray(e)){if(n.getValue(t)===e)return!0;if(n.add(t,e),t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(!this.xN(t[s],e[s],n))return!1;return!0}else if(o.wt(t)&&o.wt(e)){if(n.getValue(t)===e)return!0;n.add(t,e);for(const s in t){const r=t[s];if(this.F1(t,s,r))continue;const a=e[s];if(a===void 0||!this.xN(r,a,n))return!1}for(const s in e){const r=e[s];if(this.F1(e,s,r))continue;const a=t[s];if(a===void 0||!this.xN(a,r,n))return!1}return!0}return!1}MT(t){let e=this.Xa;const n=(s,r)=>{const a=r.part;if(!a)return;const u=a.data;if(s===u)return;let h=e.get(s);h===null?(h=new C,h.add(u),e.add(s,h)):h.add(u)};e===null&&(e=new z,t.changes.each(s=>{if(s.diagram!==null){const r=s.change;if(r===2){const a=s.object.panel;if(a){const u=a.data;u&&n(u,a)}}else if(r===3||r===4){const a=s.object,u=a.itemArray;u&&n(u,a)}}}),this.Xa=e)}ST(t){const e=new C;for(let n=0;n<this.nodeDataArray.length;n++){const s=this.nodeDataArray[n];this.R1(t,s,s,e)}return e}R1(t,e,n,s){if(Array.isArray(e))for(let r=0;r<e.length;r++){const a=e[r];if(a===t)return s.add(n),!0;if(this.R1(t,a,n,s))return!0}else if(o.wt(e)&&Object.getPrototypeOf(e)===Object.prototype)for(const r in e){const a=e[r];if(a===t)return s.add(n),!0;if(this.R1(t,a,n,s))return!0}return!1}bN(t,e){const n=this;let s=!1;const r=new C,a=new C,u=new C,h=this.Xa;t.changes.each(x=>{if(x.model===n){if(x.modelChange==="nodeDataArray")x.change===3?r.add(x.newValue):x.change===4&&u.add(x.oldValue);else if(n.containsNodeData(x.object))a.add(x.object);else if(x.change===2&&(n.modelData===x.object||x.propertyName==="modelData"))s=!0;else if(x.object!==null)if(h&&h.contains(x.object))h.get(x.object).each(S=>{n.containsNodeData(S)&&a.add(S)});else{if(x.object instanceof dn||n.Aa()&&n.containsLinkData(x.object))return;n.ST(x.object).each(S=>{a.add(S)})}}});const f=this.rg;f.clear(),r.each(x=>{f.add(n.getKeyForNodeData(x)),e||a.add(x)});const m=this.og;m.clear(),u.each(x=>{m.add(n.getKeyForNodeData(x)),e&&a.add(x)});let y="";return s&&(y+=this.NT()),f.count>0&&(y+=(e?this.TT:this.AT)+this.Ch(f.toArray(),!0)),a.count>0&&(y+=this.NO+this.Ch(a.toArray(),!0)),m.count>0&&(y+=(e?this.AT:this.TT)+this.Ch(m.toArray(),!0)),m.clear(),f.clear(),y}Ty(t){(t.name!==void 0&&t.name!==this.name||t.dataFormat!==void 0&&t.dataFormat!==this.dataFormat||t.isReadOnly!==void 0&&t.isReadOnly!==this.isReadOnly||t.nodeKeyProperty!==void 0&&t.nodeKeyProperty!==this.nodeKeyProperty||t.copiesArrays!==void 0&&t.copiesArrays!==this.copiesArrays||t.copiesArrayObjects!==void 0&&t.copiesArrayObjects!==this.copiesArrayObjects||t.copiesKey!==void 0&&t.copiesKey!==this.copiesKey||t.nodeCategoryProperty!==void 0&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&o.o("applyIncrementalJson cannot change Model properties"),this.LT(t);const e=t.insertedNodeKeys,n=t.modifiedNodeData,s=new z;if(Array.isArray(n))for(let a=0;a<n.length;a++){const u=n[a],h=this.getKeyForNodeData(u);h!=null&&s.set(h,u)}if(Array.isArray(e)){const a=e.length;for(let u=0;u<a;u++){const h=e[u];let f=this.findNodeDataForKey(h);f===null&&(f=s.get(h)||this.copyNodeData({}),this.setKeyForNodeData(f,h),this.addNodeData(f))}}if(Array.isArray(n)){const a=n.length;for(let u=0;u<a;u++){const h=n[u],f=this.getKeyForNodeData(h),m=this.findNodeDataForKey(f);if(m!==null){for(const y in h)y==="__gohashid"||y===this.nodeKeyProperty||(this.uc()||this.Hu())&&y===this.nodeIsGroupProperty||this.setDataProperty(m,y,h[y]);this.ag(h,m)}}}const r=t.removedNodeKeys;if(Array.isArray(r)){const a=r.length;for(let u=0;u<a;u++){const h=r[u],f=this.findNodeDataForKey(h);f!==null&&this.removeNodeData(f)}}}toIncrementalJson(t,e){t.change!==1&&o.o("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());const n=t.object;if(!t.isTransactionFinished||!(n instanceof re))return'{ "incremental": 0 }';e===void 0&&(e=o.sn(this)),this.MT(n);const s=this.bN(n,t.propertyName==="FinishedUndo");return this.Xa=null,e==="2"?'{ "incremental": 2'+s+"}":'{ "class": '+this.ve(e)+', "incremental": 1'+this.hg()+s+"}"}toIncrementalJSON(t,e){return this.toIncrementalJson(t,e)}toJson(t){return t===void 0&&(t=o.sn(this)),'{ "class": '+this.ve(t)+this.hg()+this.yN()+"}"}toJSON(t){return this.toJson(t)}applyIncrementalJson(t){let e=null;if(typeof t=="string")try{e=i.JSON.parse(t)}catch{}else typeof t=="object"?e=t:o.o("Unable to modify a Model from: "+t);const n=e.incremental;typeof n!="number"&&o.o("Unable to apply non-incremental changes to Model: "+t),n!==0&&(this.startTransaction("applyIncrementalJson"),this.Ty(e),this.commitTransaction("applyIncrementalJson"))}applyIncrementalJSON(t){return this.applyIncrementalJson(t)}static fromJson(t,e){e===void 0&&(e=null);let n=null;if(typeof t=="string")try{n=i.JSON.parse(t)}catch{}else typeof t=="object"?n=t:o.o("Unable to construct a Model from: "+t);if(e===null){const s=dn.CO(n);s===null||s instanceof dn?e=s:o.o("Unable to construct a Model of declared class: "+n.class)}return e===null&&(e=dn.constructGraphLinksModel()),e.Ay(n),e.wN(n),e}static fromJSON(t,e){return this.fromJson(t,e)}static constructGraphLinksModel(){return new dn}static CO(t){let e=null,n=t.class;if(typeof n=="string")try{let s=null;n.indexOf("go.")===0?(n=n.substring(3),s=dn.v1(n)):(s=dn.v1(n),s===null&&(s=i[n])),typeof s=="function"&&(e=new s)}catch{}return e}replaceJsonObjects(t){if(Array.isArray(t)){const e=t.length;for(let n=0;n<e;n++){const s=t[n];o.wt(s)&&(t[n]=this.replaceJsonObjects(s))}}else if(o.wt(t)){for(const e in t){const n=t[e];if(o.wt(n)){const s=this.replaceJsonObjects(n);if(t[e]=s,e==="points"&&Array.isArray(s)){let r=s.length%2===0;for(let a=0;a<s.length;a++)if(typeof s[a]!="number"){r=!1;break}if(r){const a=new w;for(let u=0;u<s.length/2;u++)a.add(new T(s[u*2],s[u*2+1]));a.g(),t[e]=a}}}}return this.LO(t)}return t}writeJsonValue(t){return t===void 0?"undefined":t===null?"null":t===!0?"true":t===!1?"false":typeof t=="string"?this.ve(t):typeof t=="number"?t===1/0?"9e9999":t===-1/0?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.writeJsonValue(t.valueOf()):Array.isArray(t)?this.Ch(t):o.wt(t)?this.CT(t):typeof t=="function"?"null":t.toString()}Ch(t,e){e===void 0&&(e=!1);const n=t.length;if(n<=0)return"[]";const s=new l;s.add("["),e&&n>1&&s.add(`
`);for(let r=0;r<n;r++){const a=t[r];a!==void 0&&(r>0&&(s.add(","),e&&s.add(`
`)),s.add(this.writeJsonValue(a)))}return e&&n>1&&s.add(`
`),s.add("]"),s.toString()}F1(t,e,n){return n===void 0||e==="__gohashid"||e[0]==="_"||typeof n=="function"}Xi(t){return isNaN(t)?"NaN":t===1/0?"9e9999":t===-1/0?"-9e9999":t}CT(t){const e=t;if(e instanceof T)t={class:"go.Point",x:this.Xi(e.x),y:this.Xi(e.y)};else if(e instanceof _)t={class:"go.Size",width:this.Xi(e.width),height:this.Xi(e.height)};else if(e instanceof I)t={class:"go.Rect",x:this.Xi(e.x),y:this.Xi(e.y),width:this.Xi(e.width),height:this.Xi(e.height)};else if(e instanceof K)t={class:"go.Margin",top:this.Xi(e.top),right:this.Xi(e.right),bottom:this.Xi(e.bottom),left:this.Xi(e.left)};else if(e instanceof B)e.isSpot()?t={class:"go.Spot",x:this.Xi(e.x),y:this.Xi(e.y),offsetX:this.Xi(e.offsetX),offsetY:this.Xi(e.offsetY)}:t={class:"go.Spot",enum:e.toString()};else if(e instanceof Pt){if(t={class:"go.Brush",type:To[e.type]},e.type===1?t.color=e.color:(e.type===2||e.type===3)&&(t.start=e.start,t.end=e.end,e.type===3&&(e.startRadius!==0&&(t.startRadius=this.Xi(e.startRadius)),isNaN(e.endRadius)||(t.endRadius=this.Xi(e.endRadius)))),e.colorStops!==null){const r={},a=e.colorStops.iterator;for(;a.next();){const u=a.key,h=a.value;r[u]=h}t.colorStops=r}}else if(e instanceof Q)t={class:"go.Geometry",type:J[e.type]},e.startX!==0&&(t.startX=this.Xi(e.startX)),e.startY!==0&&(t.startY=this.Xi(e.startY)),e.endX!==0&&(t.endX=this.Xi(e.endX)),e.endY!==0&&(t.endY=this.Xi(e.endY)),e.spot1.equals(B.TopLeft)||(t.spot1=e.spot1),e.spot2.equals(B.BottomRight)||(t.spot2=e.spot2),e.type===4&&(t.path=Q.stringify(e));else if(dn.v1(o.sn(e))!==null)return o.ri("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager or other unknown data type into JSON text: "+e.toString()),"{}";let n="{",s=!0;for(const r in t){const a=dn.vt(t,r);if(!this.F1(t,r,a))if(s?s=!1:n+=",",n+=this.ve(r)+":",r==="points"&&a instanceof w){const u=a;let h="[";const f=u.iterator;for(;f.next();){const m=f.value;h.length>1&&(h+=","),h+=this.DT(m.x),h+=",",h+=this.DT(m.y)}h+="]",n+=h}else n+=this.writeJsonValue(a)}return n+="}",n}DT(t){if(t===1/0)return"9e9999";if(t===-1/0)return"-9e9999";if(isNaN(t))return"0";const e=this.pointsDigits;return e>16?t.toString():t.toFixed(e)}get pointsDigits(){return this.Ly}set pointsDigits(t){t<0?t=0:t>100&&(t=100),this.Ly=t}Ki(t){return typeof t=="number"?t:t==="NaN"?NaN:t==="9e9999"?1/0:t==="-9e9999"?-1/0:parseFloat(t)}LO(t){if(typeof t!="object")return t;let e=t.class||"";if(typeof e!="string"||e==="")return t;if(e==="NaN")return NaN;if(e==="Date")return new Date(t.value);if(e.indexOf("go.")!==0)return t;e=e.substring(3);let n=t;if(e==="Point")n=new T(this.Ki(t.x),this.Ki(t.y));else if(e==="Size")n=new _(this.Ki(t.width),this.Ki(t.height));else if(e==="Rect")n=new I(this.Ki(t.x),this.Ki(t.y),this.Ki(t.width),this.Ki(t.height));else if(e==="Margin")n=new K(this.Ki(t.top),this.Ki(t.right),this.Ki(t.bottom),this.Ki(t.left));else if(e==="Spot")typeof t.enum=="string"?n=B.parse(t.enum):n=new B(this.Ki(t.x),this.Ki(t.y),this.Ki(t.offsetX),this.Ki(t.offsetY));else if(e==="Brush"){const s=new Pt;s.type=o.Ih(To,t.type)??1,typeof t.color=="string"&&(s.color=t.color),t.start instanceof B&&(s.start=t.start),t.end instanceof B&&(s.end=t.end),typeof t.startRadius=="number"&&(s.startRadius=this.Ki(t.startRadius)),typeof t.endRadius=="number"&&(s.endRadius=this.Ki(t.endRadius));const r=t.colorStops;if(o.wt(r))for(const a in r){const u=parseFloat(a);s.addColorStop(u,r[a])}n=s}else if(e==="Geometry"){let s=null;typeof t.path=="string"?s=Q.parse(t.path):s=new Q,s.type=o.Ih(J,t.type)??1,typeof t.startX=="number"&&(s.startX=this.Ki(t.startX)),typeof t.startY=="number"&&(s.startY=this.Ki(t.startY)),typeof t.endX=="number"&&(s.endX=this.Ki(t.endX)),typeof t.endY=="number"&&(s.endY=this.Ki(t.endY)),t.spot1 instanceof B&&(s.spot1=t.spot1),t.spot2 instanceof B&&(s.spot2=t.spot2),n=s}else if(e==="EnumValue"){let s=t.classType;s.indexOf("go.")===0&&(s=s.substring(3));const r=dn.v1(s);typeof r=="function"&&(n=o.Ih(r,t.name))}return n}get name(){return this.St}set name(t){const e=this.St;e!==t&&(o.i(t,"string",dn,"name"),this.St=t,this.t("name",e,t))}get dataFormat(){return this.tg}set dataFormat(t){const e=this.tg;e!==t&&(o.i(t,"string",dn,"dataFormat"),this.tg=t,this.t("dataFormat",e,t))}get isReadOnly(){return this.Oo}set isReadOnly(t){const e=this.Oo;e!==t&&(o.i(t,"boolean",dn,"isReadOnly"),this.Oo=t,this.t("isReadOnly",e,t))}get modelData(){return this.A1}set modelData(t){const e=this.A1;e!==t&&(o.i(t,"object",dn,"modelData"),this.A1=t,this.t("modelData",e,t),this.updateTargetBindings(t))}addChangedListener(t){return o.i(t,"function",dn,"addChangedListener:listener"),this.T1.add(t),this}removeChangedListener(t){o.i(t,"function",dn,"removeChangedListener:listener"),this.T1.remove(t)}Ow(t){this.skipsUndoManager||this.undoManager.handleChanged(t);const e=this.T1,n=e.length;for(let s=0;s<n;s++)e.elt(s)(t)}raiseChangedEvent(t,e,n,s,r,a,u){this.Et("",t,e,n,s,r,a,u)}raiseChanged(t,e,n,s,r){this.Et("",2,t,this,e,n,s,r)}t(t,e,n,s,r){this.Et("",2,t,this,e,n,s,r)}raiseDataChanged(t,e,n,s,r,a){this.Et("",2,e,t,n,s,r,a)}Et(t,e,n,s,r,a,u,h){u===void 0&&(u=null),h===void 0&&(h=null);const f=new ie;f.model=this,f.change=e,f.modelChange=t,f.propertyName=n,f.object=s,f.oldValue=r,f.oldParam=u,f.newValue=a,f.newParam=h,this.Ow(f)}get undoManager(){return this.D1}set undoManager(t){const e=this.D1;e!==t&&(e!==null&&e.removeModel(this),this.D1=t,t!==null&&t.addModel(this))}get skipsUndoManager(){return this.vo}set skipsUndoManager(t){o.i(t,"boolean",dn,"skipsUndoManager"),this.vo=t}changeState(t,e){if(t!==null&&t.model===this)if(t.change===2){const n=t.object,s=t.propertyName,r=t.getValue(e);if(s===this.nodeKeyProperty&&this.containsNodeData(n)){const a=t.getValue(!e);a!==void 0&&this.ti.remove(a),r!==void 0&&this.ti.add(r,n)}dn.ht(n,s,r)}else if(t.change===3){const n=t.newParam;if(t.modelChange==="nodeDataArray"){const s=t.newValue;if(o.wt(s)&&typeof n=="number"){const r=this.getKeyForNodeData(s);e?(this.Re[n]===s&&o._a(this.Re,n),r!==void 0&&this.ti.remove(r)):(this.Re[n]!==s&&o.eu(this.Re,n,s),r!==void 0&&this.ti.add(r,s))}}else if(t.modelChange===""){let s=t.object;if(s&&!Array.isArray(s)&&t.propertyName&&(s=dn.vt(t.object,t.propertyName)),Array.isArray(s)&&typeof n=="number"){const r=t.newValue;e?o._a(s,n):o.eu(s,n,r)}}else o.o("unknown ChangeType.Insert modelChange: "+t.toString())}else if(t.change===4){const n=t.oldParam;if(t.modelChange==="nodeDataArray"){const s=t.oldValue;if(o.wt(s)&&typeof n=="number"){const r=this.getKeyForNodeData(s);e?(this.Re[n]!==s&&o.eu(this.Re,n,s),r!==void 0&&this.ti.add(r,s)):(this.Re[n]===s&&o._a(this.Re,n),r!==void 0&&this.ti.remove(r))}}else if(t.modelChange===""){let s=t.object;if(s&&!Array.isArray(s)&&t.propertyName&&(s=dn.vt(t.object,t.propertyName)),Array.isArray(s)&&typeof n=="number"){const r=t.oldValue;e?o.eu(s,n,r):o._a(s,n)}}else o.o("unknown ChangeType.Remove modelChange: "+t.toString())}else t.change===1||o.o("unknown ChangedEvent: "+t.toString())}startTransaction(t){return this.undoManager.startTransaction(t)}commitTransaction(t){return this.undoManager.commitTransaction(t)}rollbackTransaction(){return this.undoManager.rollbackTransaction()}commit(t,e){let n=e;n===void 0&&(n="");const s=this.skipsUndoManager;n===null&&(this.skipsUndoManager=!0,n=""),this.undoManager.startTransaction(n);let r=!1;try{t(this),r=!0}finally{r?this.undoManager.commitTransaction(n):this.undoManager.rollbackTransaction(),this.skipsUndoManager=s}}updateTargetBindings(t,e){e===void 0&&(e=""),this.Et("SourceChanged",1,e,t,null,null)}get nodeKeyProperty(){return this.Nh}set nodeKeyProperty(t){const e=this.Nh;e!==t&&(this.Tn(t,dn,"nodeKeyProperty"),t===""&&o.o("Model.nodeKeyProperty may not be the empty string"),this.ti.count>0&&o.o("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Nh=t,this.t("nodeKeyProperty",e,t))}Tn(t,e,n){}getKeyForNodeData(t){if(t===null)return;const e=this.Nh;if(e==="")return;const n=dn.vt(t,e);if(n!==void 0){if(this.isKeyType(n))return n;o.o("Key value for node data "+t+" is not a number or a string: "+n)}}setKeyForNodeData(t,e){if((e==null||!this.isKeyType(e))&&o.be(e,"number or string",dn,"setKeyForNodeData:key"),t===null)return;const n=this.Nh;if(n==="")return;if(!this.containsNodeData(t)){dn.ht(t,n,e);return}const s=dn.vt(t,n);if(s!==e){if(this.findNodeDataForKey(e)!==null)return;dn.ht(t,n,e),s!==void 0&&this.ti.remove(s),this.ti.add(e,t),this.Et("nodeKey",2,n,t,s,e),typeof n=="string"&&this.updateTargetBindings(t,n),this.Dy(s,e)}}get makeUniqueKeyFunction(){return this.Af}set makeUniqueKeyFunction(t){const e=this.Af;e!==t&&(t!==null&&o.i(t,"function",dn,"makeUniqueKeyFunction"),this.Af=t,this.t("makeUniqueKeyFunction",e,t))}isKeyType(t){return typeof t=="number"||typeof t=="string"}containsNodeData(t){const e=this.getKeyForNodeData(t);return e===void 0?!1:this.ti.getValue(e)===t}findNodeDataForKey(t){return t===null&&o.o("Model.findNodeDataForKey:key must not be null"),t===void 0||!this.isKeyType(t)?null:this.ti.getValue(t)}get nodeDataArray(){return this.Re}set nodeDataArray(t){const e=this.Re;if(e!==t){this.ti.clear(),this.kN();const n=t.length;for(let a=0;a<n;a++){const u=t[a];o.wt(u)||o.o("Model.nodeDataArray must only contain Objects, not: "+u)}this.Re=t;const s=new w;for(let a=0;a<n;a++){const u=t[a],h=this.getKeyForNodeData(u);h===void 0||this.ti.getValue(h)!==null?s.add(u):this.ti.add(h,u)}const r=s.iterator;for(;r.next();){const a=r.value;this.makeNodeDataKeyUnique(a);const u=this.getKeyForNodeData(a);u!==void 0&&this.ti.add(u,a)}this.Et("nodeDataArray",2,"nodeDataArray",this,e,t);for(let a=0;a<n;a++){const u=t[a];this.cg(u),this.fg(u)}}}makeNodeDataKeyUnique(t){if(t===null)return;const e=this.Nh;if(e==="")return;let n=this.getKeyForNodeData(t);if(n!==void 0&&!this.ti.contains(n))return;const s=this.Af;if(s!==null&&(n=s(this,t),n!=null&&!this.ti.contains(n))){dn.ht(t,e,n);return}if(typeof n=="string"){let r=2;for(;this.ti.contains(n+r);)r++;dn.ht(t,e,n+r)}else if(n===void 0||typeof n=="number"){let r=-this.ti.count-1;for(;this.ti.contains(r);)r--;dn.ht(t,e,r)}}addNodeData(t){t!==null&&(this.containsNodeData(t)||this.mT(t,!0))}mT(t,e){let n=this.getKeyForNodeData(t);if(n===void 0)this.makeNodeDataKeyUnique(t),n=this.getKeyForNodeData(t);else{if(this.ti.getValue(n)===t)return;this.makeNodeDataKeyUnique(t),n=this.getKeyForNodeData(t)}n===void 0&&o.o("Model.makeNodeDataKeyUnique failed on "+t+".  Data not added to Model."),this.ti.add(n,t);let s=null;e&&(s=this.Re.length,o.eu(this.Re,s,t)),this.Et("nodeDataArray",3,"nodeDataArray",this,null,t,null,s),this.cg(t),this.fg(t)}addNodeDataCollection(t){if(Array.isArray(t)){const e=t.length;for(let n=0;n<e;n++)this.addNodeData(t[n])}else{const e=t.iterator;for(;e.next();){const n=e.value;this.addNodeData(n)}}}removeNodeData(t){t!==null&&this.gT(t,!0)}gT(t,e){const n=this.getKeyForNodeData(t);n!==void 0&&this.ti.remove(n);let s=null;if(e){if(s=this.Re.indexOf(t),s<0)return;o._a(this.Re,s)}this.Et("nodeDataArray",4,"nodeDataArray",this,t,null,s,null),this.Fy(t)}removeNodeDataCollection(t){if(Array.isArray(t)){const e=t.length;for(let n=0;n<e;n++)this.removeNodeData(t[n])}else{const e=t.iterator;for(;e.next();){const n=e.value;this.removeNodeData(n)}}}mergeNodeDataArray(t){if(t!==this.nodeDataArray&&Array.isArray(t)){const e=this.og;e.clear(),e.addAll(this.ti.iteratorKeys);const n=this.rg;n.clear();const s=t.length;for(let a=0;a<s;a++){const u=t[a],h=this.getKeyForNodeData(u);if(h!==void 0){n.add(h);const f=this.findNodeDataForKey(h);if(f===u)continue;if(f!==null)this.assignAllDataProperties(f,u),this.ag(u,f);else{const m=this.cloneDeep(u);this.setKeyForNodeData(m,h),this.addNodeData(m)}}else{const f=this.cloneDeep(u);this.addNodeData(f),n.add(this.getKeyForNodeData(f))}}const r=e.iterator;for(;r.next();){const a=r.value;if(!n.contains(a)){const u=this.findNodeDataForKey(a);u&&this.removeNodeData(u)}}e.clear(),n.clear()}}Dy(t,e){if(e===void 0)return;const n=this.Ny(t);n instanceof C&&this.sr.add(e,n)}kN(){}cg(t){}fg(t){}Fy(t){}$s(t,e){if(t===void 0)return;let n=this.sr.getValue(t);n===null&&(n=new C,this.sr.add(t,n)),n.add(e)}Js(t,e){if(t===void 0)return;const n=this.sr.getValue(t);n instanceof C&&(e==null?this.sr.remove(t):(n.remove(e),n.count===0&&this.sr.remove(t)))}Ny(t){if(t===void 0)return null;const e=this.sr.getValue(t);return e instanceof C?e:null}mE(t){t===void 0?this.sr.clear():this.sr.remove(t)}get copyNodeDataFunction(){return this.Tf}set copyNodeDataFunction(t){const e=this.Tf;e!==t&&(t!==null&&o.i(t,"function",dn,"copyNodeDataFunction"),this.Tf=t,this.t("copyNodeDataFunction",e,t))}get copiesArrays(){return this.ig}set copiesArrays(t){const e=this.ig;e!==t&&(t!==null&&o.i(t,"boolean",dn,"copiesArrays"),this.ig=t,this.t("copiesArrays",e,t))}get copiesArrayObjects(){return this.eg}set copiesArrayObjects(t){const e=this.eg;e!==t&&(t!==null&&o.i(t,"boolean",dn,"copiesArrayObjects"),this.eg=t,this.t("copiesArrayObjects",e,t))}get copiesKey(){return this.sg}set copiesKey(t){const e=this.sg;e!==t&&(t!==null&&o.i(t,"boolean",dn,"copiesKey"),this.sg=t,this.t("copiesKey",e,t))}copyNodeData(t){if(t===null)return null;let e=null;const n=this.Tf;return n!==null?e=n(t,this):e=this.O1(t,!0),e}O1(t,e){if(this.copiesArrays&&Array.isArray(t)){const n=t,s=[];for(let r=0;r<n.length;r++){const a=n[r],u=this.O1(a,this.copiesArrayObjects);s.push(u)}return s}else if(e&&o.wt(t)){const n=t,s=n.constructor,r=s?new s:{},a=!this.copiesKey&&typeof this.nodeKeyProperty=="string"?this.nodeKeyProperty:null;for(const u in n){if(u==="__gohashid"){r.__gohashid=void 0;continue}if(u===a){r[a]=void 0;continue}const h=dn.vt(n,u);if(this.AO(n,u,h))dn.ht(r,u,h);else{const f=this.O1(h,!1);dn.ht(r,u,f)}}return r}else return t instanceof T||t instanceof _||t instanceof I||t instanceof B||t instanceof K?t.copy():t}get afterCopyFunction(){return this.ng}set afterCopyFunction(t){const e=this.ng;e!==t&&(t!==null&&o.i(t,"function",dn,"afterCopyFunction"),this.ng=t,this.t("afterCopyFunction",e,t))}AO(t,e,n){const s=o.sn(n);return s==="GraphObject"||s==="Diagram"||s==="Layer"||s==="RowColumnDefinition"||s==="AnimationManager"||s==="Tool"||s==="CommandHandler"||s==="Layout"||s==="InputEvent"||s==="DiagramEvent"?!0:n instanceof dn||n instanceof te||n instanceof re||n instanceof ie}setDataProperty(t,e,n){if(this.containsNodeData(t)){if(e===this.nodeKeyProperty){this.setKeyForNodeData(t,n);return}else if(e===this.nodeCategoryProperty){this.setCategoryForNodeData(t,n);return}}else!dn.FT&&t instanceof ai&&(dn.FT=!0,o.ri('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),o.ri("  Is that really your intent?"));const s=dn.vt(t,e);s!==n&&(dn.ht(t,e,n),this.raiseDataChanged(t,e,s,n))}set(t,e,n){this.setDataProperty(t,e,n)}assignAllDataProperties(t,e){if(!e)return;const n=this.containsNodeData(t);for(const s in e)s!=="__gohashid"&&(n&&s===this.nodeKeyProperty||this.setDataProperty(t,s,e[s]))}addArrayItem(t,e){this.insertArrayItem(t,-1,e)}insertArrayItem(t,e,n){e<0&&(e=t.length),o.eu(t,e,n),this.Et("",3,"",t,null,n,null,e)}removeArrayItem(t,e){e===void 0&&(e=-1),t===this.Re&&o.o("Model.removeArrayItem should not be called on the Model.nodeDataArray"),e===-1&&(e=t.length-1);const n=t[e];o._a(t,e),this.Et("",4,"",t,n,null,e,null)}get nodeCategoryProperty(){return this.za}set nodeCategoryProperty(t){const e=this.za;e!==t&&(this.Tn(t,dn,"nodeCategoryProperty"),this.za=t,this.t("nodeCategoryProperty",e,t))}getCategoryForNodeData(t){if(t===null)return"";const e=this.za;if(e==="")return"";const n=dn.vt(t,e);if(n===void 0)return"";if(typeof n=="string")return n;o.o("getCategoryForNodeData found a non-string category for "+t+": "+n)}setCategoryForNodeData(t,e){if(o.i(e,"string",dn,"setCategoryForNodeData:cat"),t===null)return;const n=this.za;if(n==="")return;if(!this.containsNodeData(t)){dn.ht(t,n,e);return}let s=dn.vt(t,n);s===void 0&&(s=""),s!==e&&(dn.ht(t,n,e),this.Et("nodeCategory",2,n,t,s,e))}ag(t,e){this.setCategoryForNodeData(e,this.getCategoryForNodeData(t))}get type(){return"Model"}ju(){return!1}uc(){return!1}Hu(){return!1}Aa(){return!1}Bw(){return!1}Gc(){return!1}static initDiagramModel(){return new dn}static v1(t){return dn.classMap[t]?dn.classMap[t]:i.go!==void 0&&i.go[t]?i.go[t]:null}static registerClass(t,e){dn.classMap[e]=t}static vt(t,e){if(!t||!e)return null;let n;try{typeof e=="function"?n=e(t):typeof t.getAttribute=="function"?(n=t.getAttribute(e),n===null&&(n=void 0)):n=t[e]}catch{}return n}static ht(t,e,n){if(!(!t||!e))try{typeof e=="function"?e(t,n):typeof t.setAttribute=="function"?t.setAttribute(e,n):t[e]=n}catch{}}};k(dn,"FT",!1),k(dn,"classMap",{}),dn.registerClass(Pt,"Brush"),dn.registerClass(ie,"ChangedEvent"),dn.registerClass(Q,"Geometry"),dn.registerClass(K,"Margin"),dn.registerClass(Ut,"Panel"),dn.registerClass(T,"Point"),dn.registerClass(I,"Rect"),dn.registerClass(_,"Size"),dn.registerClass(B,"Spot"),dn.registerClass(re,"Transaction"),dn.registerClass(te,"UndoManager");let nn=dn;nn.fromJSON=nn.fromJson=nn.fromJson;const Vi=class Vi extends nn{constructor(e,n,s){super();k(this,"Ze");k(this,"nr");k(this,"ui");k(this,"Lh");k(this,"Df");k(this,"Ff");k(this,"Tl");k(this,"wo");k(this,"xo");k(this,"Ka");k(this,"Ya");k(this,"Ga");k(this,"Zs");k(this,"Rf");k(this,"Dn");k(this,"ug");k(this,"vT",`,
  "insertedLinkKeys": `);k(this,"TO",`,
  "modifiedLinkData": `);k(this,"OT",`,
  "removedLinkKeys": `);if(this.Ze=[],this.nr=new C,this.ui=new z,this.Lh="",this.Df=null,this.Ff=null,this.Tl=null,this.wo="from",this.xo="to",this.Ka="",this.Ya="",this.Ga="category",this.Zs="",this.Rf="isGroup",this.Dn="group",this.ug=!1,n!==void 0&&(this.linkDataArray=n),e!==void 0&&(Array.isArray(e)?this.nodeDataArray=e:s=e),s){Object.assign(this,s);const r=s.Changed;r&&(delete this.Changed,this.addChangedListener(r))}}cloneProtected(e){super.cloneProtected(e),e.Lh=this.Lh,e.Df=this.Df,e.Ff=this.Ff,e.wo=this.wo,e.xo=this.xo,e.Ka=this.Ka,e.Ya=this.Ya,e.Ga=this.Ga,e.Zs=this.Zs,e.Rf=this.Rf,e.Dn=this.Dn,e.ug=this.ug}clear(){super.clear(),this.Ze=[],this.ui.clear(),this.nr.clear()}toString(e){if(e===void 0&&(e=0),e>=2)return this.toJson();{let n=(this.name!==""?this.name:"")+" GraphLinksModel";if(e>0){n+=`
 node data:`;let s=this.nodeDataArray,r=s.length,a=0;for(a=0;a<r;a++){const u=s[a];n+=" "+this.getKeyForNodeData(u)+":"+mr.toString(u)}for(n+=`
 link data:`,s=this.linkDataArray,r=s.length,a=0;a<r;a++){const u=s[a];n+=" "+this.Fe(u,!0)+"-->"+this.Fe(u,!1)}}return n}}pN(e,n){if(this.linkKeyProperty===""){const S=this.skipsUndoManager;this.skipsUndoManager=!0,this.linkKeyProperty="key",this.skipsUndoManager=S}let s=super.pN(e,n);const r=this,a=new C,u=new C,h=new C,f=this.Xa;e.changes.each(S=>{if(S.model===r){if(S.modelChange==="linkDataArray")S.change===3?a.add(S.newValue):S.change===4&&h.add(S.oldValue);else if(r.containsLinkData(S.object))u.add(S.object);else if(S.object!==null)if(S.object!==null&&f&&f.contains(S.object))f.get(S.object).each(E=>{r.containsLinkData(E)&&u.add(E)});else{if(S.object instanceof nn||r.containsNodeData(S.object))return;r.RT(S.object).each(E=>u.add(E))}}});const m=this.rg;m.clear(),a.each(S=>{m.add(r.getKeyForLinkData(S)),n||u.add(S)});const y=this.og;y.clear(),h.each(S=>{y.add(r.getKeyForLinkData(S)),n&&u.add(S)});const x=r.cloneDeep(u.toArray());return m.count>0&&(s===null&&(s={}),n?s.removedLinkKeys=m.toArray():s.insertedLinkKeys=m.toArray()),x.length>0&&(s===null&&(s={}),s.modifiedLinkData=x),y.count>0&&(s===null&&(s={}),n?s.insertedLinkKeys=y.toArray():s.removedLinkKeys=y.toArray()),y.clear(),m.clear(),s}hg(){const e=super.hg();let n="";return this.linkCategoryProperty!=="category"&&typeof this.linkCategoryProperty=="string"&&(n+=`,
  "linkCategoryProperty": `+this.ve(this.linkCategoryProperty)),this.linkKeyProperty!==""&&typeof this.linkKeyProperty=="string"&&(n+=`,
  "linkKeyProperty": `+this.ve(this.linkKeyProperty)),this.linkFromKeyProperty!=="from"&&typeof this.linkFromKeyProperty=="string"&&(n+=`,
  "linkFromKeyProperty": `+this.ve(this.linkFromKeyProperty)),this.linkToKeyProperty!=="to"&&typeof this.linkToKeyProperty=="string"&&(n+=`,
  "linkToKeyProperty": `+this.ve(this.linkToKeyProperty)),this.linkFromPortIdProperty!==""&&typeof this.linkFromPortIdProperty=="string"&&(n+=`,
  "linkFromPortIdProperty": `+this.ve(this.linkFromPortIdProperty)),this.linkToPortIdProperty!==""&&typeof this.linkToPortIdProperty=="string"&&(n+=`,
  "linkToPortIdProperty": `+this.ve(this.linkToPortIdProperty)),this.linkLabelKeysProperty!==""&&typeof this.linkLabelKeysProperty=="string"&&(n+=`,
  "linkLabelKeysProperty": `+this.ve(this.linkLabelKeysProperty)),this.nodeIsGroupProperty!=="isGroup"&&typeof this.nodeIsGroupProperty=="string"&&(n+=`,
  "nodeIsGroupProperty": `+this.ve(this.nodeIsGroupProperty)),this.nodeGroupKeyProperty!=="group"&&typeof this.nodeGroupKeyProperty=="string"&&(n+=`,
  "nodeGroupKeyProperty": `+this.ve(this.nodeGroupKeyProperty)),e+n}Ay(e){super.Ay(e),e.linkKeyProperty&&(this.linkKeyProperty=e.linkKeyProperty),e.linkFromKeyProperty&&(this.linkFromKeyProperty=e.linkFromKeyProperty),e.linkToKeyProperty&&(this.linkToKeyProperty=e.linkToKeyProperty),e.linkFromPortIdProperty&&(this.linkFromPortIdProperty=e.linkFromPortIdProperty),e.linkToPortIdProperty&&(this.linkToPortIdProperty=e.linkToPortIdProperty),e.linkCategoryProperty&&(this.linkCategoryProperty=e.linkCategoryProperty),e.linkLabelKeysProperty&&(this.linkLabelKeysProperty=e.linkLabelKeysProperty),e.nodeIsGroupProperty&&(this.nodeIsGroupProperty=e.nodeIsGroupProperty),e.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=e.nodeGroupKeyProperty)}yN(){const e=super.yN(),n=`,
  "linkDataArray": `+this.Ch(this.linkDataArray,!0);return e+n}wN(e){super.wN(e);const n=e.linkDataArray;Array.isArray(n)&&(this.replaceJsonObjects(n),this.linkDataArray=n)}RT(e){const n=new C;for(let s=0;s<this.linkDataArray.length;s++){const r=this.linkDataArray[s];this.R1(e,r,r,n)}return n}bN(e,n){if(this.linkKeyProperty===""){const S=this.skipsUndoManager;this.skipsUndoManager=!0,this.linkKeyProperty="key",this.skipsUndoManager=S}const s=super.bN(e,n),r=this,a=new C,u=new C,h=new C,f=this.Xa;e.changes.each(S=>{if(S.model===r){if(S.modelChange==="linkDataArray")S.change===3?a.add(S.newValue):S.change===4&&h.add(S.oldValue);else if(r.containsLinkData(S.object))u.add(S.object);else if(S.object!==null)if(S.object!==null&&f&&f.contains(S.object))f.get(S.object).each(E=>{r.containsLinkData(E)&&u.add(E)});else{if(S.object instanceof nn||r.containsNodeData(S.object))return;r.RT(S.object).each(E=>u.add(E))}}});const m=this.rg;m.clear(),a.each(S=>{m.add(r.getKeyForLinkData(S)),n||u.add(S)});const y=this.og;y.clear(),h.each(S=>{y.add(r.getKeyForLinkData(S)),n&&u.add(S)});let x=s;return m.count>0&&(x+=(n?this.OT:this.vT)+this.Ch(m.toArray(),!0)),u.count>0&&(x+=this.TO+this.Ch(u.toArray(),!0)),y.count>0&&(x+=(n?this.vT:this.OT)+this.Ch(y.toArray(),!0)),y.clear(),m.clear(),x}Ty(e){(e.linkCategoryProperty!==void 0&&e.linkCategoryProperty!==this.linkCategoryProperty||e.linkKeyProperty!==void 0&&e.linkKeyProperty!==this.linkKeyProperty||e.linkFromKeyProperty!==void 0&&e.linkFromKeyProperty!==this.linkFromKeyProperty||e.linkToKeyProperty!==void 0&&e.linkToKeyProperty!==this.linkToKeyProperty||e.linkFromPortIdProperty!==void 0&&e.linkFromPortIdProperty!==this.linkFromPortIdProperty||e.linkToPortIdProperty!==void 0&&e.linkToPortIdProperty!==this.linkToPortIdProperty||e.linkLabelKeysProperty!==void 0&&e.linkLabelKeysProperty!==this.linkLabelKeysProperty||e.nodeIsGroupProperty!==void 0&&e.nodeIsGroupProperty!==this.nodeIsGroupProperty||e.nodeGroupKeyProperty!==void 0&&e.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&o.o("applyIncrementalJson cannot change Model properties"),super.Ty(e);const n=e.insertedLinkKeys;if(Array.isArray(n)){const a=n.length;for(let u=0;u<a;u++){const h=n[u];let f=this.findLinkDataForKey(h);f===null&&(f=this.copyLinkData({}),this.setKeyForLinkData(f,h),this.addLinkData(f))}}const s=e.modifiedLinkData;if(Array.isArray(s)){const a=s.length;for(let u=0;u<a;u++){const h=s[u],f=this.getKeyForLinkData(h),m=this.findLinkDataForKey(f);if(m!==null){for(const y in h)y==="__gohashid"||y===this.linkKeyProperty||this.setDataProperty(m,y,h[y]);this.IT(h,m)}}}const r=e.removedLinkKeys;if(Array.isArray(r)){const a=r.length;for(let u=0;u<a;u++){const h=r[u],f=this.findLinkDataForKey(h);f!==null&&this.removeLinkData(f)}}}changeState(e,n){if(!(e===null||e.model!==this)){if(e.change===2){const s=e.object,r=e.propertyName;if(r===this.linkKeyProperty&&this.containsLinkData(s)){const a=e.getValue(n),u=e.getValue(!n);u!==void 0&&this.ui.remove(u),a!==void 0&&this.ui.add(a,s),nn.ht(s,r,a);return}}else if(e.change===3){let s=e.newParam;if(e.modelChange==="linkDataArray"){const r=e.newValue;if(o.wt(r)&&typeof s=="number"){const a=this.getKeyForLinkData(r);n?(this.nr.remove(r),this.Ze[s]===r&&this.Ze.splice(s,1),a!==void 0&&this.ui.remove(a)):(this.nr.add(r),this.Ze[s]!==r&&this.Ze.splice(s,0,r),a!==void 0&&this.ui.add(a,r))}return}else if(e.modelChange==="linkLabelKeys"){const r=this.getLabelKeysForLinkData(e.object);Array.isArray(r)&&typeof s=="number"&&(n?(s=r.indexOf(e.newValue),s>=0&&r.splice(s,1)):r.indexOf(e.newValue)<0&&r.splice(s,0,e.newValue));return}}else if(e.change===4){let s=e.oldParam;if(e.modelChange==="linkDataArray"){const r=e.oldValue;if(o.wt(r)&&typeof s=="number"){const a=this.getKeyForLinkData(r);n?(this.nr.add(r),this.Ze[s]!==r&&this.Ze.splice(s,0,r),a!==void 0&&this.ui.add(a,r)):(this.nr.remove(r),this.Ze[s]===r&&this.Ze.splice(s,1),a!==void 0&&this.ui.remove(a))}return}else if(e.modelChange==="linkLabelKeys"){const r=this.getLabelKeysForLinkData(e.object);Array.isArray(r)&&typeof s=="number"&&(n?r.indexOf(e.newValue)<0&&r.splice(s,0,e.newValue):(s=r.indexOf(e.newValue),s>=0&&r.splice(s,1)));return}}super.changeState(e,n)}}get archetypeNodeData(){return this.Tl}set archetypeNodeData(e){const n=this.Tl;n!==e&&(this.Tl=e,this.t("archetypeNodeData",n,e))}PN(e){if(e===void 0)return;const n=this.Tl;if(n!==null){let s=this.findNodeDataForKey(e);s===null&&(s=this.copyNodeData(n),nn.ht(s,this.nodeKeyProperty,e),this.addNodeData(s))}return e}get linkFromKeyProperty(){return this.wo}set linkFromKeyProperty(e){const n=this.wo;n!==e&&(this.Tn(e,Vi,"linkFromKeyProperty"),this.wo=e,this.t("linkFromKeyProperty",n,e))}getFromKeyForLinkData(e){return this.Fe(e,!0)}setFromKeyForLinkData(e,n){this.Qd(e,n,!0)}get linkToKeyProperty(){return this.xo}set linkToKeyProperty(e){const n=this.xo;n!==e&&(this.Tn(e,Vi,"linkToKeyProperty"),this.xo=e,this.t("linkToKeyProperty",n,e))}getToKeyForLinkData(e){return this.Fe(e,!1)}setToKeyForLinkData(e,n){this.Qd(e,n,!1)}Fe(e,n){if(e===null)return;const s=n?this.wo:this.xo;if(s==="")return;const r=nn.vt(e,s);if(r!==void 0){if(this.isKeyType(r))return r;o.o((n?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+r)}}Qd(e,n,s){if(n===null&&(n=void 0),n!==void 0&&!this.isKeyType(n)&&o.be(n,"number or string",Vi,s?"setFromKeyForLinkData:key":"setToKeyForLinkData:key"),e===null)return;const r=s?this.wo:this.xo;if(r==="")return;if(n=this.PN(n),!this.containsLinkData(e)){nn.ht(e,r,n);return}const a=nn.vt(e,r);a!==n&&(this.Js(a,e),nn.ht(e,r,n),this.findNodeDataForKey(n)===null&&this.$s(n,e),this.Et(s?"linkFromKey":"linkToKey",2,r,e,a,n),typeof r=="string"&&this.updateTargetBindings(e,r))}get linkFromPortIdProperty(){return this.Ka}set linkFromPortIdProperty(e){const n=this.Ka;n!==e&&(this.Tn(e,Vi,"linkFromPortIdProperty"),this.Ka=e,this.t("linkFromPortIdProperty",n,e))}getFromPortIdForLinkData(e){return this.N1(e,!0)}setFromPortIdForLinkData(e,n){this._d(e,n,!0)}get linkToPortIdProperty(){return this.Ya}set linkToPortIdProperty(e){const n=this.Ya;n!==e&&(this.Tn(e,Vi,"linkToPortIdProperty"),this.Ya=e,this.t("linkToPortIdProperty",n,e))}getToPortIdForLinkData(e){return this.N1(e,!1)}setToPortIdForLinkData(e,n){this._d(e,n,!1)}N1(e,n){if(e===null)return"";const s=n?this.Ka:this.Ya;if(s==="")return"";const r=nn.vt(e,s);return r===void 0?"":r}_d(e,n,s){if(e===null)return;const r=s?this.Ka:this.Ya;if(r==="")return;if(!this.containsLinkData(e)){nn.ht(e,r,n);return}let a=nn.vt(e,r);a===void 0&&(a=""),a!==n&&(nn.ht(e,r,n),this.Et(s?"linkFromPortId":"linkToPortId",2,r,e,a,n),typeof r=="string"&&this.updateTargetBindings(e,r))}get linkLabelKeysProperty(){return this.Zs}set linkLabelKeysProperty(e){const n=this.Zs;n!==e&&(this.Tn(e,Vi,"linkLabelKeysProperty"),this.Zs=e,this.t("linkLabelKeysProperty",n,e))}getLabelKeysForLinkData(e){if(e===null)return Vi.EmptyArray;const n=this.Zs;if(n==="")return Vi.EmptyArray;const s=nn.vt(e,n);return s===void 0?Vi.EmptyArray:s}setLabelKeysForLinkData(e,n){if(e===null)return;const s=this.Zs;if(s==="")return;if(!this.containsLinkData(e)){nn.ht(e,s,n);return}let r=nn.vt(e,s);if(r===void 0&&(r=Vi.EmptyArray),r!==n){if(Array.isArray(r)){const u=r.length;for(let h=0;h<u;h++){const f=r[h];this.Js(f,e)}}nn.ht(e,s,n);const a=n.length;for(let u=0;u<a;u++){const h=n[u];this.findNodeDataForKey(h)===null&&this.$s(h,e)}this.Et("linkLabelKeys",2,s,e,r,n),typeof s=="string"&&this.updateTargetBindings(e,s)}}addLabelKeyForLinkData(e,n){if(n==null||(this.isKeyType(n)||o.be(n,"number or string",Vi,"addLabelKeyForLinkData:key"),e===null))return;const s=this.Zs;if(s==="")return;const r=nn.vt(e,s);if(r===void 0){const a=[];a.push(n),this.setLabelKeysForLinkData(e,a)}else if(Array.isArray(r)){let a=r.indexOf(n);if(a>=0)return;a=r.length,r.push(n),this.containsLinkData(e)&&(this.findNodeDataForKey(n)===null&&this.$s(n,e),this.Et("linkLabelKeys",3,s,e,null,n,null,a))}else o.o(s+" property is not an Array; cannot addLabelKeyForLinkData: "+e)}removeLabelKeyForLinkData(e,n){if(n==null||(this.isKeyType(n)||o.be(n,"number or string",Vi,"removeLabelKeyForLinkData:key"),e===null))return;const s=this.Zs;if(s==="")return;const r=nn.vt(e,s);if(Array.isArray(r)){const a=r.indexOf(n);if(a<0)return;r.splice(a,1),this.containsLinkData(e)&&(this.Js(n,e),this.Et("linkLabelKeys",4,s,e,n,null,a,null))}else r!==void 0&&o.o(s+" property is not an Array; cannot removeLabelKeyforLinkData: "+e)}get linkDataArray(){return this.Ze}set linkDataArray(e){const n=this.Ze;if(n!==e){this.ui.clear();const s=e.length;for(let a=0;a<s;a++){const u=e[a];o.wt(u)||o.o("GraphLinksModel.linkDataArray must only contain Objects, not: "+u)}if(this.Ze=e,this.linkKeyProperty!==""){const a=new w;for(let h=0;h<s;h++){const f=e[h],m=this.getKeyForLinkData(f);m===void 0||this.ui.getValue(m)!==null?a.add(f):this.ui.add(m,f)}const u=a.iterator;for(;u.next();){const h=u.value;this.makeLinkDataKeyUnique(h);const f=this.getKeyForLinkData(h);f!==void 0&&this.ui.add(f,h)}}const r=new C;for(let a=0;a<s;a++){const u=e[a];r.add(u)}this.nr=r,this.Et("linkDataArray",2,"linkDataArray",this,n,e);for(let a=0;a<s;a++){const u=e[a];this.MN(u)}}}get linkKeyProperty(){return this.Lh}set linkKeyProperty(e){const n=this.Lh;if(n!==e){this.Tn(e,Vi,"linkKeyProperty"),this.Lh=e,this.ui.clear();const s=this.linkDataArray.length;for(let r=0;r<s;r++){const a=this.linkDataArray[r];let u=this.getKeyForLinkData(a);u===void 0&&(this.makeLinkDataKeyUnique(a),u=this.getKeyForLinkData(a)),u!==void 0&&this.ui.add(u,a)}this.t("linkKeyProperty",n,e)}}getKeyForLinkData(e){if(e===null)return;const n=this.Lh;if(n==="")return;const s=nn.vt(e,n);if(s!==void 0){if(this.isKeyType(s))return s;o.o("Key value for link data "+e+" is not a number or a string: "+s)}}setKeyForLinkData(e,n){if((n==null||!this.isKeyType(n))&&o.be(n,"number or string",Vi,"setKeyForLinkData:key"),e===null)return;const s=this.Lh;if(s==="")return;if(!this.containsLinkData(e)){nn.ht(e,s,n);return}const r=nn.vt(e,s);if(r!==n){if(this.findLinkDataForKey(n)!==null)return;nn.ht(e,s,n),r!==void 0&&this.ui.remove(r),this.ui.add(n,e),this.Et("linkKey",2,s,e,r,n),typeof s=="string"&&this.updateTargetBindings(e,s)}}get makeUniqueLinkKeyFunction(){return this.Df}set makeUniqueLinkKeyFunction(e){const n=this.Df;n!==e&&(this.Df=e,this.t("makeUniqueLinkKeyFunction",n,e))}findLinkDataForKey(e){return e===null&&o.o("GraphLinksModel.findLinkDataForKey:key must not be null"),e===void 0||!this.isKeyType(e)?null:this.ui.getValue(e)}makeLinkDataKeyUnique(e){if(e===null)return;const n=this.Lh;if(n==="")return;let s=this.getKeyForLinkData(e);if(s!==void 0&&!this.ui.contains(s))return;const r=this.Df;if(r!==null&&(s=r(this,e),s!=null&&!this.ui.contains(s))){nn.ht(e,n,s);return}if(typeof s=="string"){let a=2;for(;this.ui.contains(s+a);)a++;nn.ht(e,n,s+a)}else if(s===void 0||typeof s=="number"){let a=-this.ui.count-1;for(;this.ui.contains(a);)a--;nn.ht(e,n,a)}}containsLinkData(e){return e===null?!1:this.nr.contains(e)}addLinkData(e){e!==null&&(this.containsLinkData(e)||this.kT(e,!0))}kT(e,n){if(this.linkKeyProperty!==""){let r=this.getKeyForLinkData(e);if(r===void 0)this.makeLinkDataKeyUnique(e),r=this.getKeyForLinkData(e);else{if(this.ui.getValue(r)===e)return;this.makeLinkDataKeyUnique(e),r=this.getKeyForLinkData(e)}r===void 0&&o.o("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model."),this.ui.add(r,e)}this.nr.add(e);let s=null;n&&(s=this.Ze.length,this.Ze.splice(s,0,e)),this.Et("linkDataArray",3,"linkDataArray",this,null,e,null,s),this.MN(e)}addLinkDataCollection(e){if(Array.isArray(e)){const n=e.length;for(let s=0;s<n;s++)this.addLinkData(e[s])}else{const n=e.iterator;for(;n.next();){const s=n.value;this.addLinkData(s)}}}removeLinkData(e){e!==null&&this.bT(e,!0)}bT(e,n){this.nr.remove(e);const s=this.getKeyForLinkData(e);s!==void 0&&this.ui.remove(s);let r=null;if(n){if(r=this.Ze.indexOf(e),r<0)return;this.Ze.splice(r,1)}this.Et("linkDataArray",4,"linkDataArray",this,e,null,r,null),this.DO(e)}removeLinkDataCollection(e){if(Array.isArray(e)){const n=e.length;for(let s=0;s<n;s++)this.removeLinkData(e[s])}else{const n=e.iterator;for(;n.next();){const s=n.value;this.removeLinkData(s)}}}mergeLinkDataArray(e){if(this.linkKeyProperty===""&&o.o("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),e!==this.linkDataArray&&Array.isArray(e)){const n=this.og;n.clear(),n.addAll(this.ui.iteratorKeys);const s=this.rg;s.clear();const r=e.length;for(let u=0;u<r;u++){const h=e[u],f=this.getKeyForLinkData(h);if(f!==void 0){s.add(f);const m=this.findLinkDataForKey(f);if(m===h)continue;if(m!==null)this.assignAllDataProperties(m,h),this.IT(h,m);else{const y=this.cloneDeep(h);this.setKeyForLinkData(y,f),this.addLinkData(y)}}else{const m=this.cloneDeep(h);this.addLinkData(m),s.add(this.getKeyForLinkData(m))}}const a=n.iterator;for(;a.next();){const u=a.value;if(!s.contains(u)){const h=this.findLinkDataForKey(u);h&&this.removeLinkData(h)}}n.clear(),s.clear()}}MN(e){let n=this.Fe(e,!0);n=this.PN(n),this.findNodeDataForKey(n)===null&&this.$s(n,e),n=this.Fe(e,!1),n=this.PN(n),this.findNodeDataForKey(n)===null&&this.$s(n,e);const s=this.getLabelKeysForLinkData(e);if(Array.isArray(s)){const r=s.length;for(let a=0;a<r;a++)n=s[a],this.findNodeDataForKey(n)===null&&this.$s(n,e)}}DO(e){let n=this.Fe(e,!0);this.Js(n,e),n=this.Fe(e,!1),this.Js(n,e);const s=this.getLabelKeysForLinkData(e);if(Array.isArray(s)){const r=s.length;for(let a=0;a<r;a++)n=s[a],this.Js(n,e)}}get copyLinkDataFunction(){return this.Ff}set copyLinkDataFunction(e){const n=this.Ff;n!==e&&(this.Ff=e,this.t("copyLinkDataFunction",n,e))}copyLinkData(e){if(e===null)return null;let n=null;const s=this.Ff;return s!==null?n=s(e,this):n=this.O1(e,!0),o.wt(n)&&(this.wo!==""&&nn.ht(n,this.wo,void 0),this.xo!==""&&nn.ht(n,this.xo,void 0),this.Zs!==""&&nn.ht(n,this.Zs,[])),n}get nodeIsGroupProperty(){return this.Rf}set nodeIsGroupProperty(e){const n=this.Rf;n!==e&&(this.Tn(e,Vi,"nodeIsGroupProperty"),this.Rf=e,this.t("nodeIsGroupProperty",n,e))}isGroupForNodeData(e){if(e===null)return!1;const n=this.Rf;return n===""?!1:!!nn.vt(e,n)}isGroupForData(e){return this.isGroupForNodeData(e)}get nodeGroupKeyProperty(){return this.Dn}set nodeGroupKeyProperty(e){const n=this.Dn;n!==e&&(this.Tn(e,Vi,"nodeGroupKeyProperty"),this.Dn=e,this.t("nodeGroupKeyProperty",n,e))}get copiesGroupKeyOfNodeData(){return this.ug}set copiesGroupKeyOfNodeData(e){this.ug!==e&&(this.ug=e)}getGroupKeyForNodeData(e){if(e===null)return;const n=this.Dn;if(n==="")return;const s=nn.vt(e,n);if(s!==void 0){if(this.isKeyType(s))return s;o.o("GroupKey value for node data "+e+" is not a number or a string: "+s)}}getGroupForData(e){return this.getGroupKeyForNodeData(e)}setGroupKeyForNodeData(e,n){if(n===null&&(n=void 0),n!==void 0&&!this.isKeyType(n)&&o.be(n,"number or string",Vi,"setGroupKeyForNodeData:key"),e===null)return;const s=this.Dn;if(s==="")return;if(!this.containsNodeData(e)){nn.ht(e,s,n);return}const r=nn.vt(e,s);r!==n&&(this.Js(r,e),nn.ht(e,s,n),this.findNodeDataForKey(n)===null&&this.$s(n,e),this.Et("nodeGroupKey",2,s,e,r,n),typeof s=="string"&&this.updateTargetBindings(e,s))}setGroupForData(e,n){this.setGroupKeyForNodeData(e,n)}copyNodeData(e){if(e===null)return null;const n=super.copyNodeData(e);return!this.copiesGroupKeyOfNodeData&&this.Dn!==""&&nn.vt(n,this.Dn)!==void 0&&nn.ht(n,this.Dn,void 0),n}setDataProperty(e,n,s){if(this.containsNodeData(e)){if(n===this.nodeKeyProperty){this.setKeyForNodeData(e,s);return}else if(n===this.nodeCategoryProperty){this.setCategoryForNodeData(e,s);return}else if(n===this.nodeGroupKeyProperty){this.setGroupKeyForNodeData(e,s);return}}else if(this.containsLinkData(e)){if(n===this.linkFromKeyProperty){this.Qd(e,s,!0);return}else if(n===this.linkToKeyProperty){this.Qd(e,s,!1);return}else if(n===this.linkFromPortIdProperty){this._d(e,s,!0);return}else if(n===this.linkToPortIdProperty){this._d(e,s,!1);return}else if(n===this.linkKeyProperty){this.setKeyForLinkData(e,s);return}else if(n===this.linkCategoryProperty){this.setCategoryForLinkData(e,s);return}else if(n===this.linkLabelKeysProperty){this.setLabelKeysForLinkData(e,s);return}}const r=nn.vt(e,n);r!==s&&(nn.ht(e,n,s),this.raiseDataChanged(e,n,r,s))}assignAllDataProperties(e,n){if(!n)return;const s=this.containsNodeData(e),r=this.containsLinkData(e);for(const a in n)if(a!=="__gohashid"&&!(s&&a===this.nodeKeyProperty)){if(s&&a===this.nodeIsGroupProperty&&nn.vt(e,a)===n[a]||r&&a===this.linkKeyProperty)continue;this.setDataProperty(e,a,n[a])}}Dy(e,n){super.Dy(e,n);const s=this.ti.iterator;for(;s.next();){const a=s.value;this.SN(a,e,n)}const r=this.nr.iterator;for(;r.next();){const a=r.value;this.FO(a,e,n)}}SN(e,n,s){if(this.getGroupKeyForNodeData(e)===n){const r=this.Dn;nn.ht(e,r,s),this.Et("nodeGroupKey",2,r,e,n,s),typeof r=="string"&&this.updateTargetBindings(e,r)}}FO(e,n,s){if(this.Fe(e,!0)===n){const a=this.wo;nn.ht(e,a,s),this.Et("linkFromKey",2,a,e,n,s),typeof a=="string"&&this.updateTargetBindings(e,a)}if(this.Fe(e,!1)===n){const a=this.xo;nn.ht(e,a,s),this.Et("linkToKey",2,a,e,n,s),typeof a=="string"&&this.updateTargetBindings(e,a)}const r=this.getLabelKeysForLinkData(e);if(Array.isArray(r)){const a=r.length,u=this.Zs;for(let h=0;h<a;h++)r[h]===n&&(r[h]=s,this.Et("linkLabelKeys",3,u,e,n,s,h,h))}}kN(){super.kN();const e=this.linkDataArray,n=e.length;for(let s=0;s<n;s++){const r=e[s];this.MN(r)}}cg(e){super.cg(e);const n=this.getKeyForNodeData(e),s=this.Ny(n);if(s!==null){const r=o.rt(),a=s.iterator;for(;a.next();){const u=a.value;if(this.containsNodeData(u)){if(this.getGroupKeyForNodeData(u)===n){const h=this.Dn;this.Et("nodeGroupKey",2,h,u,n,n),typeof h=="string"&&this.updateTargetBindings(u,h),r.push(u)}}else{if(this.Fe(u,!0)===n){const f=this.wo;this.Et("linkFromKey",2,f,u,n,n),typeof f=="string"&&this.updateTargetBindings(u,f),r.push(u)}if(this.Fe(u,!1)===n){const f=this.xo;this.Et("linkToKey",2,f,u,n,n),typeof f=="string"&&this.updateTargetBindings(u,f),r.push(u)}const h=this.getLabelKeysForLinkData(u);if(Array.isArray(h)){const f=h.length,m=this.Zs;for(let y=0;y<f;y++)h[y]===n&&(this.Et("linkLabelKeys",3,m,u,n,n,y,y),r.push(u))}}}for(let u=0;u<r.length;u++)this.Js(n,r[u]);o.it(r)}}fg(e){super.fg(e);const n=this.getGroupKeyForNodeData(e);this.findNodeDataForKey(n)===null&&this.$s(n,e)}Fy(e){super.Fy(e);const n=this.getGroupKeyForNodeData(e);this.Js(n,e)}get linkCategoryProperty(){return this.Ga}set linkCategoryProperty(e){const n=this.Ga;n!==e&&(this.Tn(e,Vi,"linkCategoryProperty"),this.Ga=e,this.t("linkCategoryProperty",n,e))}getCategoryForLinkData(e){if(e===null)return"";const n=this.Ga;if(n==="")return"";const s=nn.vt(e,n);if(s===void 0)return"";if(typeof s=="string")return s;o.o("getCategoryForLinkData found a non-string category for "+e+": "+s)}getLinkCategoryForData(e){return this.getCategoryForLinkData(e)}setCategoryForLinkData(e,n){if(e===null)return;const s=this.Ga;if(s==="")return;if(!this.containsLinkData(e)){nn.ht(e,s,n);return}let r=nn.vt(e,s);r===void 0&&(r=""),r!==n&&(nn.ht(e,s,n),this.Et("linkCategory",2,s,e,r,n),typeof s=="string"&&this.updateTargetBindings(e,s))}setLinkCategoryForData(e,n){this.setCategoryForLinkData(e,n)}ag(e,n){super.ag(e,n),this.setGroupKeyForNodeData(n,this.getGroupKeyForNodeData(e))}IT(e,n){this.setCategoryForLinkData(n,this.getCategoryForLinkData(e)),this.setFromKeyForLinkData(n,this.getFromKeyForLinkData(e)),this.setToKeyForLinkData(n,this.getToKeyForLinkData(e)),this.setLabelKeysForLinkData(n,this.getLabelKeysForLinkData(e)),this.setFromPortIdForLinkData(n,this.getFromPortIdForLinkData(e)),this.setToPortIdForLinkData(n,this.getToPortIdForLinkData(e))}get type(){return"GraphLinksModel"}uc(){return!0}Aa(){return!0}Bw(){return!0}Gc(){return!0}};k(Vi,"EmptyArray",Object.freeze([]));let xl=Vi;nn.registerClass(xl,"GraphLinksModel"),nn.constructGraphLinksModel=nn.constructGraphLinksModel=()=>new xl,nn.initDiagramModel=nn.initDiagramModel=()=>new xl;class Sl extends nn{constructor(e,n){super();k(this,"Fn");k(this,"dg");k(this,"ja");if(this.Fn="parent",this.dg=!1,this.ja="parentLinkCategory",e!==void 0&&(Array.isArray(e)?this.nodeDataArray=e:n=e),n){Object.assign(this,n);const s=n.Changed;s&&(delete this.Changed,this.addChangedListener(s))}}cloneProtected(e){super.cloneProtected(e),e.Fn=this.Fn,e.dg=this.dg,e.ja=this.ja}toString(e){if(e===void 0&&(e=0),e>=2)return this.toJson();{let n=(this.name!==""?this.name:"")+" TreeModel";if(e>0){n+=`
 node data:`;const s=this.nodeDataArray,r=s.length;for(let a=0;a<r;a++){const u=s[a];n+=" "+this.getKeyForNodeData(u)+":"+mr.toString(u)}}return n}}hg(){const e=super.hg();let n="";return this.nodeParentKeyProperty!=="parent"&&typeof this.nodeParentKeyProperty=="string"&&(n+=`,
  "nodeParentKeyProperty": `+this.ve(this.nodeParentKeyProperty)),e+n}Ay(e){super.Ay(e),e.nodeParentKeyProperty&&(this.nodeParentKeyProperty=e.nodeParentKeyProperty)}Ty(e){e.nodeParentKeyProperty!==void 0&&e.nodeParentKeyProperty!==this.nodeParentKeyProperty&&o.o("applyIncrementalJson cannot change Model properties"),super.Ty(e)}maybeEnsureLinkReference(e){return e}get nodeParentKeyProperty(){return this.Fn}set nodeParentKeyProperty(e){const n=this.Fn;n!==e&&(this.Tn(e,Sl,"nodeParentKeyProperty"),this.Fn=e,this.t("nodeParentKeyProperty",n,e))}get copiesParentKeyOfNodeData(){return this.dg}set copiesParentKeyOfNodeData(e){this.dg!==e&&(this.dg=e)}getParentKeyForNodeData(e){if(e===null)return;const n=this.Fn;if(n==="")return;const s=nn.vt(e,n);if(s!==void 0){if(this.isKeyType(s))return s;o.o("ParentKey value for node data "+e+" is not a number or a string: "+s)}}setParentKeyForNodeData(e,n){if(n===null&&(n=void 0),n!==void 0&&!this.isKeyType(n)&&o.be(n,"number or string",Sl,"setParentKeyForNodeData:key"),e===null)return;const s=this.Fn;if(s==="")return;if(n=this.maybeEnsureLinkReference(n),!this.containsNodeData(e)){nn.ht(e,s,n);return}const r=nn.vt(e,s);r!==n&&(this.Js(r,e),nn.ht(e,s,n),this.findNodeDataForKey(n)===null&&this.$s(n,e),this.Et("nodeParentKey",2,s,e,r,n),typeof s=="string"&&this.updateTargetBindings(e,s))}get parentLinkCategoryProperty(){return this.ja}set parentLinkCategoryProperty(e){const n=this.ja;n!==e&&(this.Tn(e,Sl,"parentLinkCategoryProperty"),this.ja=e,this.t("parentLinkCategoryProperty",n,e))}get linkCategoryProperty(){return this.parentLinkCategoryProperty}set linkCategoryProperty(e){this.parentLinkCategoryProperty=e}getParentLinkCategoryForNodeData(e){if(e===null)return"";const n=this.ja;if(n==="")return"";const s=nn.vt(e,n);if(s===void 0)return"";if(typeof s=="string")return s;o.o("getParentLinkCategoryForNodeData found a non-string category for "+e+": "+s)}getLinkCategoryForData(e){return this.getParentLinkCategoryForNodeData(e)}setParentLinkCategoryForNodeData(e,n){if(e===null)return;const s=this.ja;if(s==="")return;if(!this.containsNodeData(e)){nn.ht(e,s,n);return}let r=nn.vt(e,s);r===void 0&&(r=""),r!==n&&(nn.ht(e,s,n),this.Et("parentLinkCategory",2,s,e,r,n),typeof s=="string"&&this.updateTargetBindings(e,s))}setLinkCategoryForData(e,n){this.setParentLinkCategoryForNodeData(e,n)}copyNodeData(e){if(e===null)return null;const n=super.copyNodeData(e);return!this.copiesParentKeyOfNodeData&&this.Fn!==""&&nn.vt(n,this.Fn)!==void 0&&nn.ht(n,this.Fn,void 0),n}setDataProperty(e,n,s){if(this.containsNodeData(e)){if(n===this.nodeKeyProperty){this.setKeyForNodeData(e,s);return}else if(n===this.nodeCategoryProperty){this.setCategoryForNodeData(e,s);return}else if(n===this.nodeParentKeyProperty){this.setParentKeyForNodeData(e,s);return}}const r=nn.vt(e,n);r!==s&&(nn.ht(e,n,s),this.raiseDataChanged(e,n,r,s))}Dy(e,n){super.Dy(e,n);const s=this.ti.iterator;for(;s.next();){const r=s.value;this.SN(r,e,n)}}SN(e,n,s){if(this.getParentKeyForNodeData(e)===n){const r=this.Fn;nn.ht(e,r,s),this.Et("nodeParentKey",2,r,e,n,s),typeof r=="string"&&this.updateTargetBindings(e,r)}}cg(e){super.cg(e);const n=this.getKeyForNodeData(e),s=this.Ny(n);if(s!==null){const r=o.rt(),a=s.iterator;for(;a.next();){const u=a.value;if(this.containsNodeData(u)&&this.getParentKeyForNodeData(u)===n){const h=this.Fn;this.Et("nodeParentKey",2,h,u,n,n),typeof h=="string"&&this.updateTargetBindings(u,h),r.push(u)}}for(let u=0;u<r.length;u++)this.Js(n,r[u]);o.it(r)}}fg(e){super.fg(e);let n=this.getParentKeyForNodeData(e);n=this.maybeEnsureLinkReference(n),this.findNodeDataForKey(n)===null&&this.$s(n,e)}Fy(e){super.Fy(e);const n=this.getParentKeyForNodeData(e);this.Js(n,e)}ag(e,n){super.ag(e,n),this.setParentLinkCategoryForNodeData(n,this.getParentLinkCategoryForNodeData(e)),this.setParentKeyForNodeData(n,this.getParentKeyForNodeData(e))}get type(){return"TreeModel"}ju(){return!0}Bw(){return!0}}nn.registerClass(Sl,"TreeModel");var Bf=(H=>(H[H.ConstantSpacing=0]="ConstantSpacing",H[H.ConstantDistance=1]="ConstantDistance",H[H.ConstantAngle=2]="ConstantAngle",H[H.Packed=3]="Packed",H))(Bf||{}),$f=(H=>(H[H.Clockwise=10]="Clockwise",H[H.Counterclockwise=11]="Counterclockwise",H[H.BidirectionalLeft=12]="BidirectionalLeft",H[H.BidirectionalRight=13]="BidirectionalRight",H))($f||{}),Vf=(H=>(H[H.Forwards=20]="Forwards",H[H.Reverse=21]="Reverse",H[H.Ascending=22]="Ascending",H[H.Descending=23]="Descending",H[H.Optimized=24]="Optimized",H))(Vf||{}),zf=(H=>(H[H.Pythagorean=30]="Pythagorean",H[H.Circular=31]="Circular",H))(zf||{});class gs extends es{constructor(e){super();k(this,"ae");k(this,"vf");k(this,"I1");k(this,"gg");k(this,"E1");k(this,"Ah");k(this,"NN");k(this,"CN");k(this,"LN");k(this,"Ps");k(this,"Ry");k(this,"vy");k(this,"Ha");k(this,"Oy");k(this,"ET");k(this,"mg");k(this,"pg");k(this,"yg");k(this,"Of");k(this,"zi");k(this,"S");k(this,"we");k(this,"xe");k(this,"An");k(this,"wg");this.ae=0,this.vf=0,this.I1=0,this.gg=360,this.E1=0,this.Ah=0,this.NN=new T,this.CN=30,this.LN=0,this.Ps=0,this.Ry=0,this.vy=new yv,this.Ha=0,this.Oy=0,this.ET=600,this.mg=NaN,this.pg=1,this.yg=0,this.Of=360,this.zi=0,this.S=10,this.we=24,this.xe=Gr.standardComparer,this.An=6,this.wg=30,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.mg=this.mg,e.pg=this.pg,e.yg=this.yg,e.Of=this.Of,e.zi=this.zi,e.S=this.S,e.we=this.we,e.xe=this.xe,e.An=this.An,e.wg=this.wg}li(e){e in Vf?this.sorting=e:e in $f?this.direction=e:e in Bf?this.arrangement=e:e in zf?this.nodeDiameterFormula=e:super.li(e)}createNetwork(){return new bv(this)}RO(e,n,s){e=this.vO(e);let r=this.E1,a=this.CN,u=this.ae,h=this.vf,f=this.I1,m=this.gg,y=this.Ah,x=this.LN,S=this.Ps,E=this.Ry;if(r=this.arrangement,a=this.nodeDiameterFormula,u=this.radius,(!isFinite(u)||u<=0)&&(u=NaN),h=this.aspectRatio,(!isFinite(h)||h<=0)&&(h=1),f=this.startAngle,isFinite(f)||(f=0),m=this.sweepAngle,(!isFinite(m)||m>360||m<1)&&(m=360),y=this.spacing,isFinite(y)||(y=NaN),r===3&&a===31?r=0:r===3&&a!==31&&(a=31,r=this.arrangement),(this.direction===12||this.direction===13)&&this.sorting!==24){for(let F=0;!(F>=e.length||(n.add(e.elt(F)),F+1>=e.length));F+=2)s.add(e.elt(F+1));this.direction===12?(this.arrangement===3&&n.reverse(),e=new w,e.addAll(n),e.addAll(s)):(this.arrangement===3&&s.reverse(),e=new w,e.addAll(s),e.addAll(n))}const L=e.length;x=0;let D=0;for(let F=0;F<e.length;F++){const V=f+m*D*(this.direction===10?1:-1)/L;let U=e.elt(F).diameter;isNaN(U)&&(U=e.elt(F).Th(V)),m<360&&(F===0||F===e.length-1)&&(U/=2),x+=U,D++}if(isNaN(u)||r===3){if(isNaN(y)&&(y=6),r!==0&&r!==3){let F=-1/0;for(let V=0;V<L;V++){const U=e.elt(V),W=e.elt(V===L-1?0:V+1);isNaN(U.diameter)&&U.Th(0),isNaN(W.diameter)&&W.Th(0),F=Math.max(F,(U.diameter+W.diameter)/2)}if(E=F+y,r===2){const V=2*Math.PI/L,U=(F+y)/V;h>1?(u=U,S=u*h):(S=U,u=S)}else u=this.V1(E*(m>=360?L:L-1),h,f*Math.PI/180,m*Math.PI/180)}else u=this.V1(x+(m>=360?L:L-1)*(r!==3?y:y*1.6),h,f*Math.PI/180,m*Math.PI/180);S=u*h}else{S=u*h;const F=this.AN(u,S,f*Math.PI/180,m*Math.PI/180);if(isNaN(y))r===0&&(y=(F-x)/(m>=360?L:L-1));else if(r===0){const V=(F-x)/(m>=360?L:L-1);V<y?(u=this.V1(x+y*(m>=360?L:L-1),h,f*Math.PI/180,m*Math.PI/180),S=u*h):y=V}else{let V=-1/0;for(let q=0;q<L;q++){const le=e.elt(q),oe=e.elt(q===L-1?0:q+1);isNaN(le.diameter)&&le.Th(0),isNaN(oe.diameter)&&oe.Th(0),V=Math.max(V,(le.diameter+oe.diameter)/2)}const U=V+y,W=this.V1(U*(m>=360?L:L-1),h,f*Math.PI/180,m*Math.PI/180);W>u?(u=W,S=u*h,E=U):E=F/(m>=360?L:L-1)}}return this.E1=r,this.CN=a,this.ae=u,this.vf=h,this.I1=f,this.gg=m,this.Ah=y,this.LN=x,this.Ps=S,this.Ry=E,e}doLayout(e){this.network===null&&(this.network=this.makeNetwork(e)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const n=this.network.vertexes;if(n.count<=1){if(n.count===1){const E=n.first();E.centerX=0,E.centerY=0}this.updateParts(),this.network=null,this.isValidLayout=!0;return}let s=new w;s.addAll(n.iterator);const r=new w,a=new w;s=this.RO(s,r,a);const u=this.E1,h=this.ae,f=this.I1,m=this.gg,y=this.Ah,x=this.Ps,S=this.Ry;if((this.direction===12||this.direction===13)&&u===3)this.VT(s,m,f-m/2,10);else if(this.direction===12||this.direction===13){let E=0;switch(u){case 1:E=this.U1(h,x,f,S)*180/Math.PI;break;case 0:{let L=0,D=0;const F=r.first();F!==null&&(L=F.Th(Math.PI/2));const V=a.first();V!==null&&(D=V.Th(Math.PI/2)),E=this.U1(h,x,f,y+(L+D)/2)*180/Math.PI;break}case 2:E=m/s.length;break}if(this.direction===12){switch(u){case 1:this.Iy(r,m/2,f,11);break;case 0:this.Ey(r,m/2,f,11);break;case 2:this.Vy(r,m/2,f,11);break}switch(u){case 1:this.Iy(a,m/2,f+E,10);break;case 0:this.Ey(a,m/2,f+E,10);break;case 2:this.Vy(a,m/2,f+E,10);break}}else{switch(u){case 1:this.Iy(a,m/2,f,11);break;case 0:this.Ey(a,m/2,f,11);break;case 2:this.Vy(a,m/2,f,11);break}switch(u){case 1:this.Iy(r,m/2,f+E,10);break;case 0:this.Ey(r,m/2,f+E,10);break;case 2:this.Vy(r,m/2,f+E,10);break}}}else switch(u){case 1:this.Iy(s,m,f,this.direction);break;case 0:this.Ey(s,m,f,this.direction);break;case 2:this.Vy(s,m,f,this.direction);break;case 3:this.VT(s,m,f,this.direction);break}this.updateParts(),this.network=null,this.isValidLayout=!0}Vy(e,n,s,r){const a=this.gg,u=this.ae,h=this.Ps,f=s*Math.PI/180,m=n*Math.PI/180,y=e.length;for(let x=0;x<y;x++){const S=f+(r===10?x*m/(a>=360?y:y-1):-(x*m)/y),E=e.elt(x),L=u*Math.tan(S)/h,D=Math.sqrt((u*u+h*h*L*L)/(1+L*L));E.centerX=D*Math.cos(S),E.centerY=D*Math.sin(S),E.actualAngle=S*180/Math.PI}}Ey(e,n,s,r){const a=this.ae,u=this.Ps,h=this.Ah;let f=s*Math.PI/180;const m=e.length;for(let y=0;y<m;y++){const x=e.elt(y),S=e.elt(y===m-1?0:y+1),E=a*Math.cos(f),L=u*Math.sin(f);x.centerX=E,x.centerY=L,x.actualAngle=f*180/Math.PI,isNaN(x.diameter)&&x.Th(0),isNaN(S.diameter)&&S.Th(0);const D=(x.diameter+S.diameter)/2,F=this.U1(a,u,r===10?f:-f,D+h);f+=r===10?F:-F}}Iy(e,n,s,r){const a=this.ae,u=this.Ps,h=this.Ry;let f=s*Math.PI/180;const m=e.length;for(let y=0;y<m;y++){const x=e.elt(y);x.centerX=a*Math.cos(f),x.centerY=u*Math.sin(f),x.actualAngle=f*180/Math.PI;const S=this.U1(a,u,r===10?f:-f,h);f+=r===10?S:-S}}VT(e,n,s,r){let a=this.Oy;const u=this.gg;if(this.Ha=0,this.vy=new yv,n<360){for(a=s+(r===10?u:-u);a<0;)a+=360;a%=360,a>180&&(a-=360),a*=Math.PI/180,this.Oy=a,this.UT(e,n,s,r)}else this.BT(e,n,s,r);this.vy.commit(e)}BT(e,n,s,r){const a=this.ae,u=this.Ps,h=this.Ah,f=this.vf;let m=a*Math.cos(s*Math.PI/180),y=u*Math.sin(s*Math.PI/180);const x=e.toArray();if(x.length===3){x[0].centerX=a,x[0].centerY=0,x[1].centerX=x[0].centerX-x[0].width/2-x[1].width/2-h,x[1].y=x[0].y,x[2].centerX=(x[0].centerX+x[1].centerX)/2,x[2].y=x[0].y-x[2].height-h;return}else if(x.length===4){x[0].centerX=a,x[0].centerY=0,x[2].centerX=-x[0].centerX,x[2].centerY=x[0].centerY,x[1].centerX=0,x[1].y=Math.min(x[0].y,x[2].y)-x[1].height-h,x[3].centerX=0,x[3].y=Math.max(x[0].y+x[0].height+h,x[2].y+x[2].height+h);return}const S=T.l();for(let le=0;le<x.length&&(x[le].centerX=m,x[le].centerY=y,!(le>=x.length-1));le++)this.zT(m,y,x,le,r,S)||this.XT(m,y,x,le,r,S),m=S.x,y=S.y;if(T.s(S),this.Ha++,this.Ha>23)return;const E=x[0].centerX,L=x[0].centerY,D=x[x.length-1].centerX,F=x[x.length-1].centerY;let V=Math.abs(E-D)-((x[0].width+x[x.length-1].width)/2+h);const U=Math.abs(L-F)-((x[0].height+x[x.length-1].height)/2+h);let W=0;if(Math.abs(U)<1){const le=Math.abs(E-D),oe=(x[0].width+x[x.length-1].width)/2;le<oe&&(W=0),V=le-oe}else U>0?W=U:Math.abs(V)<1?W=0:W=V;let q=!1;Math.abs(D)>Math.abs(F)?q=D>0!=L>F:q=F>0!=E<D,q=r===10?q:!q,q&&(W=-Math.abs(W),W=Math.min(W,-x[x.length-1].width),W=Math.min(W,-x[x.length-1].height)),this.vy.OO(W,x),Math.abs(W)>1&&(this.Ha<8?this.ae-=W/(2*Math.PI):x.length<5&&W>10?this.ae/=2:this.ae-=W>0?1.7:-2.3,this.Ps=this.ae*f,this.BT(e,n,s,r))}UT(e,n,s,r){const a=this.ae,u=this.Ps,h=this.vf;let f=a*Math.cos(s*Math.PI/180),m=u*Math.sin(s*Math.PI/180);const y=T.l(),x=e.toArray();for(let D=0;D<x.length&&(x[D].centerX=f,x[D].centerY=m,!(D>=x.length-1));D++)this.zT(f,m,x,D,r,y)||this.XT(f,m,x,D,r,y),f=y.x,m=y.y;if(T.s(y),this.Ha++,this.Ha>23)return;const S=Math.atan2(m,f);let E=r===10?this.Oy-S:S-this.Oy;E=Math.abs(E)<Math.abs(E-2*Math.PI)?E:E-2*Math.PI;const L=E*(a+u)/2;this.vy.IO(L,x),Math.abs(L)>1&&(this.Ha<8?this.ae-=L/(2*Math.PI):this.ae-=L>0?1.7:-2.3,this.Ps=this.ae*h,this.UT(e,n,s,r))}zT(e,n,s,r,a,u){const h=this.Ah,f=this.ae,m=this.Ps;let y=0,x=0;const S=(s[r].width+s[r+1].width)/2+h;let E=!1;if(n>=0!=(a===10)){if(y=e+S,y>f){if(y=e-S,y<-f)return u.x=y,u.y=x,!1;E=!0}}else if(y=e-S,y<-f){if(y=e+S,y>f)return u.x=y,u.y=x,!1;E=!0}return x=Math.sqrt(1-Math.min(1,y*y/(f*f)))*m,n<0!==E&&(x=-x),Math.abs(n-x)>(s[r].height+s[r+1].height)/2?(u.x=y,u.y=x,!1):(u.x=y,u.y=x,!0)}XT(e,n,s,r,a,u){const h=this.Ah,f=this.ae,m=this.Ps;let y=0,x=0;const S=(s[r].height+s[r+1].height)/2+h;let E=!1;if(e>=0!=(a===10)){if(x=n-S,x<-m){if(x=n+S,x>m)return u.x=y,u.y=x,!1;E=!0}}else if(x=n+S,x>m){if(x=n-S,x<-m)return u.x=y,u.y=x,!1;E=!0}return y=Math.sqrt(1-Math.min(1,x*x/(m*m)))*f,e<0!==E&&(y=-y),Math.abs(e-y)>(s[r].width+s[r+1].width)/2?(u.x=y,u.y=x,!1):(u.x=y,u.y=x,!0)}commitLayout(){this.commitNodes(),this.isRouting&&this.commitLinks()}commitNodes(){const e=this.group!==null&&this.group.hasPlaceholder(),n=e?this.group.location.copy():null;let s=this.actualCenter;e?s=new T(0,0):(s.x=this.arrangementOrigin.x+this.ae,s.y=this.arrangementOrigin.y+this.Ps);const r=this.network.vertexes.iterator;for(;r.next();){const a=r.value;a.x+=s.x,a.y+=s.y,a.commit()}if(e){this.group.ensureBounds();const a=this.group.position.copy(),u=this.group.location.copy(),h=n.subtract(u.subtract(a));this.group.move(h),this.NN=h.subtract(a)}}commitLinks(){const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}AN(e,n,s,r){const a=this.ET;if(Math.abs(this.vf-1)<.001)return s!==void 0&&r!==void 0?r*e:2*Math.PI*e;const u=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;let h=0,f=0;s!==void 0&&r!==void 0?f=r/(a+1):f=Math.PI/(2*(a+1));let m=0;for(let y=0;y<=a;y++){s!==void 0&&r!==void 0?m=s+y*r/a:m=y*Math.PI/(2*a);const x=Math.sin(m);h+=Math.sqrt(1-u*u*x*x)*f}return s!==void 0&&r!==void 0?(e>n?e:n)*h:4*(e>n?e:n)*h}V1(e,n,s,r){let a=0;return s!==void 0&&r!==void 0?a=this.AN(1,n,s,r):a=this.AN(1,n),e/a}U1(e,n,s,r){if(Math.abs(this.vf-1)<.001)return r/e;const a=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;let u=0;const h=2*Math.PI/(this.network.vertexes.count*700);e>n&&(s+=Math.PI/2);for(let f=0;;f++){const m=s+f*h,y=Math.sin(m);if(u+=(e>n?e:n)*Math.sqrt(1-a*a*y*y)*h,u>=r)return f*h}}vO(e){switch(this.sorting){case 20:break;case 21:e.reverse();break;case 22:e.sort(this.comparer);break;case 23:e.sort(this.comparer),e.reverse();break;case 24:return this.EO(this.VO(e));default:o.o("Invalid sorting type.")}return e}VO(e){const n=[];for(let r=0;r<e.length;r++)n.push(0);const s=new w;for(let r=0;r<e.length;r++){let a=-1,u=-1;if(r===0)for(let x=0;x<e.length;x++){const S=e.elt(x).edgesCount;S>a&&(a=S,u=x)}else for(let x=0;x<e.length;x++){const S=n[x];S>a&&(a=S,u=x)}s.add(e.elt(u)),n[u]=-1;const h=e.elt(u);let f=0;const m=h.sourceEdges;for(;m.next();){const x=m.value.fromVertex;f=e.indexOf(x),!(f<0)&&n[f]>=0&&n[f]++}const y=h.destinationEdges;for(;y.next();){const x=y.value.toVertex;f=e.indexOf(x),!(f<0)&&n[f]>=0&&n[f]++}}return s}EO(e){const n=[];for(let S=0;S<e.length;S++){const E=e.elt(S);n[S]=[];let L=0;const D=E.destinationEdges;for(;D.next();){const V=D.value.toVertex;L=e.indexOf(V),L!==S&&n[S].indexOf(L)<0&&n[S].push(L)}const F=E.sourceEdges;for(;F.next();){const V=F.value.fromVertex;L=e.indexOf(V),L!==S&&n[S].indexOf(L)<0&&n[S].push(L)}}const s=[];for(let S=0;S<n.length;S++)s[S]=0;const r=[],a=[],u=[],h=[],f=new w;let m=0;for(let S=0;S<n.length;S++){const E=n[S].length;if(E===1){h.push(S);continue}if(E===0){f.add(e.elt(S));continue}if(m===0){r.push(S),m++;continue}let L=1/0,D=1/0,F=-1;const V=[];for(let U=0;U<r.length;U++)n[r[U]].indexOf(r[U===r.length-1?0:U+1])<0&&V.push(U===r.length-1?0:U+1);if(V.length===0)for(let U=0;U<r.length;U++)V.push(U);for(let U=0;U<V.length;U++){const W=V[U],q=this.UO(n[S],a,u,s,W,r);let le=0;for(let oe=0;oe<n[S].length;oe++){const ce=n[S][oe],Se=r.indexOf(ce);if(Se>=0){const he=Math.abs(W-(Se>=W?Se+1:Se));le+=he<r.length+1-he?he:r.length+1-he}}for(let oe=0;oe<a.length;oe++){let ce=s[a[oe]],Se=s[u[oe]];if(ce>=W&&ce++,Se>=W&&Se++,ce>Se){const he=Se;Se=ce,ce=he}Se-ce<(r.length+2)/2==(ce<W&&W<=Se)&&le++}(q<L||q===L&&le<D)&&(L=q,D=le,F=W)}r.splice(F,0,S);for(let U=0;U<r.length;U++)s[r[U]]=U;for(let U=0;U<n[S].length;U++){const W=n[S][U];r.indexOf(W)>=0&&(a.push(S),u.push(W))}m++}let y=!1;const x=r.length;for(;;){y=!0;for(let S=0;S<h.length;S++){const E=h[S],L=n[E][0],D=r.indexOf(L);if(D>=0){let F=0;for(let V=0;V<n[L].length;V++){const U=n[L][V],W=r.indexOf(U);if(W<0||W===D)continue;const q=W>D?W-D:D-W,le=x-q;F+=W<D!=q>le?1:-1}r.splice(F<0?D:D+1,0,E),h.splice(S,1),S--}else y=!1}if(y)break;r.push(h[0]),h.splice(0,1)}for(let S=0;S<r.length;S++){const E=r[S];f.add(e.elt(E))}return f}UO(e,n,s,r,a,u){let h=0;for(let f=0;f<n.length;f++){const m=n[f],y=s[f],x=r[m],S=r[y];let E=0,L=0;if(x<S?(E=x,L=S):(E=S,L=x),E<a&&a<=L)for(let D=0;D<e.length;D++){const F=e[D];u.indexOf(F)<0||E<r[F]&&r[F]<L||E===r[F]||L===r[F]||h++}else for(let D=0;D<e.length;D++){const F=e[D];u.indexOf(F)<0||!(E<r[F]&&r[F]<L)||E===r[F]||L===r[F]||h++}}return h}get radius(){return this.mg}set radius(e){this.mg!==e&&(e>0||isNaN(e))&&(this.mg=e,this.invalidateLayout())}get aspectRatio(){return this.pg}set aspectRatio(e){this.pg!==e&&e>0&&(this.pg=e,this.invalidateLayout())}get startAngle(){return this.yg}set startAngle(e){this.yg!==e&&(this.yg=e,this.invalidateLayout())}get sweepAngle(){return this.Of}set sweepAngle(e){this.Of!==e&&(e>0&&e<=360?this.Of=e:this.Of=360,this.invalidateLayout())}get arrangement(){return this.zi}set arrangement(e){this.zi!==e&&(e===3||e===0||e===1||e===2)&&(this.zi=e,this.invalidateLayout())}get direction(){return this.S}set direction(e){this.S!==e&&(e===10||e===11||e===12||e===13)&&(this.S=e,this.invalidateLayout())}get sorting(){return this.we}set sorting(e){this.we!==e&&(this.we=e,this.invalidateLayout())}get comparer(){return this.xe}set comparer(e){this.xe!==e&&(this.xe=e,this.invalidateLayout())}get spacing(){return this.An}set spacing(e){this.An!==e&&(this.An=e,this.invalidateLayout())}get nodeDiameterFormula(){return this.wg}set nodeDiameterFormula(e){this.wg!==e&&(e===30||e===31)&&(this.wg=e,this.invalidateLayout())}get actualXRadius(){return this.ae}get actualYRadius(){return this.Ps}get actualSpacing(){return this.Ah}get actualCenter(){return this.NN}}k(gs,"ConstantSpacing",0),k(gs,"ConstantDistance",1),k(gs,"ConstantAngle",2),k(gs,"Packed",3),k(gs,"Clockwise",10),k(gs,"Counterclockwise",11),k(gs,"BidirectionalLeft",12),k(gs,"BidirectionalRight",13),k(gs,"Forwards",20),k(gs,"Reverse",21),k(gs,"Ascending",22),k(gs,"Descending",23),k(gs,"Optimized",24),k(gs,"Pythagorean",30),k(gs,"Circular",31);class yv{constructor(){k(this,"If");k(this,"qa");k(this,"Ef");this.If=-1/0,this.qa=null,this.Ef=null}OO(t,e){if(t>0&&this.If<0||Math.abs(t)<Math.abs(this.If)&&!(t<0&&this.If>0)){this.If=t,this.qa=[],this.Ef=[];for(let n=0;n<e.length;n++)this.qa[n]=e[n].bounds.x,this.Ef[n]=e[n].bounds.y}}IO(t,e){if(Math.abs(t)<Math.abs(this.If)){this.If=t,this.qa=[],this.Ef=[];for(let n=0;n<e.length;n++)this.qa[n]=e[n].bounds.x,this.Ef[n]=e[n].bounds.y}}commit(t){if(!(this.qa===null||this.Ef===null))for(let e=0;e<this.qa.length;e++){const n=t.elt(e);n.x=this.qa[e],n.y=this.Ef[e]}}}class bv extends qr{constructor(t){super(t)}createVertex(){return new wv(this)}createEdge(){return new xv(this)}}class wv extends Gr{constructor(e){super(e);k(this,"bo");k(this,"B1");this.bo=NaN,this.B1=NaN}Th(e){const n=this.network;if(n===null)return NaN;const s=n.layout;if(s===null)return NaN;if(s.arrangement===3){if(s.nodeDiameterFormula===31)return this.bo=Math.max(this.width,this.height),this.bo;{const r=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));return r===0?this.width:a===0?this.height:(this.bo=Math.min(this.height/r,this.width/a),this.bo)}}else return s.nodeDiameterFormula===31?(this.bo=Math.max(this.width,this.height),this.bo):(this.bo=Math.sqrt(this.width*this.width+this.height*this.height),this.bo)}get diameter(){return this.bo}set diameter(e){this.bo!==e&&(this.bo=e)}get actualAngle(){return this.B1}set actualAngle(e){this.B1!==e&&(this.B1=e)}}class xv extends bl{constructor(t){super(t)}}class zM extends es{constructor(e){super();k(this,"Uy");k(this,"Dh");k(this,"Ms");k(this,"xg");k(this,"Rn");k(this,"Oe");k(this,"bg");k(this,"kg");k(this,"Pg");k(this,"Vf");k(this,"Mg");k(this,"Sg");k(this,"Uf");k(this,"Bf");k(this,"zf");k(this,"Xf");k(this,"Ng");k(this,"Cg");k(this,"Kf");k(this,"Wa");this.Uy=0,this.Dh=0,this.Ms=new _(100,100).g(),this.xg=!1,this.Rn=!0,this.Oe=!1,this.bg=100,this.kg=300,this.Pg=1,this.Vf=1e3,this.Mg=10,this.Sg=Math,this.Uf=.05,this.Bf=50,this.zf=150,this.Xf=0,this.Ng=10,this.Cg=5,this.Kf=NaN,this.Wa=10,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Ms.a(this.Ms),e.xg=this.xg,e.Rn=this.Rn,e.Oe=this.Oe,e.bg=this.bg,e.kg=this.kg,e.Pg=this.Pg,e.Vf=this.Vf,e.Mg=this.Mg,e.Sg=this.Sg,e.Uf=this.Uf,e.Bf=this.Bf,e.zf=this.zf,e.Xf=this.Xf,e.Ng=this.Ng,e.Cg=this.Cg,e.Kf=this.Kf,e.Wa=this.Wa}createNetwork(){return new Sv(this)}doLayout(e){this.network=this.makeNetwork(e);let n=this.network.vertexes.iterator;const s=this.maxIterations;if(this.network.vertexes.count>0){for(this.network.deleteSelfEdges(),n=this.network.vertexes.iterator;n.next();){const a=n.value;a.charge=this.electricalCharge(a),a.mass=this.gravitationalMass(a)}const r=this.network.edges.iterator;for(;r.next();){const a=r.value;a.stiffness=this.springStiffness(a),a.length=this.springLength(a)}if(this.TN(),this.Dh=0,this.needsPrelayout()){const a=this.network,u=a.splitIntoSubNetworks(!1);let h=u.iterator;for(;h.next();){const f=h.value;this.doConnectedSubnetLayout(f)}for(h=u.iterator,this.BO(h,a),h=u.iterator;h.next();){const f=h.value,m=f.vertexes.iterator;for(;m.next();){const x=m.value;a.addVertex(x)}const y=f.edges.iterator;for(;y.next();){const x=y.value;a.addEdge(x)}}}else this.KT(this.network,this.maxIterations);this.updateParts()}this.maxIterations=s,this.isValidLayout=!0}needsPrelayout(){if(this.network.vertexes.count<3)return!1;let e=0,n=0;const s=this.network.vertexes.first().bounds,r=this.network.vertexes.iterator;for(;r.next();){const a=r.value,u=a.bounds;if(isNaN(a.x)||isNaN(a.y)||u.intersectsRect(s)&&(e++,e>2))return!0;if(n>10)return!1;n++}return!1}doConnectedSubnetLayout(e){let n=e.vertexes.iterator;for(;n.next();){const f=n.value;f.hierarchicalVertexes.add(f)}let s=e,r=this.Kf;if(isNaN(r)&&(r=e.edges.count/e.vertexes.count),r<e.vertexes.count)for(;s.vertexes.count>Math.max(100,Math.sqrt(r*e.vertexes.count));)s=this.coarsenNetwork(s);let a=0;n=s.vertexes.iterator;let u=this.randomNumberGenerator;for(u===null&&(this.randomNumberGenerator=u=new Mv(0));n.next();){n.value.idInCluster=a++;const f=10*(u.random()-.5),m=10*(u.random()-.5);n.value.x=f,n.value.y=m;const y=n.value.hierarchicalVertexes.iterator;for(;y.next();)y.value.x=f,y.value.y=m}const h=this.computePairwiseDistances(s);this.zO(s,h,this.maxPrelayoutIterations,e.vertexes.count),this.KT(e,this.maxIterations)}computePairwiseDistances(e){const n=e.vertexes.count,s=new Array(n);for(let h=0;h<n;h++)s[h]=new Array(n).fill(-1),s[h][h]=0;const r=e.vertexes.iterator;let a=new Map,u=[];for(;r.next();){const h=r.value;for(u=[h],a=new Map,a.set(h.idInCluster,0);u.length>0;){const f=u.shift(),m=f.vertexes.iterator;for(;m.next();){const y=m.value;a.has(y.idInCluster)||(a.set(y.idInCluster,a.get(f.idInCluster)+1),u.push(y))}}for(let f=0;f<n;f++){const m=Math.min(s[h.idInCluster][f],s[f][h.idInCluster]),y=a.get(f);(m<0||y<m)&&(s[h.idInCluster][f]=y,s[f][h.idInCluster]=y)}}return s}coarsenNetwork(e){const n=this.createNetwork(),s=new Map;let r=0,a=e.vertexes.iterator;for(;a.next();)a.value.idInCluster=r++;for(a=e.vertexes.iterator;a.next();){const h=a.value;if(s.has(h.idInCluster))continue;let f=Number.MAX_SAFE_INTEGER,m=null;const y=h.vertexes.iterator;for(;y.next();){const S=y.value;s.has(S.idInCluster)||S.hierarchicalVertexes.length<f&&(f=S.hierarchicalVertexes.length,m=S)}const x=n.createVertex();x.hierarchicalVertexes.addAll(h.hierarchicalVertexes),m!=null&&x.hierarchicalVertexes.addAll(m.hierarchicalVertexes),s.set(h.idInCluster,x),m!=null&&s.set(m.idInCluster,x),n.addVertex(x)}const u=e.edges.iterator;for(;u.next();){const h=u.value,f=s.get(h.fromVertex.idInCluster),m=s.get(h.toVertex.idInCluster);if(f===m)continue;const y=n.createEdge();y.fromVertex=f,y.toVertex=m,n.addEdge(y)}return n}Mw(e,n){let s=!0;const r=e.vertexes.iterator;for(;r.next();){const a=r.value;s?(s=!1,n.set(a.bounds)):n.unionRect(a.bounds)}return n}BO(e,n){const s=this.arrangementSpacing,r=e.count;let a=!0,u=0,h=0;const f=o.rt();for(let S=0;S<r+n.vertexes.count+2;S++)f[S]=null;let m=0;e.reset();const y=I.l();let x;for(;e.next();){const S=e.value;if(this.Mw(S,y),a)a=!1,u=y.x+y.width/2,h=y.y+y.height/2,f[0]=new T(y.x+y.width+s.width,y.y),f[1]=new T(y.x,y.y+y.height+s.height),m=2;else{const E=this.YT(f,m,u,h,y.width,y.height,s),L=f[E],D=new T(L.x+y.width+s.width,L.y),F=new T(L.x,L.y+y.height+s.height);E+1<m&&f.splice(E+1,0,null),f[E]=D,f[E+1]=F,m++;const V=L.x-y.x,U=L.y-y.y;for(x=S.vertexes.iterator;x.next();){const W=x.value;W.centerX+=V,W.centerY+=U}}}for(I.s(y),x=n.vertexes.iterator;x.next();){const S=x.value,E=S.bounds;if(m<2){u=E.x+E.width/2,h=E.y+E.height/2,f[0]=new T(E.x+E.width+s.width,E.y),f[1]=new T(E.x,E.y+E.height+s.height),m=2;continue}const L=this.YT(f,m,u,h,E.width,E.height,s),D=f[L],F=new T(D.x+E.width+s.width,D.y),V=new T(D.x,D.y+E.height+s.height);L+1<m&&f.splice(L+1,0,null),f[L]=F,f[L+1]=V,m++,S.centerX=D.x+S.width/2,S.centerY=D.y+S.height/2}o.it(f)}YT(e,n,s,r,a,u,h){let f=9e19,m=-1;e:for(let y=0;y<n;y++){const x=e[y],S=x.x-s,E=x.y-r,L=S*S+E*E;if(L<f){for(let D=y-1;D>=0;D--)if(e[D].y>x.y&&e[D].x-x.x<a+h.width)continue e;for(let D=y+1;D<n;D++)if(e[D].x>x.x&&e[D].y-x.y<u+h.height)continue e;m=y,f=L}}return m}TN(){if(!this.comments)return;const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value;this.addComments(n)}}addComments(e){const n=e.node;if(n!==null){const s=n.findNodesConnected();for(;s.next();){const r=s.value;if(r.category!=="Comment"||!r.isVisible())continue;let a=this.network.findVertex(r);a===null&&(a=this.network.addNode(r)),a.charge=this.defaultCommentElectricalCharge;let u=null;const h=a.destinationEdges;for(;h.next();){const f=h.value;if(f.toVertex===e){u=f;break}}if(u===null){const f=a.sourceEdges;for(;f.next();){const m=f.value;if(m.fromVertex===e){u=m;break}}}u===null&&(u=this.network.linkVertexes(e,a,null)),u.length=this.defaultCommentSpringLength}}}DN(e,n){const s=e.bounds,r=s.x,a=s.y,u=s.width,h=s.height,f=n.bounds,m=f.x,y=f.y,x=f.width,S=f.height;if(r+u<m)if(a>y+S){const E=r+u-m,L=a-y-S;return $.ww(E*E+L*L)}else if(a+h<y){const E=r+u-m,L=a+h-y;return $.ww(E*E+L*L)}else return m-(r+u);else if(r>m+x)if(a>y+S){const E=r-m-x,L=a-y-S;return $.ww(E*E+L*L)}else if(a+h<y){const E=r-m-x,L=a+h-y;return $.ww(E*E+L*L)}else return r-(m+x);else return a>y+S?a-(y+S):a+h<y?y-(a+h):.1}KT(e,n){const s=this.Dh+n;for(;this.Dh<s&&(this.Dh++,!!this.XO(e)););}XO(e){const n=e.vertexes.toArray();if(n.length<=0)return!1;const s=n[0];s.forceX=0,s.forceY=0;let r=s.centerX,a=r,u=s.centerY,h=u;for(let D=1;D<n.length;D++){const F=n[D];F.forceX=0,F.forceY=0;const V=F.centerX,U=F.centerY;r=Math.min(r,V),a=Math.max(a,V),u=Math.min(u,U),h=Math.max(h,U)}const f=a-r>h-u;f?n.sort((D,F)=>D===null||F===null||D===F?0:D.centerX-F.centerX):n.sort((D,F)=>D===null||F===null||D===F?0:D.centerY-F.centerY);const m=this.Vf;let y=0,x=0,S=0;for(let D=0;D<n.length;D++){const F=n[D],V=F.bounds,U=F.focus,W=V.x+U.x,q=V.y+U.y;x=F.charge*this.electricalFieldX(W,q),S=F.charge*this.electricalFieldY(W,q),x+=F.mass*this.gravitationalFieldX(W,q),S+=F.mass*this.gravitationalFieldY(W,q),F.forceX+=x,F.forceY+=S;for(let le=D+1;le<n.length;le++){const oe=n[le];if(!this.shouldInteract(F,oe)||le===D)continue;const ce=oe.bounds,Se=oe.focus,he=ce.x+Se.x,ge=ce.y+Se.y;if(W-he>m||he-W>m){if(f)break;continue}if(q-ge>m||ge-q>m){if(!f)break;continue}const ke=this.DN(F,oe),we=2*F.charge,Pe=2*oe.charge;if(ke>1)y=we*Pe/(ke*ke),x=y*(W-he)/ke,S=y*(q-ge)/ke;else{let Re=this.randomNumberGenerator;Re===null&&(this.randomNumberGenerator=Re=new Mv(0));const Xe=Re.random(),at=Re.random();if(W>he)x=Math.abs(oe.bounds.right-F.bounds.x),x=we*Pe*(1+x)*Xe;else if(W<he)x=Math.abs(oe.bounds.x-F.bounds.right),x=-(we*Pe)*(1+x)*Xe;else{const je=Math.max(oe.width,F.width);x=we*Pe*((1+je)*Xe-je/2)}if(q>ge)S=Math.abs(oe.bounds.bottom-F.bounds.y),S=we*Pe*(1+S)*at;else if(W<he)S=Math.abs(oe.bounds.y-F.bounds.bottom),S=-(we*Pe)*(1+S)*at;else{const je=Math.max(oe.height,F.height);S=we*Pe*((1+je)*at-je/2)}}F.forceX+=x,F.forceY+=S,oe.forceX-=x,oe.forceY-=S}}const E=e.edges.iterator;for(;E.next();){const D=E.value,F=D.fromVertex,V=D.toVertex,U=F.bounds,W=F.focus,q=U.x+W.x,le=U.y+W.y,oe=V.bounds,ce=V.focus,Se=oe.x+ce.x,he=oe.y+ce.y,ge=this.DN(F,V);ge>1&&(y=.1*D.stiffness*(ge-D.length),x=y*.5*(F.width+V.height)*(q-Se)/ge,S=y*.5*(F.width+V.height)*(le-he)/ge),F.forceX-=x,F.forceY-=S,V.forceX+=x,V.forceY+=S}let L=0;for(let D=0;D<n.length;D++){const F=n[D];this.isFixed(F)?this.moveFixedVertex(F):L=Math.max(L,this.moveVertex(F)||0)}return L>this.epsilonDistance*this.epsilonDistance}zO(e,n,s,r){const a=this.Dh+s,u=Math.sqrt(r);this.Uy=this.Wa*e.vertexes.count;const h=e.vertexes.toArray();let f=0,m=0,y=0;for(;this.Dh<a;){this.Dh++,m=f,f=0;for(let x=0;x<h.length;x++){h[x].forceX=0,h[x].forceY=0;for(let E=0;E<h.length;E++){if(x===E)continue;const L=this.DN(h[x],h[E]),D=n[h[x].idInCluster][h[E].idInCluster],F=(L-this.Wa*u*D)/L;h[x].forceX+=F*(h[E].x-h[x].x),h[x].forceY+=F*(h[E].y-h[x].y)}const S=Math.sqrt(h[x].forceX*h[x].forceX+h[x].forceY*h[x].forceY);if(S>0){h[x].forceX=this.Uy*h[x].forceX/S,h[x].forceY=this.Uy*h[x].forceY/S,h[x].x+=h[x].forceX,h[x].y+=h[x].forceY;const E=h[x].hierarchicalVertexes.iterator;for(;E.next();){const L=E.value;L.centerX+=h[x].forceX,L.centerY+=h[x].forceY}}f+=S*S}if(f>=m){if(y++,y>=5)break}else y=0;this.Uy*=.95}}moveVertex(e){let n=e.forceX,s=e.forceY;const r=this.moveLimit;return n<-r?n=-r:n>r&&(n=r),s<-r?s=-r:s>r&&(s=r),e.centerX+=n,e.centerY+=s,n*n+s*s}shouldInteract(e,n){return!0}moveFixedVertex(e){}commitLayout(){this.By(),this.commitNodes(),this.isRouting&&this.commitLinks()}By(){if(!this.setsPortSpots)return;const e=this.network.edges.iterator;for(;e.next();){const n=e.value.link;n!==null&&(n.fromSpot=B.Default,n.toSpot=B.Default)}}commitNodes(){let e=0,n=0;if(this.arrangesToOrigin){const a=I.l();this.Mw(this.network,a);const u=this.arrangementOrigin;e=u.x-a.x,n=u.y-a.y,I.s(a)}const s=I.l(),r=this.network.vertexes.iterator;for(;r.next();){const a=r.value;(e!==0||n!==0)&&(s.a(a.bounds),s.x+=e,s.y+=n,a.bounds=s),a.commit()}I.s(s)}commitLinks(){const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}springStiffness(e){const n=e.stiffness;return isNaN(n)?this.Uf:n}springLength(e){const n=e.length;return isNaN(n)?this.Bf:n}electricalCharge(e){const n=e.charge;return isNaN(n)?this.zf:n}electricalFieldX(e,n){return 0}electricalFieldY(e,n){return 0}gravitationalMass(e){const n=e.mass;return isNaN(n)?this.Xf:n}gravitationalFieldX(e,n){return 0}gravitationalFieldY(e,n){return 0}isFixed(e){return e.isFixed}get currentIteration(){return this.Dh}get arrangementSpacing(){return this.Ms}set arrangementSpacing(e){this.Ms.equals(e)||(this.Ms.a(e),this.invalidateLayout())}get arrangesToOrigin(){return this.xg}set arrangesToOrigin(e){this.xg!==e&&(this.xg=e,this.invalidateLayout())}get setsPortSpots(){return this.Rn}set setsPortSpots(e){this.Rn!==e&&(this.Rn=e,this.invalidateLayout())}get comments(){return this.Oe}set comments(e){this.Oe!==e&&(this.Oe=e,this.invalidateLayout())}get maxPrelayoutIterations(){return this.bg}set maxPrelayoutIterations(e){this.bg!==e&&e>=0&&(this.bg=e,this.invalidateLayout())}get maxIterations(){return this.kg}set maxIterations(e){this.kg!==e&&e>=0&&(this.kg=e,this.invalidateLayout())}get epsilonDistance(){return this.Pg}set epsilonDistance(e){this.Pg!==e&&e>0&&(this.Pg=e,this.invalidateLayout())}get infinityDistance(){return this.Vf}set infinityDistance(e){this.Vf!==e&&e>1&&(this.Vf=e,this.invalidateLayout())}get moveLimit(){return this.Mg}set moveLimit(e){this.Mg!==e&&(this.Mg=e,this.invalidateLayout())}get randomNumberGenerator(){return this.Sg}set randomNumberGenerator(e){this.Sg!==e&&(e!==null&&typeof e.random!="function"&&o.o('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+e),this.Sg=e)}get defaultSpringStiffness(){return this.Uf}set defaultSpringStiffness(e){this.Uf!==e&&(this.Uf=e,this.invalidateLayout())}get defaultSpringLength(){return this.Bf}set defaultSpringLength(e){this.Bf!==e&&(this.Bf=e,this.invalidateLayout())}get defaultElectricalCharge(){return this.zf}set defaultElectricalCharge(e){this.zf!==e&&(this.zf=e,this.invalidateLayout())}get defaultGravitationalMass(){return this.Xf}set defaultGravitationalMass(e){this.Xf!==e&&(this.Xf=e,this.invalidateLayout())}get defaultCommentSpringLength(){return this.Ng}set defaultCommentSpringLength(e){this.Ng!==e&&(this.Ng=e,this.invalidateLayout())}get defaultCommentElectricalCharge(){return this.Cg}set defaultCommentElectricalCharge(e){this.Cg!==e&&(this.Cg=e,this.invalidateLayout())}get prelayoutQuality(){return this.Kf}set prelayoutQuality(e){this.Kf!==e&&(this.Kf=e,this.invalidateLayout())}get prelayoutSpread(){return this.Wa}set prelayoutSpread(e){this.Wa!==e&&(this.Wa=e,this.invalidateLayout())}}class Sv extends qr{constructor(t){super(t)}createVertex(){return new kv(this)}createEdge(){return new Cv(this)}}class kv extends Gr{constructor(e){super(e);k(this,"z1");k(this,"X1");k(this,"K1");k(this,"Y1");k(this,"G1");k(this,"hierarchicalVertexes");k(this,"idInCluster");this.z1=!1,this.X1=NaN,this.K1=NaN,this.Y1=0,this.G1=0,this.hierarchicalVertexes=new w,this.idInCluster=-1}get isFixed(){return this.z1}set isFixed(e){this.z1!==e&&(this.z1=e)}get charge(){return this.X1}set charge(e){this.X1!==e&&(this.X1=e)}get mass(){return this.K1}set mass(e){this.K1!==e&&(this.K1=e)}get forceX(){return this.Y1}set forceX(e){this.Y1!==e&&(this.Y1=e)}get forceY(){return this.G1}set forceY(e){this.G1!==e&&(this.G1=e)}}class Cv extends bl{constructor(e){super(e);k(this,"j1");k(this,"H1");this.j1=NaN,this.H1=NaN}get stiffness(){return this.j1}set stiffness(e){this.j1!==e&&(this.j1=e)}get length(){return this.H1}set length(e){this.H1!==e&&(this.H1=e)}}class Mv{constructor(t){k(this,"I");k(this,"R");k(this,"Q");k(this,"M");k(this,"A");k(this,"seed");t===void 0&&(t=42),this.seed=t,this.A=48271,this.M=2147483647,this.Q=this.M/this.A,this.R=this.M%this.A,this.I=1/this.M,this.random()}random(){const t=this.seed/this.Q,e=this.seed%this.Q,n=this.A*e-this.R*t;return n>0?this.seed=n:this.seed=n+this.M,this.seed*this.I}}var _f=(H=>(H[H.DepthFirst=0]="DepthFirst",H[H.Greedy=1]="Greedy",H[H.FromLayers=2]="FromLayers",H))(_f||{}),Kf=(H=>(H[H.OptimalLinkLength=10]="OptimalLinkLength",H[H.LongestPathSink=11]="LongestPathSink",H[H.LongestPathSource=12]="LongestPathSource",H))(Kf||{}),Hf=(H=>(H[H.DepthFirstOut=20]="DepthFirstOut",H[H.DepthFirstIn=21]="DepthFirstIn",H[H.Naive=22]="Naive",H))(Hf||{}),jf=(H=>(H[H.None=30]="None",H[H.Less=31]="Less",H[H.More=32]="More",H))(jf||{}),Pv=(H=>(H[H.None=0]="None",H[H.Expand=1]="Expand",H[H.Straighten=2]="Straighten",H[H.Median=4]="Median",H[H.MaybeExpand=8]="MaybeExpand",H[H.All=15]="All",H))(Pv||{}),Tv=(H=>(H[H.None=0]="None",H[H.UpperLeft=1]="UpperLeft",H[H.UpperRight=2]="UpperRight",H[H.LowerLeft=4]="LowerLeft",H[H.LowerRight=8]="LowerRight",H[H.All=15]="All",H))(Tv||{});class Ai extends es{constructor(e){super();k(this,"Ss");k(this,"Wi");k(this,"S");k(this,"Yf");k(this,"Gf");k(this,"jf");k(this,"Ja");k(this,"Hf");k(this,"or");k(this,"qf");k(this,"Rn");k(this,"Mt");k(this,"zy");k(this,"Kt");k(this,"Lg");k(this,"Ns");k(this,"di");k(this,"Qs");k(this,"Cs");k(this,"Ls");k(this,"Ut");k(this,"Ag");k(this,"$a");k(this,"Tg");k(this,"_s");k(this,"Wf");k(this,"rr");k(this,"vn");k(this,"On");k(this,"FN");this.Ss=25,this.Wi=25,this.S=0,this.Yf=0,this.Gf=10,this.jf=20,this.Ja=4,this.Hf=31,this.or=15,this.qf=10,this.Rn=!0,this.Mt=-1,this.zy=-1,this.Kt=-1,this.Lg=0,this.Ns=0,this.di=null,this.Qs=null,this.Cs=null,this.Ls=null,this.Ut=null,this.Ag=0,this.$a=null,this.Tg=null,this._s=0,this.Wf=null,this.rr=new T,this.vn=[],this.vn.length=100,this.On=15,this.FN=0,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Ss=this.Ss,e.Wi=this.Wi,e.S=this.S,e.Yf=this.Yf,e.Gf=this.Gf,e.jf=this.jf,e.Ja=this.Ja,e.Hf=this.Hf,e.or=this.or,e.qf=this.qf,e.Rn=this.Rn,e.On=this.On}li(e){e in jf?this.aggressiveOption=e:e in _f?this.cycleRemoveOption=e:e in Hf?this.initializeOption=e:e in Kf?this.layeringOption=e:super.li(e)}createNetwork(){return new Nv(this)}doLayout(e){this.network===null&&(this.network=this.makeNetwork(e)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.KO(),this.network.vertexes.count>0&&(this.network.deleteSelfEdges(),this.cycleRemoveOption!==2&&this.removeCycles(),this.YO(),this.cycleRemoveOption===2&&this.removeCycles(),this.GO(),this.jO(),this.HO(),this.reduceCrossings(),this.straightenAndPack(),this.updateParts()),this.network=null,this.isValidLayout=!0}linkMinLength(e){return 1}linkLengthWeight(e){return 1}linkStraightenWeight(e){const n=e.fromVertex.node||e.fromVertex.data,s=e.toVertex.node||e.toVertex.data;return n===null&&s===null?8:n===null||s===null?4:1}nodeMinLayerSpace(e,n){return e.node===null&&e.data===null?0:this.S===90||this.S===270?n?e.focus.y+10:e.bounds.height-e.focus.y+10:n?e.focus.x+10:e.bounds.width-e.focus.x+10}nodeMinColumnSpace(e,n){if(e.node===null&&e.data===null)return 0;const s=n?e.q1:e.W1;if(s!==null)return s;const r=this.S;return r===90||r===270?n?e.q1=e.focus.x/this.Wi+1|0:e.W1=(e.bounds.width-e.focus.x)/this.Wi+1|0:n?e.q1=e.focus.y/this.Wi+1|0:e.W1=(e.bounds.height-e.focus.y)/this.Wi+1|0}Ji(){this.$a===null&&(this.$a=[]);let e=0;const n=this.network.vertexes.iterator;for(;n.next();){const s=n.value;this.$a[e]=s.layer,e++,this.$a[e]=s.column,e++,this.$a[e]=s.index,e++}return this.$a}Qe(e){let n=0;const s=this.network.vertexes.iterator;for(;s.next();){const r=s.value;r.layer=e[n],n++,r.column=e[n],n++,r.index=e[n],n++}}GT(e,n){const s=this.Fh(e),r=this.di[e];(this.Tg===null||this.Tg.length<r*r)&&(this.Tg=[]);const a=this.Tg;for(let u=0;u<r;u++){let h=0;const f=s[u],m=f.near;let y=0;m!==null&&m!==f&&m.layer===f.layer&&(h+=Math.max(0,Math.abs(m.index-f.index)-1));let x,S=0,E,L=0,D=0,F=0,V,U=0,W,q=0,le=0,oe=0,ce;if(n>=0){for(x=s[u].po,S=0;S<x.length;S++)if(E=x[S],E.valid&&E.fromVertex.layer!==e)for(L=E.fromVertex.index,D=E.portToPos,F=E.portFromPos,U=S+1;U<x.length;U++)W=x[U],W.valid&&W.fromVertex.layer!==e&&(q=W.fromVertex.index,le=W.portToPos,oe=W.portFromPos,D<le&&(L>q||L===q&&F>oe)&&h++,le<D&&(q>L||q===L&&oe>F)&&h++)}if(n<=0){for(x=s[u].er,S=0;S<x.length;S++)if(E=x[S],E.valid&&E.toVertex.layer!==e)for(L=E.toVertex.index,D=E.portToPos,F=E.portFromPos,U=S+1;U<x.length;U++)W=x[U],W.valid&&W.toVertex.layer!==e&&(q=W.toVertex.index,le=W.portToPos,oe=W.portFromPos,F<oe&&(L>q||L===q&&D>le)&&h++,oe<F&&(q>L||q===L&&le>D)&&h++)}for(a[u*r+u]=h,y=u+1;y<r;y++){let Se=0,he=0;if(n>=0){for(V=s[u].po,ce=s[y].po,S=0;S<V.length;S++)if(E=V[S],E.valid&&E.fromVertex.layer!==e)for(L=E.fromVertex.index,D=E.portToPos,F=E.portFromPos,U=0;U<ce.length;U++)W=ce[U],W.valid&&W.fromVertex.layer!==e&&(q=W.fromVertex.index,le=W.portToPos,oe=W.portFromPos,(L<q||L===q&&F<oe)&&he++,(q<L||q===L&&oe<F)&&Se++)}if(n<=0){for(V=s[u].er,ce=s[y].er,S=0;S<V.length;S++)if(E=V[S],E.valid&&E.toVertex.layer!==e)for(L=E.toVertex.index,D=E.portToPos,F=E.portFromPos,U=0;U<ce.length;U++)W=ce[U],W.valid&&W.toVertex.layer!==e&&(q=W.toVertex.index,le=W.portToPos,oe=W.portFromPos,(L<q||L===q&&D<le)&&he++,(q<L||q===L&&le<D)&&Se++)}a[u*r+y]=Se,a[y*r+u]=he}}return this.Rh(e,s),a}countCrossings(){let e=0;for(let n=0;n<=this.Mt;n++){const s=this.GT(n,1),r=this.di[n];for(let a=0;a<r;a++)for(let u=a;u<r;u++)e+=s[a*r+u]}return e}qO(e,n,s){const r=this.Fh(e),a=this.di[e];let u=0;for(let h=0;h<a;h++){let f=null;n<=0&&(f=r[h].po);let m=null;n>=0&&(m=r[h].er);let y,x=0,S=0;if(f!==null)for(let E=0;E<f.length;E++)y=f[E],y.valid&&y.fromVertex.layer!==e&&(x=y.fromVertex.column+y.portFromColOffset,S=y.toVertex.column+y.portToColOffset,s?u+=Math.abs(x-S)*this.linkStraightenWeight(y):u+=Math.abs(x-S));if(m!==null)for(let E=0;E<m.length;E++)y=m[E],y.valid&&y.toVertex.layer!==e&&(x=y.fromVertex.column+y.portFromColOffset,S=y.toVertex.column+y.portToColOffset,s?u+=(Math.abs(x-S)+1)*this.linkStraightenWeight(y):u+=Math.abs(x-S))}return this.Rh(e,r),u}J1(e){let n=0;for(let s=0;s<=this.Mt;s++)n+=this.qO(s,1,e);return n}Xy(){let e=1/0;this.Kt=-1;const n=this.network.vertexes.iterator;for(;n.next();){const s=n.value;e=Math.min(e,s.column-this.nodeMinColumnSpace(s,!0)),this.Kt=Math.max(this.Kt,s.column+this.nodeMinColumnSpace(s,!1))}for(n.reset();n.next();){const s=n.value;s.column-=e}this.Kt-=e}Ky(e,n){const s=this.Fh(e),r=this.di[e],a=[];for(let u=0;u<r;u++){const h=s[u];let f=null;n<=0&&(f=h.po);let m=null;n>=0&&(m=h.er);let y=0,x=0;const S=h.near;S!==null&&S.layer===h.layer&&(y+=S.column-1,x++);let E;if(f!==null)for(let L=0;L<f.length;L++){E=f[L];const D=E.fromVertex;E.valid&&!E.rev&&D.layer!==e&&(y+=D.column,x++)}if(m!==null)for(let L=0;L<m.length;L++){E=m[L];const D=E.toVertex;E.valid&&!E.rev&&D.layer!==e&&(y+=D.column,x++)}x===0?a[u]=-1:a[u]=y/x}return this.Rh(e,s),a}jT(e,n){const s=this.Fh(e),r=this.di[e],a=[];for(let u=0;u<r;u++){const h=s[u];let f=null;n<=0&&(f=h.po);let m=null;n>=0&&(m=h.er);let y=0;const x=[],S=h.near;S!==null&&S.layer===h.layer&&(x[y]=S.column-1,y++);let E;if(f!==null)for(let L=0;L<f.length;L++){E=f[L];const D=E.fromVertex;E.valid&&!E.rev&&D.layer!==e&&(x[y]=D.column+E.portFromColOffset,y++)}if(m!==null)for(let L=0;L<m.length;L++){E=m[L];const D=E.toVertex;E.valid&&!E.rev&&D.layer!==e&&(x[y]=D.column+E.portToColOffset,y++)}if(y===0)a[u]=-1;else{x.sort((D,F)=>D-F);const L=y>>1;y&1?a[u]=x[L]:a[u]=x[L-1]+x[L]>>1}}return this.Rh(e,s),a}Yy(e,n,s,r,a){if(e.component===s){e.component=n;let u=0,h=0;if(r){const f=e.destinationEdges;for(;f.next();){const m=f.value,y=m.toVertex;u=e.layer-y.layer,h=this.linkMinLength(m),u===h&&this.Yy(y,n,s,r,a)}}if(a){const f=e.sourceEdges;for(;f.next();){const m=f.value,y=m.fromVertex;u=y.layer-e.layer,h=this.linkMinLength(m),u===h&&this.Yy(y,n,s,r,a)}}}}RN(e,n,s,r,a){if(e.component===s){if(e.component=n,r){const u=e.destinationEdges;for(;u.next();){const h=u.value.toVertex;this.RN(h,n,s,r,a)}}if(a){const u=e.sourceEdges;for(;u.next();){const h=u.value.fromVertex;this.RN(h,n,s,r,a)}}}}removeCycles(){const e=this.network.edges.iterator;for(;e.next();){const n=e.value;n.rev=!1}switch(this.Yf){default:case 1:this.WO();break;case 0:this.JO();break;case 2:this.$O();break}}$O(){const e=this.network,n=e.vertexes.iterator;let s=1/0;for(;n.next();){const r=n.value;s=Math.min(s,r.layer)}if(s<1/0){if(s<0)for(n.reset();n.next();){const h=n.value;h.layer-=s}const r=[];for(n.reset();n.next();){const h=n.value,f=r[h.layer];f===void 0?r[h.layer]=[h]:f.push(h)}let a=0;for(let h=0;h<r.length;h++){const f=r[h];if(!f||f.length===0)a++;else if(h>0)for(let m=0;m<f.length;m++){const y=f[m];y.layer-=a}}const u=e.edges.iterator;for(;u.next();){const h=u.value,f=h.fromVertex,m=h.toVertex;f.layer<m.layer&&(e.reverseEdge(h),h.rev=!0)}}}WO(){const e=this.network;let n=0,s=e.vertexes.count-1;const r=[];r.length=s+1;const a=e.vertexes.iterator;for(;a.next();){const h=a.value;h.$i=!0}for(;this.ZO(e)!==null;){let h;for(h=this.HT(e);h!==null;)r[s]=h,s--,h.$i=!1,h=this.HT(e);for(h=this.qT(e);h!==null;)r[n]=h,n++,h.$i=!1,h=this.qT(e);h=this.QO(e),h!==null&&(r[n]=h,n++,h.$i=!1)}for(let h=0;h<e.vertexes.count;h++)r[h].index=h;const u=e.edges.iterator;for(;u.next();){const h=u.value,f=h.fromVertex,m=h.toVertex;f.index>m.index&&(e.reverseEdge(h),h.rev=!0)}}ZO(e){const n=e.vertexes.iterator;for(;n.next();){const s=n.value;if(s.$i)return s}return null}HT(e){const n=e.vertexes.iterator;for(;n.next();){const s=n.value;if(s.$i){let r=!0;const a=s.destinationEdges;for(;a.next();)if(a.value.toVertex.$i){r=!1;break}if(r)return s}}return null}qT(e){const n=e.vertexes.iterator;for(;n.next();){const s=n.value;if(s.$i){let r=!0;const a=s.sourceEdges;for(;a.next();)if(a.value.fromVertex.$i){r=!1;break}if(r)return s}}return null}QO(e){let n=null,s=0;const r=this.network.vertexes.iterator;for(;r.next();){const a=r.value;if(a.$i){let u=0;const h=a.destinationEdges;for(;h.next();)h.value.toVertex.$i&&u++;let f=0;const m=a.sourceEdges;for(;m.next();)m.value.fromVertex.$i&&f++;(n===null||s<u-f)&&(n=a,s=u-f)}}return n}JO(){const e=this.network.vertexes.iterator;for(;e.next();){const s=e.value;s.Jf=-1,s.jn=-1}const n=this.network.edges.iterator;for(;n.next();){const s=n.value;s.forest=!1}for(this.Ag=0,e.reset();e.next();){const s=e.value;s.sourceEdges.count===0&&this.vN(s)}for(e.reset();e.next();){const s=e.value;s.Jf===-1&&this.vN(s)}for(n.reset();n.next();){const s=n.value;if(!s.forest){const r=s.fromVertex,a=r.Jf,u=r.jn,h=s.toVertex,f=h.Jf,m=h.jn;f<a&&u<m&&(this.network.reverseEdge(s),s.rev=!0)}}}vN(e){e.Jf=this.Ag,this.Ag++;const n=e.destinationEdges;for(;n.next();){const s=n.value,r=s.toVertex;r.Jf===-1&&(s.forest=!0,this.vN(r))}e.jn=this.Ag,this.Ag++}YO(){const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value;n.layer=-1}for(this.Mt=-1,this.assignLayers(),e.reset();e.next();){const n=e.value;this.Mt=Math.max(this.Mt,n.layer)}}assignLayers(){switch(this.Gf){case 11:this.WT();break;case 12:this._O();break;default:case 10:this.tI();break}}WT(){const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value,s=this.JT(n);this.Mt=Math.max(s,this.Mt)}}JT(e){let n=0;if(e.layer===-1){const s=e.destinationEdges;for(;s.next();){const r=s.value,a=r.toVertex,u=this.linkMinLength(r);n=Math.max(n,this.JT(a)+u)}e.layer=n}else n=e.layer;return n}_O(){let e=0;const n=this.network.vertexes.iterator;for(;n.next();){const s=n.value;e=this.$T(s),this.Mt=Math.max(e,this.Mt)}for(n.reset();n.next();){const s=n.value;s.layer=this.Mt-s.layer}}$T(e){let n=0;if(e.layer===-1){const s=e.sourceEdges;for(;s.next();){const r=s.value,a=r.fromVertex,u=this.linkMinLength(r);n=Math.max(n,this.$T(a)+u)}e.layer=n}else n=e.layer;return n}tI(){this.WT();const e=this.network.vertexes.iterator;for(;e.next();){const s=e.value;s.$i=!1}for(e.reset();e.next();){const s=e.value;s.sourceEdges.count===0&&this.ZT(s)}let n=1/0;for(e.reset();e.next();){const s=e.value;n=Math.min(n,s.layer)}for(this.Mt=-1,e.reset();e.next();){const s=e.value;s.layer-=n,this.Mt=Math.max(this.Mt,s.layer)}}ZT(e){if(!e.$i){e.$i=!0;const n=e.destinationEdges;for(;n.next();){const s=n.value.toVertex;this.ZT(s)}this.iI(e),this.eI(e)}}iI(e){const n=this.network.vertexes.iterator;for(;n.next();){const h=n.value;h.component=-1}const s=0,r=1,a=e.po;let u=a.length;for(let h=0;h<u;h++){const f=a[h],m=f.fromVertex,y=f.toVertex,x=this.linkMinLength(f);m.layer-y.layer>x&&this.Yy(m,s,-1,!0,!1)}for(this.Yy(e,r,-1,!0,!0);e.component!==s;){let h=0,f=1/0,m=0,y=null;const x=this.network.vertexes.iterator;for(;x.next();){const S=x.value;if(S.component===r){let E=0,L=!1;const D=S.po;u=D.length;for(let V=0;V<u;V++){const U=D[V],W=U.fromVertex;if(E+=this.linkLengthWeight(U),W.component!==r){h+=this.linkLengthWeight(U);const q=W.layer-S.layer,le=this.linkMinLength(U);f=Math.min(f,q-le)}}const F=S.er;u=F.length;for(let V=0;V<u;V++){const U=F[V],W=U.toVertex;E-=this.linkLengthWeight(U),W.component!==r?h-=this.linkLengthWeight(U):L=!0}(y===null||E<m)&&!L&&(y=S,m=E)}}if(h>0){for(n.reset();n.next();){const S=n.value;S.component===r&&(S.layer+=f)}e.component=s}else y.component=s}}eI(e){const n=this.network.vertexes.iterator;for(;n.next();){const a=n.value;a.component=-1}const s=0,r=1;for(this.Yy(e,r,-1,!0,!1);e.component!==s;){let a=0,u=1/0,h=0,f=null;const m=this.network.vertexes.iterator;for(;m.next();){const y=m.value;if(y.component===r){let x=0,S=!1;const E=y.po;let L=E.length;for(let F=0;F<L;F++){const V=E[F],U=V.fromVertex;x+=this.linkLengthWeight(V),U.component!==r?a+=this.linkLengthWeight(V):S=!0}const D=y.er;L=D.length;for(let F=0;F<L;F++){const V=D[F],U=V.toVertex;if(x-=this.linkLengthWeight(V),U.component!==r){a-=this.linkLengthWeight(V);const W=y.layer-U.layer,q=this.linkMinLength(V);u=Math.min(u,W-q)}}(f===null||x>h)&&!S&&(f=y,h=x)}}if(a<0){for(n.reset();n.next();){const y=n.value;y.component===r&&(y.layer-=u)}e.component=s}else f.component=s}}GO(){const e=this.network,n=[],s=e.edges.iterator;for(;s.next();){const r=s.value;r.valid=!1,n.push(r)}for(let r=0;r<n.length;r++){const a=n[r];let u=a.fromVertex;const h=a.toVertex;if(a.valid||(u.node===null&&u.data===null||h.node===null&&h.data===null)&&u.layer===h.layer)continue;let f=0,m=0,y=0,x=0;if(a.link!==null){const oe=a.link;if(oe===null)continue;const ce=u.node,Se=h.node;if(ce===null||Se===null)continue;let he=oe.fromNode,ge=oe.toNode,ke=oe.fromPort;for(;ke!==null&&!ke.isVisibleObject();)ke=ke.panel;let we=oe.toPort;for(;we!==null&&!we.isVisibleObject();)we=we.panel;if(a.rev){const Ct=he,sn=ke;he=ge,ke=we,ge=Ct,we=sn}const Pe=u.focus,Re=h.focus,Xe=a.rev?h.bounds:u.bounds,at=T.l();ce!==he?Xe.isReal()&&he.isVisible()?he.actualBounds.isReal()?(he.getRelativePoint(ke,B.Center,at),at.x+=he.actualBounds.x-Xe.x,at.y+=he.actualBounds.y-Xe.y):(he.getRelativePoint(ke,B.Center,at),at.isReal()||at.a(Pe)):at.a(Pe):Xe.isReal()?(he.getRelativePoint(ke,B.Center,at),at.isReal()||at.a(Pe)):at.a(Pe);const je=a.rev?u.bounds:h.bounds,ft=T.l();Se!==ge?je.isReal()&&ge.isVisible()?ge.actualBounds.isReal()?(ge.getRelativePoint(we,B.Center,ft),ft.x+=ge.actualBounds.x-je.x,ft.y+=ge.actualBounds.y-je.y):(ge.getRelativePoint(we,B.Center,ft),ft.isReal()||ft.a(Re)):ft.a(Re):je.isReal()?(ge.getRelativePoint(we,B.Center,ft),ft.isReal()||ft.a(Re)):ft.a(Re),this.S===90||this.S===270?(f=Math.round((at.x-Pe.x)/this.Wi),y=at.x,m=Math.round((ft.x-Re.x)/this.Wi),x=ft.x):(f=Math.round((at.y-Pe.y)/this.Wi),y=at.y,m=Math.round((ft.y-Re.y)/this.Wi),x=ft.y),T.s(at),T.s(ft),a.portFromColOffset=f,a.portFromPos=y,a.portToColOffset=m,a.portToPos=x}else a.portFromColOffset=0,a.portFromPos=0,a.portToColOffset=0,a.portToPos=0;let S=u.layer;const E=h.layer,L=this.sI(a),D=L===1||L===3,F=L===2||L===3;let V,U,W=null,q;F&&(W=this.nI(u,h),q=1,U=e.createVertex(),U.node=null,U.$1=1,U.layer=S,U.near=u,e.addVertex(U),V=e.linkVertexes(u,U,a.link),V.valid=!1,V.rev=a.rev,V.portFromColOffset=f,V.portToColOffset=0,V.portFromPos=y,V.portToPos=0,u=U);let le=1;if(D&&le--,S-E>le&&S>0){for(a.valid=!1,U=e.createVertex(),U.node=null,U.$1=2,U.layer=S-1,W&&q<W.length&&U.layer===W[q].layer&&(U.near=W[q++]),e.addVertex(U),V=e.linkVertexes(u,U,a.link),V.valid=!0,V.rev=a.rev,V.portFromColOffset=F?0:f,V.portToColOffset=0,V.portFromPos=F?0:y,V.portToPos=0,u=U,S--;S-E>le&&S>0;)U=e.createVertex(),U.node=null,U.$1=3,U.layer=S-1,W&&q<W.length&&U.layer===W[q].layer&&(U.near=W[q++]),e.addVertex(U),V=e.linkVertexes(u,U,a.link),V.valid=!0,V.rev=a.rev,V.portFromColOffset=0,V.portToColOffset=0,V.portFromPos=0,V.portToPos=0,u=U,S--;V=e.linkVertexes(U,h,a.link),V.valid=!D,D&&(U.near=h),V.rev=a.rev,V.portFromColOffset=0,V.portToColOffset=m,V.portFromPos=0,V.portToPos=x}else a.valid=!0}}sI(e){let n=0;const s=e.link;if(s!==null){const r=s.fromPort,a=s.toPort;if(r!==null&&a!==null){const u=s.fromNode,h=s.toNode;if(u!==null&&h!==null){const f=this.Z1(!0),m=this.Z1(!1),y=this.setsPortSpots?f:s.computeSpot(!0,r),x=this.setsPortSpots?m:s.computeSpot(!1,a),S=s.isOrthogonal;if(y.isSide()&&y.includesSide(m)&&x.isSide()&&x.includesSide(f))return 0;const E=s.getLinkPoint(u,r,y,!0,S,h,a,T.l()),L=s.getLinkDirection(u,r,E,y,!0,S,h,a);T.s(E),(!y.isNone()&&L===this.QT(e,!0)||this.setsPortSpots&&u!==null&&u.ports.count===1&&e.rev)&&(n+=1);const D=s.getLinkPoint(h,a,x,!1,S,u,r,T.l()),F=s.getLinkDirection(h,a,D,x,!1,S,u,r);T.s(D),(!x.isNone()&&F===this.QT(e,!1)||this.setsPortSpots&&h!==null&&h.ports.count===1&&e.rev)&&(n+=2)}}}return n}QT(e,n){return this.S===90?n&&!e.rev||!n&&e.rev?270:90:this.S===180?n&&!e.rev||!n&&e.rev?0:180:this.S===270?n&&!e.rev||!n&&e.rev?90:270:n&&!e.rev||!n&&e.rev?180:0}nI(e,n){const s=[];return s.push(n),this._T(e,s)?s.reverse():[]}_T(e,n){const s=n[n.length-1].sourceEdges.iterator;for(;s.next();){const r=s.value;if(r.rev||!r.valid)continue;const a=r.fromVertex;if(n.push(a),a===e||this._T(e,n))return!0;n.pop()}return!1}jO(){const e=this.di=[];for(let s=0;s<=this.Mt;s++)e[s]=0;const n=this.network.vertexes.iterator;for(;n.next();){const s=n.value;s.index=-1}this.initializeIndices(),this.zy=-1,this.Lg=0,this.Ns=0;for(let s=0;s<=this.Mt;s++)e[s]>e[this.Ns]&&(this.zy=e[s]-1,this.Ns=s),e[s]<e[this.Lg]&&(this.Lg=s);this.Wf=[];for(let s=0;s<e.length;s++)this.Wf[s]=[];for(n.reset();n.next();){const s=n.value,r=s.layer,a=this.Wf[r];a[s.index]=s}}initializeIndices(){switch(this.jf){default:case 22:this.oI();break;case 20:this.rI();break;case 21:this.lI();break}}oI(){let e=null;const n=this.network.vertexes.iterator;for(;n.next();){const s=n.value;if(s.near&&(e===null&&(e=new Map),s.layer===s.near.layer)){const r=e.get(s.near)||[];r.push(s),e.set(s.near,r)}}for(n.reset();n.next();){const s=n.value;if(s.near)continue;const r=s.layer;if(s.index=this.di[r],this.di[r]++,!e)continue;const a=e.get(s);Array.isArray(a)&&a.forEach(u=>{u.index=this.di[r],this.di[r]++})}}rI(){let e=null;const n=this.network.vertexes.iterator;for(;n.next();){const s=n.value;if(s.near&&(e===null&&(e=new Map),s.layer===s.near.layer)){const r=e.get(s.near)||[];r.push(s),e.set(s.near,r)}}for(let s=this.Mt;s>=0;s--)for(n.reset();n.next();){const r=n.value;r.layer===s&&r.index===-1&&this.tD(r,e)}}tD(e,n){if(e.near)return;const s=e.layer;if(e.index=this.di[s],this.di[s]++,n){const u=n.get(e);Array.isArray(u)&&u.forEach(h=>{h.index=this.di[s],this.di[s]++})}const r=e.er;let a=!0;for(;a;){a=!1;for(let u=0;u<r.length-1;u++){const h=r[u],f=r[u+1];h.portFromColOffset>f.portFromColOffset&&(a=!0,r[u]=f,r[u+1]=h)}}for(let u=0;u<r.length;u++){const h=r[u];if(h.valid){const f=h.toVertex;f.index===-1&&this.tD(f,n)}}}lI(){let e=null;const n=this.network.vertexes.iterator;for(;n.next();){const s=n.value;if(s.near&&(e===null&&(e=new Map),s.layer===s.near.layer)){const r=e.get(s.near)||[];r.push(s),e.set(s.near,r)}}for(let s=0;s<=this.Mt;s++)for(n.reset();n.next();){const r=n.value;r.layer===s&&r.index===-1&&this.iD(r,e)}}iD(e,n){if(e.near)return;const s=e.layer;if(e.index=this.di[s],this.di[s]++,n){const m=n.get(e);Array.isArray(m)&&m.forEach(y=>{y.index=this.di[s],this.di[s]++})}const r=e.po;let a=!0,u=0;for(;a;)for(a=!1,u=0;u<r.length-1;u++){const m=r[u],y=r[u+1];m.portToColOffset>y.portToColOffset&&(a=!0,r[u]=y,r[u+1]=m)}let h,f;for(u=0;u<r.length;u++)f=r[u],f.valid&&(h=f.fromVertex,h.index===-1&&this.iD(h,n))}HO(){this.Kt=-1;for(let e=0;e<=this.Mt;e++){const n=this.Fh(e);let s=0;const r=this.di[e];for(let a=0;a<r;a++){const u=n[a];s+=this.nodeMinColumnSpace(u,!0),u.column=s,s+=1,s+=this.nodeMinColumnSpace(u,!1)}this.Kt=Math.max(this.Kt,s-1),this.Rh(e,n)}}reduceCrossings(){let e=this.countCrossings(),n=this.Ji(),s=0,r=0,a=0;for(s=0;s<this.Ja;s++){for(r=0;r<=this.Mt;r++)this.Q1(r,1),this.hs(r,1,!1,1);for(a=this.countCrossings(),a<e&&(e=a,n=this.Ji()),r=this.Mt;r>=0;r--)this.Q1(r,-1),this.hs(r,-1,!1,-1);a=this.countCrossings(),a<e&&(e=a,n=this.Ji())}for(this.Qe(n),s=0;s<this.Ja;s++){for(r=0;r<=this.Mt;r++)this.Q1(r,0),this.hs(r,0,!1,0);for(a=this.countCrossings(),a<e&&(e=a,n=this.Ji()),r=this.Mt;r>=0;r--)this.Q1(r,0),this.hs(r,0,!1,0);a=this.countCrossings(),a<e&&(e=a,n=this.Ji())}this.Qe(n);let u=!1,h=0,f=0,m=0,y=0;switch(this.Hf){case 30:break;case 32:for(m=e+1;(y=this.countCrossings())<m;)for(m=y,h=this.Mt;h>=0;h--)for(f=0;f<=h;f++){for(u=!0;u;)for(u=!1,r=h;r>=f;r--)u=this.hs(r,-1,!1,-1)||u;for(a=this.countCrossings(),a>=e?this.Qe(n):(e=a,n=this.Ji()),u=!0;u;)for(u=!1,r=h;r>=f;r--)u=this.hs(r,1,!1,1)||u;for(a=this.countCrossings(),a>=e?this.Qe(n):(e=a,n=this.Ji()),u=!0;u;)for(u=!1,r=f;r<=h;r++)u=this.hs(r,1,!1,1)||u;for(a>=e?this.Qe(n):(e=a,n=this.Ji()),u=!0;u;)for(u=!1,r=f;r<=h;r++)u=this.hs(r,-1,!1,-1)||u;for(a>=e?this.Qe(n):(e=a,n=this.Ji()),u=!0;u;)for(u=!1,r=h;r>=f;r--)u=this.hs(r,0,!1,0)||u;for(a>=e?this.Qe(n):(e=a,n=this.Ji()),u=!0;u;)for(u=!1,r=f;r<=h;r++)u=this.hs(r,0,!1,0)||u;a>=e?this.Qe(n):(e=a,n=this.Ji())}break;default:case 31:for(h=this.Mt,f=0,m=e+1;(y=this.countCrossings())<m;){for(m=y,u=!0;u;)for(u=!1,r=h;r>=f;r--)u=this.hs(r,-1,!1,-1)||u;for(a=this.countCrossings(),a>=e?this.Qe(n):(e=a,n=this.Ji()),u=!0;u;)for(u=!1,r=h;r>=f;r--)u=this.hs(r,1,!1,1)||u;for(a=this.countCrossings(),a>=e?this.Qe(n):(e=a,n=this.Ji()),u=!0;u;)for(u=!1,r=f;r<=h;r++)u=this.hs(r,1,!1,1)||u;for(a>=e?this.Qe(n):(e=a,n=this.Ji()),u=!0;u;)for(u=!1,r=f;r<=h;r++)u=this.hs(r,-1,!1,-1)||u;for(a>=e?this.Qe(n):(e=a,n=this.Ji()),u=!0;u;)for(u=!1,r=h;r>=f;r--)u=this.hs(r,0,!1,0)||u;for(a>=e?this.Qe(n):(e=a,n=this.Ji()),u=!0;u;)for(u=!1,r=f;r<=h;r++)u=this.hs(r,0,!1,0)||u;a>=e?this.Qe(n):(e=a,n=this.Ji())}break}this.Qe(n)}Q1(e,n){let s=0,r=!1;const a=this.Fh(e),u=this.di[e],h=this.jT(e,n),f=this.Ky(e,n);for(s=0;s<u;s++)f[s]===-1&&(f[s]=a[s].column),h[s]===-1&&(h[s]=a[s].column);let m=!0,y;for(;m;)for(m=!1,s=0;s<u-1;s++)if(h[s+1]<h[s]||h[s+1]===h[s]&&f[s+1]<f[s]){r=!0,m=!0;const S=h[s];h[s]=h[s+1],h[s+1]=S;const E=f[s];f[s]=f[s+1],f[s+1]=E,y=a[s],a[s]=a[s+1],a[s+1]=y}let x=0;for(s=0;s<u;s++)y=a[s],y.index=s,x+=this.nodeMinColumnSpace(y,!0),y.column=x,x+=1,x+=this.nodeMinColumnSpace(y,!1);return this.Rh(e,a),r}hs(e,n,s,r){const a=this.Fh(e),u=this.di[e],h=this.GT(e,n);let f=0,m;if(!s||r>0)for(m=[],f=0;f<u;f++)m[f]=-1;else m=this.Ky(e,-1);let y;if(!s||r<0)for(y=[],f=0;f<u;f++)y[f]=-1;else y=this.Ky(e,1);let x=!1,S=!0;for(;S;)for(S=!1,f=0;f<u-1;f++){const E=h[a[f].index*u+a[f+1].index],L=h[a[f+1].index*u+a[f].index];let D=0,F=0;const V=a[f].column,U=a[f+1].column,W=this.nodeMinColumnSpace(a[f],!0),q=this.nodeMinColumnSpace(a[f],!1),le=this.nodeMinColumnSpace(a[f+1],!0),oe=this.nodeMinColumnSpace(a[f+1],!1),ce=V-W+le,Se=U-q+oe;let he=0,ge=0,ke=0,we=0,Pe=0,Re=0,Xe=0,at,je=0,ft,Ct=0;const sn=a[f].sourceEdges.iterator;if(s&&r<=0)for(;sn.next();){const Pn=sn.value;at=Pn.fromVertex,Pn.valid&&at.layer!==e&&(ke=this.linkStraightenWeight(Pn),we=Pn.portFromColOffset,Pe=Pn.portToColOffset,Re=at.column,he+=(Math.abs(V+Pe-(Re+we))+1)*ke,ge+=(Math.abs(Se+Pe-(Re+we))+1)*ke)}for(sn.reset();sn.next();){const Pn=sn.value;if(at=Pn.fromVertex,Pn.valid&&at.layer===e){for(je=0;je<a.length&&a[je]!==at;)je++;je<f&&(D+=2*(f-je),F+=2*(f+1-je)),je===f+1&&(D+=1),je>f+1&&(D+=4*(je-f),F+=4*(je-(f+1)))}}const Dt=a[f].destinationEdges.iterator;if(s&&r>=0)for(;Dt.next();){const Pn=Dt.value;ft=Pn.toVertex,Pn.valid&&ft.layer!==e&&(ke=this.linkStraightenWeight(Pn),we=Pn.portFromColOffset,Pe=Pn.portToColOffset,Xe=ft.column,he+=(Math.abs(V+we-(Xe+Pe))+1)*ke,ge+=(Math.abs(Se+we-(Xe+Pe))+1)*ke)}for(Dt.reset();Dt.next();){const Pn=Dt.value;if(ft=Pn.toVertex,Pn.valid&&ft.layer===e){for(Ct=0;Ct<a.length&&a[Ct]!==ft;)Ct++;Ct===f+1&&(F+=1)}}const Bt=a[f+1].sourceEdges.iterator;if(s&&r<=0)for(;Bt.next();){const Pn=Bt.value;at=Pn.fromVertex,Pn.valid&&at.layer!==e&&(ke=this.linkStraightenWeight(Pn),we=Pn.portFromColOffset,Pe=Pn.portToColOffset,Re=at.column,he+=(Math.abs(U+Pe-(Re+we))+1)*ke,ge+=(Math.abs(ce+Pe-(Re+we))+1)*ke)}for(Bt.reset();Bt.next();){const Pn=Bt.value;if(at=Pn.fromVertex,Pn.valid&&at.layer===e){for(je=0;je<a.length&&a[je]!==at;)je++;je<f&&(D+=2*(f+1-je),F+=2*(f-je)),je===f&&(F+=1),je>f+1&&(D+=4*(je-(f+1)),F+=4*(je-f))}}const It=a[f+1].destinationEdges.iterator;if(s&&r>=0)for(;It.next();){const Pn=It.value;ft=Pn.toVertex,Pn.valid&&ft.layer!==e&&(ke=this.linkStraightenWeight(Pn),we=Pn.portFromColOffset,Pe=Pn.portToColOffset,Xe=ft.column,he+=(Math.abs(U+we-(Xe+Pe))+1)*ke,ge+=(Math.abs(ce+we-(Xe+Pe))+1)*ke)}for(It.reset();It.next();){const Pn=It.value;if(ft=Pn.toVertex,Pn.valid&&ft.layer===e){for(Ct=0;Ct<a.length&&a[Ct]!==ft;)Ct++;Ct===f&&(D+=1)}}let zt=0,xn=0;const mn=m[a[f].index],Ot=y[a[f].index],Jt=m[a[f+1].index],ni=y[a[f+1].index];if(mn!==-1&&(zt+=Math.abs(mn-V),xn+=Math.abs(mn-Se)),Ot!==-1&&(zt+=Math.abs(Ot-V),xn+=Math.abs(Ot-Se)),Jt!==-1&&(zt+=Math.abs(Jt-U),xn+=Math.abs(Jt-ce)),ni!==-1&&(zt+=Math.abs(ni-U),xn+=Math.abs(ni-ce)),F<D-.5||F===D&&L<E-.5||F===D&&L===E&&ge<he-.5||F===D&&L===E&&ge===he&&xn<zt-.5){x=!0,S=!0,a[f].column=Se,a[f+1].column=ce;const Pn=a[f];a[f]=a[f+1],a[f+1]=Pn}}for(f=0;f<u;f++)a[f].index=f;return this.Rh(e,a),x}straightenAndPack(){if(this.On!==0){this.hI();return}let e=0,n=!1,s=(this.or&1)!==0;const r=(this.or&8)!==0;if(this.network.edges.count>1e3&&r&&(s=!1),s){const a=[];let u=0;for(u=0;u<=this.Mt;u++)a[u]=0;let h=0;const f=this.network.vertexes.iterator;for(;f.next();){const y=f.value;e=y.layer,h=y.column;const x=this.nodeMinColumnSpace(y,!1);a[e]=Math.max(a[e],h+x)}const m=8;for(f.reset();f.next();){const y=f.value;e=y.layer,h=y.column,y.column=((this.Kt-a[e])*m>>1)+h*m}this.Kt*=m}if(this.or&2){n=!0;let a=0;for(;n&&a<this.qf;){for(n=!1,e=this.Ns+1;e<=this.Mt;e++)n=this.Dg(e,1)||n;for(e=this.Ns-1;e>=0;e--)n=this.Dg(e,-1)||n;n=this.Dg(this.Ns,0)||n,a++}}if(this.or&4){for(e=this.Ns+1;e<=this.Mt;e++)this.ON(e,1);for(e=this.Ns-1;e>=0;e--)this.ON(e,-1);this.ON(this.Ns,0)}if(s&&(this.eD(-1),this.eD(1)),this.or&2){n=!0;let a=0;for(;n&&a<this.qf;){for(n=!1,n=this.Dg(this.Ns,0)||n,e=this.Ns+1;e<=this.Mt;e++)n=this.Dg(e,0)||n;for(e=this.Ns-1;e>=0;e--)n=this.Dg(e,0)||n;a++}}}Dg(e,n){let s=!1;for(;this.aI(e,n);)s=!0;return s}aI(e,n){let s=0;const r=this.Fh(e),a=this.di[e],u=this.Ky(e,-1);if(n>0)for(s=0;s<a;s++)u[s]=-1;const h=this.Ky(e,1);if(n<0)for(s=0;s<a;s++)h[s]=-1;let f=!1,m=!0;for(;m;)for(m=!1,s=0;s<a;s++){const y=r[s].column,x=this.nodeMinColumnSpace(r[s],!0),S=this.nodeMinColumnSpace(r[s],!1);let E=0;s-1<0||y-r[s-1].column-1>x+this.nodeMinColumnSpace(r[s-1],!1)?E=y-1:E=y;let L=0;s+1>=a||r[s+1].column-y-1>S+this.nodeMinColumnSpace(r[s+1],!0)?L=y+1:L=y;let D=0,F=0,V=0,U=0,W=0,q=0;if(n<=0){const ge=r[s].sourceEdges.iterator;for(;ge.next();){const ke=ge.value,we=ke.fromVertex;if(ke.valid&&we.layer!==e){U=this.linkStraightenWeight(ke),W=ke.portFromColOffset,q=ke.portToColOffset;const Pe=we.column;D+=(Math.abs(y+q-(Pe+W))+1)*U,F+=(Math.abs(E+q-(Pe+W))+1)*U,V+=(Math.abs(L+q-(Pe+W))+1)*U}}}if(n>=0){const ge=r[s].destinationEdges.iterator;for(;ge.next();){const ke=ge.value,we=ke.toVertex;if(ke.valid&&we.layer!==e){U=this.linkStraightenWeight(ke),W=ke.portFromColOffset,q=ke.portToColOffset;const Pe=we.column;D+=(Math.abs(y+W-(Pe+q))+1)*U,F+=(Math.abs(E+W-(Pe+q))+1)*U,V+=(Math.abs(L+W-(Pe+q))+1)*U}}}let le=0,oe=0,ce=0;const Se=u[r[s].index],he=h[r[s].index];Se!==-1&&(le+=Math.abs(Se-y),oe+=Math.abs(Se-E),ce+=Math.abs(Se-L)),he!==-1&&(le+=Math.abs(he-y),oe+=Math.abs(he-E),ce+=Math.abs(he-L)),F<D||F===D&&oe<le?(f=!0,m=!0,r[s].column=E):(V<D||V===D&&ce<le)&&(f=!0,m=!0,r[s].column=L)}return this.Rh(e,r),this.Xy(),f}ON(e,n){let s=0;const r=this.Fh(e),a=this.di[e],u=this.jT(e,n),h=[];for(s=0;s<a;s++)h[s]=u[s];let f=!1,m=!0;for(;m;)for(m=!1,s=0;s<a;s++){const y=r[s].column,x=this.nodeMinColumnSpace(r[s],!0),S=this.nodeMinColumnSpace(r[s],!1);let E=0,L=0,D=0,F=0,V=0;h[s]===-1?s===0&&s===a-1?E=y:s===0?(L=r[s+1].column,L-y===S+this.nodeMinColumnSpace(r[s+1],!0)?E=y-1:E=y):s===a-1?(D=r[s-1].column,y-D===x+this.nodeMinColumnSpace(r[s-1],!1)?E=y+1:E=y):(D=r[s-1].column,V=D+this.nodeMinColumnSpace(r[s-1],!1)+x+1,L=r[s+1].column,F=L-this.nodeMinColumnSpace(r[s+1],!0)-S-1,E=(V+F)/2|0):s===0&&s===a-1?E=h[s]:s===0?(L=r[s+1].column,F=L-this.nodeMinColumnSpace(r[s+1],!0)-S-1,E=Math.min(h[s],F)):s===a-1?(D=r[s-1].column,V=D+this.nodeMinColumnSpace(r[s-1],!1)+x+1,E=Math.max(h[s],V)):(D=r[s-1].column,V=D+this.nodeMinColumnSpace(r[s-1],!1)+x+1,L=r[s+1].column,F=L-this.nodeMinColumnSpace(r[s+1],!0)-S-1,V<h[s]&&h[s]<F?E=h[s]:V>=h[s]?E=V:F<=h[s]&&(E=F)),E!==y&&(f=!0,m=!0,r[s].column=E)}return this.Rh(e,r),this.Xy(),f}cI(){for(let e=0;e<=this.Kt;e++)for(;this.fI(e,1););this.Xy()}fI(e,n){let s=!0;const r=this.network.vertexes.iterator;for(;r.next();){const u=r.value,h=this.nodeMinColumnSpace(u,!0),f=this.nodeMinColumnSpace(u,!1);if(u.column-h<=e&&u.column+f>=e){s=!1;break}}let a=!1;if(s){if(n>0)for(r.reset();r.next();){const u=r.value;u.column>e&&(u.column-=1,a=!0)}if(n<0)for(r.reset();r.next();){const u=r.value;u.column<e&&(u.column+=1,a=!0)}}return a}uI(){this.cI();for(let e=0;e<this.Kt;e++)for(;this.dI(e,1););this.Xy()}dI(e,n){let s=e;n>0&&(s=e+1),n<0&&(s=e-1);let r=0;const a=[],u=[];for(r=0;r<=this.Mt;r++)a[r]=!1,u[r]=!1;const h=this.network.vertexes.iterator;for(;h.next();){const y=h.value,x=y.column-this.nodeMinColumnSpace(y,!0),S=y.column+this.nodeMinColumnSpace(y,!1);x<=e&&S>=e&&(a[y.layer]=!0),x<=s&&S>=s&&(u[y.layer]=!0)}let f=!0,m=!1;for(r=0;r<=this.Mt;r++)f=f&&!(a[r]&&u[r]);if(f){if(n>0)for(h.reset();h.next();){const y=h.value;y.column>e&&(y.column-=1,m=!0)}if(n<0)for(h.reset();h.next();){const y=h.value;y.column<e&&(y.column+=1,m=!0)}}return m}eD(e){this.uI();let n=0,s,r=0,a=0,u=0;if(e>0)for(n=0;n<=this.Kt;n++)for(s=this.Ji(),r=this.J1(!0),a=r+1;r<a;)a=r,this.sD(n,1),u=this.J1(!0),u>r?this.Qe(s):u<r&&(r=u,s=this.Ji());if(e<0)for(n=this.Kt;n>=0;n--)for(s=this.Ji(),r=this.J1(!0),a=r+1;r<a;)a=r,this.sD(n,-1),u=this.J1(!0),u>r?this.Qe(s):u<r&&(r=u,s=this.Ji());this.Xy()}sD(e,n){this._s=0;const s=this.network.vertexes.iterator;for(;s.next();){const x=s.value;x.component=-1}if(n>0)for(s.reset();s.next();){const x=s.value;x.column-this.nodeMinColumnSpace(x,!0)<=e&&(x.component=this._s)}if(n<0)for(s.reset();s.next();){const x=s.value;x.column+this.nodeMinColumnSpace(x,!1)>=e&&(x.component=this._s)}for(this._s++,s.reset();s.next();){const x=s.value;x.component===-1&&(this.RN(x,this._s,-1,!0,!0),this._s++)}let r=0;const a=[];for(r=0;r<this._s*this._s;r++)a[r]=!1;const u=[];for(r=0;r<(this.Mt+1)*(this.Kt+1);r++)u[r]=-1;for(s.reset();s.next();){const x=s.value,S=x.layer,E=Math.max(0,x.column-this.nodeMinColumnSpace(x,!0)),L=Math.min(this.Kt,x.column+this.nodeMinColumnSpace(x,!1));for(let D=E;D<=L;D++)u[S*(this.Kt+1)+D]=x.component}for(let x=0;x<=this.Mt;x++){if(n>0)for(let S=0;S<this.Kt;S++)u[x*(this.Kt+1)+S]!==-1&&u[x*(this.Kt+1)+S+1]!==-1&&u[x*(this.Kt+1)+S]!==u[x*(this.Kt+1)+S+1]&&(a[u[x*(this.Kt+1)+S]*this._s+u[x*(this.Kt+1)+S+1]]=!0);if(n<0)for(let S=this.Kt;S>0;S--)u[x*(this.Kt+1)+S]!==-1&&u[x*(this.Kt+1)+S-1]!==-1&&u[x*(this.Kt+1)+S]!==u[x*(this.Kt+1)+S-1]&&(a[u[x*(this.Kt+1)+S]*this._s+u[x*(this.Kt+1)+S-1]]=!0)}const h=[];for(r=0;r<this._s;r++)h[r]=!0;const f=[];f.push(0);let m=0;for(;f.length!==0;)if(m=f[f.length-1],f.pop(),h[m])for(h[m]=!1,r=0;r<this._s;r++)a[m*this._s+r]&&f.splice(0,0,r);let y=!1;if(n>0)for(s.reset();s.next();){const x=s.value;h[x.component]&&(x.column-=1,y=!0)}if(n<0)for(s.reset();s.next();){const x=s.value;h[x.component]&&(x.column+=1,y=!0)}return y}hI(){const e=o.rt(),n=this.Wf.length;for(let E=0;E<=n;E++)e[E]=[];const s=this.network.vertexes.iterator;for(;s.next();){const E=s.value,L=n-E.layer,D=e[L];D[E.index]=E}const r=new C;this.gI(e,r);let a=null,u=null,h=null,f=null;const m=(this.On&1)!==0,y=(this.On&2)!==0,x=(this.On&4)!==0,S=(this.On&8)!==0;m&&(this.ol(e,r,!0),a=this._1(e,!0,!1)),e.reverse(),x&&(this.ol(e,r,!1),h=this._1(e,!1,!1));for(const E of e)E.reverse();S&&(this.ol(e,r,!1),f=this._1(e,!1,!0)),e.reverse(),y&&(this.ol(e,r,!0),u=this._1(e,!0,!0)),o.it(e),this.mI(a,u,h,f),this.network.vertexes.each(E=>{const L=E,D=o.rt();m&&D.push(a.get(L)),y&&D.push(u.get(L)),x&&D.push(h.get(L)),S&&D.push(f.get(L)),D.sort((q,le)=>q-le);const F=D.length,V=Math.floor((F-1)/2),U=Math.ceil((F-1)/2),W=(D[V]+D[U])/2;o.it(D),L.ce=W})}gI(e,n){const s=e.length;for(let r=1;r<s-1;r++){let a=0,u=0;const h=e[r],f=e[r+1];for(let m=0;u<f.length;m++){const y=f[m],x=this.pI(y);if(m===f.length-1||x){let S=h.length-1;for(x&&(S=y.getProperSourceVertexes()[0].index);u<=m;){const E=f[u].getProperSourceEdges();for(const L of E){const D=L.fromVertex.index;(D<a||D>S)&&n.add(L)}u++}a=S}}}}pI(e){if(e.node===null){const n=e.getProperSourceVertexes();if(n.length>0)return n[0].node===null}return!1}ol(e,n,s){this.yI(e);for(const r of e){let a=-1;for(const u of r){const h=s?u.getProperSourceVertexes():u.getProperDestinationVertexes(),f=h.length;if(f>0){h.sort((y,x)=>y.vh-x.vh);const m=(f-1)/2;for(let y=Math.floor(m),x=Math.ceil(m);y<=x;y++)if(u.In===u){const S=h[y];let E;s?E=S.getDestinationEdge(u):E=u.getDestinationEdge(S),!n.contains(E)&&a<S.vh&&(S.In=u,u.Za=S.Za,u.In=S.Za,a=S.vh)}}}}}yI(e){for(let n=0;n<e.length;n++){const s=e[n];for(let r=0;r<s.length;r++){const a=s[r];a.Za=a,a.In=a,a.nD=n,a.vh=r}}}_1(e,n,s){const r=this.S===90||this.S===270;for(const u of e)for(const h of u)h._e=h,h.$f=1/0,h.ce=NaN,h.En=0;this.wI(e,n,s);for(const u of e)for(const h of u)h.Za===h&&this.oD(h,e);for(let u=0;u<e.length;u++){if(e[u].length<=0)continue;const h=e[u][0];if(h._e===h){h._e.$f===1/0&&(h._e.$f=0);let f=u,m=0,y;do{for(y=e[f][m];y.In!==y.Za;)if(y=y.In,f++,y.vh>0){const x=this.rD(y,e),S=r?x.width:x.height,E=y._e.$f+y.ce+y.En-(x.ce+x.En+S+this.columnSpacing);x._e.$f=Math.min(x._e.$f,E)}m=y.vh+1}while(f<e.length&&m<e[f].length&&y._e===e[f][m]._e)}}const a=new z;for(const u of e)for(const h of u){h.ce=h.ce+h._e.$f+h.En;const f=r?h.width:h.height;a.add(h,s?-h.ce-f:h.ce)}return a}wI(e,n,s){const r=this.S===90||this.S===270;for(const a of e)for(const u of a)if(u.Za===u){let h=0,f=u;for(;f.In!==u;){const m=f.In,y=r?f.width:f.height,x=r?m.width:m.height;let S,E,L,D;n?(L=f.getDestinationEdge(m),S=L.portFromPos,E=L.portToPos,L.link!==null&&(f.node&&f.node!==L.link.fromNode&&(S=r?f.focusX:f.focusY),m.node&&m.node!==L.link.toNode&&(E=r?m.focusX:m.focusY)),s?D=f.En+(y-S)-(x-E):D=f.En+S-E):(L=m.getDestinationEdge(f),S=L.portToPos,E=L.portFromPos,L.link!==null&&(f.node&&f.node!==L.link.toNode&&(S=r?f.focusX:f.focusY),m.node&&m.node!==L.link.fromNode&&(E=r?m.focusX:m.focusY)),s?D=f.En+(y-S)-(x-E):D=f.En+S-E),m.En=D,h=Math.min(h,D),f=f.In}f=u;do f.En=f.En-h,f=f.In;while(f!==u)}}oD(e,n){if(!isNaN(e.ce))return;e.ce=0;let s=e;do{if(s.vh>0){const r=this.rD(s,n),a=r.Za;this.oD(a,n),e._e===e&&(e._e=a._e);const u=this.S===90||this.S===270?r.width:r.height;if(e._e===a._e){const h=a.ce+r.En+u-s.En+this.columnSpacing;e.ce=Math.max(e.ce,h)}}s=s.In}while(s!==e);for(;s.In!==e;)s=s.In,s.ce=e.ce,s._e=e._e}rD(e,n){const s=e.nD,r=e.vh;return r<1&&o.o("Could not determine previous vertex in layer"),n[s][r-1]}mI(...e){let n=-1;const s=o.rt(),r=o.rt();let a=1/0;for(let u=0;u<4;u++){if(!e[u])continue;const h=this.xI(e[u],s,r,u);h<a&&(n=u,a=h)}for(let u=0;u<4;u++){const h=e[u];if(!h)continue;const f=u===0||u===2?s[n]-s[u]:r[n]-r[u];f!==0&&h.each(m=>{h.set(m.key,m.value+f)})}o.it(s),o.it(r)}xI(e,n,s,r){if(!e||e.count===0)return n[r]=0,s[r]=0,1/0;let a=1/0,u=-1/0;return e.each(h=>{const f=h.key,m=h.value,y=this.S===90||this.S===270?f.width:f.height;m<a&&(a=m),m+y>u&&(u=m+y)}),n[r]=a,s[r]=u,u-a}commitLayout(){this.By(),this.commitNodes(),this.IN(),this.isRouting&&this.commitLinks()}By(){if(!this.setsPortSpots)return;const e=this.Z1(!0),n=this.Z1(!1),s=this.network.edges.iterator;for(;s.next();){const r=s.value.link;r!==null&&(r.fromSpot=e,r.toSpot=n)}}Z1(e){return this.S===270?e?B.MiddleTop:B.MiddleBottom:this.S===90?e?B.MiddleBottom:B.MiddleTop:this.S===180?e?B.MiddleLeft:B.MiddleRight:e?B.MiddleRight:B.MiddleLeft}commitNodes(){this.Qs=[],this.Cs=[],this.Ls=[],this.Ut=[];for(let L=0;L<=this.Mt;L++)this.Qs[L]=0,this.Cs[L]=0,this.Ls[L]=0,this.Ut[L]=0;const e=this.network.vertexes.iterator;for(;e.next();){const L=e.value,D=L.layer;this.Qs[D]=Math.max(this.Qs[D],this.nodeMinLayerSpace(L,!0)),this.Cs[D]=Math.max(this.Cs[D],this.nodeMinLayerSpace(L,!1))}let n=0;const s=this.Ss;for(let L=0;L<=this.Mt;L++){let D=s;this.Qs[L]+this.Cs[L]<=0&&(D=0),L>0&&(n+=D/2),this.S===90||this.S===0?(n+=this.Cs[L],this.Ls[L]=n,n+=this.Qs[L]):(n+=this.Qs[L],this.Ls[L]=n,n+=this.Cs[L]),L<this.Mt&&(n+=D/2),this.Ut[L]=n}const r=n,a=this.arrangementOrigin;for(let L=0;L<=this.Mt;L++)this.S===270?this.Ls[L]=a.y+this.Ls[L]:this.S===90?(this.Ls[L]=a.y+r-this.Ls[L],this.Ut[L]=r-this.Ut[L]):this.S===180?this.Ls[L]=a.x+this.Ls[L]:(this.Ls[L]=a.x+r-this.Ls[L],this.Ut[L]=r-this.Ut[L]);const u=this.On!==0;e.reset();const h=this.S===270||this.S===90;let f=1/0,m=1/0,y=1/0,x=-1/0;for(;e.next();){const L=e.value,D=L.layer,F=L.column|0;let V=0,U=0;h?(V=a.x+this.Wi*F,U=this.Ls[D]):(V=this.Ls[D],U=a.y+this.Wi*F),L.centerX=V,L.centerY=U,u&&isFinite(L.ce)&&(h?L.node?L.x=a.x+L.ce:L.centerX=a.x+L.ce:L.node?L.y=a.y+L.ce:L.centerY=a.y+L.ce),f=Math.min(L.x,f),m=Math.min(L.y,m),h?(y=f,x=Math.max(x,L.bounds.right)):(y=m,x=Math.max(x,L.bounds.bottom))}this.FN=x-y;const S=a.x-f,E=a.y-m;for(this.rr=new T(u&&h?0:S,u&&!h?0:E),e.reset();e.next();){const L=e.value;L.x+=S,L.y+=E,L.commit()}}IN(){let e=0;const n=this.Ss;for(let a=0;a<=this.Mt;a++)e+=this.Qs[a],e+=this.Cs[a];e+=this.Mt*n;const s=[],r=this.On!==0?this.FN:this.Wi*this.Kt;for(let a=this.maxLayer;a>=0;a--)this.S===270?a===0?s.push(new I(0,0,r,Math.abs(this.Ut[0]))):s.push(new I(0,this.Ut[a-1],r,Math.abs(this.Ut[a-1]-this.Ut[a]))):this.S===90?a===0?s.push(new I(0,this.Ut[0],r,Math.abs(this.Ut[0]-e))):s.push(new I(0,this.Ut[a],r,Math.abs(this.Ut[a-1]-this.Ut[a]))):this.S===180?a===0?s.push(new I(0,0,Math.abs(this.Ut[0]),r)):s.push(new I(this.Ut[a-1],0,Math.abs(this.Ut[a-1]-this.Ut[a]),r)):a===0?s.push(new I(this.Ut[0],0,Math.abs(this.Ut[0]-e),r)):s.push(new I(this.Ut[a],0,Math.abs(this.Ut[a-1]-this.Ut[a]),r));this.commitLayers(s,this.rr)}commitLayers(e,n){}commitLinks(){const e=this.network.edges.iterator;let n;for(;e.next();)n=e.value.link,n!==null&&(n.startRoute(),n.clearPoints(),n.commitRoute());for(e.reset();e.next();)n=e.value.link,n!==null&&n.updateRoute();for(e.reset();e.next();){const s=e.value;if(n=s.link,n===null||n.pointsCount===0)continue;n.startRoute();const r=n;let a=r.fromNode,u=r.toNode,h=r.fromPort,f=r.toPort;if(a!==null){const ke=a.findVisibleNode();ke!==null&&ke!==a&&(a=ke,h=ke.port)}if(u!==null){const ke=u.findVisibleNode();ke!==null&&ke!==u&&(u=ke,f=ke.port)}const m=n.computeSpot(!0,h),y=n.computeSpot(!1,f);let x=s.fromVertex,S=s.toVertex;if(s.valid){if(n.curve===9&&n.pointsCount===4)if(x.column===S.column&&this.alignOption===0){const ke=n.getLinkPoint(a,h,m,!0,!1,u,f),we=n.getLinkPoint(u,f,y,!1,!1,a,h);ke.isReal()||ke.set(a.actualBounds.center),we.isReal()||we.set(u.actualBounds.center),n.clearPoints(),n.addPointAt(ke.x,ke.y),n.addPointAt((2*ke.x+we.x)/3,(2*ke.y+we.y)/3),n.addPointAt((ke.x+2*we.x)/3,(ke.y+2*we.y)/3),n.addPointAt(we.x,we.y)}else{let ke=!1,we=!1;if(h!==null&&m===B.None&&(ke=!0),f!==null&&y===B.None&&(we=!0),ke||we){let Pe=null;ke&&(Pe=n.getLinkPointFromPoint(a,h,h.getDocumentPoint(B.Center),n.getPoint(3),!0),Pe.isReal()||Pe.set(a.actualBounds.center),n.setPointAt(0,Pe.x,Pe.y));let Re=null;if(we&&(Re=n.getLinkPointFromPoint(u,f,f.getDocumentPoint(B.Center),n.getPoint(0),!1),Re.isReal()||Re.set(u.actualBounds.center),n.setPointAt(3,Re.x,Re.y)),Pe){const Xe=n.getPoint(2);n.setPointAt(1,(Pe.x*2+Xe.x)/3,(Pe.y*2+Xe.y)/3)}if(Re){const Xe=n.getPoint(1);n.setPointAt(2,(Re.x*2+Xe.x)/3,(Re.y*2+Xe.y)/3)}}}n.commitRoute();continue}if(x.layer===S.layer){n.commitRoute();continue}let E=!1,L=!1;const D=this.Ss;let F=0,V=n.firstPickIndex+1;if(n.isOrthogonal)L=!0,F=n.pointsCount,F>4&&n.points.removeRange(2,F-3);else if(n.curve===9)E=!0,F=n.pointsCount,F>4&&n.points.removeRange(2,F-3),F===4&&(V=2);else{F=n.pointsCount;const ke=m===B.None,we=y===B.None;F>2&&ke&&we?n.points.removeRange(1,F-2):F>3&&ke&&!we?n.points.removeRange(1,F-3):F>3&&!ke&&we?n.points.removeRange(2,F-2):F>4&&!ke&&!we&&n.points.removeRange(2,F-3)}let U,W,q=0,le=0,oe=0,ce=0,Se=0,he=0,ge=0;if(s.rev){let ke=0;for(;S!==null&&x!==S;){U=null,W=null;const we=S.sourceEdges.iterator;for(;we.next();){const Pe=we.value;if(Pe.link===s.link&&(U=Pe.fromVertex,W=Pe.toVertex,U.node===null))break}if(U===null)break;if(U!==x)if(q=n.getPoint(V-1).x,le=n.getPoint(V-1).y,oe=U.centerX,ce=U.centerY,L)this.S===180||this.S===0?V===n.firstPickIndex+1?(n.insertPointAt(V++,q,le),n.insertPointAt(V++,q,ce)):(W!==null?W.centerY:le)!==ce&&(Se=this.Ut[U.layer-1]+this.rr.x,n.insertPointAt(V++,Se,le),n.insertPointAt(V++,Se,ce)):V===n.firstPickIndex+1?(n.insertPointAt(V++,q,le),n.insertPointAt(V++,oe,le)):(W!==null?W.centerX:q)!==oe&&(Se=this.Ut[U.layer-1]+this.rr.y,n.insertPointAt(V++,q,Se),n.insertPointAt(V++,oe,Se));else if(V===n.firstPickIndex+1)if(he=Math.max(10,this.Qs[S.layer]),ge=Math.max(10,this.Cs[S.layer]),E)this.S===180?oe<=S.bounds.x?(ke=S.bounds.x,n.insertPointAt(V++,ke-he,ce),n.insertPointAt(V++,ke,ce),n.insertPointAt(V++,ke+ge,ce)):(n.insertPointAt(V++,oe-he,ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe+ge,ce)):this.S===90?ce>=S.bounds.bottom?(ke=S.bounds.y+S.bounds.height,n.insertPointAt(V++,oe,ke+ge),n.insertPointAt(V++,oe,ke),n.insertPointAt(V++,oe,ke-he)):(n.insertPointAt(V++,oe,ce+ge),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,ce-he)):this.S===270?ce<=S.bounds.y?(ke=S.bounds.y,n.insertPointAt(V++,oe,ke-he),n.insertPointAt(V++,oe,ke),n.insertPointAt(V++,oe,ke+ge)):(n.insertPointAt(V++,oe,ce-he),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,ce+ge)):this.S===0&&(oe>=S.bounds.right?(ke=S.bounds.x+S.bounds.width,n.insertPointAt(V++,ke+ge,ce),n.insertPointAt(V++,ke,ce),n.insertPointAt(V++,ke-he,ce)):(n.insertPointAt(V++,oe+ge,ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe-he,ce)));else{n.insertPointAt(V++,q,le);let Pe=0;this.S===180||this.S===0?((this.S===180?oe>=S.bounds.right:oe<=S.bounds.x)&&(Pe=(this.S===0?-he:ge)/2),n.insertPointAt(V++,q+Pe,ce)):((this.S===270?ce>=S.bounds.bottom:ce<=S.bounds.y)&&(Pe=(this.S===90?-he:ge)/2),n.insertPointAt(V++,oe,le+Pe)),n.insertPointAt(V++,oe,ce)}else he=Math.max(10,this.Qs[U.layer]),ge=Math.max(10,this.Cs[U.layer]),E?this.S===180?(n.insertPointAt(V++,oe-he-D,ce),n.insertPointAt(V++,Math.min(oe-he+D/2,oe),ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,Math.max(oe+ge-D/2,oe),ce),n.insertPointAt(V++,oe+ge+D,ce)):this.S===90?(n.insertPointAt(V++,oe,ce+ge+D),n.insertPointAt(V++,oe,Math.max(ce+ge-D/2,ce)),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,Math.min(ce-he+D/2,ce)),n.insertPointAt(V++,oe,ce-he-D)):this.S===270?(n.insertPointAt(V++,oe,ce-he-D),n.insertPointAt(V++,oe,Math.min(ce-he+D/2,ce)),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,Math.max(ce+ge-D/2,ce)),n.insertPointAt(V++,oe,ce+ge+D)):(n.insertPointAt(V++,oe+ge+D,ce),n.insertPointAt(V++,Math.max(oe+ge-D/2,oe),ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,Math.min(oe-he+D/2,oe),ce),n.insertPointAt(V++,oe-he-D,ce)):(this.S===180||this.S===90||this.S,n.insertPointAt(V++,oe,ce));S=U}if(f===null||m!==B.None||L)if(q=n.getPoint(V-1).x,le=n.getPoint(V-1).y,oe=n.getPoint(V).x,ce=n.getPoint(V).y,L){const we=this.Cs[x.layer];let Pe=0;this.S===180||this.S===0?(Pe=le,Pe>=x.bounds.y&&Pe<=x.bounds.bottom&&(this.S===180?oe>=x.bounds.x:oe<=x.bounds.right)&&(ke=x.centerX+(this.S===180?-we:we),Pe<x.bounds.y+x.bounds.height/2?Pe=x.bounds.y-this.Wi/2:Pe=x.bounds.bottom+this.Wi/2,n.insertPointAt(V++,ke,le),n.insertPointAt(V++,ke,Pe)),n.insertPointAt(V++,oe,Pe),n.insertPointAt(V++,oe,ce)):(Pe=q,Pe>=x.bounds.x&&Pe<=x.bounds.right&&(this.S===270?ce>=x.bounds.y:ce<=x.bounds.bottom)&&(ke=x.centerY+(this.S===270?-we:we),Pe<x.bounds.x+x.bounds.width/2?Pe=x.bounds.x-this.Wi/2:Pe=x.bounds.right+this.Wi/2,n.insertPointAt(V++,q,ke),n.insertPointAt(V++,Pe,ke)),n.insertPointAt(V++,Pe,ce),n.insertPointAt(V++,oe,ce))}else if(E)he=Math.max(10,this.Qs[x.layer]),ge=Math.max(10,this.Cs[x.layer]),this.S===180&&oe>=x.bounds.x?(ke=x.bounds.x+x.bounds.width,n.setPointAt(V-2,ke,le),n.setPointAt(V-1,ke+ge,le)):this.S===90&&ce<=x.bounds.bottom?(ke=x.bounds.y,n.setPointAt(V-2,q,ke),n.setPointAt(V-1,q,ke-he)):this.S===270&&ce>=x.bounds.y?(ke=x.bounds.y+x.bounds.height,n.setPointAt(V-2,q,ke),n.setPointAt(V-1,q,ke+ge)):this.S===0&&oe<=x.bounds.right&&(ke=x.bounds.x,n.setPointAt(V-2,ke,le),n.setPointAt(V-1,ke-he,le));else{he=Math.max(10,this.Qs[x.layer]),ge=Math.max(10,this.Cs[x.layer]);let we=0;this.S===180||this.S===0?((this.S===180?oe<=x.bounds.x:oe>=x.bounds.right)&&(we=(this.S===0?ge:-he)/2),n.insertPointAt(V++,oe+we,le)):((this.S===270?ce<=x.bounds.y:ce>=x.bounds.bottom)&&(we=(this.S===90?ge:-he)/2),n.insertPointAt(V++,q,ce+we)),n.insertPointAt(V++,oe,ce)}}else{for(;x!==null&&x!==S;){U=null,W=null;const ke=x.destinationEdges.iterator;for(;ke.next();){const we=ke.value;if(we.link===s.link&&(U=we.toVertex,W=we.fromVertex,W.node!==null&&(W=null),U.node===null))break}if(U===null)break;U!==S&&(q=n.getPoint(V-1).x,le=n.getPoint(V-1).y,oe=U.centerX,ce=U.centerY,L?this.S===180||this.S===0?(W!==null?W.centerY:le)!==ce&&(Se=this.Ut[U.layer]+this.rr.x,V===n.firstPickIndex+1&&(this.S===0?Se=Math.max(Se,q):Se=Math.min(Se,q)),n.insertPointAt(V++,Se,le),n.insertPointAt(V++,Se,ce)):(W!==null?W.centerX:q)!==oe&&(Se=this.Ut[U.layer]+this.rr.y,V===n.firstPickIndex+1&&(this.S===90?Se=Math.max(Se,le):Se=Math.min(Se,le)),n.insertPointAt(V++,q,Se),n.insertPointAt(V++,oe,Se)):(he=Math.max(10,this.Qs[U.layer]),ge=Math.max(10,this.Cs[U.layer]),E?this.S===180?(n.insertPointAt(V++,oe+ge+D,ce),n.insertPointAt(V++,Math.max(oe+ge-D/2,oe),ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,Math.min(oe-he+D/2,oe),ce),n.insertPointAt(V++,oe-he-D,ce)):this.S===90?(n.insertPointAt(V++,oe,ce-he-D),n.insertPointAt(V++,oe,Math.min(ce-he+D/2,ce)),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,Math.max(ce+ge-D/2,ce)),n.insertPointAt(V++,oe,ce+ge+D)):this.S===270?(n.insertPointAt(V++,oe,ce+ge+D),n.insertPointAt(V++,oe,Math.max(ce+ge-D/2,ce)),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,Math.min(ce-he+D/2,ce)),n.insertPointAt(V++,oe,ce-he-D)):(n.insertPointAt(V++,oe-he-D,ce),n.insertPointAt(V++,Math.min(oe-he+D/2,oe),ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,oe,ce),n.insertPointAt(V++,Math.max(oe+ge-D/2,oe),ce),n.insertPointAt(V++,oe+ge+D,ce)):this.S===180?(n.insertPointAt(V++,oe+ge,ce),n.insertPointAt(V++,oe-he,ce)):this.S===90?(n.insertPointAt(V++,oe,ce-he),n.insertPointAt(V++,oe,ce+ge)):this.S===270?(n.insertPointAt(V++,oe,ce+ge),n.insertPointAt(V++,oe,ce-he)):(n.insertPointAt(V++,oe-he,ce),n.insertPointAt(V++,oe+ge,ce)))),x=U}L&&(q=n.getPoint(V-1).x,le=n.getPoint(V-1).y,oe=n.getPoint(V).x,ce=n.getPoint(V).y,this.S===180||this.S===0?le!==ce&&(this.S===0?Se=Math.min(Math.max((oe+q)/2,this.Ut[S.layer]+this.rr.x),oe):Se=Math.max(Math.min((oe+q)/2,this.Ut[S.layer]+this.rr.x),oe),n.insertPointAt(V++,Se,le),n.insertPointAt(V++,Se,ce)):q!==oe&&(this.S===90?Se=Math.min(Math.max((ce+le)/2,this.Ut[S.layer]+this.rr.y),ce):Se=Math.max(Math.min((ce+le)/2,this.Ut[S.layer]+this.rr.y),ce),n.insertPointAt(V++,q,Se),n.insertPointAt(V++,oe,Se)))}if(r!==null&&E&&n.pointsCount>=4){if(h!==null){const ke=m===B.None?n.getLinkPointFromPoint(a,h,h.getDocumentPoint(B.Center),n.getPoint(3),!0):n.getPoint(0);if(m===B.None){const we=n.getPoint(2),Pe=n.getPoint(3);this.direction===90||this.direction===270?(n.setPointAt(1,(ke.x+we.x)/2,we.y),n.setPointAt(2,Pe.x,(we.y+Pe.y)/2)):(n.setPointAt(1,we.x,(ke.y+we.y)/2),n.setPointAt(2,(we.x+Pe.x)/2,Pe.y))}ke.isReal()||ke.set(a.actualBounds.center),n.setPointAt(0,ke.x,ke.y)}if(f!==null){const ke=y===B.None?n.getLinkPointFromPoint(u,f,f.getDocumentPoint(B.Center),n.getPoint(n.pointsCount-4),!1):n.getPoint(n.pointsCount-1);if(y===B.None){const we=n.getPoint(n.pointsCount-3),Pe=n.getPoint(n.pointsCount-4);this.direction===90||this.direction===270?(n.setPointAt(n.pointsCount-2,(ke.x+we.x)/2,we.y),n.setPointAt(n.pointsCount-2,Pe.x,(we.y+Pe.y)/2)):(n.setPointAt(n.pointsCount-2,we.x,(ke.y+we.y)/2),n.setPointAt(n.pointsCount-3,(we.x+Pe.x)/2,Pe.y))}ke.isReal()||ke.set(u.actualBounds.center),n.setPointAt(n.pointsCount-1,ke.x,ke.y)}}n.commitRoute(),s.commit()}}KO(){this.zy=-1,this.Lg=0,this.Ns=0,this.$a=null,this.Tg=null,this.Wf=null;for(let e=0;e<this.vn.length;e++)this.vn[e]=null}Fh(e){let n;const s=this.di[e];if(s>=this.vn.length){const a=[];for(let u=0;u<this.vn.length;u++)a[u]=this.vn[u];this.vn=a}this.vn[s]===void 0||this.vn[s]===null?n=[]:(n=this.vn[s],this.vn[s]=null);const r=this.Wf[e];for(let a=0;a<r.length;a++){const u=r[a];n[u.index]=u}return n}Rh(e,n){this.vn[this.di[e]]=n}get layerSpacing(){return this.Ss}set layerSpacing(e){this.Ss!==e&&e>=0&&(this.Ss=e,this.invalidateLayout())}get columnSpacing(){return this.Wi}set columnSpacing(e){this.Wi!==e&&e>0&&(this.Wi=e,this.invalidateLayout())}get direction(){return this.S}set direction(e){this.S!==e&&(e===0||e===90||e===180||e===270?(this.S=e,this.invalidateLayout()):o.o("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}get cycleRemoveOption(){return this.Yf}set cycleRemoveOption(e){this.Yf!==e&&(e===1||e===0||e===2)&&(this.Yf=e,this.invalidateLayout())}get layeringOption(){return this.Gf}set layeringOption(e){this.Gf!==e&&(e===10||e===11||e===12)&&(this.Gf=e,this.invalidateLayout())}get initializeOption(){return this.jf}set initializeOption(e){this.jf!==e&&(e===20||e===21||e===22)&&(this.jf=e,this.invalidateLayout())}get iterations(){return this.Ja}set iterations(e){this.Ja!==e&&e>=0&&(this.Ja=e,this.invalidateLayout())}get aggressiveOption(){return this.Hf}set aggressiveOption(e){this.Hf!==e&&(e===30||e===31||e===32)&&(this.Hf=e,this.invalidateLayout())}get packOption(){return this.or}set packOption(e){this.or!==e&&e>=0&&e<8&&(this.or=e,this.invalidateLayout())}get packIterations(){return this.qf}set packIterations(e){this.qf=e}get alignOption(){return this.On}set alignOption(e){this.On!==e&&e>=0&&e<16&&(this.On=e,this.invalidateLayout())}get setsPortSpots(){return this.Rn}set setsPortSpots(e){this.Rn!==e&&(this.Rn=e,this.invalidateLayout())}get maxLayer(){return this.Mt}get maxIndex(){return this.zy}get maxColumn(){return this.Kt}get minIndexLayer(){return this.Lg}get maxIndexLayer(){return this.Ns}}k(Ai,"CycleDepthFirst",0),k(Ai,"CycleGreedy",1),k(Ai,"CycleFromLayers",2),k(Ai,"LayerOptimalLinkLength",10),k(Ai,"LayerLongestPathSink",11),k(Ai,"LayerLongestPathSource",12),k(Ai,"InitDepthFirstOut",20),k(Ai,"InitDepthFirstIn",21),k(Ai,"InitNaive",22),k(Ai,"AggressiveNone",30),k(Ai,"AggressiveLess",31),k(Ai,"AggressiveMore",32),k(Ai,"PackNone",0),k(Ai,"PackExpand",1),k(Ai,"PackStraighten",2),k(Ai,"PackMedian",4),k(Ai,"PackAll",15),k(Ai,"AlignNone",0),k(Ai,"AlignUpperLeft",1),k(Ai,"AlignUpperRight",2),k(Ai,"AlignLowerLeft",4),k(Ai,"AlignLowerRight",8),k(Ai,"AlignAll",15);class Nv extends qr{constructor(t){super(t)}createVertex(){return new Nu(this)}createEdge(){return new Av(this)}}class Nu extends Gr{constructor(e){super(e);k(this,"Jo");k(this,"Bo");k(this,"Dt");k(this,"tk");k(this,"ik");k(this,"$i");k(this,"Jf");k(this,"jn");k(this,"$1");k(this,"q1");k(this,"W1");k(this,"Za");k(this,"In");k(this,"nD");k(this,"vh");k(this,"_e");k(this,"$f");k(this,"ce");k(this,"En");k(this,"Gy",null);k(this,"jy",null);k(this,"Hy",null);k(this,"qy",null);this.Jo=-1,this.Bo=-1,this.Dt=-1,this.tk=NaN,this.ik=null,this.$i=!1,this.Jf=NaN,this.jn=NaN,this.$1=0,this.q1=null,this.W1=null}static lD(e,n){return e.index-n.index}getProperSourceEdges(){if(!this.Hy){const e=[];for(const n of this.po){const s=n;s.valid&&e.push(s)}this.Hy=e}return this.Hy}getProperDestinationEdges(){if(!this.qy){const e=[];for(const n of this.er){const s=n;s.valid&&e.push(s)}this.qy=e}return this.qy}getDestinationEdge(e){const n=this.getProperDestinationEdges();for(const s of n)if(s.toVertex===e)return s;o.o("Unable to find destination edge to given vertex")}getProperSourceVertexes(){if(!this.Gy){const e=[];for(const n of this.po){const s=n;!s.valid||s.fromVertex.layer<=s.toVertex.layer||e.push(s.fromVertex)}e.sort(Nu.lD),this.Gy=e}return this.Gy}getProperDestinationVertexes(){if(!this.jy){const e=[];for(const n of this.er){const s=n;!s.valid||s.fromVertex.layer<=s.toVertex.layer||e.push(s.toVertex)}e.sort(Nu.lD),this.jy=e}return this.jy}addSourceEdge(e){super.addSourceEdge(e),this.Gy=null,this.Hy=null}deleteSourceEdge(e){super.deleteSourceEdge(e),this.Gy=null,this.Hy=null}addDestinationEdge(e){super.addDestinationEdge(e),this.jy=null,this.qy=null}deleteDestinationEdge(e){super.deleteDestinationEdge(e),this.jy=null,this.qy=null}get layer(){return this.Jo}set layer(e){this.Jo!==e&&(this.Jo=e)}get column(){return this.Bo}set column(e){this.Bo!==e&&(this.Bo=e)}get index(){return this.Dt}set index(e){this.Dt!==e&&(this.Dt=e)}get component(){return this.tk}set component(e){this.tk!==e&&(this.tk=e)}get near(){return this.ik}set near(e){this.ik!==e&&(this.ik=e)}}class Av extends bl{constructor(e){super(e);k(this,"$i");k(this,"ek");k(this,"sk");k(this,"nk");k(this,"ok");k(this,"rk");k(this,"lk");this.$i=!1,this.ek=!1,this.sk=!1,this.nk=NaN,this.ok=NaN,this.rk=0,this.lk=0}get fromVertex(){return this.Je}set fromVertex(e){this.Je!==e&&(this.Je=e)}get toVertex(){return this.$e}set toVertex(e){this.$e!==e&&(this.$e=e)}get valid(){return this.$i}set valid(e){this.$i!==e&&(this.$i=e)}get rev(){return this.ek}set rev(e){this.ek!==e&&(this.ek=e)}get forest(){return this.sk}set forest(e){this.sk!==e&&(this.sk=e)}get portFromPos(){return this.nk}set portFromPos(e){this.nk!==e&&(this.nk=e)}get portToPos(){return this.ok}set portToPos(e){this.ok!==e&&(this.ok=e)}get portFromColOffset(){return this.rk}set portFromColOffset(e){this.rk!==e&&(this.rk=e)}get portToColOffset(){return this.lk}set portToColOffset(e){this.lk!==e&&(this.lk=e)}}var qf=(H=>(H[H.Default=0]="Default",H[H.Destination=1]="Destination",H[H.Source=2]="Source",H))(qf||{}),Gf=(H=>(H[H.Forwards=10]="Forwards",H[H.Reverse=11]="Reverse",H[H.Ascending=12]="Ascending",H[H.Descending=13]="Descending",H))(Gf||{}),Wf=(H=>(H[H.CenterSubtrees=20]="CenterSubtrees",H[H.CenterChildren=21]="CenterChildren",H[H.Start=22]="Start",H[H.End=23]="End",H[H.Bus=24]="Bus",H[H.BusBranching=25]="BusBranching",H[H.TopLeftBus=26]="TopLeftBus",H[H.BottomRightBus=27]="BottomRightBus",H[H.Custom=28]="Custom",H))(Wf||{}),Uf=(H=>(H[H.None=30]="None",H[H.Block=31]="Block",H))(Uf||{}),Yf=(H=>(H[H.Layered=40]="Layered",H[H.LastParents=41]="LastParents",H[H.Alternating=42]="Alternating",H[H.RootOnly=43]="RootOnly",H))(Yf||{}),Xf=(H=>(H[H.Vertical=50]="Vertical",H[H.Horizontal=51]="Horizontal",H[H.FixedRoots=52]="FixedRoots",H))(Xf||{}),Lv=(H=>(H[H.Individual=60]="Individual",H[H.Siblings=61]="Siblings",H[H.Uniform=62]="Uniform",H))(Lv||{});class ui extends es{constructor(e){super();k(this,"Ri");k(this,"Di");k(this,"Zf");k(this,"Fg");k(this,"EN");k(this,"Oe");k(this,"zi");k(this,"Ms");k(this,"B");k(this,"z");k(this,"hk");k(this,"as");this.Ri=new C,this.Di=0,this.as=1,this.Zf=40,this.Fg=60,this.EN=[],this.Oe=!0,this.zi=50,this.Ms=new _(10,10).g();const n=new Zf(this);this.B=new oo(n),this.z=new oo(n),this.hk=[],e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Di=this.Di,e.Zf=this.Zf,e.Fg=this.Fg,e.Oe=this.Oe,e.zi=this.zi,e.Ms.a(this.Ms),e.B.copyInheritedPropertiesFrom(this.B),e.z.copyInheritedPropertiesFrom(this.z)}li(e){e in Wf?this.alignment=e:e in Xf?this.arrangement=e:e in Uf?this.compaction=e:e in qf?this.path=e:e in Gf?this.sorting=e:e in Yf?this.treeStyle=e:super.li(e)}createNetwork(){return new Zf(this)}makeNetwork(e){const n=this.createNetwork(),s=r=>{if(r instanceof _t)return!r.isLinkLabel&&r.category!=="Comment";if(r instanceof Zt){const a=r.fromNode;if(a===null||a.isLinkLabel||a.category==="Comment")return!1;const u=r.toNode;return!(u===null||u.isLinkLabel||u.category==="Comment")}return!1};return e instanceof st?(n.addParts(e.nodes,!0,s),n.addParts(e.links,!0,s)):e instanceof Wt?n.addParts(e.memberParts,!1,s):n.addParts(e.iterator,!1,s),n}doLayout(e){this.network===null&&(this.network=this.makeNetwork(e)),this.arrangement!==52&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));let n=this.diagram;n===null&&e instanceof st&&(n=e),this.path===0&&n!==null?this.as=n.isTreePathToChildren?1:2:this.as=this.path===0?1:this.path,this.network.vertexes.count>0&&(this.NI(),this.CI(),this.LI(),this.AI(),this.TN(),this.TI(),this.arrangeTrees(),this.updateParts()),this.network=null,this.Ri=new C,this.isValidLayout=!0}NI(){this.network.deleteSelfEdges();const e=this.network.vertexes.iterator;for(;e.next();){const a=e.value;a.initialized=!1,a.level=0,a.parent=null,a.children=[]}if(this.Ri.count>0){const a=new C,u=this.Ri.iterator;for(;u.next();){const h=u.value;if(h instanceof _t){const f=this.network.findVertex(h);f!==null&&a.add(f)}else h instanceof oo&&a.add(h)}this.Ri=a}this.Ri.count===0&&this.findRoots();const n=this.Ri.copy().iterator;for(;n.next();){const a=n.value;a.initialized||(a.initialized=!0,this.VN(a))}let s=this.network.vertexes,r=null;for(;r=this.DI(s),r.count>0;){const a=this.hD(r);a!==null&&this.Ri.add(a),a.initialized=!0,this.VN(a),s=r}}DI(e){const n=new C,s=e.iterator;for(;s.next();){const r=s.value;r.initialized||n.add(r)}return n}findRoots(){const e=this.network.vertexes,n=e.iterator;for(;n.next();){const s=n.value;switch(this.as){case 1:s.sourceEdges.count===0&&this.Ri.add(s);break;case 2:s.destinationEdges.count===0&&this.Ri.add(s);break;default:o.o("Unhandled path value "+this.as.toString())}}if(this.Ri.count===0){const s=this.hD(e);s!==null&&this.Ri.add(s)}}hD(e){let n=999999,s=null;const r=e.iterator;for(;r.next();){const a=r.value;switch(this.as){case 1:a.sourceEdges.count<n&&(n=a.sourceEdges.count,s=a);break;case 2:a.destinationEdges.count<n&&(n=a.destinationEdges.count,s=a);break;default:o.o("Unhandled path value "+this.as.toString())}}return s}VN(e){if(e===null)return;switch(this.as){case 1:if(e.destinationEdges.count>0){const r=new w,a=e.destinationVertexes;for(;a.next();){const u=a.value;this.aD(e,u)&&r.add(u)}r.count>0&&(e.children=r.toArray())}break;case 2:if(e.sourceEdges.count>0){const r=new w,a=e.sourceVertexes;for(;a.next();){const u=a.value;this.aD(e,u)&&r.add(u)}r.count>0&&(e.children=r.toArray())}break;default:o.o("Unhandled path value"+this.as.toString())}const n=e.children,s=n.length;for(let r=0;r<s;r++){const a=n[r];a.initialized=!0,a.level=e.level+1,a.parent=e,this.Ri.remove(a)}for(let r=0;r<s;r++){const a=n[r];this.VN(a)}}aD(e,n){return n.initialized?this.FI(n,e)||n.level>e.level?!1:(this.RI(n.parent,n),!0):!0}FI(e,n){if(n===null)return!1;let s=n.parent;for(;s!==null&&s!==e;)s=s.parent;return s===e}RI(e,n){if(e===null||n===null)return;const s=e.children;let r=0;for(let a=0;a<s.length;a++)s[a]===n&&r++;if(r>0){const a=new Array(s.length-r);let u=0;for(let h=0;h<s.length;h++)s[h]!==n&&(a[u++]=s[h]);e.children=a}}CI(){const e=this.Ri.iterator;for(;e.next();){const n=e.value;n instanceof oo&&this.cD(n)}}cD(e){if(e===null)return;this.initializeTreeVertexValues(e),e.alignment===25&&this.sortTreeVertexChildren(e);let n=0,s=e.childrenCount,r=0;const a=e.children,u=a.length;for(let h=0;h<u;h++){const f=a[h];this.cD(f),n+=f.descendantCount+1,s=Math.max(s,f.maxChildrenCount),r=Math.max(r,f.maxGenerationCount)}e.descendantCount=n,e.maxChildrenCount=s,e.maxGenerationCount=s>0?r+1:0}vI(e){switch(this.Zf){default:case 40:return e.parent!==null?e.parent:this.B;case 43:return e.parent===null?this.B:e.parent.parent===null?this.z:e.parent;case 42:return e.parent!==null?e.parent.parent!==null?e.parent.parent:this.z:this.B;case 41:{let n=!0;if(e.childrenCount===0)n=!1;else{const s=e.children,r=s.length;for(let a=0;a<r;a++)if(s[a].childrenCount>0){n=!1;break}}return n&&e.parent!==null?this.z:e.parent!==null?e.parent:this.B}}}initializeTreeVertexValues(e){const n=this.vI(e);if(e.copyInheritedPropertiesFrom(n),e.parent!==null&&e.parent.alignment===25){let s=e.angle;const r=e.parent.children;let a=0;for(;a<r.length&&e!==r[a];)a++;a%2===0?a!==r.length-1&&(s===90?s=180:s===180?s=270:s===270?s=180:s=270):s===90?s=0:s===180?s=90:s===270?s=0:s=90,e.angle=s}e.initialized=!0}LI(){const e=this.Ri.iterator;for(;e.next();){const n=e.value;n instanceof oo&&this.fD(n)}}fD(e){if(e===null)return;this.assignTreeVertexValues(e);const n=e.children,s=n.length;for(let r=0;r<s;r++){const a=n[r];this.fD(a)}}assignTreeVertexValues(e){}AI(){const e=this.Ri.iterator;for(;e.next();){const n=e.value;n instanceof oo&&this.uD(n)}}uD(e){if(e===null)return;e.alignment!==25&&this.sortTreeVertexChildren(e);const n=e.children,s=n.length;for(let r=0;r<s;r++){const a=n[r];this.uD(a)}}sortTreeVertexChildren(e){switch(e.sorting){default:case 10:break;case 11:e.children.reverse();break;case 12:e.children.sort(e.comparer);break;case 13:e.children.sort(e.comparer),e.children.reverse();break}}TN(){if(!this.comments)return;const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value;this.addComments(n)}}addComments(e){const n=e.angle,s=e.parent;let r=0,a=21,u=!1;s!==null&&(r=s.angle,a=s.alignment,u=this.isBusAlignment(a));const h=n===90||n===270,f=r===90||r===270,m=e.childrenCount===0;let y=0,x=0,S=0;const E=e.commentSpacing;if(e.node!==null){const L=e.node.findNodesConnected();for(;L.next();){const D=L.value;if(D.category!=="Comment"||!D.canLayout())continue;e.comments===null&&(e.comments=[]),e.comments.push(D),D.ensureBounds();const F=D.measuredBounds;h&&!m||!u&&!f&&m||u&&f&&m?(y=Math.max(y,F.width),x+=F.height+Math.abs(S)):(y+=F.width+Math.abs(S),x=Math.max(x,F.height)),S=E}}if(e.comments!==null){h&&!m||!u&&!f&&m||u&&f&&m?(y+=Math.abs(e.commentMargin),x=Math.max(0,x-e.height)):(x+=Math.abs(e.commentMargin),y=Math.max(0,y-e.width));const L=I.X(0,0,e.bounds.width+y,e.bounds.height+x);e.bounds=L,I.s(L)}}isBusAlignment(e){return e===24||e===25||e===26||e===27}Wy(e){return e===24||e===25}UN(e){const n=e.parent;if(n!==null){const s=n.alignment;if(this.isBusAlignment(s))if(this.Wy(s)){const r=n.children;let a=0;for(;a<r.length&&e!==r[a];)a++;return a%2===0}else return s===26}return!1}layoutComments(e){if(e.comments!==null){const n=e.node.measuredBounds,s=e.parent,r=e.angle;let a=0,u=21,h=!1;s!==null&&(a=s.angle,u=s.alignment,h=this.isBusAlignment(u));const f=r===90||r===270,m=a===90||a===270,y=e.childrenCount===0,x=this.UN(e);let S=0;const E=e.comments,L=E.length,D=T.l();for(let V=0;V<L;V++){const U=E[V],W=U.measuredBounds;if(f&&!y||!h&&!m&&y||h&&m&&y){if(a>135&&!h||m&&x)if(e.commentMargin>=0){D.e(e.bounds.x-e.commentMargin-W.width,e.bounds.y+S),U.move(D);const q=U.findLinksInto();for(;q.next();){const le=q.value;le.fromSpot=B.MiddleLeft,le.toSpot=B.MiddleRight}}else{D.e(e.bounds.x+e.focus.x*2-e.commentMargin,e.bounds.y+S),U.move(D);const q=U.findLinksInto();for(;q.next();){const le=q.value;le.fromSpot=B.MiddleRight,le.toSpot=B.MiddleLeft}}else if(e.commentMargin>=0){D.e(e.bounds.x+e.focus.x*2+e.commentMargin,e.bounds.y+S),U.move(D);const q=U.findLinksInto();for(;q.next();){const le=q.value;le.fromSpot=B.MiddleRight,le.toSpot=B.MiddleLeft}}else{D.e(e.bounds.x+e.commentMargin-W.width,e.bounds.y+S),U.move(D);const q=U.findLinksInto();for(;q.next();){const le=q.value;le.fromSpot=B.MiddleLeft,le.toSpot=B.MiddleRight}}e.commentSpacing>=0?S+=W.height+e.commentSpacing:S+=e.commentSpacing-W.height}else{if(a>135&&!h||!m&&x)if(e.commentMargin>=0){D.e(e.bounds.x+S,e.bounds.y-e.commentMargin-W.height),U.move(D);const q=U.findLinksInto();for(;q.next();){const le=q.value;le.fromSpot=B.MiddleTop,le.toSpot=B.MiddleBottom}}else{D.e(e.bounds.x+S,e.bounds.y+e.focus.y*2-e.commentMargin),U.move(D);const q=U.findLinksInto();for(;q.next();){const le=q.value;le.fromSpot=B.MiddleBottom,le.toSpot=B.MiddleTop}}else if(e.commentMargin>=0){D.e(e.bounds.x+S,e.bounds.y+e.focus.y*2+e.commentMargin),U.move(D);const q=U.findLinksInto();for(;q.next();){const le=q.value;le.fromSpot=B.MiddleBottom,le.toSpot=B.MiddleTop}}else{D.e(e.bounds.x+S,e.bounds.y+e.commentMargin-W.height),U.move(D);const q=U.findLinksInto();for(;q.next();){const le=q.value;le.fromSpot=B.MiddleTop,le.toSpot=B.MiddleBottom}}e.commentSpacing>=0?S+=W.width+e.commentSpacing:S+=e.commentSpacing-W.width}}T.s(D);const F=S-e.commentSpacing-(f?n.height:n.width);if(this.as===1){const V=e.destinationEdges;for(;V.next();){const U=V.value.link;U!==null&&!U.isAvoiding&&(U.fromEndSegmentLength=F>0?F:NaN)}}else{const V=e.sourceEdges;for(;V.next();){const U=V.value.link;U!==null&&!U.isAvoiding&&(U.toEndSegmentLength=F>0?F:NaN)}}}}TI(){if(this.layerStyle===62){const n=[];let s=this.network.vertexes.iterator;for(;s.next();){const r=s.value;let a=r.parent;a===null&&(a=r);const u=a.angle===0||a.angle===180;let h=n[r.level];h===void 0&&(h=0),n[r.level]=Math.max(h,u?r.width:r.height)}for(let r=0;r<n.length;r++)n[r]===void 0&&(n[r]=0);for(this.EN=n,s=this.network.vertexes.iterator;s.next();){const r=s.value;let a=r.parent;a===null&&(a=r),a.angle===0||a.angle===180?(a.angle===180&&(r.focusX+=n[r.level]-r.width),r.width=n[r.level]):(a.angle===270&&(r.focusY+=n[r.level]-r.height),r.height=n[r.level])}}else if(this.layerStyle===61){const n=this.network.vertexes.iterator;for(;n.next();){const s=n.value,r=s.angle===0||s.angle===180;let a=-1;for(let u=0;u<s.children.length;u++){const h=s.children[u];a=Math.max(a,r?h.width:h.height)}if(a>=0)for(let u=0;u<s.children.length;u++){const h=s.children[u];r?(s.angle===180&&(h.focusX+=a-h.width),h.width=a):(s.angle===270&&(h.focusY+=a-h.height),h.height=a)}}}const e=this.Ri.iterator;for(;e.next();){const n=e.value;n instanceof oo&&this.layoutTree(n)}}layoutTree(e){if(e===null)return;const n=e.children,s=n.length;for(let r=0;r<s;r++){const a=n[r];this.layoutTree(a)}switch(e.compaction){case 30:this.dD(e);break;default:case 31:e.alignment===25?this.dD(e):this.OI(e);break}}dD(e){if(e.childrenCount===0){let at=!1,je=0,ft=21;e.parent!==null&&(je=e.parent.angle,ft=e.parent.alignment,at=this.isBusAlignment(ft));const Ct=this.UN(e);e.V.e(0,0),e.mt.e(e.width,e.height),e.parent!==null&&e.comments!==null&&((je===180||je===270)&&!at||Ct)?je===180&&!at||(je===90||je===270)&&Ct?e.nt.e(e.width-e.focus.x*2,0):e.nt.e(0,e.height-e.focus.y*2):e.nt.e(0,0);return}const n=this.orthoAngle(e),s=n===90||n===270;let r=0;const a=e.children,u=a.length;for(let at=0;at<u;at++){const je=a[at];r=Math.max(r,s?je.mt.width:je.mt.height)}const h=e.alignment,f=h===22,m=h===23,y=this.isBusAlignment(h),x=Math.max(0,e.breadthLimit),S=this.computeLayerSpacing(e),E=e.nodeSpacing,L=this.computeNodeIndent(e),D=f||m?0:L/2,F=e.rowSpacing;let V=0;(f||m||e.Qf||e._f&&e.maxGenerationCount===1)&&(V=Math.max(0,e.rowIndent));const U=e.width,W=e.height;let q=0,le=0,oe=0,ce=0,Se=0,he=0,ge=0,ke=0,we=0,Pe=0;if(y&&!this.Wy(h)&&n>135&&a.reverse(),this.Wy(h))if(u>1)for(let at=0;at<u;at++){const je=a[at],ft=je.mt;at%2===0&&at!==u-1?we=Math.max(we,(s?ft.width:ft.height)+this.computeBusNodeSpacing(je)-E):at%2!==0&&(Pe=Math.max(Pe,(s?ft.width:ft.height)+this.computeBusNodeSpacing(je)-E))}else u===1&&(we=s?a[0].mt.width:a[0].mt.height);if(y)switch(h){case 24:case 25:let at;n<135?at=this.gD(e,a,we,Pe,q,le):at=this.mD(e,a,we,Pe,q,le),we=at.x,q=at.width,le=at.height;break;case 26:for(let je=0;je<u;je++){const ft=a[je],Ct=ft.mt,sn=ge===0?0:F;s?(ft.V.e(r-Ct.width,Se+sn),q=Math.max(q,Ct.width),le=Math.max(le,Se+sn+Ct.height),Se+=sn+Ct.height):(ft.V.e(ce+sn,r-Ct.height),q=Math.max(q,ce+sn+Ct.width),le=Math.max(le,Ct.height),ce+=sn+Ct.width),ge++}break;case 27:for(let je=0;je<u;je++){const ft=a[je],Ct=ft.mt,sn=ge===0?0:F;s?(ft.V.e(E/2+e.focus.x,Se+sn),q=Math.max(q,Ct.width),le=Math.max(le,Se+sn+Ct.height),Se+=sn+Ct.height):(ft.V.e(ce+sn,E/2+e.focus.y),q=Math.max(q,ce+sn+Ct.width),le=Math.max(le,Ct.height),ce+=sn+Ct.width),ge++}break}else for(let at=0;at<u;at++){const je=a[at],ft=je.mt;if(s){x>0&&ge>0&&ce+E+ft.width>x&&(ce<r&&this.Qa(e,h,r-ce,0,ke,at-1),he++,ge=0,ke=at,oe=le,ce=0,Se=n>135?-le-F:le+F);const Ct=ge===0?D:E;this.ak(je,0,Se),je.V.e(ce+Ct,Se),q=Math.max(q,ce+Ct+ft.width),le=Math.max(le,oe+(he===0?0:F)+ft.height),ce+=Ct+ft.width}else{x>0&&ge>0&&Se+E+ft.height>x&&(Se<r&&this.Qa(e,h,0,r-Se,ke,at-1),he++,ge=0,ke=at,oe=q,Se=0,ce=n>135?-q-F:q+F);const Ct=ge===0?D:E;this.ak(je,ce,0),je.V.e(ce,Se+Ct),le=Math.max(le,Se+Ct+ft.height),q=Math.max(q,oe+(he===0?0:F)+ft.width),Se+=Ct+ft.height}ge++}he>0&&(s?(le+=Math.max(0,S),ce<q&&this.Qa(e,h,q-ce,0,ke,u-1),V>0&&(m||this.tu(e,V,0,0,u-1),q+=V)):(q+=Math.max(0,S),Se<le&&this.Qa(e,h,0,le-Se,ke,u-1),V>0&&(m||this.tu(e,0,V,0,u-1),le+=V)));let Re=0,Xe=0;switch(h){case 20:s?Re+=q/2-e.focus.x-L/2:Xe+=le/2-e.focus.y-L/2;break;default:case 21:if(he>0)s?Re+=q/2-e.focus.x-L/2:Xe+=le/2-e.focus.y-L/2;else{const je=u;if(s){const ft=a[0].V.x+a[0].nt.x,Ct=a[je-1].V.x+a[je-1].nt.x+a[je-1].focus.x*2;Re+=ft+(Ct-ft)/2-e.focus.x-L/2}else{const ft=a[0].V.y+a[0].nt.y,Ct=a[je-1].V.y+a[je-1].nt.y+a[je-1].focus.y*2;Xe+=ft+(Ct-ft)/2-e.focus.y-L/2}}break;case 22:s?(Re-=L,q+=L):(Xe-=L,le+=L);break;case 23:s?(Re+=q-e.width+L,q+=L):(Xe+=le-e.height+L,le+=L);break;case 24:case 25:s?u>1?Re+=we+E/2-e.focus.x:Re+=a[0].focus.x-e.focus.x+a[0].nt.x:u>1?Xe+=we+E/2-e.focus.y:Xe+=a[0].focus.y-e.focus.y+a[0].nt.y;break;case 26:s?Re+=q+E/2-e.focus.x:Xe+=le+E/2-e.focus.y;break;case 27:break;case 28:const at=this.customAlignment(e,Re,Xe,q,le);Re=at[0],Xe=at[1],q=at[2],le=at[3];break}for(let at=0;at<u;at++){const je=a[at];s?je.V.e(je.V.x+je.nt.x-Re,je.V.y+(n>135?(y?-le:-je.mt.height)+je.nt.y-S:W+S+je.nt.y)):je.V.e(je.V.x+(n>135?(y?-q:-je.mt.width)+je.nt.x-S:U+S+je.nt.x),je.V.y+je.nt.y-Xe)}s?(q=this.BN(e,q,Re),Re<0&&(Re=0),n>135&&(Xe+=le+S),le=Math.max(Math.max(le,W),le+W+S)):(n>135&&(Re+=q+S),q=Math.max(Math.max(q,U),q+U+S),le=this.zN(e,le,Xe),Xe<0&&(Xe=0)),e.nt.e(Re,Xe),e.mt.e(q,le)}customAlignment(e,n,s,r,a){return[n,s,r,a]}gD(e,n,s,r,a,u){const h=n.length;if(h===0)return new I(s,0,a,u);if(h===1){const F=n[0];return a=F.mt.width,u=F.mt.height,new I(s,0,a,u)}const f=e.nodeSpacing,m=e.rowSpacing,y=this.orthoAngle(e)===90;let x=0,S=0,E=0;for(let F=0;F<h;F++){if(F%2!==0||h>1&&F===h-1)continue;const V=n[F],U=V.mt,W=x===0?0:m;if(y){const q=this.computeBusNodeSpacing(V)-f;V.V.e(s-(U.width+q),E+W),a=Math.max(a,U.width+q),u=Math.max(u,E+W+U.height),E+=W+U.height}else{const q=this.computeBusNodeSpacing(V)-f;V.V.e(S+W,s-(U.height+q)),u=Math.max(u,U.height+q),a=Math.max(a,S+W+U.width),S+=W+U.width}x++}x=0;const L=S,D=E;y?(S=s+f,E=0):(S=0,E=s+f);for(let F=0;F<h;F++){if(F%2===0)continue;const V=n[F],U=V.mt,W=x===0?0:m;if(y){const q=this.computeBusNodeSpacing(V)-f;V.V.e(S+q,E+W),a=Math.max(a,S+U.width+q),u=Math.max(u,E+W+U.height),E+=W+U.height}else{const q=this.computeBusNodeSpacing(V)-f;V.V.e(S+W,E+q),a=Math.max(a,S+W+U.width),u=Math.max(u,E+U.height+q),S+=W+U.width}x++}if(h>1&&h%2===1){const F=n[h-1],V=F.mt,U=this.computeBusLastRowSpacing(F,y?Math.max(Math.abs(D),Math.abs(E)):Math.max(Math.abs(L),Math.abs(S)));if(y){F.V.e(s+f/2-F.focus.x-F.nt.x,u+U);const W=s+f/2-F.focus.x-F.nt.x;a=Math.max(a,W+V.width),W<0&&(a-=W),u=Math.max(u,Math.max(D,E)+U+V.height),F.V.x<0&&(s=this.ck(e,F.V.x,!1,s,f))}else{F.V.e(a+U,s+f/2-F.focus.y-F.nt.y),a=Math.max(a,Math.max(L,S)+U+V.width);const W=s+f/2-F.focus.y-F.nt.y;u=Math.max(u,W+V.height),W<0&&(u-=W),F.V.y<0&&(s=this.ck(e,F.V.y,!0,s,f))}}return new I(s,0,a,u)}mD(e,n,s,r,a,u){const h=n.length;if(h===0)return new I(s,0,a,u);if(h===1){const F=n[0];return a=F.mt.width,u=F.mt.height,new I(s,0,a,u)}const f=e.nodeSpacing,m=e.rowSpacing,y=this.orthoAngle(e)===270;let x=0,S=0,E=0;for(let F=0;F<h;F++){if(F%2!==0||h>1&&F===h-1)continue;const V=n[F],U=V.mt,W=x===0?0:m;if(y){const q=this.computeBusNodeSpacing(V)-f;E-=W+U.height,V.V.e(s-(U.width+q),E),a=Math.max(a,U.width+q),u=Math.max(u,Math.abs(E))}else{const q=this.computeBusNodeSpacing(V)-f;S-=W+U.width,V.V.e(S,s-(U.height+q)),u=Math.max(u,U.height+q),a=Math.max(a,Math.abs(S))}x++}x=0;const L=S,D=E;y?(S=s+f,E=0):(S=0,E=s+f);for(let F=0;F<h;F++){if(F%2===0)continue;const V=n[F],U=V.mt,W=x===0?0:m;if(y){const q=this.computeBusNodeSpacing(V)-f;E-=W+U.height,V.V.e(S+q,E),a=Math.max(a,S+U.width+q),u=Math.max(u,Math.abs(E))}else{const q=this.computeBusNodeSpacing(V)-f;S-=W+U.width,V.V.e(S,E+q),u=Math.max(u,E+U.height+q),a=Math.max(a,Math.abs(S))}x++}if(h>1&&h%2===1){const F=n[h-1],V=F.mt,U=this.computeBusLastRowSpacing(F,y?Math.max(Math.abs(D),Math.abs(E)):Math.max(Math.abs(L),Math.abs(S)));if(y){F.V.e(s+f/2-F.focus.x-F.nt.x,-u-V.height-U);const W=s+f/2-F.focus.x-F.nt.x;a=Math.max(a,W+V.width),W<0&&(a-=W),u=Math.max(u,Math.abs(Math.min(D,E))+U+V.height),F.V.x<0&&(s=this.ck(e,F.V.x,!1,s,f))}else{F.V.e(-a-V.width-U,s+f/2-F.focus.y-F.nt.y),a=Math.max(a,Math.abs(Math.min(L,S))+U+V.width);const W=s+f/2-F.focus.y-F.nt.y;u=Math.max(u,W+V.height),W<0&&(u-=W),F.V.y<0&&(s=this.ck(e,F.V.y,!0,s,f))}}for(let F=0;F<h;F++){const V=n[F];y?V.V.e(V.V.x,V.V.y+u):V.V.e(V.V.x+a,V.V.y)}return new I(s,0,a,u)}computeBusNodeSpacing(e){return e.parent===null?0:e.parent.nodeSpacing}computeBusLastRowSpacing(e,n){return e.parent===null?0:e.parent.rowSpacing}ck(e,n,s,r,a){const u=e.children,h=u.length;for(let m=0;m<h;m++)s?u[m].V.e(u[m].V.x,u[m].V.y-n):u[m].V.e(u[m].V.x-n,u[m].V.y);const f=u[h-1];return Math.max(r,s?f.nt.y+f.focus.y-a/2:f.nt.x+f.focus.x-a/2)}BN(e,n,s){switch(e.alignment){case 21:case 20:let r=n;return s+e.width>r&&(r=s+e.width),s<0&&(r-=s),r;case 22:return e.width>n?e.width:n;case 23:return e.focus.x*2>n?e.width:n+e.width-e.focus.x*2;case 24:case 25:const a=Math.min(0,s),u=Math.max(n,s+e.width);return Math.max(e.width,u-a);case 26:return e.width-e.focus.x+e.nodeSpacing/2+n;case 27:return Math.max(e.width,e.focus.x+e.nodeSpacing/2+n);default:return n}}zN(e,n,s){switch(e.alignment){case 21:case 20:let r=n;return s+e.height>r&&(r=s+e.height),s<0&&(r-=s),r;case 22:return e.height>n?e.height:n;case 23:return e.focus.y*2>n?e.height:n+e.height-e.focus.y*2;case 24:case 25:const a=Math.min(0,s),u=Math.max(n,s+e.height);return Math.max(e.height,u-a);case 26:return e.height-e.focus.y+e.nodeSpacing/2+n;case 27:return Math.max(e.height,e.focus.y+e.nodeSpacing/2+n);default:return n}}XN(e,n,s){switch(e){case 20:n/=2,s/=2;break;case 21:n/=2,s/=2;break;case 22:n=0,s=0;break;case 23:break;default:o.o("Unhandled alignment value "+e.toString())}return new T(n,s)}Qa(e,n,s,r,a,u){const h=this.XN(n,s,r);this.tu(e,h.x,h.y,a,u)}tu(e,n,s,r,a){if(n===0&&s===0)return;const u=e.children;for(let h=r;h<=a;h++){const f=u[h].V;f.x+=n,f.y+=s}}ak(e,n,s){const r=e.parent;switch(this.as){case 1:{const a=e.sourceEdges;for(;a.next();){const u=a.value;u.fromVertex===r&&u.relativePoint.e(n,s)}break}case 2:{const a=e.destinationEdges;for(;a.next();){const u=a.value;u.toVertex===r&&u.relativePoint.e(n,s)}break}default:o.o("Unhandled path value "+this.as.toString())}}OI(e){if(e.childrenCount===0){const It=e.parent;let zt=!1,xn=0,mn=21;It!==null&&(xn=It.angle,mn=It.alignment,zt=this.isBusAlignment(mn));const Ot=this.UN(e);e.V.e(0,0),e.mt.e(e.width,e.height),e.parent!==null&&e.comments!==null&&((xn===180||xn===270)&&!zt||Ot)?xn===180&&!zt||(xn===90||xn===270)&&Ot?e.nt.e(e.width-e.focus.x*2,0):e.nt.e(0,e.height-e.focus.y*2):e.nt.e(0,0),e.Rg=null,e.vg=null;return}const n=this.orthoAngle(e),s=n===90||n===270;let r=0;const a=e.children,u=a.length;for(let It=0;It<u;It++){const zt=a[It];r=Math.max(r,s?zt.mt.width:zt.mt.height)}const h=e.alignment,f=h===22,m=h===23,y=this.isBusAlignment(h),x=Math.max(0,e.breadthLimit),S=this.computeLayerSpacing(e),E=e.nodeSpacing,L=this.computeNodeIndent(e),D=e.rowSpacing;let F=0;(f||m||e.Qf||e._f&&e.maxGenerationCount===1)&&(F=Math.max(0,e.rowIndent));const V=e.width,U=e.height;let W=0,q=0,le=0,oe=null,ce=null,Se=0,he=0,ge=0,ke=0,we=0,Pe=0,Re=0,Xe=0,at=0;if(y&&!this.Wy(h)&&n>135&&a.reverse(),this.Wy(h))if(u>1)for(let It=0;It<u;It++)It%2===0&&It!==u-1?Xe=Math.max(Xe,s?a[It].mt.width:a[It].mt.height):It%2!==0&&(at=Math.max(at,s?a[It].mt.width:a[It].mt.height));else u===1&&(Xe=s?a[0].mt.width:a[0].mt.height);if(y){switch(h){case 24:let It;n<135?It=this.gD(e,a,Xe,at,W,q):It=this.mD(e,a,Xe,at,W,q),Xe=It.x,W=It.width,q=It.height;break;case 26:for(let zt=0;zt<u;zt++){const xn=a[zt],mn=xn.mt,Ot=Pe===0?0:D;s?(xn.V.e(r-mn.width,ke+Ot),W=Math.max(W,mn.width),q=Math.max(q,ke+Ot+mn.height),ke+=Ot+mn.height):(xn.V.e(ge+Ot,r-mn.height),W=Math.max(W,ge+Ot+mn.width),q=Math.max(q,mn.height),ge+=Ot+mn.width),Pe++}break;case 27:for(let zt=0;zt<u;zt++){const xn=a[zt],mn=xn.mt,Ot=Pe===0?0:D;s?(xn.V.e(E/2+e.focus.x,ke+Ot),W=Math.max(W,mn.width),q=Math.max(q,ke+Ot+mn.height),ke+=Ot+mn.height):(xn.V.e(ge+Ot,E/2+e.focus.y),W=Math.max(W,ge+Ot+mn.width),q=Math.max(q,mn.height),ge+=Ot+mn.width),Pe++}break}oe=this.fe(2),ce=this.fe(2),s?(oe[0].e(0,0),oe[1].e(0,q),ce[0].e(W,0),ce[1].e(W,q)):(oe[0].e(0,0),oe[1].e(W,0),ce[0].e(0,q),ce[1].e(W,q))}else for(let It=0;It<u;It++){const zt=a[It],xn=zt.mt;if(s){x>0&&Pe>0&&ge+E+xn.width>x&&(ge<r&&this.Qa(e,h,r-ge,0,Re,It-1),we++,Pe=0,Re=It,le=q,ge=0,ke=n>135?-q-D:q+D),this.ak(zt,0,ke);let mn=0;if(Pe===0)oe=zt.Rg,ce=zt.vg,Se=xn.width,he=xn.height,(oe===null||ce===null||n!==this.orthoAngle(zt))&&(oe=this.fe(2),ce=this.fe(2),oe[0].e(0,0),oe[1].e(0,he),ce[0].e(Se,0),ce[1].e(Se,he));else{const Ot=o.rt(),Jt=this.pD(e,zt,oe,ce,Se,he,Ot);mn=Jt.x,oe=Ot[0],ce=Ot[1],Se=Jt.width,he=Jt.height,o.it(Ot),ge<xn.width&&mn<0&&(this.tu(e,-mn,0,Re,It-1),this.fk(oe,-mn,0),this.fk(ce,-mn,0),mn=0)}zt.V.e(mn,ke),W=Math.max(W,Se),q=Math.max(q,le+(we===0?0:D)+xn.height),ge=Se}else{x>0&&Pe>0&&ke+E+xn.height>x&&(ke<r&&this.Qa(e,h,0,r-ke,Re,It-1),we++,Pe=0,Re=It,le=W,ke=0,ge=n>135?-W-D:W+D),this.ak(zt,ge,0);let mn=0;if(Pe===0)oe=zt.Rg,ce=zt.vg,Se=xn.width,he=xn.height,(oe===null||ce===null||n!==this.orthoAngle(zt))&&(oe=this.fe(2),ce=this.fe(2),oe[0].e(0,0),oe[1].e(Se,0),ce[0].e(0,he),ce[1].e(Se,he));else{const Ot=o.rt(),Jt=this.pD(e,zt,oe,ce,Se,he,Ot);mn=Jt.x,oe=Ot[0],ce=Ot[1],Se=Jt.width,he=Jt.height,o.it(Ot),ke<xn.height&&mn<0&&(this.tu(e,0,-mn,Re,It-1),this.fk(oe,0,-mn),this.fk(ce,0,-mn),mn=0)}zt.V.e(ge,mn),q=Math.max(q,he),W=Math.max(W,le+(we===0?0:D)+xn.width),ke=he}Pe++}we>0&&(s?(q+=Math.max(0,S),ge<W&&this.Qa(e,h,W-ge,0,Re,u-1),F>0&&(m||this.tu(e,F,0,0,u-1),W+=F)):(W+=Math.max(0,S),ke<q&&this.Qa(e,h,0,q-ke,Re,u-1),F>0&&(m||this.tu(e,0,F,0,u-1),q+=F)));let je=0,ft=0;switch(h){case 20:s?je+=W/2-e.focus.x-L/2:ft+=q/2-e.focus.y-L/2;break;default:case 21:if(we>0)s?je+=W/2-e.focus.x-L/2:ft+=q/2-e.focus.y-L/2;else{const zt=u;if(s){const xn=a[0].V.x+a[0].nt.x,mn=a[zt-1].V.x+a[zt-1].nt.x+a[zt-1].focus.x*2;je+=xn+(mn-xn)/2-e.focus.x-L/2}else{const xn=a[0].V.y+a[0].nt.y,mn=a[zt-1].V.y+a[zt-1].nt.y+a[zt-1].focus.y*2;ft+=xn+(mn-xn)/2-e.focus.y-L/2}}break;case 22:s?(je-=L,W+=L):(ft-=L,q+=L);break;case 23:s?(je+=W-e.width+L,W+=L):(ft+=q-e.height+L,q+=L);break;case 24:s?u>1?je+=Xe+E/2-e.focus.x:je+=a[0].focus.x-e.focus.x+a[0].nt.x:u>1?ft+=Xe+E/2-e.focus.y:ft+=a[0].focus.y-e.focus.y+a[0].nt.y;break;case 26:s?je+=W+E/2-e.focus.x:ft+=q+E/2-e.focus.y;break;case 27:break;case 28:const It=this.customAlignment(e,je,ft,W,q);je=It[0],ft=It[1],W=It[2],q=It[3];break}for(let It=0;It<u;It++){const zt=a[It];s?zt.V.e(zt.V.x+zt.nt.x-je,zt.V.y+(n>135?(y?-q:-zt.mt.height)+zt.nt.y-S:U+S+zt.nt.y)):zt.V.e(zt.V.x+(n>135?(y?-W:-zt.mt.width)+zt.nt.x-S:V+S+zt.nt.x),zt.V.y+zt.nt.y-ft)}let Ct=0,sn=0;if(y)s?(W=this.BN(e,W,je),je<0&&(je=0),n>135&&(ft+=q+S),q+=U+S,h===27&&(Ct+=E/2+e.focus.x),sn+=U+S):(n>135&&(je+=W+S),W+=V+S,q=this.zN(e,q,ft),ft<0&&(ft=0),h===27&&(sn+=E/2+e.focus.y),Ct+=V+S);else if(s){if(e.comments===null){if(V>W){const It=this.XN(h,V-W,0);Ct=It.x,sn=It.y,W=V,je=0}}else W=this.BN(e,W,je);je<0&&(Ct-=je,je=0),n>135&&(ft+=q+S),q=Math.max(Math.max(q,U),q+U+S),sn+=U+S}else{if(n>135&&(je+=W+S),W=Math.max(Math.max(W,V),W+V+S),e.comments===null){if(U>q){const It=this.XN(h,0,U-q);Ct=It.x,sn=It.y,q=U,ft=0}}else q=this.zN(e,q,ft);ft<0&&(sn-=ft,ft=0),Ct+=V+S}let Dt,Bt;if(we>0)Dt=this.fe(4),Bt=this.fe(4),s?(Dt[2].e(0,U+S),Dt[3].e(Dt[2].x,q),Bt[2].e(W,Dt[2].y),Bt[3].e(Bt[2].x,Dt[3].y)):(Dt[2].e(V+S,0),Dt[3].e(W,Dt[2].y),Bt[2].e(Dt[2].x,q),Bt[3].e(Dt[3].x,Bt[2].y));else{Dt=this.fe(oe.length+2),Bt=this.fe(ce.length+2);for(let It=0;It<oe.length;It++){const zt=oe[It];Dt[It+2].e(zt.x+Ct,zt.y+sn)}for(let It=0;It<ce.length;It++){const zt=ce[It];Bt[It+2].e(zt.x+Ct,zt.y+sn)}}s?(Dt[0].e(je,0),Dt[1].e(Dt[0].x,U),Dt[2].y<Dt[1].y&&(Dt[2].x>Dt[0].x?Dt[2].a(Dt[1]):Dt[1].a(Dt[2])),Dt[3].y<Dt[2].y&&(Dt[3].x>Dt[0].x?Dt[3].a(Dt[2]):Dt[2].a(Dt[3])),Bt[0].e(je+V,0),Bt[1].e(Bt[0].x,U),Bt[2].y<Bt[1].y&&(Bt[2].x<Bt[0].x?Bt[2].a(Bt[1]):Bt[1].a(Bt[2])),Bt[3].y<Bt[2].y&&(Bt[3].x<Bt[0].x?Bt[3].a(Bt[2]):Bt[2].a(Bt[3])),Dt[2].y-=S/2,Bt[2].y-=S/2):(Dt[0].e(0,ft),Dt[1].e(V,Dt[0].y),Dt[2].x<Dt[1].x&&(Dt[2].y>Dt[0].y?Dt[2].a(Dt[1]):Dt[1].a(Dt[2])),Dt[3].x<Dt[2].x&&(Dt[3].y>Dt[0].y?Dt[3].a(Dt[2]):Dt[2].a(Dt[3])),Bt[0].e(0,ft+U),Bt[1].e(V,Bt[0].y),Bt[2].x<Bt[1].x&&(Bt[2].y<Bt[0].y?Bt[2].a(Bt[1]):Bt[1].a(Bt[2])),Bt[3].x<Bt[2].x&&(Bt[3].y<Bt[0].y?Bt[3].a(Bt[2]):Bt[2].a(Bt[3])),Dt[2].x-=S/2,Bt[2].x-=S/2),this.tn(oe),this.tn(ce),e.Rg=Dt,e.vg=Bt,e.nt.e(je,ft),e.mt.e(W,q)}fk(e,n,s){for(let r=0;r<e.length;r++){const a=e[r];a.x+=n,a.y+=s}}pD(e,n,s,r,a,u,h){const f=this.orthoAngle(e),m=f===90||f===270,y=e.nodeSpacing,x=s,S=r,E=a,L=u;let D=n.Rg,F=n.vg;const V=n.mt,U=m?Math.max(L,V.height):Math.max(E,V.width);if((D===null||f!==this.orthoAngle(n))&&(D=this.fe(2),F=this.fe(2),m?(D[0].e(0,0),D[1].e(0,V.height),F[0].e(V.width,0),F[1].e(F[0].x,D[1].y)):(D[0].e(0,0),D[1].e(V.width,0),F[0].e(0,V.height),F[1].e(D[1].x,F[0].y))),m){const W=E;let q=W-this.II(S,D,W);return q+=y,s=this.EI(x,D,q),r=this.VI(S,F,q),a=Math.max(0,q)+V.width,u=U,this.tn(x),this.tn(D),this.tn(S),this.tn(F),h[0]=s,h[1]=r,new I(q,0,a,u)}else{const W=L;let q=W-this.UI(S,D,W);return q+=y,s=this.BI(x,D,q),r=this.zI(S,F,q),a=U,u=Math.max(0,q)+V.height,this.tn(x),this.tn(D),this.tn(S),this.tn(F),h[0]=s,h[1]=r,new I(q,0,a,u)}}BI(e,n,s){if(e===null||e.length<2||n===null||n.length<2)return null;const r=this.fe(e.length+n.length);let a=0,u=0,h=0;for(;u<n.length&&n[u].x<e[0].x;){const y=n[u++];r[h++].e(y.x,y.y+s)}for(;a<e.length;){const y=e[a++];r[h++].e(y.x,y.y)}const f=e[e.length-1].x;for(;u<n.length&&n[u].x<=f;)u++;for(;u<n.length&&n[u].x>f;){const y=n[u++];r[h++].e(y.x,y.y+s)}const m=this.fe(h);for(a=0;a<h;a++)m[a].a(r[a]);return this.tn(r),m}EI(e,n,s){if(e===null||e.length<2||n===null||n.length<2)return null;const r=this.fe(e.length+n.length);let a=0,u=0,h=0;for(;u<n.length&&n[u].y<e[0].y;){const y=n[u++];r[h++].e(y.x+s,y.y)}for(;a<e.length;){const y=e[a++];r[h++].e(y.x,y.y)}const f=e[e.length-1].y;for(;u<n.length&&n[u].y<=f;)u++;for(;u<n.length&&n[u].y>f;){const y=n[u++];r[h++].e(y.x+s,y.y)}const m=this.fe(h);for(a=0;a<h;a++)m[a].a(r[a]);return this.tn(r),m}zI(e,n,s){if(e===null||e.length<2||n===null||n.length<2)return null;const r=this.fe(e.length+n.length);let a=0,u=0,h=0;for(;a<e.length&&e[a].x<n[0].x;){const y=e[a++];r[h++].e(y.x,y.y)}for(;u<n.length;){const y=n[u++];r[h++].e(y.x,y.y+s)}const f=n[n.length-1].x;for(;a<e.length&&e[a].x<=f;)a++;for(;a<e.length&&e[a].x>f;){const y=e[a++];r[h++].e(y.x,y.y)}const m=this.fe(h);for(a=0;a<h;a++)m[a].a(r[a]);return this.tn(r),m}VI(e,n,s){if(e===null||e.length<2||n===null||n.length<2)return null;const r=this.fe(e.length+n.length);let a=0,u=0,h=0;for(;a<e.length&&e[a].y<n[0].y;){const y=e[a++];r[h++].e(y.x,y.y)}for(;u<n.length;){const y=n[u++];r[h++].e(y.x+s,y.y)}const f=n[n.length-1].y;for(;a<e.length&&e[a].y<=f;)a++;for(;a<e.length&&e[a].y>f;){const y=e[a++];r[h++].e(y.x,y.y)}const m=this.fe(h);for(a=0;a<h;a++)m[a].a(r[a]);return this.tn(r),m}UI(e,n,s){let r=9999999;if(e===null||e.length<2||n===null||n.length<2)return r;let a=0,u=0;for(;a<e.length&&u<n.length;){const h=e[a],f=n[u],m=f.x;let y=f.y;y+=s;let x=h;a+1<e.length&&(x=e[a+1]);let S=f,E=S.x,L=S.y;u+1<n.length&&(S=n[u+1],E=S.x,L=S.y,L+=s);let D=r;h.x===m?D=y-h.y:h.x>m&&h.x<E?D=y+(h.x-m)/(E-m)*(L-y)-h.y:m>h.x&&m<x.x&&(D=y-(h.y+(m-h.x)/(x.x-h.x)*(x.y-h.y))),D<r&&(r=D),x.x<=h.x?a++:E<=m?u++:(x.x<=E&&a++,E<=x.x&&u++)}return r}II(e,n,s){let r=9999999;if(e===null||e.length<2||n===null||n.length<2)return r;let a=0,u=0;for(;a<e.length&&u<n.length;){const h=e[a],f=n[u];let m=f.x;const y=f.y;m+=s;let x=h;a+1<e.length&&(x=e[a+1]);let S=f,E=S.x,L=S.y;u+1<n.length&&(S=n[u+1],E=S.x,L=S.y,E+=s);let D=r;h.y===y?D=m-h.x:h.y>y&&h.y<L?D=m+(h.y-y)/(L-y)*(E-m)-h.x:y>h.y&&y<x.y&&(D=m-(h.x+(y-h.y)/(x.y-h.y)*(x.x-h.x))),D<r&&(r=D),x.y<=h.y?a++:L<=y?u++:(x.y<=L&&a++,L<=x.y&&u++)}return r}fe(e){const n=this.hk[e];if(n!==void 0){const r=n.pop();if(r!==void 0)return r}const s=[];for(let r=0;r<e;r++)s[r]=new T;return s}tn(e){const n=e.length;let s=this.hk[n];s===void 0&&(s=[],this.hk[n]=s),s.push(e)}arrangeTrees(){if(this.zi===52){const e=this.Ri.iterator;for(;e.next();){const n=e.value;if(!(n instanceof oo))continue;const s=n.node;if(s===null)continue;const r=s.position;let a=r.x,u=r.y;isFinite(a)||(a=0),isFinite(u)||(u=0),this.KN(n,a,u)}}else{const e=[],n=this.Ri.iterator;for(;n.next();){const u=n.value;u instanceof oo&&e.push(u)}switch(this.sorting){default:case 10:break;case 11:e.reverse();break;case 12:e.sort(this.comparer);break;case 13:e.sort(this.comparer),e.reverse();break}const s=this.arrangementOrigin;let r=s.x,a=s.y;for(let u=0;u<e.length;u++){const h=e[u];switch(this.KN(h,r+h.nt.x,a+h.nt.y),this.zi){case 50:a+=h.mt.height+this.Ms.height;break;default:case 51:r+=h.mt.width+this.Ms.width;break}}}}KN(e,n,s){if(e===null)return;e.x=n,e.y=s;const r=e.children,a=r.length;for(let u=0;u<a;u++){const h=r[u];this.KN(h,n+h.V.x,s+h.V.y)}}commitLayout(){this.By(),this.commitNodes(),this.IN(),this.isRouting&&this.commitLinks()}commitNodes(){const e=this.network.vertexes.iterator;for(;e.next();)e.value.commit();for(e.reset();e.next();){const n=e.value;this.layoutComments(n)}}IN(){if(this.layerStyle!==62)return;const e=this.EN,n=[];let s=null;const r=this.network.vertexes.iterator;for(;r.next();){const m=r.value;s===null?s=m.bounds.copy():s.unionRect(m.bounds);let y=n[m.level];y===void 0?y=this.computeLayerSpacing(m):y=Math.max(y,this.computeLayerSpacing(m)),n[m.level]=y}for(let m=0;m<n.length;m++)n[m]===void 0&&(n[m]=0);let a;this.angle===90||this.angle===270?(s.inflate(this.nodeSpacing/2,this.layerSpacing),a=new T(-this.nodeSpacing/2,-this.layerSpacing/2)):(s.inflate(this.layerSpacing,this.nodeSpacing/2),a=new T(-this.layerSpacing/2,-this.nodeSpacing/2));const u=[],h=this.angle===90||this.angle===270?s.width:s.height;let f=0;if(this.angle===180||this.angle===270)for(let m=0;m<e.length;m++)f+=e[m]+n[m];for(let m=0;m<e.length;m++){const y=e[m]+n[m];this.angle===270?(f-=y,u.push(new I(0,f,h,y))):this.angle===90?(u.push(new I(0,f,h,y)),f+=y):this.angle===180?(f-=y,u.push(new I(f,0,y,h))):(u.push(new I(f,0,y,h)),f+=y)}this.commitLayers(u,a)}commitLayers(e,n){}commitLinks(){const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}By(){const e=this.Ri.iterator;for(;e.next();){const n=e.value;n instanceof oo&&this.yD(n)}}yD(e){if(e===null)return;this.setPortSpots(e);const n=e.children,s=n.length;for(let r=0;r<s;r++){const a=n[r];this.yD(a)}}setPortSpots(e){const n=e.alignment;if(this.isBusAlignment(n))this.XI(e,n);else{const s=this.orthoAngle(e);if(this.as===1){const r=e.destinationEdges;for(;r.next();){const a=r.value.link;if(a!==null){if(e.setsPortSpot)if(e.portSpot.isDefault())switch(s){case 0:a.fromSpot=B.MiddleRight;break;case 90:a.fromSpot=B.MiddleBottom;break;case 180:a.fromSpot=B.MiddleLeft;break;default:a.fromSpot=B.MiddleTop;break}else a.fromSpot=e.portSpot;if(e.setsChildPortSpot)if(e.childPortSpot.isDefault())switch(s){case 0:a.toSpot=B.MiddleLeft;break;case 90:a.toSpot=B.MiddleTop;break;case 180:a.toSpot=B.MiddleRight;break;default:a.toSpot=B.MiddleBottom;break}else a.toSpot=e.childPortSpot}}}else{const r=e.sourceEdges;for(;r.next();){const a=r.value.link;if(a!==null){if(e.setsPortSpot)if(e.portSpot.isDefault())switch(s){case 0:a.toSpot=B.MiddleRight;break;case 90:a.toSpot=B.MiddleBottom;break;case 180:a.toSpot=B.MiddleLeft;break;default:a.toSpot=B.MiddleTop;break}else a.toSpot=e.portSpot;if(e.setsChildPortSpot)if(e.childPortSpot.isDefault())switch(s){case 0:a.fromSpot=B.MiddleLeft;break;case 90:a.fromSpot=B.MiddleTop;break;case 180:a.fromSpot=B.MiddleRight;break;default:a.fromSpot=B.MiddleBottom;break}else a.fromSpot=e.childPortSpot}}}}}XI(e,n){const s=this.as===1,r=this.orthoAngle(e);let a;switch(r){case 0:a=B.MiddleRight;break;case 90:a=B.MiddleBottom;break;case 180:a=B.MiddleLeft;break;default:a=B.MiddleTop;break}const u=e.children,h=u.length;switch(n){case 24:case 25:{for(let f=0;f<h;f++){const m=u[f],y=(s?m.sourceEdges:m.destinationEdges).first();if(y===null)continue;const x=y.link;if(x!==null){let S=r===90||r===270?B.MiddleLeft:B.MiddleTop;if(h===1||f===h-1&&h%2===1)switch(r){case 0:S=B.MiddleLeft;break;case 90:S=B.MiddleTop;break;case 180:S=B.MiddleRight;break;default:S=B.MiddleBottom;break}else f%2===0&&(S=r===90||r===270?B.MiddleRight:B.MiddleBottom);s?(e.setsPortSpot&&(x.fromSpot=a),e.setsChildPortSpot&&(x.toSpot=S)):(e.setsPortSpot&&(x.fromSpot=S),e.setsChildPortSpot&&(x.toSpot=a))}}break}case 26:{const f=r===90||r===270?B.MiddleRight:B.MiddleBottom,m=s?e.destinationEdges:e.sourceEdges;for(;m.next();){const y=m.value.link;y!==null&&(s?(e.setsPortSpot&&(y.fromSpot=a),e.setsChildPortSpot&&(y.toSpot=f)):(e.setsPortSpot&&(y.fromSpot=f),e.setsChildPortSpot&&(y.toSpot=a)))}break}case 27:{const f=r===90||r===270?B.MiddleLeft:B.MiddleTop,m=s?e.destinationEdges:e.sourceEdges;for(;m.next();){const y=m.value.link;y!==null&&(s?(e.setsPortSpot&&(y.fromSpot=a),e.setsChildPortSpot&&(y.toSpot=f)):(e.setsPortSpot&&(y.fromSpot=f),e.setsChildPortSpot&&(y.toSpot=a)))}break}}}orthoAngle(e){const n=e.angle;return n<=45?0:n<=135?90:n<=225?180:n<=315?270:0}computeLayerSpacing(e){const n=this.orthoAngle(e),s=n===90||n===270;let r=e.layerSpacing;if(e.layerSpacingParentOverlap>0){const a=Math.min(1,e.layerSpacingParentOverlap);r-=s?e.height*a:e.width*a}return r<(s?-e.height:-e.width)&&(r=s?-e.height:-e.width),r}computeNodeIndent(e){const n=this.orthoAngle(e),s=n===90||n===270;let r=e.nodeIndent;if(e.nodeIndentPastParent>0){const a=Math.min(1,e.nodeIndentPastParent);r+=s?e.width*a:e.height*a}return r=Math.max(0,r),r}get roots(){return this.Ri}set roots(e){this.Ri!==e&&(this.Ri=e,this.invalidateLayout())}get path(){return this.Di}set path(e){this.Di!==e&&(this.Di=e,this.invalidateLayout())}get treeStyle(){return this.Zf}set treeStyle(e){this.Zf!==e&&(e===40||e===42||e===41||e===43)&&(this.Zf=e,this.invalidateLayout())}get layerStyle(){return this.Fg}set layerStyle(e){this.Fg!==e&&(e===60||e===61||e===62)&&(this.Fg=e,this.invalidateLayout())}get comments(){return this.Oe}set comments(e){this.Oe!==e&&(this.Oe=e,this.invalidateLayout())}get arrangement(){return this.zi}set arrangement(e){this.zi!==e&&(e===50||e===51||e===52)&&(this.zi=e,this.invalidateLayout())}get arrangementSpacing(){return this.Ms}set arrangementSpacing(e){this.Ms.equals(e)||(this.Ms.a(e),this.invalidateLayout())}get rootDefaults(){return this.B}set rootDefaults(e){this.B!==e&&(this.B=e,this.invalidateLayout())}get alternateDefaults(){return this.z}set alternateDefaults(e){this.z!==e&&(this.z=e,this.invalidateLayout())}get sorting(){return this.B.sorting}set sorting(e){this.B.sorting!==e&&(this.B.sorting=e,this.invalidateLayout())}get comparer(){return this.B.comparer}set comparer(e){this.B.comparer!==e&&(this.B.comparer=e,this.invalidateLayout())}get angle(){return this.B.angle}set angle(e){this.B.angle!==e&&(e===0||e===90||e===180||e===270?(this.B.angle=e,this.invalidateLayout()):o.o("TreeLayout.angle must be 0, 90, 180, or 270"))}get alignment(){return this.B.alignment}set alignment(e){this.B.alignment!==e&&(this.B.alignment=e,this.invalidateLayout())}get nodeIndent(){return this.B.nodeIndent}set nodeIndent(e){this.B.nodeIndent!==e&&e>=0&&(this.B.nodeIndent=e,this.invalidateLayout())}get nodeIndentPastParent(){return this.B.nodeIndentPastParent}set nodeIndentPastParent(e){this.B.nodeIndentPastParent!==e&&e>=0&&e<=1&&(this.B.nodeIndentPastParent=e,this.invalidateLayout())}get nodeSpacing(){return this.B.nodeSpacing}set nodeSpacing(e){this.B.nodeSpacing!==e&&(this.B.nodeSpacing=e,this.invalidateLayout())}get layerSpacing(){return this.B.layerSpacing}set layerSpacing(e){this.B.layerSpacing!==e&&(this.B.layerSpacing=e,this.invalidateLayout())}get layerSpacingParentOverlap(){return this.B.layerSpacingParentOverlap}set layerSpacingParentOverlap(e){this.B.layerSpacingParentOverlap!==e&&e>=0&&e<=1&&(this.B.layerSpacingParentOverlap=e,this.invalidateLayout())}get compaction(){return this.B.compaction}set compaction(e){this.B.compaction!==e&&(e===30||e===31)&&(this.B.compaction=e,this.invalidateLayout())}get breadthLimit(){return this.B.breadthLimit}set breadthLimit(e){this.B.breadthLimit!==e&&e>=0&&(this.B.breadthLimit=e,this.invalidateLayout())}get rowSpacing(){return this.B.rowSpacing}set rowSpacing(e){this.B.rowSpacing!==e&&(this.B.rowSpacing=e,this.invalidateLayout())}get rowIndent(){return this.B.rowIndent}set rowIndent(e){this.B.rowIndent!==e&&e>=0&&(this.B.rowIndent=e,this.invalidateLayout())}get commentSpacing(){return this.B.commentSpacing}set commentSpacing(e){this.B.commentSpacing!==e&&(this.B.commentSpacing=e,this.invalidateLayout())}get commentMargin(){return this.B.commentMargin}set commentMargin(e){this.B.commentMargin!==e&&(this.B.commentMargin=e,this.invalidateLayout())}get setsPortSpot(){return this.B.setsPortSpot}set setsPortSpot(e){this.B.setsPortSpot!==e&&(this.B.setsPortSpot=e,this.invalidateLayout())}get portSpot(){return this.B.portSpot}set portSpot(e){this.B.portSpot.equals(e)||(this.B.portSpot=e,this.invalidateLayout())}get setsChildPortSpot(){return this.B.setsChildPortSpot}set setsChildPortSpot(e){this.B.setsChildPortSpot!==e&&(this.B.setsChildPortSpot=e,this.invalidateLayout())}get childPortSpot(){return this.B.childPortSpot}set childPortSpot(e){this.B.childPortSpot.equals(e)||(this.B.childPortSpot=e,this.invalidateLayout())}get alternateSorting(){return this.z.sorting}set alternateSorting(e){this.z.sorting!==e&&(this.z.sorting=e,this.invalidateLayout())}get alternateComparer(){return this.z.comparer}set alternateComparer(e){this.z.comparer!==e&&(this.z.comparer=e,this.invalidateLayout())}get alternateAngle(){return this.z.angle}set alternateAngle(e){this.z.angle!==e&&(e===0||e===90||e===180||e===270)&&(this.z.angle=e,this.invalidateLayout())}get alternateAlignment(){return this.z.alignment}set alternateAlignment(e){this.z.alignment!==e&&(this.z.alignment=e,this.invalidateLayout())}get alternateNodeIndent(){return this.z.nodeIndent}set alternateNodeIndent(e){this.z.nodeIndent!==e&&e>=0&&(this.z.nodeIndent=e,this.invalidateLayout())}get alternateNodeIndentPastParent(){return this.z.nodeIndentPastParent}set alternateNodeIndentPastParent(e){this.z.nodeIndentPastParent!==e&&e>=0&&e<=1&&(this.z.nodeIndentPastParent=e,this.invalidateLayout())}get alternateNodeSpacing(){return this.z.nodeSpacing}set alternateNodeSpacing(e){this.z.nodeSpacing!==e&&(this.z.nodeSpacing=e,this.invalidateLayout())}get alternateLayerSpacing(){return this.z.layerSpacing}set alternateLayerSpacing(e){this.z.layerSpacing!==e&&(this.z.layerSpacing=e,this.invalidateLayout())}get alternateLayerSpacingParentOverlap(){return this.z.layerSpacingParentOverlap}set alternateLayerSpacingParentOverlap(e){this.z.layerSpacingParentOverlap!==e&&e>=0&&e<=1&&(this.z.layerSpacingParentOverlap=e,this.invalidateLayout())}get alternateCompaction(){return this.z.compaction}set alternateCompaction(e){this.z.compaction!==e&&(e===30||e===31)&&(this.z.compaction=e,this.invalidateLayout())}get alternateBreadthLimit(){return this.z.breadthLimit}set alternateBreadthLimit(e){this.z.breadthLimit!==e&&e>=0&&(this.z.breadthLimit=e,this.invalidateLayout())}get alternateRowSpacing(){return this.z.rowSpacing}set alternateRowSpacing(e){this.z.rowSpacing!==e&&(this.z.rowSpacing=e,this.invalidateLayout())}get alternateRowIndent(){return this.z.rowIndent}set alternateRowIndent(e){this.z.rowIndent!==e&&e>=0&&(this.z.rowIndent=e,this.invalidateLayout())}get alternateCommentSpacing(){return this.z.commentSpacing}set alternateCommentSpacing(e){this.z.commentSpacing!==e&&(this.z.commentSpacing=e,this.invalidateLayout())}get alternateCommentMargin(){return this.z.commentMargin}set alternateCommentMargin(e){this.z.commentMargin!==e&&(this.z.commentMargin=e,this.invalidateLayout())}get alternateSetsPortSpot(){return this.z.setsPortSpot}set alternateSetsPortSpot(e){this.z.setsPortSpot!==e&&(this.z.setsPortSpot=e,this.invalidateLayout())}get alternatePortSpot(){return this.z.portSpot}set alternatePortSpot(e){this.z.portSpot.equals(e)||(this.z.portSpot=e,this.invalidateLayout())}get alternateSetsChildPortSpot(){return this.z.setsChildPortSpot}set alternateSetsChildPortSpot(e){this.z.setsChildPortSpot!==e&&(this.z.setsChildPortSpot=e,this.invalidateLayout())}get alternateChildPortSpot(){return this.z.childPortSpot}set alternateChildPortSpot(e){this.z.childPortSpot.equals(e)||(this.z.childPortSpot=e,this.invalidateLayout())}}k(ui,"PathDefault",0),k(ui,"PathDestination",1),k(ui,"PathSource",2),k(ui,"SortingForwards",10),k(ui,"SortingReverse",11),k(ui,"SortingAscending",12),k(ui,"SortingDescending",13),k(ui,"AlignmentCenterSubtrees",20),k(ui,"AlignmentCenterChildren",21),k(ui,"AlignmentStart",22),k(ui,"AlignmentEnd",23),k(ui,"AlignmentBus",24),k(ui,"AlignmentBusBranching",25),k(ui,"AlignmentTopLeftBus",26),k(ui,"AlignmentBottomRightBus",27),k(ui,"CompactionNone",30),k(ui,"CompactionBlock",31),k(ui,"StyleLayered",40),k(ui,"StyleLastParents",41),k(ui,"StyleAlternating",42),k(ui,"StyleRootOnly",43),k(ui,"ArrangementVertical",50),k(ui,"ArrangementHorizontal",51),k(ui,"ArrangementFixedRoots",52),k(ui,"LayerIndividual",60),k(ui,"LayerSiblings",61),k(ui,"LayerUniform",62);class Zf extends qr{constructor(t){super(t)}createVertex(){return new oo(this)}createEdge(){return new Ev(this)}}class oo extends Gr{constructor(e){super(e);k(this,"V");k(this,"mt");k(this,"nt");k(this,"uk");k(this,"dk");k(this,"gk");k(this,"mk");k(this,"pk");k(this,"yk");k(this,"wk");k(this,"Oe");k(this,"wD");k(this,"Qf");k(this,"_f");k(this,"Rg");k(this,"vg");k(this,"we");k(this,"xe");k(this,"Xt");k(this,"oi");k(this,"Jy");k(this,"$y");k(this,"Zy");k(this,"Ss");k(this,"Qy");k(this,"_y");k(this,"tw");k(this,"iw");k(this,"ew");k(this,"sw");k(this,"nw");k(this,"ow");k(this,"rw");k(this,"lw");k(this,"hw");this.uk=!1,this.dk=null,this.gk=[],this.mk=0,this.pk=0,this.yk=0,this.wk=0,this.Oe=null,this.V=new T(0,0),this.mt=new _(0,0),this.nt=new T(0,0),this.wD=!1,this.Qf=!1,this._f=!1,this.Rg=null,this.vg=null,this.we=10,this.xe=Gr.standardComparer,this.Xt=0,this.oi=21,this.Jy=0,this.$y=0,this.Zy=20,this.Ss=50,this.Qy=0,this._y=31,this.tw=0,this.iw=25,this.ew=10,this.sw=10,this.nw=20,this.ow=!0,this.rw=B.Default,this.lw=!0,this.hw=B.Default}copyInheritedPropertiesFrom(e){e!==null&&(this.we=e.sorting,this.xe=e.comparer,this.Xt=e.angle,this.oi=e.alignment,this.Jy=e.nodeIndent,this.$y=e.nodeIndentPastParent,this.Zy=e.nodeSpacing,this.Ss=e.layerSpacing,this.Qy=e.layerSpacingParentOverlap,this._y=e.compaction,this.tw=e.breadthLimit,this.iw=e.rowSpacing,this.ew=e.rowIndent,this.sw=e.commentSpacing,this.nw=e.commentMargin,this.ow=e.setsPortSpot,this.rw=e.portSpot,this.lw=e.setsChildPortSpot,this.hw=e.childPortSpot)}get initialized(){return this.uk}set initialized(e){this.uk!==e&&(this.uk=e)}get parent(){return this.dk}set parent(e){this.dk!==e&&(this.dk=e)}get children(){return this.gk}set children(e){if(this.gk!==e){if(e!==null){const n=e.length;for(let s=0;s<n;s++)e[s]}this.gk=e}}get level(){return this.mk}set level(e){this.mk!==e&&(this.mk=e)}get descendantCount(){return this.pk}set descendantCount(e){this.pk!==e&&(this.pk=e)}get maxChildrenCount(){return this.yk}set maxChildrenCount(e){this.yk!==e&&(this.yk=e)}get maxGenerationCount(){return this.wk}set maxGenerationCount(e){this.wk!==e&&(this.wk=e)}get comments(){return this.Oe}set comments(e){if(this.Oe!==e){if(e!==null){const n=e.length;for(let s=0;s<n;s++)e[s]}this.Oe=e}}get sorting(){return this.we}set sorting(e){this.we!==e&&(this.we=e)}get comparer(){return this.xe}set comparer(e){this.xe!==e&&(this.xe=e)}get angle(){return this.Xt}set angle(e){this.Xt!==e&&(this.Xt=e)}get alignment(){return this.oi}set alignment(e){this.oi!==e&&(this.oi=e)}get nodeIndent(){return this.Jy}set nodeIndent(e){this.Jy!==e&&(this.Jy=e)}get nodeIndentPastParent(){return this.$y}set nodeIndentPastParent(e){this.$y!==e&&(this.$y=e)}get nodeSpacing(){return this.Zy}set nodeSpacing(e){this.Zy!==e&&(this.Zy=e)}get layerSpacing(){return this.Ss}set layerSpacing(e){this.Ss!==e&&(this.Ss=e)}get layerSpacingParentOverlap(){return this.Qy}set layerSpacingParentOverlap(e){this.Qy!==e&&(this.Qy=e)}get compaction(){return this._y}set compaction(e){this._y!==e&&(this._y=e)}get breadthLimit(){return this.tw}set breadthLimit(e){this.tw!==e&&(this.tw=e)}get rowSpacing(){return this.iw}set rowSpacing(e){this.iw!==e&&(this.iw=e)}get rowIndent(){return this.ew}set rowIndent(e){this.ew!==e&&(this.ew=e)}get commentSpacing(){return this.sw}set commentSpacing(e){this.sw!==e&&(this.sw=e)}get commentMargin(){return this.nw}set commentMargin(e){this.nw!==e&&(this.nw=e)}get setsPortSpot(){return this.ow}set setsPortSpot(e){this.ow!==e&&(this.ow=e)}get portSpot(){return this.rw}set portSpot(e){this.rw.equals(e)||(this.rw=e)}get setsChildPortSpot(){return this.lw}set setsChildPortSpot(e){this.lw!==e&&(this.lw=e)}get childPortSpot(){return this.hw}set childPortSpot(e){this.hw.equals(e)||(this.hw=e)}get childrenCount(){return this.children.length}get relativePosition(){return this.V}set relativePosition(e){this.V.set(e)}get subtreeSize(){return this.mt}set subtreeSize(e){this.mt.set(e)}get subtreeOffset(){return this.nt}set subtreeOffset(e){this.nt.set(e)}}class Ev extends bl{constructor(e){super(e);k(this,"xk");this.xk=new T(0,0)}commit(){const e=this.link;if(e===null||e.isAvoiding)return;const n=this.network.layout;let s=null,r=null;switch(n.as){case 1:s=this.fromVertex,r=this.toVertex;break;case 2:s=this.toVertex,r=this.fromVertex;break;default:o.o("Unhandled path value "+n.as.toString())}if(s===null||r===null)return;const a=this.xk;if(a.x===0&&a.y===0&&!s.wD){this.KI(s,r);return}const u=s.bounds,h=n.orthoAngle(s),f=n.computeLayerSpacing(s),m=s.rowSpacing;e.updateRoute();const y=e.curve===9,x=e.isOrthogonal;let S=0,E,L;if(e.startRoute(),x||y){for(S=2;e.pointsCount>4;)e.removePoint(2);E=e.getPoint(1),L=e.getPoint(2)}else{for(S=1;e.pointsCount>3;)e.removePoint(1);E=e.getPoint(0),L=e.getPoint(e.pointsCount-1)}const D=e.getPoint(e.pointsCount-1);let F=0;h===0?(s.alignment===23?(F=u.bottom+a.y,a.y===0&&E.y>D.y+s.rowIndent&&(F=Math.min(F,Math.max(E.y,F-n.computeNodeIndent(s))))):s.alignment===22?(F=u.top+a.y,a.y===0&&E.y<D.y-s.rowIndent&&(F=Math.max(F,Math.min(E.y,F+n.computeNodeIndent(s))))):s.Qf||s._f&&s.maxGenerationCount===1?F=u.top-s.nt.y+a.y:F=u.y+u.height/2+a.y,y?(e.insertPointAt(S,E.x,F),S++,e.insertPointAt(S,u.right+f,F),S++,e.insertPointAt(S,u.right+f+(a.x-m)/3,F),S++,e.insertPointAt(S,u.right+f+(a.x-m)*2/3,F),S++,e.insertPointAt(S,u.right+f+(a.x-m),F),S++,e.insertPointAt(S,L.x,F),S++):(x&&(e.insertPointAt(S,u.right+f/2,E.y),S++),e.insertPointAt(S,u.right+f/2,F),S++,e.insertPointAt(S,u.right+f+a.x-(x?m/2:m),F),S++,x&&(e.insertPointAt(S,e.getPoint(S-1).x,L.y),S++))):h===90?(s.alignment===23?(F=u.right+a.x,a.x===0&&E.x>D.x+s.rowIndent&&(F=Math.min(F,Math.max(E.x,F-n.computeNodeIndent(s))))):s.alignment===22?(F=u.left+a.x,a.x===0&&E.x<D.x-s.rowIndent&&(F=Math.max(F,Math.min(E.x,F+n.computeNodeIndent(s))))):s.Qf||s._f&&s.maxGenerationCount===1?F=u.left-s.nt.x+a.x:F=u.x+u.width/2+a.x,y?(e.insertPointAt(S,F,E.y),S++,e.insertPointAt(S,F,u.bottom+f),S++,e.insertPointAt(S,F,u.bottom+f+(a.y-m)/3),S++,e.insertPointAt(S,F,u.bottom+f+(a.y-m)*2/3),S++,e.insertPointAt(S,F,u.bottom+f+(a.y-m)),S++,e.insertPointAt(S,F,L.y),S++):(x&&(e.insertPointAt(S,E.x,u.bottom+f/2),S++),e.insertPointAt(S,F,u.bottom+f/2),S++,e.insertPointAt(S,F,u.bottom+f+a.y-(x?m/2:m)),S++,x&&(e.insertPointAt(S,L.x,e.getPoint(S-1).y),S++))):h===180?(s.alignment===23?(F=u.bottom+a.y,a.y===0&&E.y>D.y+s.rowIndent&&(F=Math.min(F,Math.max(E.y,F-n.computeNodeIndent(s))))):s.alignment===22?(F=u.top+a.y,a.y===0&&E.y<D.y-s.rowIndent&&(F=Math.max(F,Math.min(E.y,F+n.computeNodeIndent(s))))):s.Qf||s._f&&s.maxGenerationCount===1?F=u.top-s.nt.y+a.y:F=u.y+u.height/2+a.y,y?(e.insertPointAt(S,E.x,F),S++,e.insertPointAt(S,u.left-f,F),S++,e.insertPointAt(S,u.left-f+(a.x+m)/3,F),S++,e.insertPointAt(S,u.left-f+(a.x+m)*2/3,F),S++,e.insertPointAt(S,u.left-f+(a.x+m),F),S++,e.insertPointAt(S,L.x,F),S++):(x&&(e.insertPointAt(S,u.left-f/2,E.y),S++),e.insertPointAt(S,u.left-f/2,F),S++,e.insertPointAt(S,u.left-f+a.x+(x?m/2:m),F),S++,x&&(e.insertPointAt(S,e.getPoint(S-1).x,L.y),S++))):h===270?(s.alignment===23?(F=u.right+a.x,a.x===0&&E.x>D.x+s.rowIndent&&(F=Math.min(F,Math.max(E.x,F-n.computeNodeIndent(s))))):s.alignment===22?(F=u.left+a.x,a.x===0&&E.x<D.x-s.rowIndent&&(F=Math.max(F,Math.min(E.x,F+n.computeNodeIndent(s))))):s.Qf||s._f&&s.maxGenerationCount===1?F=u.left-s.nt.x+a.x:F=u.x+u.width/2+a.x,y?(e.insertPointAt(S,F,E.y),S++,e.insertPointAt(S,F,u.top-f),S++,e.insertPointAt(S,F,u.top-f+(a.y+m)/3),S++,e.insertPointAt(S,F,u.top-f+(a.y+m)*2/3),S++,e.insertPointAt(S,F,u.top-f+(a.y+m)),S++,e.insertPointAt(S,F,L.y),S++):(x&&(e.insertPointAt(S,E.x,u.top-f/2),S++),e.insertPointAt(S,F,u.top-f/2),S++,e.insertPointAt(S,F,u.top-f+a.y+(x?m/2:m)),S++,x&&(e.insertPointAt(S,L.x,e.getPoint(S-1).y),S++))):o.o("Invalid angle "+h),e.commitRoute()}KI(e,n){const s=this.link,r=this.network.layout,a=r.orthoAngle(e),u=r.orthoAngle(n);if(a===u)return;const h=r.computeLayerSpacing(e),f=e.bounds,m=n.bounds;if(a===0&&m.left-f.right<h+1||a===90&&m.top-f.bottom<h+1||a===180&&f.left-m.right<h+1||a===270&&f.top-m.bottom<h+1)return;s.updateRoute();const y=s.curve===9,x=s.isOrthogonal,S=this.fromVertex,E=r.isBusAlignment(S.alignment);if(s.startRoute(),a===0){const L=f.right+h/2;if(y){if(s.pointsCount===4){const D=s.getPoint(3).y;s.setPointAt(1,L-20,s.getPoint(1).y),s.insertPointAt(2,L-20,D),s.insertPointAt(3,L,D),s.insertPointAt(4,L+20,D),s.setPointAt(5,s.getPoint(5).x,D)}}else x?E?s.setPointAt(3,s.getPoint(2).x,s.getPoint(4).y):s.pointsCount===6&&(s.setPointAt(2,L,s.getPoint(2).y),s.setPointAt(3,L,s.getPoint(3).y)):s.pointsCount===4?s.insertPointAt(2,L,s.getPoint(2).y):s.pointsCount===3?s.setPointAt(1,L,s.getPoint(2).y):s.pointsCount===2&&s.insertPointAt(1,L,s.getPoint(1).y)}else if(a===90){const L=f.bottom+h/2;if(y){if(s.pointsCount===4){const D=s.getPoint(3).x;s.setPointAt(1,s.getPoint(1).x,L-20),s.insertPointAt(2,D,L-20),s.insertPointAt(3,D,L),s.insertPointAt(4,D,L+20),s.setPointAt(5,D,s.getPoint(5).y)}}else x?E?s.setPointAt(3,s.getPoint(2).x,s.getPoint(4).y):s.pointsCount===6&&(s.setPointAt(2,s.getPoint(2).x,L),s.setPointAt(3,s.getPoint(3).x,L)):s.pointsCount===4?s.insertPointAt(2,s.getPoint(2).x,L):s.pointsCount===3?s.setPointAt(1,s.getPoint(2).x,L):s.pointsCount===2&&s.insertPointAt(1,s.getPoint(1).x,L)}else if(a===180){const L=f.left-h/2;if(y){if(s.pointsCount===4){const D=s.getPoint(3).y;s.setPointAt(1,L+20,s.getPoint(1).y),s.insertPointAt(2,L+20,D),s.insertPointAt(3,L,D),s.insertPointAt(4,L-20,D),s.setPointAt(5,s.getPoint(5).x,D)}}else x?E?s.setPointAt(3,s.getPoint(2).x,s.getPoint(4).y):s.pointsCount===6&&(s.setPointAt(2,L,s.getPoint(2).y),s.setPointAt(3,L,s.getPoint(3).y)):s.pointsCount===4?s.insertPointAt(2,L,s.getPoint(2).y):s.pointsCount===3?s.setPointAt(1,L,s.getPoint(2).y):s.pointsCount===2&&s.insertPointAt(1,L,s.getPoint(1).y)}else if(a===270){const L=f.top-h/2;if(y){if(s.pointsCount===4){const D=s.getPoint(3).x;s.setPointAt(1,s.getPoint(1).x,L+20),s.insertPointAt(2,D,L+20),s.insertPointAt(3,D,L),s.insertPointAt(4,D,L-20),s.setPointAt(5,D,s.getPoint(5).y)}}else x?E?s.setPointAt(3,s.getPoint(2).x,s.getPoint(4).y):s.pointsCount===6&&(s.setPointAt(2,s.getPoint(2).x,L),s.setPointAt(3,s.getPoint(3).x,L)):s.pointsCount===4?s.insertPointAt(2,s.getPoint(2).x,L):s.pointsCount===3?s.setPointAt(1,s.getPoint(2).x,L):s.pointsCount===2&&s.insertPointAt(1,s.getPoint(1).x,L)}s.commitRoute()}get fromVertex(){return this.Je}set fromVertex(e){this.Je!==e&&(this.Je=e)}get toVertex(){return this.$e}set toVertex(e){this.$e!==e&&(this.$e=e)}get relativePoint(){return this.xk}set relativePoint(e){this.xk.set(e)}}class Ws{constructor(){}}k(Ws,"Light",{colors:{text:"#0a0a0a",comment:"#ca8a04",link:"#0a0a0a",group:"#a3a3a344",outline:"#a3a3a3",selection:"#0ea5e9",div:"#fff",gridMinor:"#e5e5e5",gridMajor:"#a3a3a3",overviewBox:"#c026d3",tempLink:"#2563eb",tempPort:"#c026d3",adornmentFill:"#0ea5e9",adornmentStroke:"#1e40af",dragSelect:"#c026d3"},fonts:{normal:"10pt sans-serif",bold:"bold 12pt sans-serif"},numbers:{group:1,selection:3},margins:{group:new K(5)},arrowheads:{toArrow:"Standard"}}),k(Ws,"Dark",{colors:{text:"#f5f5f5",comment:"#facc15",link:"#f5f5f5",group:"#a3a3a388",outline:"#a3a3a3",selection:"#38bdf8",div:"#171717",gridMinor:"#262626",gridMajor:"#404040",overviewBox:"#e879f9",tempLink:"#60a5fa",tempPort:"#e879f9",adornmentFill:"#38bdf8",adornmentStroke:"#2563eb",dragSelect:"#e879f9"},fonts:{normal:"10pt sans-serif",bold:"bold 12pt sans-serif"},numbers:{group:1,selection:3},margins:{group:new K(5)},arrowheads:{toArrow:"Standard"}});const Cl=class Cl{constructor(t){k(this,"ss",new Set);k(this,"iu",new z);k(this,"bk","light");k(this,"kk","light");k(this,"Pk",!1);k(this,"Og","light");k(this,"xD",t=>{const e=t.matches?"dark":"light";e!==this.Og&&(this.Og=e,this.kk==="system"&&this.aw())});t&&Object.assign(this,t),t!=null&&t.themeMap||(this.iu.set("light",{colors:{...Ws.Light.colors},fonts:{...Ws.Light.fonts},numbers:{...Ws.Light.numbers},margins:{...Ws.Light.margins},arrowheads:{...Ws.Light.arrowheads}}),this.iu.set("dark",{colors:{...Ws.Dark.colors},fonts:{...Ws.Dark.fonts},numbers:{...Ws.Dark.numbers},margins:{...Ws.Dark.margins},arrowheads:{...Ws.Dark.arrowheads}})),i.matchMedia&&(this.Og=i.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}get themeMap(){return this.iu}set themeMap(t){this.iu!==t&&(this.iu=t,this.aw())}get defaultTheme(){return this.bk}set defaultTheme(t){this.bk!==t&&(o.i(t,"string",Cl,"defaultTheme"),this.bk=t,this.aw())}get currentTheme(){return this.kk}set currentTheme(t){this.kk!==t&&(o.i(t,"string",Cl,"currentTheme"),this.kk=t,this.aw())}get changesDivBackground(){return this.Pk}set changesDivBackground(t){if(this.Pk!==t&&(this.Pk=t,t))for(const e of this.ss)e.setDivBackground(this.findValue("div","","fill")),e.v("ThemeChanged",this)}get preferredColorScheme(){return this.Og}addDiagram(t){return this.ss.add(t),this.YN(t),this}removeDiagram(t){return this.ss.delete(t),this.YN(t),this}UF(){var t;this.ss.size===0&&i.matchMedia&&((t=i.matchMedia("(prefers-color-scheme: dark)"))==null||t.addEventListener("change",this.xD))}BF(){var t;this.ss.size===0&&i.matchMedia&&((t=i.matchMedia("(prefers-color-scheme: dark)"))==null||t.removeEventListener("change",this.xD))}set(t,e){t===""&&(t=this.bk),t==="system"&&(t=this.Og);let n=this.iu.get(t);return n?n=this.bD(n,e):n=e,this.iu.set(t,n),this.aw(),this}findValue(t,e,n){return this.getValue(this.findTheme(this.currentTheme),t,e,n)||this.getValue(this.findTheme(this.defaultTheme),t,e,n)}getValue(t,e,n,s){var h;if(!t)return;n==null&&(n="");let r=t;const a=f=>{if(r===void 0||f==="")return;if(typeof f=="number"||!(Array.isArray(f)||f.includes(".")))return r[f];const m=Array.isArray(f)?f:f.split(".");for(let y=0;y<m.length;y++){const x=m[y];if(x!==""&&(r=r[x],r===void 0))return}return r},u=()=>{if(!(n!==""&&(r=a(n),r===void 0)))return Array.isArray(r)&&typeof e=="number"?r=r[e%r.length]:r=a(e),r};if(r=u(),r===void 0&&typeof s=="string"&&s.length>0){let f=(h=t.targetPropertyMap)==null?void 0:h.get(s);if(f?r=t[f]:(f=Cl.YI.get(s),r=f?t[f]:t.colors),r=u(),r!==void 0)return r}return r}findTheme(t){return this.themeMap.get(t==="system"?this.Og:t)}YN(t){const e=t.skipsUndoManager;t.skipsUndoManager=!0,t.updateAllThemeBindings(),this.Pk&&t.setDivBackground(this.findValue("div","","fill")),t.skipsUndoManager=e,t.v("ThemeChanged",this)}aw(){for(const t of this.ss)this.YN(t)}bD(t,e){for(const n in e)if(o.cw(e,n))try{e[n].constructor===Object?t[n]=this.bD(t[n]??{},e[n]):t[n]=e[n]}catch{delete t[n]}return t}};k(Cl,"YI",new Map([["background","colors"],["defaultColumnSeparatorStroke","colors"],["defaultRowSeparatorStroke","colors"],["shadowColor","colors"],["fill","colors"],["stroke","colors"],["font","fonts"],["angle","numbers"],["fromEndSegmentLength","numbers"],["fromShortLength","numbers"],["height","numbers"],["opacity","numbers"],["scale","numbers"],["toEndSegmentLength","numbers"],["toShortLength","numbers"],["width","numbers"],["defaultColumnSeparatorStrokeWidth","numbers"],["defaultRowSeparatorStrokeWidth","numbers"],["shadowBlur","numbers"],["corner","numbers"],["curviness","numbers"],["smoothness","numbers"],["parameter1","numbers"],["parameter2","numbers"],["strokeWidth","numbers"],["strokeDashOffset","numbers"],["maxLines","numbers"],["spacingAbove","numbers"],["spacingBelow","numbers"],["position","points"],["shadowOffset","points"],["desiredSize","sizes"],["maxSize","sizes"],["minSize","sizes"],["margin","margins"],["defaultSeparatorPadding","margins"],["padding","margins"],["alignment","spots"],["alignmentFocus","spots"],["fromSpot","spots"],["toSpot","spots"],["defaultAlignment","spots"],["spot1","spots"],["spot2","spots"],["verticalAlignment","spots"],["imageAlignment","spots"],["fromArrow","arrowheads"],["toArrow","arrowheads"]]));let Au=Cl;class Dv{constructor(){k(this,"St");k(this,"k");k(this,"Oi");k(this,"gl");this.k=st.pm(),this.St="",this.Oi=!0,this.gl=!0}get name(){return this.St}set name(t){this.St=t}get isEnabled(){return this.Oi}set isEnabled(t){this.Oi=t}get isRealtime(){return this.gl}set isRealtime(t){this.gl=t}get diagram(){return this.k}set diagram(t){this.k!==t&&(this.k=t,t.Pl=!0,t.requestUpdate())}invalidateRouter(){this.k!==null&&(this.k.Pl=!0,this.k.requestUpdate())}canRoute(t){if(!this.isEnabled)return!1;const e=this.diagram;return!(e&&(!this.isRealtime&&e.pu||e.animationManager.isTicking))}routeLinks(t,e){}toString(){return this.name!==""?this.name+" Router":o.sn(this.constructor)}}class _M extends Dv{constructor(t){super(),this.name="AvoidsNodes",t&&Object.assign(this,t)}routeLinks(t,e){const n=e instanceof st?null:e,s=t.iterator,r=this.diagram.getPositions(!0,null,null);for(;s.next();){const a=s.value;if(!a.isAvoiding||e&&a.containingGroup!==n||a.toNode===null||a.fromNode===null||a.pointsCount<4)continue;a.startRoute();const u=a.pointsCount,h=a.getPoint(1),f=a.getPoint(u-2),m=a.fromNode.actualBounds.copy();m.inflate(Zt.Ra,Zt.Ra),m.unionPoint(a.getPoint(0));const y=a.toNode.actualBounds.copy();y.inflate(Zt.Ra,Zt.Ra),y.unionPoint(a.getPoint(u-1)),this.GI(a,m,y,r)&&this.jI(a,h,a.Q2,f,a._2,m,y,r),a.commitRoute()}}GI(t,e,n,s){const r=t.diagram,a=t.pointsCount;if(r===null||t.fromNode===t.toNode||t.layer.isTemporary||e.containsPoint(t.getPoint(a-1))&&!t.toNode.isMemberOf(t.fromNode)||n.containsPoint(t.getPoint(0))&&!t.fromNode.isMemberOf(t.toNode)||!t.isOrthogonal)return!1;if(t.segmentIndex===17)return!0;const u=t.getPoint(1),h=t.getPoint(a-2),f=t.getPoint(2);if(!s.isUnoccupied(Math.min(u.x,f.x),Math.min(u.y,f.y),Math.abs(u.x-f.x),Math.abs(u.y-f.y)))return!0;for(let y=2;y<a-3;y++){const x=t.getPoint(y),S=t.getPoint(y+1);if(!s.isUnoccupied(Math.min(x.x,S.x),Math.min(x.y,S.y),Math.abs(x.x-S.x),Math.abs(x.y-S.y)))return!0}const m=t.getPoint(a-3);return!s.isUnoccupied(Math.min(m.x,h.x),Math.min(m.y,h.y),Math.abs(m.x-h.x),Math.abs(m.y-h.y))}jI(t,e,n,s,r,a,u,h){const f=t.diagram,m=e,y=s;let x=null,S=null;if(f.isVirtualized){const D=h.bounds.copy(),F=t.getPoint(2),V=t.getPoint(t.pointsCount-3);D.inflate(-h.cellWidth,-h.cellHeight);const U=T.l();h.Bd(e.x,e.y)||($.wl(D.x,D.y,D.x+D.width,D.y+D.height,e.x,e.y,F.x,F.y,U)?(x=e=U.copy(),n=U.directionPoint(F)):$.wl(D.x,D.y,D.x+D.width,D.y+D.height,F.x,F.y,V.x,V.y,U)?(x=e=U.copy(),n=U.directionPoint(V)):$.wl(D.x,D.y,D.x+D.width,D.y+D.height,V.x,V.y,s.x,s.y,U)&&(x=e=U.copy(),n=U.directionPoint(s))),h.Bd(s.x,s.y)||($.wl(D.x,D.y,D.x+D.width,D.y+D.height,s.x,s.y,V.x,V.y,U)?(S=s=U.copy(),r=V.directionPoint(U)):$.wl(D.x,D.y,D.x+D.width,D.y+D.height,V.x,V.y,F.x,F.y,U)?(S=s=U.copy(),r=F.directionPoint(U)):$.wl(D.x,D.y,D.x+D.width,D.y+D.height,F.x,F.y,e.x,e.y,U)&&(S=s=U.copy(),r=e.directionPoint(U))),T.s(U)}const E=a.copy().unionRect(u);E.inflate(h.cellWidth*h.Xc,h.cellHeight*h.Xc),h.iT(e,n,s,r,E,!0);let L=h.fo(s.x,s.y);if(!h.xy&&L>=gr.Ud&&(h.EL(),E.inflate(h.cellWidth*h.TS,h.cellHeight*h.DS),h.iT(e,n,s,r,E,!1),L=h.fo(s.x,s.y)),!h.xy&&L<gr.Ud&&!h.hO(s.x,s.y)){t.points.removeRange(2,t.pointsCount-3),this.GN(t,h,s.x,s.y,r,!0);const D=0,F=90,V=180,U=270,W=t.getPoint(2);if(t.pointsCount<4)n===D||n===V?(W.x=e.x,W.y=s.y):(W.x=s.x,W.y=e.y),t.setPointAt(2,W.x,W.y),t.insertPointAt(3,W.x,W.y);else{const q=t.getPoint(3);if(n===D||n===V)if($.u(W.x,q.x)){const le=n===D?Math.max(W.x,e.x):Math.min(W.x,e.x);t.setPointAt(2,le,e.y),t.setPointAt(3,le,q.y)}else $.u(W.y,q.y)?(Math.abs(e.y-W.y)<=h.cellHeight/2&&(t.setPointAt(2,W.x,e.y),t.setPointAt(3,q.x,e.y)),t.insertPointAt(2,W.x,e.y)):t.setPointAt(2,e.x,W.y);else if(n===F||n===U)if($.u(W.y,q.y)){const le=n===F?Math.max(W.y,e.y):Math.min(W.y,e.y);t.setPointAt(2,e.x,le),t.setPointAt(3,q.x,le)}else $.u(W.x,q.x)?(Math.abs(e.x-W.x)<=h.cellWidth/2&&(t.setPointAt(2,e.x,W.y),t.setPointAt(3,e.x,q.y)),t.insertPointAt(2,e.x,W.y)):t.setPointAt(2,W.x,e.y)}if(x!==null){const q=t.getPoint(1),le=t.getPoint(2);q.x!==le.x&&q.y!==le.y?n===D||n===V?t.insertPointAt(2,q.x,le.y):t.insertPointAt(2,le.x,q.y):n===D||n===V?t.insertPointAt(2,m.x,x.y):t.insertPointAt(2,x.x,m.y)}S!==null&&(r===D||r===V?t.insertPointAt(t.pointsCount-2,y.x,S.y):t.insertPointAt(t.pointsCount-2,S.x,y.y))}}GN(t,e,n,s,r,a){const u=e.cellWidth,h=e.cellHeight;let f=e.fo(n,s),m=n,y=s,x=m,S=y;for(r===0?x+=u:r===90?S+=h:r===180?x-=u:S-=h,t.eN&&f>gr.Ea&&e.fo(x,S)!==f-1&&(e.fo(m-u,y)===f-1?(r=180,x=m-u,S=y):e.fo(m+u,y)===f-1?(r=0,x=m+u,S=y):e.fo(m,y-h)===f-1?(r=270,x=m,S=y-h):e.fo(m,y+h)===f-1&&(r=90,x=m,S=y+h));f>gr.Ea&&e.fo(x,S)===f-1;)m=x,y=S,r===0?x+=u:r===90?S+=h:r===180?x-=u:S-=h,f-=1;if(a?f>gr.Ea&&(r===180||r===0?m=Math.floor(m/u)*u+u/2:(r===90||r===270)&&(y=Math.floor(y/h)*h+h/2)):(m=Math.floor(m/u)*u+u/2,y=Math.floor(y/h)*h+h/2),f>gr.Ea){let E=r,L=m,D=y;if(r===0?(E=90,D+=h):r===90?(E=180,L-=u):r===180?(E=270,D-=h):r===270&&(E=0,L+=u),e.fo(L,D)===f-1)this.GN(t,e,L,D,E,!1);else{let F=m,V=y;r===0?(E=270,V-=h):r===90?(E=0,F+=u):r===180?(E=90,V+=h):r===270&&(E=180,F-=u),e.fo(F,V)===f-1&&this.GN(t,e,F,V,E,!1)}}t.insertPointAt(t.pointsCount-2,m,y)}}Ne.prototype.initializeStandardTools=function(){this.$t("Action",new Ee,this.mouseDownTools),this.$t("Relinking",new Fe,this.mouseDownTools),this.$t("LinkReshaping",new Ye,this.mouseDownTools),this.$t("Rotating",new mt,this.mouseDownTools),this.$t("Resizing",new Ze,this.mouseDownTools),this.$t("Linking",new _e,this.mouseMoveTools),this.$t("Dragging",new Be,this.mouseMoveTools),this.$t("DragSelecting",new ot,this.mouseMoveTools),this.$t("Panning",new He,this.mouseMoveTools),this.$t("ContextMenu",new rt,this.mouseUpTools),this.$t("TextEditing",new Nt,this.mouseUpTools),this.$t("ClickCreating",new We,this.mouseUpTools),this.$t("ClickSelecting",new Me,this.mouseUpTools)},st.cS("GraphLinksModel",$M),st.cS("TreeModel",VM);const th=i.go,Jf={get version(){return st.version},Group:Wt,List:w,Set:C,Map:z,Point:T,Size:_,Rect:I,Margin:K,Spot:B,Geometry:Q,PathFigure:X,PathSegment:de,InputEvent:ve,DiagramEvent:me,ChangedEvent:ie,Model:nn,GraphLinksModel:xl,TreeModel:Sl,Binding:mr,ThemeBinding:wl,Transaction:re,UndoManager:te,CommandHandler:Un,Tool:ue,DraggingTool:Be,DraggingInfo:Lt,DraggingOptions:zn,LinkingBaseTool:tt,LinkingTool:_e,RelinkingTool:Fe,LinkReshapingTool:Ye,ResizingTool:Ze,RotatingTool:mt,ClickSelectingTool:Me,ActionTool:Ee,ClickCreatingTool:We,HTMLInfo:Je,ContextMenuTool:rt,DragSelectingTool:ot,PanningTool:He,TextEditingTool:Nt,ToolManager:Ne,Animation:Ht,AnimationManager:kt,AnimationTrigger:Vt,Layer:Ke,Diagram:st,Palette:ki,Overview:mi,Brush:Pt,GraphObject:ai,Panel:Ut,RowColumnDefinition:ps,Shape:cn,TextBlock:yi,Picture:qs,Part:Vn,Adornment:Cn,Node:_t,Link:Zt,Placeholder:Gs,Layout:es,LayoutNetwork:qr,LayoutVertex:Gr,LayoutEdge:bl,GridLayout:Qc,PanelLayout:on,CircularLayout:gs,CircularNetwork:bv,CircularVertex:wv,CircularEdge:xv,ForceDirectedLayout:zM,ForceDirectedNetwork:Sv,ForceDirectedVertex:kv,ForceDirectedEdge:Cv,LayeredDigraphLayout:Ai,LayeredDigraphNetwork:Nv,LayeredDigraphVertex:Nu,LayeredDigraphEdge:Av,TreeLayout:ui,TreeNetwork:Zf,TreeVertex:oo,TreeEdge:Ev,Themes:Ws,ThemeManager:Au,Router:Dv,AnimationStyle:Ge,AutoScale:wt,CycleMode:it,Flip:La,TextFormat:gv,ImageStretch:Tf,LayoutConditions:mv,LinkAdjusting:Lf,Curve:Df,Routing:Ef,Orientation:_r,TextOverflow:pv,PortSpreading:vv,ScrollMode:$e,CollapsePolicy:et,Sizing:kf,TriggerStart:hn,Stretch:hr,ViewboxStretch:so,Wrap:Mf,BrushType:To,ColorSpace:ml,GeometryStretch:ee,GeometryType:J,SegmentType:se,BindingMode:eh,ChangeType:ae,CircularArrangement:Bf,CircularDirection:$f,CircularNodeDiameterFormula:zf,CircularSorting:Vf,GridAlignment:Rf,GridArrangement:If,GridSorting:Ff,LayeredDigraphAggressive:jf,LayeredDigraphAlign:Tv,LayeredDigraphCycleRemove:_f,LayeredDigraphInit:Hf,LayeredDigraphLayering:Kf,LayeredDigraphPack:Pv,TreeAlignment:Wf,TreeArrangement:Xf,TreeCompaction:Uf,TreeLayerStyle:Lv,TreePath:qf,TreeSorting:Gf,TreeStyle:Yf,GestureMode:Ce,LinkingDirection:Le,ReshapingBehavior:gt,TextEditingAccept:ht,TextEditingStarting:qe,TextEditingState:Mt,WheelMode:be};typeof th=="object"&&th.version&&o.ri("WARNING: a `go` object on the root object is already defined.  "+("Debug"in th?"debug ":"")+"version: "+th.version+", replaced with version: "+Jf.version),st.prototype.go=Jf,i.go=Jf})();const At=typeof global<"u"?global.go:self.go,yt=typeof global<"u"?global.go:self.go,Dee=yt.Group;yt.List;yt.Set;const Oee=yt.Map,zi=yt.Point;yt.Size;yt.Rect;yt.Margin;const Zn=yt.Spot;yt.Geometry;yt.PathFigure;yt.PathSegment;yt.InputEvent;yt.DiagramEvent;yt.ChangedEvent;yt.Model;yt.GraphLinksModel;yt.TreeModel;yt.Binding;yt.ThemeBinding;yt.Transaction;yt.UndoManager;yt.CommandHandler;const LM=yt.Tool,Ree=yt.DraggingTool;yt.DraggingInfo;yt.DraggingOptions;yt.LinkingBaseTool;yt.LinkingTool;yt.RelinkingTool;yt.LinkReshapingTool;const Iee=yt.ResizingTool,Fee=yt.RotatingTool;yt.ClickSelectingTool;yt.ActionTool;yt.ClickCreatingTool;yt.HTMLInfo;yt.ContextMenuTool;yt.DragSelectingTool;yt.PanningTool;yt.TextEditingTool;yt.ToolManager;yt.Animation;yt.AnimationManager;yt.AnimationTrigger;yt.Layer;yt.Diagram;yt.Palette;yt.Overview;yt.Brush;yt.GraphObject;const EM=yt.Panel;yt.RowColumnDefinition;const Ll=yt.Shape;yt.TextBlock;yt.Picture;const Zr=yt.Part;yt.Adornment;const fv=yt.Node,Fd=yt.Link;yt.Placeholder;yt.Layout;yt.LayoutNetwork;yt.LayoutVertex;yt.LayoutEdge;yt.GridLayout;yt.PanelLayout;yt.CircularLayout;yt.CircularNetwork;yt.CircularVertex;yt.CircularEdge;yt.ForceDirectedLayout;yt.ForceDirectedNetwork;yt.ForceDirectedVertex;yt.ForceDirectedEdge;yt.LayeredDigraphLayout;yt.LayeredDigraphNetwork;yt.LayeredDigraphVertex;yt.LayeredDigraphEdge;yt.TreeLayout;yt.TreeNetwork;yt.TreeVertex;yt.TreeEdge;yt.Themes;yt.ThemeManager;yt.Router;yt.version;yt.AnimationStyle;yt.AutoScale;yt.Curve;yt.CycleMode;yt.Flip;yt.ImageStretch;yt.LayoutConditions;yt.LinkAdjusting;yt.Orientation;yt.PortSpreading;yt.Routing;yt.ScrollMode;yt.CollapsePolicy;yt.Sizing;yt.TriggerStart;yt.Stretch;yt.TextFormat;yt.TextOverflow;yt.ViewboxStretch;yt.Wrap;yt.BrushType;yt.ColorSpace;yt.GeometryStretch;yt.GeometryType;yt.SegmentType;yt.BindingMode;yt.ChangeType;yt.CircularArrangement;yt.CircularDirection;yt.CircularNodeDiameterFormula;yt.CircularSorting;yt.GridAlignment;yt.GridArrangement;yt.GridSorting;yt.LayeredDigraphAggressive;yt.LayeredDigraphAlign;yt.LayeredDigraphCycleRemove;yt.LayeredDigraphInit;yt.LayeredDigraphLayering;yt.LayeredDigraphPack;yt.TreeAlignment;yt.TreeArrangement;yt.TreeCompaction;yt.TreeLayerStyle;yt.TreePath;yt.TreeSorting;yt.TreeStyle;yt.GestureMode;yt.LinkingDirection;yt.ReshapingBehavior;yt.TextEditingAccept;yt.TextEditingStarting;yt.TextEditingState;yt.WheelMode;class Bee extends LM{constructor(l){super();k(this,"port");k(this,"_originalAlignment");this.name="PortShifting",this.port=null,this._originalAlignment=Zn.Default,l&&Object.assign(this,l)}canStart(){const l=this.diagram;if(!super.canStart())return!1;const c=l.lastInput;return!c.left||!c.shift||!this.isBeyondDragSize()?!1:this.findPort()!==null}findPort(){const l=this.diagram,c=l.firstInput;let d=l.findObjectAt(c.documentPoint,null,null);if(d===null||!(d.part instanceof fv))return null;for(;d!==null&&d.panel!==null;){if(d.panel.type===EM.Spot&&d.panel.findMainElement()!==d&&d.portId!==null&&d.portId!=="")return d;d=d.panel}return null}doActivate(){this.startTransaction("Shifted Label"),this.port=this.findPort(),this.port!==null&&(this._originalAlignment=this.port.alignment.copy()),super.doActivate()}doDeactivate(){super.doDeactivate(),this.stopTransaction()}doStop(){this.port=null,super.doStop()}doCancel(){this.port!==null&&(this.port.alignment=this._originalAlignment),super.doCancel()}doMouseMove(){this.isActive&&this.updateAlignment()}doMouseUp(){this.isActive&&(this.updateAlignment(),this.transactionResult="Shifted Label",this.stopTool())}updateAlignment(){if(this.port===null||this.port.panel===null)return;const l=this.diagram.lastInput.documentPoint,c=this.port.panel.findMainElement();if(c===null)return;const d=c.getLocalPoint(l),p=new zi(0,0),g=new zi(c.actualBounds.width,c.actualBounds.height),b=Math.max(0,Math.min((d.x-p.x)/(g.x-p.x),1)),w=Math.max(0,Math.min((d.y-p.y)/(g.y-p.y),1));this.port.alignment=new Zn(b,w)}}class $ee extends Iee{constructor(o){super(),this.name="ResizeMultiple",o&&Object.assign(this,o)}resize(o){this.diagram.selection.each(c=>{if(c instanceof Fd)return;const d=c.resizeObject,p=c.position.copy(),g=d.getDocumentAngle(),b=d.getDocumentScale(),w=Math.PI*g/180,M=Math.cos(w),C=Math.sin(w),P=o.width-d.naturalBounds.width,A=o.height-d.naturalBounds.height,O=g>0&&g<180?1:0,R=g>90&&g<270?1:0,N=g>180&&g<360?1:0;p.x+=b*((o.x+P*R)*M-(o.y+A*O)*C),p.y+=b*((o.x+P*N)*C+(o.y+A*R)*M),d.desiredSize=o.size,c.move(p)})}}class Vee extends Ree{constructor(l){super();k(this,"guidelineHtop");k(this,"guidelineHbottom");k(this,"guidelineHcenter");k(this,"guidelineVleft");k(this,"guidelineVright");k(this,"guidelineVcenter");k(this,"_guidelineSnapDistance");k(this,"_isGuidelineEnabled");k(this,"_horizontalGuidelineColor");k(this,"_verticalGuidelineColor");k(this,"_centerGuidelineColor");k(this,"_guidelineWidth");k(this,"_searchDistance");k(this,"_isGuidelineSnapEnabled");this.name="GuidedDragging",this._guidelineSnapDistance=6,this._isGuidelineEnabled=!0,this._horizontalGuidelineColor="gray",this._verticalGuidelineColor="gray",this._centerGuidelineColor="gray",this._guidelineWidth=1,this._searchDistance=1e3,this._isGuidelineSnapEnabled=!0;const c={layerName:"Tool",isInDocumentBounds:!1},d={stroke:"gray",isGeometryPositioned:!0};this.guidelineHtop=new Zr(c).add(new Ll(d).set({geometryString:"M0 0 100 0"})),this.guidelineHbottom=new Zr(c).add(new Ll(d).set({geometryString:"M0 0 100 0"})),this.guidelineHcenter=new Zr(c).add(new Ll(d).set({geometryString:"M0 0 100 0"})),this.guidelineVleft=new Zr(c).add(new Ll(d).set({geometryString:"M0 0 0 100"})),this.guidelineVright=new Zr(c).add(new Ll(d).set({geometryString:"M0 0 0 100"})),this.guidelineVcenter=new Zr(c).add(new Ll(d).set({geometryString:"M0 0 0 100"})),l&&Object.assign(this,l)}get guidelineSnapDistance(){return this._guidelineSnapDistance}set guidelineSnapDistance(l){if(typeof l!="number"||isNaN(l)||l<0)throw new Error("new value for GuidedDraggingTool.guidelineSnapDistance must be a non-negative number");this._guidelineSnapDistance=l}get isGuidelineEnabled(){return this._isGuidelineEnabled}set isGuidelineEnabled(l){if(typeof l!="boolean")throw new Error("new value for GuidedDraggingTool.isGuidelineEnabled must be a boolean value.");this._isGuidelineEnabled=l}get horizontalGuidelineColor(){return this._horizontalGuidelineColor}set horizontalGuidelineColor(l){this._horizontalGuidelineColor!==l&&(this._horizontalGuidelineColor=l,this.guidelineHbottom&&(this.guidelineHbottom.elements.first().stroke=this._horizontalGuidelineColor),this.guidelineHtop&&(this.guidelineHtop.elements.first().stroke=this._horizontalGuidelineColor))}get verticalGuidelineColor(){return this._verticalGuidelineColor}set verticalGuidelineColor(l){this._verticalGuidelineColor!==l&&(this._verticalGuidelineColor=l,this.guidelineVleft&&(this.guidelineVleft.elements.first().stroke=this._verticalGuidelineColor),this.guidelineVright&&(this.guidelineVright.elements.first().stroke=this._verticalGuidelineColor))}get centerGuidelineColor(){return this._centerGuidelineColor}set centerGuidelineColor(l){this._centerGuidelineColor!==l&&(this._centerGuidelineColor=l,this.guidelineVcenter&&(this.guidelineVcenter.elements.first().stroke=this._centerGuidelineColor),this.guidelineHcenter&&(this.guidelineHcenter.elements.first().stroke=this._centerGuidelineColor))}get guidelineWidth(){return this._guidelineWidth}set guidelineWidth(l){if(typeof l!="number"||isNaN(l)||l<0)throw new Error("New value for GuidedDraggingTool.guidelineWidth must be a non-negative number.");this._guidelineWidth!==l&&(this._guidelineWidth=l,this.guidelineVcenter&&(this.guidelineVcenter.elements.first().strokeWidth=l),this.guidelineHcenter&&(this.guidelineHcenter.elements.first().strokeWidth=l),this.guidelineVleft&&(this.guidelineVleft.elements.first().strokeWidth=l),this.guidelineVright&&(this.guidelineVright.elements.first().strokeWidth=l),this.guidelineHbottom&&(this.guidelineHbottom.elements.first().strokeWidth=l),this.guidelineHtop&&(this.guidelineHtop.elements.first().strokeWidth=l))}get searchDistance(){return this._searchDistance}set searchDistance(l){if(typeof l!="number"||isNaN(l)||l<=0)throw new Error("new value for GuidedDraggingTool.searchDistance must be a positive number.");this._searchDistance=l}get isGuidelineSnapEnabled(){return this._isGuidelineSnapEnabled}set isGuidelineSnapEnabled(l){if(typeof l!="boolean")throw new Error("new value for GuidedDraggingTool.isGuidelineSnapEnabled must be a boolean.");this._isGuidelineSnapEnabled=l}clearGuidelines(){this.guidelineHbottom&&this.diagram.remove(this.guidelineHbottom),this.guidelineHcenter&&this.diagram.remove(this.guidelineHcenter),this.guidelineHtop&&this.diagram.remove(this.guidelineHtop),this.guidelineVleft&&this.diagram.remove(this.guidelineVleft),this.guidelineVright&&this.diagram.remove(this.guidelineVright),this.guidelineVcenter&&this.diagram.remove(this.guidelineVcenter)}doDeactivate(){super.doDeactivate(),this.clearGuidelines()}doDragOver(){this.clearGuidelines();const l=this.copiedParts||this.draggedParts;if(l===null)return;const c=l.iterator;if(c.next()){const d=c.key;this.showHorizontalMatches(d,this.isGuidelineEnabled,!1),this.showVerticalMatches(d,this.isGuidelineEnabled,!1)}}doDropOnto(){this.clearGuidelines();const l=this.copiedParts||this.draggedParts;if(l===null)return;const c=l.iterator;if(c.next()){const d=c.key,p=this.diagram.lastInput,g=this.isGuidelineSnapEnabled&&!p.shift;this.showHorizontalMatches(d,!1,g),this.showVerticalMatches(d,!1,g)}}invalidateLinks(l){l instanceof fv&&l.invalidateConnectedLinks()}isGuiding(l,c){return l instanceof Zr&&!l.isSelected&&!(l instanceof Fd)&&c instanceof Zr&&l.containingGroup===c.containingGroup&&l.layer!==null&&!l.layer.isTemporary}showHorizontalMatches(l,c,d){const p=l.locationObject.getDocumentBounds(),g=p.y,b=p.y+p.height/2,w=p.y+p.height,M=this.guidelineSnapDistance;let C=this.searchDistance;C===1/0&&(C=this.diagram.documentBounds.width);const P=p.copy();P.inflate(C,M+1);const A=this.diagram.findObjectsIn(P,T=>T.part,T=>this.isGuiding(T,l),!0);let O=M,R=null,N=Zn.Default,z=Zn.Default;if(A.each(T=>{if(T===l)return;const _=T.locationObject.getDocumentBounds(),I=_.y,K=_.y+_.height/2,B=_.y+_.height;this.guidelineHcenter&&Math.abs(b-K)<O&&(O=Math.abs(b-K),R=T,N=Zn.Center,z=Zn.Center),this.guidelineHtop&&Math.abs(g-I)<O?(O=Math.abs(g-I),R=T,N=Zn.Top,z=Zn.Top):this.guidelineHtop&&Math.abs(g-B)<O&&(O=Math.abs(g-B),R=T,N=Zn.Top,z=Zn.Bottom),this.guidelineHbottom&&Math.abs(w-I)<O?(O=Math.abs(w-I),R=T,N=Zn.Bottom,z=Zn.Top):this.guidelineHbottom&&Math.abs(w-B)<O&&(O=Math.abs(w-B),R=T,N=Zn.Bottom,z=Zn.Bottom)}),R!==null){const T=p.x-l.actualBounds.x,_=p.y-l.actualBounds.y,I=R.locationObject.getDocumentBounds(),K=Math.min(p.x,I.x)-10,B=Math.max(p.x+p.width,I.x+I.width)+10,G=new zi().setRectSpot(I,z);N===Zn.Center?(d&&(l.move(new zi(p.x-T,G.y-p.height/2-_)),this.invalidateLinks(l)),c&&(this.guidelineHcenter.position=new zi(K,G.y),this.guidelineHcenter.elt(0).width=B-K,this.diagram.add(this.guidelineHcenter))):N===Zn.Top?(d&&(l.move(new zi(p.x-T,G.y-_)),this.invalidateLinks(l)),c&&(this.guidelineHtop.position=new zi(K,G.y),this.guidelineHtop.elt(0).width=B-K,this.diagram.add(this.guidelineHtop))):N===Zn.Bottom&&(d&&(l.move(new zi(p.x-T,G.y-p.height-_)),this.invalidateLinks(l)),c&&(this.guidelineHbottom.position=new zi(K,G.y),this.guidelineHbottom.elt(0).width=B-K,this.diagram.add(this.guidelineHbottom)))}}showVerticalMatches(l,c,d){const p=l.locationObject.getDocumentBounds(),g=p.x,b=p.x+p.width/2,w=p.x+p.width,M=this.guidelineSnapDistance;let C=this.searchDistance;C===1/0&&(C=this.diagram.documentBounds.height);const P=p.copy();P.inflate(M+1,C);const A=this.diagram.findObjectsIn(P,T=>T.part,T=>this.isGuiding(T,l),!0);let O=M,R=null,N=Zn.Default,z=Zn.Default;if(A.each(T=>{if(T===l)return;const _=T.locationObject.getDocumentBounds(),I=_.x,K=_.x+_.width/2,B=_.x+_.width;this.guidelineVcenter&&Math.abs(b-K)<O&&(O=Math.abs(b-K),R=T,N=Zn.Center,z=Zn.Center),this.guidelineVleft&&Math.abs(g-I)<O?(O=Math.abs(g-I),R=T,N=Zn.Left,z=Zn.Left):this.guidelineVleft&&Math.abs(g-B)<O&&(O=Math.abs(g-B),R=T,N=Zn.Left,z=Zn.Right),this.guidelineVright&&Math.abs(w-I)<O?(O=Math.abs(w-I),R=T,N=Zn.Right,z=Zn.Left):this.guidelineVright&&Math.abs(w-B)<O&&(O=Math.abs(w-B),R=T,N=Zn.Right,z=Zn.Right)}),R!==null){const T=p.x-l.actualBounds.x,_=p.y-l.actualBounds.y,I=R.locationObject.getDocumentBounds(),K=Math.min(p.y,I.y)-10,B=Math.max(p.y+p.height,I.y+I.height)+10,G=new zi().setRectSpot(I,z);N===Zn.Center?(d&&(l.move(new zi(G.x-p.width/2-T,p.y-_)),this.invalidateLinks(l)),c&&(this.guidelineVcenter.position=new zi(G.x,K),this.guidelineVcenter.elt(0).height=B-K,this.diagram.add(this.guidelineVcenter))):N===Zn.Left?(d&&(l.move(new zi(G.x-T,p.y-_)),this.invalidateLinks(l)),c&&(this.guidelineVleft.position=new zi(G.x,K),this.guidelineVleft.elt(0).height=B-K,this.diagram.add(this.guidelineVleft))):N===Zn.Right&&(d&&(l.move(new zi(G.x-p.width-T,p.y-_)),this.invalidateLinks(l)),c&&(this.guidelineVright.position=new zi(G.x,K),this.guidelineVright.elt(0).height=B-K,this.diagram.add(this.guidelineVright)))}}}class zee extends At.Tool{constructor(){super();k(this,"label",null);k(this,"_originalFraction",0);this.name="LinkLabelOnPathDragging"}findLabel(){const l=this.diagram,c=l.lastInput;let d=l.findObjectAt(c.documentPoint,null,null);if(d===null||!(d.part instanceof At.Link)&&!(d.part.labeledLink instanceof At.Link))return null;for(;d!==null&&d.panel!==d.part;)d=d.panel;return d===null||!d._isLinkLabel&&!d.part._isLinkLabel?null:d}canStart(){if(!super.canStart())return!1;const l=this.diagram;return l===null||!l.lastInput.left||!this.isBeyondDragSize()?!1:this.findLabel()!==null}doActivate(){this.startTransaction("Shifted Label"),this.label=this.findLabel(),this.label!==null&&(this._originalFraction=this.label.segmentFraction),super.doActivate()}doDeactivate(){super.doDeactivate(),this.stopTransaction()}doStop(){this.label=null,super.doStop()}doCancel(){this.label!==null&&(this.label.segmentFraction=this._originalFraction),super.doCancel()}doMouseMove(){this.isActive&&this.updateSegmentOffset()}doMouseUp(){this.isActive&&(this.updateSegmentOffset(),this.transactionResult="Shifted Label",this.stopTool())}updateSegmentOffset(){const l=this.label;if(l===null)return;var c=null;l.part instanceof At.Link?c=l.part.path:l.part.labeledLink instanceof At.Link&&(c=l.part.labeledLink.path);const d=this.diagram.lastInput.documentPoint;if(c.geometry===null)return;const p=c.getLocalPoint(d);l.part instanceof At.Link?l.segmentFraction=c.geometry.getFractionForPoint(p):l.part.labeledLink instanceof At.Link&&(l.part.segmentFraction=c.geometry.getFractionForPoint(p))}}class _ee extends LM{constructor(l){super();k(this,"label");k(this,"_offset");k(this,"_originalAlignment");k(this,"_originalCenter");this.name="NodeLabelDragging",this.label=null,this._offset=new zi,this._originalAlignment=Zn.Default,this._originalCenter=new zi,l&&Object.assign(this,l)}findLabel(){const l=this.diagram,c=l.firstInput;let d=l.findObjectAt(c.documentPoint,null,null);if(d===null||!(d.part instanceof fv))return null;for(;d.panel!==null;){if(d._isNodeLabel&&d.panel.type===EM.Spot&&d.panel.findMainElement()!==d)return d;d=d.panel}return null}canStart(){return!super.canStart()||!this.diagram.lastInput.left||!this.isBeyondDragSize()?!1:this.findLabel()!==null}doActivate(){if(this.startTransaction("Shifted Label"),this.label=this.findLabel(),this.label!==null){this._offset=this.diagram.firstInput.documentPoint.copy().subtract(this.label.getDocumentPoint(Zn.Center)),this._originalAlignment=this.label.alignment.copy();const l=this.label.panel;if(l!==null){const c=l.findMainElement();c!==null&&(this._originalCenter=c.getDocumentPoint(Zn.Center))}}super.doActivate()}doDeactivate(){super.doDeactivate(),this.stopTransaction()}doStop(){this.label=null,super.doStop()}doCancel(){this.label!==null&&(this.label.alignment=this._originalAlignment),super.doCancel()}doMouseMove(){this.isActive&&this.updateAlignment()}doMouseUp(){this.isActive&&(this.updateAlignment(),this.transactionResult="Shifted Label",this.stopTool())}updateAlignment(){if(this.label===null)return;const l=this.diagram.lastInput.documentPoint,c=this._originalCenter;this.label.alignment=new Zn(.5,.5,l.x-this._offset.x-c.x,l.y-this._offset.y-c.y)}}class Kee extends Fee{constructor(l){super();k(this,"_initialInfo");k(this,"_initialAngle");k(this,"_centerPoint");this.name="RotateMultiple",this._initialInfo=null,this._initialAngle=0,this._centerPoint=new zi,l&&Object.assign(this,l)}doActivate(){super.doActivate();const l=this.diagram;this._centerPoint=l.computePartsBounds(l.selection).center,this._initialAngle=this._centerPoint.directionPoint(l.lastInput.documentPoint);const c=new Oee,d=this;l.selection.each(p=>{d.walkTree(p,c)}),this._initialInfo=c,this.rotationPoint=new zi(NaN,NaN)}walkTree(l,c){if(l===null||l instanceof Fd)return;const d=Math.sqrt(this._centerPoint.distanceSquaredPoint(l.location)),p=this._centerPoint.directionPoint(l.location);if(c.add(l,new Hee(p,d,l.rotateObject.angle)),l instanceof Dee){const g=l.memberParts.iterator;for(;g.next();)this.walkTree(g.value,c)}}doDeactivate(){this._initialInfo=null,super.doDeactivate()}rotate(l){const c=this.diagram;if(this._initialInfo===null)return;const d=this.adornedObject!==null?this.adornedObject.part:null;if(d===null)return;const p=c.lastInput,g=l-d.rotateObject.angle,b=this;this._initialInfo.each(w=>{const M=w.key;if(M instanceof Fd)return;const C=w.value;if(p.control||p.meta)d===M?M.rotateObject.angle=l:M.rotateObject.angle+=g;else{const P=l*(Math.PI/180),A=C.distance*Math.cos(P+C.placementAngle),O=C.distance*Math.sin(P+C.placementAngle);M.location=new zi(b._centerPoint.x+A,b._centerPoint.y+O),M.rotateObject.angle=C.rotationAngle+l}})}computeRotate(l){const c=this.diagram;if(this.adornedObject===null)return 0;let d=0;const p=c.lastInput;if(p.control||p.meta){const w=this.adornedObject.part;w!==null&&(d=w.getDocumentPoint(w.locationSpot).directionPoint(l))}else d=this._centerPoint.directionPoint(l)-this._initialAngle;d>=360?d-=360:d<0&&(d+=360);const g=Math.min(Math.abs(this.snapAngleMultiple),180),b=Math.min(Math.abs(this.snapAngleEpsilon),g/2);return!c.lastInput.shift&&g>0&&b>0&&(d%g<b?d=Math.floor(d/g)*g:d%g>g-b&&(d=(Math.floor(d/g)+1)*g),d>=360?d-=360:d<0&&(d+=360)),d}}class Hee{constructor(o,l,c){k(this,"placementAngle");k(this,"distance");k(this,"rotationAngle");this.placementAngle=o*(Math.PI/180),this.distance=l,this.rotationAngle=c}}const jee={class:"common-layout"},qee={id:"PaletteDiv",class:"layout-aside"},Gee={class:"panel-section",style:{height:"40%",overflow:"auto"}},Wee=pe("span",{class:"section-title"},"基本几何图形",-1),Uee={class:"baseBlockClass"},Yee=pe("img",{src:wee,style:{width:"80%",height:"80%"},id:"rectangle"},null,-1),Xee=pe("img",{src:xee,style:{width:"80%",height:"80%"},id:"RoundedRectangle"},null,-1),Zee=pe("img",{src:See,style:{width:"80%",height:"80%"},id:"Square"},null,-1),Jee=pe("img",{src:kee,style:{width:"80%",height:"80%"},id:"rotundity"},null,-1),Qee=pe("img",{src:Cee,style:{width:"80%",height:"80%"},id:"triangle"},null,-1),ete=pe("img",{src:Mee,style:{width:"80%",height:"80%"},id:"rhombus"},null,-1),tte={class:"panel-section",style:{height:"40%",overflow:"auto"}},nte=pe("span",{class:"section-title"},"SVG几何图形",-1),ite={class:"svgBlockClass"},ste=pe("img",{src:Pee,style:{width:"80%",height:"80%"},id:"lockHopperGeometry"},null,-1),ote=pe("img",{src:Tee,style:{width:"80%",height:"70%"},id:"troughGeometry"},null,-1),rte=pe("img",{src:Nee,style:{width:"80%",height:"60%"},id:"cylinderGeometry"},null,-1),ate=pe("img",{src:Aee,style:{width:"80%",height:"80%"},id:"pipGeometry"},null,-1),lte=pe("img",{src:Lee,style:{width:"80%",height:"80%"},id:"pentagonGeometry"},null,-1),ute=pe("img",{src:Eee,style:{width:"80%",height:"80%"},id:"sixLineGeometry"},null,-1),cte={class:"panel-section",style:{height:"20%",display:"flex","flex-direction":"column","justify-content":"center"}},hte=pe("span",{class:"section-title"},"元素操作按钮",-1),dte={style:{"flex-grow":"1",display:"flex","flex-direction":"column","justify-content":"space-around"}},fte={key:0,style:{display:"flex","justify-items":"center","align-items":"center","margin-top":"5px","margin-bottom":"2px"}},pte=pe("span",null,"节点连接线端口的添加：",-1),gte={style:{"margin-left":"10px"}},mte=pe("span",{style:{"font-size":"smaller",color:"gray"}},"Tips：创建完端口后，可以通过Shift+鼠标左键，来移动端口的位置",-1),vte=xe({__name:"imageNode",setup(i){const o=At.GraphObject.make;var l;const c=ne(!1),d=ne(!1),p=ne(!0),g=ne(),b=ne(),w=o(At.Panel,{portId:"Top",fromSpot:At.Spot.Top,toSpot:At.Spot.Top,fromLinkable:!0,toLinkable:!0,cursor:"pointer",alignment:At.Spot.Top,visible:!0,contextMenu:o("ContextMenu",o("ContextMenuButton",o(At.TextBlock,"Remove Port",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:J=>K(J.part.adornedObject),"ButtonBorder.fill":"white",_buttonFillOver:"skyblue"}))},new At.Binding("portId","portId"),new At.Binding("alignment","portKey",J=>{switch(J){case"top":return At.Spot.Top;case"bottom":return At.Spot.Bottom;case"left":return At.Spot.Left;case"right":return At.Spot.Right;default:return At.Spot.Top}}),new At.Binding("fromSpot","portKey",J=>{switch(J){case"top":return At.Spot.Top;case"bottom":return At.Spot.Bottom;case"left":return At.Spot.Left;case"right":return At.Spot.Right;default:return At.Spot.Top}}),new At.Binding("toSpot","portKey",J=>{switch(J){case"top":return At.Spot.Top;case"bottom":return At.Spot.Bottom;case"left":return At.Spot.Left;case"right":return At.Spot.Right;default:return At.Spot.Top}}),o(At.Shape,"Rectangle",{strokeWidth:1,desiredSize:new At.Size(6,6)},new At.Binding("visible","visible")));var M=At.Geometry.parse("XFM 0 95.11 L 0 25.37 C 28.47 0 71.53 0 100 25.37 L 100 95.11 L 50 125 Z M 0 25.37 M 0 95.11"),C=At.Geometry.parse("XFM 0 0 L 90 0 L 90 73.33 L 45 110 L 0 73.33 Z"),P=At.Geometry.parse("XFM 0 15 C 0 6.72 15.67 0 35 0 C 54.33 0 70 6.72 70 15 L 70 95 C 70 103.28 54.33 110 35 110 C 15.67 110 0 103.28 0 95 Z"),A=At.Geometry.parse("XFM 5.25 30 L 78.05 30 C 83.85 30 88.55 23.28 88.55 15 C 88.55 6.72 83.85 0 78.05 0 L 5.25 0 C -0.55 0 -5.25 6.72 -5.25 15 C -5.25 23.28 -0.55 30 5.25 30 Z M 5.25 0 M 78.05 0"),O=At.Geometry.parse("XFM 50 0 L 100 50 L 80 100 L 20 100 L 0 50 Z"),R=At.Geometry.parse("XFM 0 50 L 43.3 0 L 86.6 50 L 86.6 150 L 43.3 200 L 0 150 Z");function N(){l=o(At.Diagram,"diagramDiv",{"undoManager.isEnabled":!0,"grid.visible":!1,"grid.gridCellSize":new At.Size(5,5),"toolManager.mouseWheelBehavior":At.WheelMode.Zoom,contentAlignment:At.Spot.Center,resizingTool:new $ee,draggingTool:new Vee,"draggingTool.horizontalGuidelineColor":"blue","draggingTool.verticalGuidelineColor":"blue","draggingTool.centerGuidelineColor":"green","draggingTool.guidelineWidth":1,rotatingTool:new Kee}),l.toolManager.mouseMoveTools.insertAt(0,new Bee),l.toolManager.mouseMoveTools.insertAt(0,new zee),l.toolManager.mouseMoveTools.insertAt(0,new _ee),l.nodeTemplate=o(At.Node,"Spot",{resizable:!0,rotatable:!0},new At.Binding("location","loc"),new At.Binding("desiredSize","size",At.Size.parse).makeTwoWay(At.Size.stringify),new At.Binding("itemArray","portArray"),{itemTemplate:w},o(At.Panel,"Spot",o(At.Panel,"Spot",o(At.Shape,"RoundedRectangle",{fill:"white",stroke:"black",strokeWidth:2},new At.Binding("fill","color"),new At.Binding("figure","figure")),o(At.TextBlock,{margin:10,textAlign:"center",font:"bold 14px Segoe UI,sans-serif",stroke:"#484848",editable:!0,_isNodeLabel:!0,cursor:"move"},new At.Binding("text","key").makeTwoWay()),{toolTip:o("ToolTip",o(At.TextBlock,{margin:4},new At.Binding("text","key")))},{contextMenu:o("ContextMenu",o("ContextMenuButton",o(At.TextBlock,"Cut",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:X=>X.diagram.commandHandler.cutSelection(),"ButtonBorder.fill":"white",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Copy",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:X=>X.diagram.commandHandler.copySelection(),"ButtonBorder.fill":"white",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#eaffd0"),"ButtonBorder.fill":"#eaffd0",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#f38181"),"ButtonBorder.fill":"#f38181",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#95e1d3"),"ButtonBorder.fill":"#95e1d3",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#fce38a"),"ButtonBorder.fill":"#fce38a",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#ba55d4"),"ButtonBorder.fill":"#ba55d4",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#d9a521"),"ButtonBorder.fill":"#d9a521",_buttonFillOver:"skyblue"}))},{doubleClick:function(){c.value=!0}}))),l.nodeTemplateMap.add("svgNode",o(At.Node,"Spot",{resizable:!0,rotatable:!0},new At.Binding("location","loc"),new At.Binding("desiredSize","size",At.Size.parse).makeTwoWay(At.Size.stringify),new At.Binding("itemArray","portArray"),{itemTemplate:w},o(At.Panel,"Spot",o(At.Panel,"Spot",o(At.Shape,"RoundedRectangle",{stroke:"black",fill:"white",strokeWidth:2},new At.Binding("fill","color"),new At.Binding("geometry","geometry").makeTwoWay()),o(At.TextBlock,{margin:10,textAlign:"center",font:"bold 14px Segoe UI,sans-serif",stroke:"#484848",editable:!0,_isNodeLabel:!0,cursor:"move"},new At.Binding("text","key").makeTwoWay()),{toolTip:o("ToolTip",o(At.TextBlock,{margin:4},new At.Binding("text","key")))},{contextMenu:o("ContextMenu",o("ContextMenuButton",o(At.TextBlock,"Cut",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:X=>X.diagram.commandHandler.cutSelection(),"ButtonBorder.fill":"white",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Copy",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:X=>X.diagram.commandHandler.copySelection(),"ButtonBorder.fill":"white",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#eaffd0"),"ButtonBorder.fill":"#eaffd0",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#f38181"),"ButtonBorder.fill":"#f38181",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#95e1d3"),"ButtonBorder.fill":"#95e1d3",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#fce38a"),"ButtonBorder.fill":"#fce38a",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#ba55d4"),"ButtonBorder.fill":"#ba55d4",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Set Color",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:()=>$(l,"#d9a521"),"ButtonBorder.fill":"#d9a521",_buttonFillOver:"skyblue"}))},{doubleClick:function(){c.value=!0}})))),l.linkTemplate=o(At.Link,{routing:At.Routing.Orthogonal,curve:At.Curve.JumpGap,corner:10,adjusting:At.LinkAdjusting.End,reshapable:!0,resegmentable:!0,selectable:!0,toEndSegmentLength:20},o(At.Shape,{strokeWidth:1.5}),o(At.Shape,{toArrow:"standard",stroke:null}),{doubleClick:function(){d.value=!0}});function J(X){return`Model:
`+X.nodeDataArray.length+" nodes, "+X.linkDataArray.length+" links"}l.toolTip=o("ToolTip",o(At.TextBlock,{margin:4},new At.Binding("text","",J))),l.contextMenu=o("ContextMenu",o("ContextMenuButton",o(At.TextBlock,"New Node",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:function(X){X.diagram.commit(function(se){var de={key:"new node",color:"aqua",portArray:[],markArray:[],category:""};se.model.addNodeData(de);var ve=se.findPartForData(de);ve&&(ve.location=se.toolManager.contextMenuTool.mouseDownPoint)},"new node")},"ButtonBorder.fill":"white",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Paste",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:X=>X.diagram.commandHandler.pasteSelection(X.diagram.toolManager.contextMenuTool.mouseDownPoint),"ButtonBorder.fill":"white",_buttonFillOver:"skyblue"}),o("ContextMenuButton",o(At.TextBlock,"Undo",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:function(X){X.diagram.commandHandler.undo()},"ButtonBorder.fill":"white",_buttonFillOver:"skyblue"},new At.Binding("visible","",function(X){return X&&X.diagram?X.diagram.commandHandler.canUndo():!1}).ofObject()),o("ContextMenuButton",o(At.TextBlock,"Redo",{font:"bold 12px sans-serif",width:100,textAlign:"center"}),{click:function(X){X.diagram.commandHandler.redo()},"ButtonBorder.fill":"white",_buttonFillOver:"skyblue"},new At.Binding("visible","",function(X){return X&&X.diagram?X.diagram.commandHandler.canRedo():!1}).ofObject())),l.addDiagramListener("LinkDrawn",function(X){var se=X.subject,de=se.fromNode,ve=se.toNode;(de&&de.category==="infoPanel"||ve&&ve.category==="infoPanel")&&l.model.set(se.data,"LinkCategory","infoPanelLink")});const ee=[],Q=[];l.model=o(At.GraphLinksModel,{linkFromPortIdProperty:"fromPort",linkToPortIdProperty:"toPort",linkLabelKeysProperty:"labelKeys",nodeDataArray:ee,linkDataArray:Q}),l.model.linkCategoryProperty="LinkCategory"}function z(){const J=l.model.toJson();try{const ee=JSON.stringify(JSON.parse(J),null,2),Q=new Blob([ee],{type:"application/json"}),X=URL.createObjectURL(Q),se=document.createElement("a");se.href=X,se.download="diagram-data.json",document.body.appendChild(se),se.click(),setTimeout(()=>{document.body.removeChild(se),URL.revokeObjectURL(X)},0)}catch(ee){console.error("Error exporting data:",ee)}}function T(J){const ee=J.target;g.value=J.offsetX-ee.clientWidth/2,b.value=J.offsetY-ee.clientHeight/2,ee.id==="rectangle"?J.dataTransfer.setData("node-type","rectangle"):ee.id==="RoundedRectangle"?J.dataTransfer.setData("node-type","RoundedRectangle"):ee.id==="Square"?J.dataTransfer.setData("node-type","Square"):ee.id==="rotundity"?J.dataTransfer.setData("node-type","rotundity"):ee.id==="triangle"?J.dataTransfer.setData("node-type","triangle"):ee.id==="rhombus"&&J.dataTransfer.setData("node-type","rhombus"),ee.id==="lockHopperGeometry"?J.dataTransfer.setData("node-type","lockHopperGeometry"):ee.id==="troughGeometry"?J.dataTransfer.setData("node-type","troughGeometry"):ee.id==="cylinderGeometry"?J.dataTransfer.setData("node-type","cylinderGeometry"):ee.id==="pipGeometry"?J.dataTransfer.setData("node-type","pipGeometry"):ee.id==="pentagonGeometry"?J.dataTransfer.setData("node-type","pentagonGeometry"):ee.id==="sixLineGeometry"&&J.dataTransfer.setData("node-type","sixLineGeometry")}function _(J){J.preventDefault();const ee=J.target,Q=l.computePixelRatio();if(!(ee instanceof HTMLCanvasElement))return;const X=ee.getBoundingClientRect();let se=X.width;se===0&&(se=.001);let de=X.height;de===0&&(de=.001);const ve=J.clientX-X.left*(ee.width/Q/se),me=J.clientY-X.top*(ee.height/Q/de),ae=l.transformViewToDoc(new At.Point(ve-g.value,me-b.value));l.startTransaction("new node");let ie=J.dataTransfer.getData("node-type"),re="",te="",ue="",be="",Ce="";if(ie==="rectangle"&&(ue="请输入内容",be="150 75",re="请输入内容",Ce="Rectangle"),ie==="RoundedRectangle"&&(ue="请输入内容",be="150 75",re="请输入内容",Ce="RoundedRectangle"),ie==="Square"&&(ue="请输入内容",be="75 75",re="请输入内容",Ce="Square"),ie==="rotundity"&&(ue="请输入内容",be="75 75",re="请输入内容",Ce="Ellipse"),ie==="triangle"&&(ue="请输入内容",be="100 100",re="请输入内容",Ce="Triangle"),ie==="rhombus"&&(ue="请输入内容",be="150 75",re="请输入内容",Ce="Diamond"),ie==="lockHopperGeometry"){const Be={key:"请输入内容",size:"100 135",loc:new At.Point(ae.x,ae.y),portArray:[],category:"svgNode",geometry:M};l.model.addNodeData(Be)}if(ie==="troughGeometry"){const Be={key:"请输入内容",size:"100 135",loc:new At.Point(ae.x,ae.y),portArray:[],category:"svgNode",geometry:C};l.model.addNodeData(Be)}if(ie==="cylinderGeometry"){const Be={key:"请输入内容",size:"80 130",loc:new At.Point(ae.x,ae.y),portArray:[],category:"svgNode",geometry:P};l.model.addNodeData(Be)}if(ie==="pipGeometry"){const Be={key:"请输入内容",size:"200 100",loc:new At.Point(ae.x,ae.y),portArray:[],category:"svgNode",geometry:A};l.model.addNodeData(Be)}if(ie==="pentagonGeometry"){const Be={key:"请输入内容",size:"100 100",loc:new At.Point(ae.x,ae.y),portArray:[],category:"svgNode",geometry:O};l.model.addNodeData(Be)}if(ie==="sixLineGeometry"){const Be={key:"请输入内容",size:"100 100",loc:new At.Point(ae.x,ae.y),portArray:[],category:"svgNode",geometry:R};l.model.addNodeData(Be)}const Ne={key:ue,color:te,size:be,figure:Ce,loc:new At.Point(ae.x,ae.y),portArray:[],category:re};l.model.addNodeData(Ne),l.commitTransaction("new node")}function I(J){l.startTransaction("addPort"),l.selection.each(ee=>{if(!(ee instanceof At.Node))return;let Q=0;for(;ee.findPort(J+Q.toString())!==ee;)Q++;const se={portId:J+Q.toString(),portKey:J},de=ee.data.portArray;de&&l.model.insertArrayItem(de,-1,se)}),l.commitTransaction("addPort")}function K(J){l.startTransaction("removePort");const ee=J.portId,Q=J.panel.itemArray;for(let X=0;X<Q.length;X++)if(Q[X].portId===ee){l.model.removeArrayItem(Q,X);break}l.commitTransaction("removePort")}const B=ne(!0);function G(){l.startTransaction("changeModel"),B.value=!B.value,B.value?om("编辑模式"):om({message:"预览模式",type:"success"}),l&&(l.isReadOnly=!B.value,l.allowEdit=B.value,l.nodes.each(J=>{J.ports.each(ee=>{l.model.setDataProperty(ee.data,"visible",B.value)})})),l.commitTransaction("changeModel")}function $(J,ee){J.startTransaction("change color"),J.selection.each(Q=>{if(Q instanceof At.Node){var X=Q.data;J.model.setDataProperty(X,"color",ee)}}),J.commitTransaction("change color")}return un(()=>{N()}),(J,ee)=>{const Q=fn("el-tooltip"),X=fn("el-button"),se=fn("el-dialog");return Y(),fe($t,null,[pe("div",jee,[pe("div",qee,[pe("div",Gee,[Wee,pe("div",Uee,[pe("div",{id:"rectangle",class:"elementClass",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"矩形",placement:"top-start"},{default:Te(()=>[Yee]),_:1})],32),pe("div",{id:"RoundedRectangle",class:"elementClass",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"圆角矩形",placement:"top-start"},{default:Te(()=>[Xee]),_:1})],32),pe("div",{id:"Square",class:"elementClass",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"正方形",placement:"top-start"},{default:Te(()=>[Zee]),_:1})],32),pe("div",{id:"rotundity",class:"elementClass",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"圆形",placement:"top-start"},{default:Te(()=>[Jee]),_:1})],32),pe("div",{id:"triangle",class:"elementClass",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"三角形",placement:"top-start"},{default:Te(()=>[Qee]),_:1})],32),pe("div",{id:"rhombus",class:"elementClass",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"菱形",placement:"top-start"},{default:Te(()=>[ete]),_:1})],32)])]),pe("div",tte,[nte,pe("div",ite,[pe("div",{id:"lockHopperGeometry",class:"svg_class",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"锥体1",placement:"top-start"},{default:Te(()=>[ste]),_:1})],32),pe("div",{id:"troughGeometry",class:"svg_class",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"锥体2",placement:"top-start"},{default:Te(()=>[ote]),_:1})],32),pe("div",{id:"cylinderGeometry",class:"svg_class",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"柱体",placement:"top-start"},{default:Te(()=>[rte]),_:1})],32),pe("div",{id:"pipGeometry",class:"svg_class",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"管道",placement:"top-start"},{default:Te(()=>[ate]),_:1})],32),pe("div",{id:"pentagonGeometry",class:"svg_class",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"五边形",placement:"top-start"},{default:Te(()=>[lte]),_:1})],32),pe("div",{id:"sixLineGeometry",class:"svg_class",draggable:"true",onDragstart:T},[ye(Q,{class:"box-item",effect:"dark",content:"六边形",placement:"top-start"},{default:Te(()=>[ute]),_:1})],32)])]),pe("div",cte,[hte,pe("div",dte,[ye(X,{onClick:G},{default:Te(()=>[Tn("切换编辑/预览模式")]),_:1}),ye(X,{onClick:z},{default:Te(()=>[Tn("导出数据")]),_:1})])])]),pe("div",{id:"diagramDiv",class:"layout-main",onDragover:ee[0]||(ee[0]=de=>de.preventDefault()),onDragenter:ee[1]||(ee[1]=de=>de.preventDefault()),onDrop:_},null,32)]),ye(se,{modelValue:c.value,"onUpdate:modelValue":ee[7]||(ee[7]=de=>c.value=de),title:"给当前节点添加连线端口",style:{width:"675px",height:"200px",position:"relative"}},{default:Te(()=>[pe("div",null,[p.value?(Y(),fe("div",fte,[pte,pe("div",gte,[ye(X,{onClick:ee[2]||(ee[2]=de=>I("top")),style:{"margin-right":"8px"}},{default:Te(()=>[Tn("添加上端口")]),_:1}),ye(X,{onClick:ee[3]||(ee[3]=de=>I("bottom")),style:{"margin-right":"8px"}},{default:Te(()=>[Tn("添加下端口")]),_:1}),ye(X,{onClick:ee[4]||(ee[4]=de=>I("left")),style:{"margin-right":"8px"}},{default:Te(()=>[Tn("添加左端口")]),_:1}),ye(X,{onClick:ee[5]||(ee[5]=de=>I("right")),style:{"margin-right":"8px"}},{default:Te(()=>[Tn("添加右端口")]),_:1})])])):De("",!0),mte,ye(X,{style:{right:"30px",position:"absolute",bottom:"20px"},onClick:ee[6]||(ee[6]=de=>c.value=!1)},{default:Te(()=>[Tn("关闭")]),_:1})])]),_:1},8,["modelValue"])],64)}}}),DM=i=>($P("data-v-3583c914"),i=i(),VP(),i),yte={class:"container"},bte=DM(()=>pe("div",{class:"top"},[pe("span",{class:"title"},"基于Gojs的拖拽思维导图编辑器")],-1)),wte={class:"main"},xte=DM(()=>pe("div",{class:"bottom"},[pe("span",{style:{color:"#868e96","font-size":"15px"}},"该项目只是一个简单的Gojs小Demo，及支持简单的思维导图的绘制，同时支持GoJs数据的导出")],-1)),Ste=xe({__name:"App",setup(i){return(o,l)=>(Y(),fe("div",yte,[bte,pe("div",wte,[ye(vte)]),xte]))}}),kte=(i,o)=>{const l=i.__vccOpts||i;for(const[c,d]of o)l[c]=d;return l},Cte=kte(Ste,[["__scopeId","data-v-3583c914"]]),OM=A2(Cte);OM.use(bee);OM.mount("#app")});export default Mte();
